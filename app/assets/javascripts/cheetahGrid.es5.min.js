/*! Cheetah Grid v0.11.1 | license MIT */
!function(){"use strict";function t(e,n,o,i){return(t="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,o){var i,a=r(t,e);if(a){if((i=Object.getOwnPropertyDescriptor(a,e)).set)return i.set.call(o,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(o,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(o,e,i)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(o,e,n);return!0})(e,n,o,i)}function e(e,n,r,o,i){if(!t(e,n,r,o||e)&&i)throw new Error("failed to set property");return r}function n(t,e,o){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,o||t)}function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function o(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(t){!function(t,e){"object"===("undefined"==typeof exports?"undefined":d(exports))&&"object"===("undefined"==typeof module?"undefined":d(module))?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"===("undefined"==typeof exports?"undefined":d(exports))?exports.cheetahGrid=e():t.cheetahGrid=e()}(t,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===d(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=66)}([function(e,n,r){(function(n){var r,o,i=void 0===t,a={get find(){return r||(r=Array.prototype.find?function(t,e){return Array.prototype.find.call(t,e)}:function(t,e){var n=a.findIndex(t,e);return n>=0?t[n]:void 0})},get findIndex(){return o||(o=Array.prototype.findIndex?function(t,e){return Array.prototype.findIndex.call(t,e)}:function(t,e){for(var n=t.length,r=0;r<n;r++){if(e(t[r],r,t))return r}return-1})}};function l(t){return null!==t&&void 0!==t}var s=function(){if(i)return{IE:!1,Edge:!1,Chrome:!1,Firefox:!1,Safari:!1};var e=t.navigator.userAgent.toLowerCase();return{IE:e.match(/(msie)/)||e.match(/trident/),Edge:e.indexOf("edge")>-1,Chrome:e.indexOf("chrome")>-1&&-1===e.indexOf("edge"),Firefox:e.indexOf("firefox")>-1,Safari:e.indexOf("safari")>-1&&-1===e.indexOf("edge")}}(),c=s.IE,u=s.Chrome,h=s.Firefox,f=s.Edge,d=s.Safari;function v(t,e){for(var n=t,r=0;r<(arguments.length<=2?0:arguments.length-2)&&l(n);r++)n=e(n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return n}var g=function(t){return t&&"function"==typeof t.then};e.exports={isNode:i,isDef:l,browser:{IE:c,Edge:f,Chrome:u,Firefox:h,Safari:d,heightLimit:u?33554431:h?17895588:10737433},extend:function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){var n=function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0,enumerable:!0})};for(var r in e)n(r)}),t},isDescendantElement:function(t,e){for(;e.parentElement;){var n=e.parentElement;if(t===n)return!0;e=n}return!1},getChainSafe:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return v.apply(void 0,[t,function(t,e){return t[e]}].concat(n))},applyChainSafe:v,getOrApply:function(t){if("function"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}return t},getIgnoreCase:function(t,e){if(t[e])return t[e];var n=e.toLowerCase();if(t[n])return t[n];var r=e.toLowerCase();if(t[r])return t[r];for(var o in t)if(o.toLowerCase()===n)return t[o]},isPromise:g,then:function(t,e){return g(t)?t.then(function(t){return e(t)}):e(t)},array:a,obj:{setReadonly:function(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!0,value:n})},each:function(t,e){for(var n in t)e(t[n],n,t)},isObject:function(t){return t===Object(t)}},str:{endsWith:function(t,e,n){var r=t.toString();("number"!=typeof n||!isFinite(n)||Math.floor(n)!==n||n>r.length)&&(n=r.length),n-=e.length;var o=r.lastIndexOf(e,n);return-1!==o&&o===n},genChars:function(t){var e=/([\uD800-\uDBFF][\uDC00-\uDFFF]|\r\n|[^\uD800-\uDFFF])([\u180B-\u180D]|[\uFE00-\uFE0F]|\uDB40[\uDD00-\uDDEF])?/g;return{next:function(){var n=e.exec(t);return null!==n?n[0]:null}}},genWords:function(t){var e=/[!-~]+|[^!-~\s]+|\s+/g;return{next:function(){var n=e.exec(t);return null!==n?n[0]:null}}}},event:{getMouseButtons:function(t){return l(t.buttons)?t.buttons:l(t.which)?3===t.which?4:2===t.which?4:t.which:0===t.button||1===t.button?1:2===t.button?2:0},getKeyCode:function(t){return t.keyCode||t.which},isTouchEvent:function(t){return!!t.changedTouches},cancel:function(t){t.preventDefault(),t.stopPropagation()}},style:{toBoxArray:function(t){return n(t)?3===t.length?[t[0],t[1],t[2],t[1]]:2===t.length?[t[0],t[1],t[0],t[1]]:1===t.length?[t[0],t[0],t[0],t[0]]:t:[t,t,t,t]}},emptyFn:function(){}}}).call(this,r(2).Array_isArray)},function(e,n,r){(function(n){var o=r(0).isNode?n.Symbol:t.Symbol?t.Symbol:function(){function t(){for(var t="abcdefghijklmnopqrstuvwxyz0123456789",e=t.length,n="",r=0;r<10;r++)n+=t[Math.floor(Math.random()*e)];return n}return function(e){return e?"#".concat(e,"_").concat(t()):"#_".concat(t())}}(),i={};e.exports={get:function(t){return t?i[t]?i[t]:i[t]=o(t):o()},get PROTECTED_SYMBOL(){return this.get("protected")},get CHECK_COLUMN_STATE_ID(){return this.get("chkcol.stateID")},get BUTTON_COLUMN_STATE_ID(){return this.get("btncol.stateID")},get COLUMN_FADEIN_STATE_ID(){return this.get("col.fadein_stateID")},get BRANCH_GRAPH_COLUMN_STATE_ID(){return this.get("branch_graph_col.stateID")},get SMALL_DIALOG_INPUT_EDITOR_STATE_ID(){return this.get("small_dialog_input_editor.stateID")},get INLINE_INPUT_EDITOR_STATE_ID(){return this.get("inline_input_editor.stateID")},get INLINE_MENU_EDITOR_STATE_ID(){return this.get("inline_menu_editor.stateID")},get CHECK_HEADER_STATE_ID(){return this.get("check_header.stateID")}}}).call(this,r(68))},function(e,n,r){(function(n){e.exports={Array_isArray:void 0===t?n:t.Array.isArray}}).call(this,r(2).Array_isArray)},function(t,e,n){var r=n(0).obj.each,o=1,i=function(){function t(){u(this,t),this._listeners={}}return f(t,[{key:"on",value:function(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];t.addEventListener&&t.addEventListener.apply(t,[e,n].concat(i));var l={target:t,type:e,listener:n,options:i},s=o++;return this._listeners[s]=l,s}},{key:"once",value:function(t,e,n){for(var r=this,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];var l=this.on.apply(this,[t,e,function(){n.apply(void 0,arguments),r.off(l)}].concat(i));return l}},{key:"tryWithOffEvents",value:function(t,e,n){var o=[];try{r(this._listeners,function(n){if(n.target===t&&n.type===e){var r;if(n.target.removeEventListener)(r=n.target).removeEventListener.apply(r,[n.type,n.listener].concat(c(n.options)));o.push(n)}}),n()}finally{o.forEach(function(t){var e;t.target.addEventListener&&(e=t.target).addEventListener.apply(e,[t.type,t.listener].concat(c(t.options)))})}}},{key:"off",value:function(t){if(t){var e,n=this._listeners[t];if(n)if(delete this._listeners[t],n.target.removeEventListener)(e=n.target).removeEventListener.apply(e,[n.type,n.listener].concat(c(n.options)))}}},{key:"fire",value:function(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r(this._listeners,function(n){var r;n.target===t&&n.type===e&&(r=n.listener).call.apply(r,[n.target].concat(o))})}},{key:"hasListener",value:function(t,e){var n=!1;return r(this._listeners,function(r){r.target===t&&r.type===e&&(n=!0)}),n}},{key:"clear",value:function(){r(this._listeners,function(t){var e;t.target.removeEventListener&&(e=t.target).removeEventListener.apply(e,[t.type,t.listener].concat(c(t.options)))}),this._listeners={}}},{key:"dispose",value:function(){this.clear(),this._listeners=null}}]),t}();t.exports=i},function(t,e,n){var r,i=n(22),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._color=n.color,t._font=n.font,t._padding=n.padding,t._textOverflow=n.textOverflow||"clip",t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.doChangeStyle()}},{key:"font",get:function(){return this._font},set:function(t){this._font=t,this.doChangeStyle()}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding=t,this.doChangeStyle()}},{key:"textOverflow",get:function(){return this._textOverflow},set:function(t){this._textOverflow=t,this.doChangeStyle()}}]),e}();t.exports=s},function(e,r,s){var c=s(0),h=c.isDef,d=c.browser,v=c.isDescendantElement,g=c.array,p=c.isPromise,y=c.event,_=y.isTouchEvent,m=y.getMouseButtons,w=y.getKeyCode,C=y.cancel,x=s(14),b=s(18),k=s(69),E=s(3),I=s(73),L=s(34),S=s(19),T=s(8).getFontSize,A=s(74),R=s(1).PROTECTED_SYMBOL;var B=35,M=36,O=37,D=38,P=39,F=40,z=67,W=86,H="click_cell",N="dblclick_cell",U="dbltap_cell",V="mousedown_cell",j="mouseup_cell",G="selected_cell",K="keydown",Y="mousemove_cell",q="mouseenter_cell",X="mouseleave_cell",$="mouseover_cell",Q="mouseout_cell",Z="input_cell",J="paste_cell",tt="scroll",et={CLICK_CELL:H,DBLCLICK_CELL:N,DBLTAP_CELL:U,MOUSEDOWN_CELL:V,MOUSEUP_CELL:j,SELECTED_CELL:G,KEYDOWN:K,MOUSEMOVE_CELL:Y,MOUSEENTER_CELL:q,MOUSELEAVE_CELL:X,MOUSEOVER_CELL:$,MOUSEOUT_CELL:Q,INPUT_CELL:Z,PASTE_CELL:J,EDITABLEINPUT_CELL:"editableinput_cell",MODIFY_STATUS_EDITABLEINPUT_CELL:"modify_status_editableinput_cell",RESIZE_COLUMN:"resize_column",SCROLL:tt};function nt(t){navigator.vibrate&&_(t)&&navigator.vibrate(50)}function rt(t,e){var n=t.getTargetRowAtInternal(e);if(h(n))return n;var r=Math.min(Math.ceil(e/t[R].defaultRowHeight),t.rowCount-1),o=mt(t,0,r);return e>=o?function(n,r){for(var o=r-_t(t,n),i=t[R].rowCount,a=n;a<i;a++){var l=o+_t(t,a);if(o<=e&&e<l)return{top:o,row:a};o=l}return null}(r,o):function(n,r){for(var o=r,i=n;i>=0;i--){var a=o-_t(t,i);if(a<=e&&e<o)return{top:a,row:i};o=a}return null}(r,o)}function ot(t,e){for(var n=0,r=t[R].colCount,o=0;o<r;o++){var i=n+gt(t,o);if(i>e)return{left:n,col:o};n=i}return null}function it(t,e){if(!t[R].frozenRowCount)return null;for(var n=t[R].scroll.top,r=t[R].frozenRowCount,o=0;o<r;o++){var i=n+_t(t,o);if(i>e)return{top:n,row:o};n=i}return null}function at(t,e){if(!t[R].frozenColCount)return null;for(var n=t[R].scroll.left,r=t[R].frozenColCount,o=0;o<r;o++){var i=n+gt(t,o);if(i>e)return{left:n,col:o};n=i}return null}function lt(t){if(!t[R].frozenRowCount)return null;for(var e=t[R].scroll.top,n=0,r=t[R].frozenRowCount,o=0;o<r;o++)n+=_t(t,o);return new b(t[R].scroll.left,e,t[R].canvas.width,n)}function st(t){if(!t[R].frozenColCount)return null;for(var e=t[R].scroll.left,n=0,r=t[R].frozenColCount,o=0;o<r;o++)n+=gt(t,o);return new b(e,t[R].scroll.top,n,t[R].canvas.height)}function ct(t,e,n,r,o,i,a,l,s,c,u,h){var f=new b(r-s.left,a-s.top,o,l),d=b.bounds(Math.max(r,u)-s.left,Math.max(a,c)-s.top,f.right,f.bottom);if(d.height>0&&d.width>0){e.save();try{var v=function(t,e,n){return t[R].drawCells[n]?t[R].drawCells[n][e]:null}(t,n,i);v&&v.cancel();var g=new Pt(n,i,e,f,d,!!v,t[R].selection,h),y=t.onDrawCell(n,i,g);if(p(y)){!function(t,e,n,r){t[R].drawCells[n]||(t[R].drawCells[n]={}),t[R].drawCells[n][e]=r}(t,n,i,g);var _=n;g._delayMode(t,function(){!function(t,e,n){t[R].drawCells[n]&&(delete t[R].drawCells[n][e],0===Object.keys(t[R].drawCells[n]).length&&delete t[R].drawCells[n])}(t,_,i)}),y.then(function(){g.terminate()})}}finally{e.restore()}}}function ut(t,e,n,r,o,i,a,l,s,c,u){var h=t[R].colCount,f=function(n,r){if(n>=h-1&&t[R].canvas.width>r-s.left){var o=r-s.left;e.save(),e.beginPath(),e.fillStyle=t.underlayBackgroundColor||"#F6F6F6",e.rect(o,a-s.top,t[R].canvas.width-o,l),e.fill(),e.restore()}},d=0;if(n){for(var v=n.left,g=t[R].frozenColCount,p=n.col;p<g;p++){var y=gt(t,p);if(ct(t,e,p,v,y,i,a,l,s,c,0,u),o<=(v+=y))return void f(p,v)}d=v}for(var _=r.left,m=r.col;m<h;m++){var w=gt(t,m);if(ct(t,e,m,_,w,i,a,l,s,c,d,u),o<=(_+=w))return void f(m,_)}f(h-1,_)}function ht(t,e){var n=It(t),r=t[R].rowCount,o=t._getInitContext(),i=rt(t,Math.max(n.top,e.top))||{top:mt(t,0,r-1),row:r},a=ot(t,Math.max(n.left,e.left))||{left:yt(t,0,t[R].colCount-1),col:t[R].colCount},l=Math.min(n.bottom,e.bottom),s=Math.min(n.right,e.right),c=it(t,Math.max(n.top,e.top)),u=at(t,Math.max(n.left,e.left)),h=new Ot,f=function(e,i){if(e>=r-1&&t[R].canvas.height>i-n.top){var a=i-n.top;o.save(),o.beginPath(),o.fillStyle=t.underlayBackgroundColor||"#F6F6F6",o.rect(0,a,t[R].canvas.width,t[R].canvas.height-a),o.fill(),o.restore()}},d=0;if(c){for(var v=c.top,g=t[R].frozenRowCount,p=c.row;p<g;p++){var y=_t(t,p);if(ut(t,o,u,a,s,p,v,y,n,0,h),l<=(v+=y))return f(p,v),void h.draw(o)}d=v}for(var _=i.top,m=i.row;m<r;m++){var w=_t(t,m);if(ut(t,o,u,a,s,m,_,w,n,d,h),l<=(_+=w))return f(m,_),void h.draw(o)}f(r-1,_),h.draw(o)}function ft(t,e){return Math.round(S.toPx(e,t[R].calcWidthContext))}function dt(t){return ft(t,t.defaultColWidth)}function vt(t,e,n){var r=t[R].colWidthsLimit[e];if(!r)return n;if(r.min){var o=ft(t,r.min);if(o>n)return o}if(r.max){var i=ft(t,r.max);if(i<n)return i}return n}function gt(t,e){var n=t[R].colWidthsMap.get(e);return n?vt(t,e,ft(t,n)):dt(t)}function pt(t,e,n){t[R].colWidthsMap.put(e,n)}function yt(t,e,n){var r=n-e+1,o=dt(t)*r;return t[R].colWidthsMap.each(e,n,function(e,n){o+=vt(t,n,ft(t,e))-dt(t)}),o}function _t(t,e){var n=t.getRowHeightInternal(e);if(h(n))return n;var r=t[R].rowHeightsMap.get(e);return r||t[R].defaultRowHeight}function mt(t,e,n){var r=t.getRowsHeightInternal(e,n);if(h(r))return r;var o=n-e+1,i=t[R].defaultRowHeight*o;return t[R].rowHeightsMap.each(e,n,function(e){i+=e-t[R].defaultRowHeight}),i}function wt(t){var e=dt(t)*t[R].colCount;return t[R].colWidthsMap.eachAll(function(n,r){e+=vt(t,r,ft(t,n))-dt(t)}),e}function Ct(t,e){var n=t.getScrollHeightInternal(e);if(h(n))return n;var r=t[R].defaultRowHeight*t[R].rowCount;return t[R].rowHeightsMap.eachAll(function(e){r+=e-t[R].defaultRowHeight}),r}function xt(t,e,n,r){var o=t.getOffsetInvalidateCells();function i(t){return o>0&&(t.start.col-=o,t.start.row-=o,t.end.col+=o,t.end.row+=o),t}var a=i(t.selection.range),l=t.getCellsRect(a.start.col,a.start.row,a.end.col,a.end.row);t.selection._setFocusCell(e,n,r),t.makeVisibleCell(e,n),t.focusCell(e,n);var s=i(t.selection.range),c=t.getCellsRect(s.start.col,s.start.row,s.end.col,s.end.row);c.intersection(l)?ht(t,b.max(c,l)):(ht(t,l),ht(t,c))}function bt(e,n){_(n)&&(n=n.changedTouches[0]);var r=n.clientX||n.pageX+t.scrollX,o=n.clientY||n.pageY+t.scrollY,i=e[R].canvas.getBoundingClientRect();return i.right<=r?null:i.bottom<=o?null:{x:r-i.left+e[R].scroll.left,y:o-i.top+e[R].scroll.top}}function kt(e){var n=e[R],r=n.handler,o=n.element,i=n.scrollable,a=function(t){var n=bt(e,t);if(!n)return{};var r=e.getCellAt(n.x,n.y);return r.col<0||r.row<0?{abstractPos:n,cell:r}:{abstractPos:n,cell:r,eventArgs:{col:r.col,row:r.row,event:t}}},l=function(t){var n=e[R].colWidthsLimit[t];return!(n&&n.min&&n.max)||n.max!==n.min};r.on(o,"mousedown",function(t){var n=a(t),r=n.abstractPos,o=n.eventArgs;if(r){if(o){var i=e.fireListeners(V,o);if(g.findIndex(i,function(t){return!t})>=0)return}if(1===m(t)){var s=Et(e,r.x,r.y);s>=0&&l(s)?e[R].columnResizer.start(s,t):e[R].cellSelector.start(t)}}}),r.on(o,"mouseup",function(t){if(e.hasListeners(j)){var n=a(t).eventArgs;n&&e.fireListeners(j,n)}});var s=null,c=null;function u(t){c&&(clearTimeout(c),c=null)}r.on(o,"touchstart",function(t){if(s){var n=a(t).eventArgs;if(n&&n.col===s.col&&n.row===s.row&&e.fireListeners(U,n),s=null,t.defaultPrevented)return}else s=a(t).eventArgs,setTimeout(function(){s=null},350);c=setTimeout(function(){c=null;var n=bt(e,t);if(n){var r=Et(e,n.x,n.y,15);r>=0&&l(r)?e[R].columnResizer.start(r,t):e[R].cellSelector.start(t)}},500)}),r.on(o,"touchcancel",u),r.on(o,"touchmove",u),r.on(o,"touchend",function(t){c&&(clearTimeout(c),e[R].cellSelector.select(t),c=null)});var f=!1,d=null,v=null;function p(t){e.fireListeners(q,t),d=t}function y(){var t=d;d=null,t&&e.fireListeners(X,{col:t.col,row:t.row})}function _(t){e.fireListeners($,t),v=t}function x(){var t=v;v=null,t&&e.fireListeners(Q,{col:t.col,row:t.row})}var b=i.getElement();r.on(b,"mouseover",function(t){f=!0}),r.on(b,"mouseout",function(t){f=!1,x()}),r.on(o,"mouseleave",function(t){y()}),r.on(o,"mousemove",function(t){var n=a(t),r=n.abstractPos,i=n.eventArgs;if(i){var s=d;if(s)if(e.fireListeners(Y,i),s.col!==i.col||s.row!==i.row){x(),y();var c={col:i.col,row:i.row};p(c),f&&_(c)}else f&&!v&&_({col:i.col,row:i.row});else{var u={col:i.col,row:i.row};p(u),f&&_(u),e.fireListeners(Y,i)}}else x(),y();if(!e[R].columnResizer.moving(t)&&!e[R].cellSelector.moving(t)){var h=o.style;if(r){var g=Et(e,r.x,r.y);g>=0&&l(g)?h.cursor="col-resize":"col-resize"===h.cursor&&(h.cursor="")}else"col-resize"===h.cursor&&(h.cursor="")}}),r.on(o,"click",function(t){if(!e[R].columnResizer.lastMoving(t)&&!e[R].cellSelector.lastMoving(t)&&e.hasListeners(H)){var n=a(t).eventArgs;n&&e.fireListeners(H,n)}}),r.on(o,"dblclick",function(t){if(e.hasListeners(N)){var n=a(t).eventArgs;n&&e.fireListeners(N,n)}}),e[R].focusControl.listen("keydown",function(t,n){e.fireListeners(K,t,n)}),e[R].selection.listen(G,function(t){e.fireListeners(G,t,t.selected)}),i.onScroll(function(t){!function(t,e){var n=t[R].scroll.left,r=t[R].scroll.top,o=t[R].scrollable.scrollLeft-n,i=t[R].scrollable.scrollTop-r;t[R].scroll={left:t[R].scrollable.scrollLeft,top:t[R].scrollable.scrollTop};var a=It(t);if(Math.abs(o)>=a.width||Math.abs(i)>=a.height)ht(t,a);else{if(t[R].context.drawImage(t[R].canvas,-o,-i),0!==o){var l=a.copy();if(o<0){if(l.width=-o,t[R].frozenColCount>0){var s=st(t);l.width+=s.width}}else o>0&&(l.left=l.right-o);ht(t,l),o>0&&t[R].frozenColCount>0&&ht(t,st(t))}if(0!==i){var c=a.copy();if(i<0){if(c.height=-i,t[R].frozenRowCount>0){var u=lt(t);c.height+=u.height}}else i>0&&(c.top=c.bottom-i);ht(t,c),i>0&&t[R].frozenRowCount>0&&ht(t,lt(t))}}}(e),e.fireListeners(tt,{event:t})}),e[R].focusControl.onKeyDownMove(function(t){!function(t,e){var n=e.shiftKey,r=w(e),o=n?t.selection._focus:t.selection._sel;if(r===O){var i=t.getMoveLeftColByKeyDownInternal(o);if(i<0)return;xt(t,i,o.row,n),C(e)}else if(r===D){var a=t.getMoveUpRowByKeyDownInternal(o);if(a<0)return;xt(t,o.col,a,n),C(e)}else if(r===P){var l=t.getMoveRightColByKeyDownInternal(o);if(t.colCount<=l)return;xt(t,l,o.row,n),C(e)}else if(r===F){var s=t.getMoveDownRowByKeyDownInternal(o);if(t.rowCount<=s)return;xt(t,o.col,s,n),C(e)}else if(r===M)xt(t,0,e.ctrlKey?0:o.row,e.shiftKey),C(e);else if(r===B){var c=e.ctrlKey?t.rowCount-1:o.row;xt(t,t.colCount-1,c,n),C(e)}}(e,t)}),e.listen("copydata",function(n){for(var r="",o=n.start.row;o<=n.end.row;o++){for(var i=n.start.col;i<=n.end.col;i++){var a=e.getCopyCellValue(i,o);if(t.Promise&&a instanceof t.Promise);else{var l="".concat(a);l.match(/^\[object .*\]$/)||(r+=l)}i<n.end.col&&(r+="\t")}r+="\n"}return r}),e[R].focusControl.onCopy(function(t){return g.find(e.fireListeners("copydata",e[R].selection.range),h)}),e[R].focusControl.onPaste(function(t){var n=t.value,r=t.event,o=n.replace(/\r?\n$/,""),i=e[R].selection.select,a=i.col,l=i.row;e.fireListeners(J,{col:a,row:l,value:n,normalizeValue:o,multi:/[\r\n\u2028\u2029\t]/.test(o),event:r})}),e[R].focusControl.onInput(function(t){var n=e[R].selection.select,r=n.col,o=n.row;e.fireListeners(Z,{col:r,row:o,value:t})}),e.bindEventsInternal()}function Et(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;if(t[R].frozenRowCount<=0)return-1;if(!lt(t).inPoint(e,n))return-1;var o=t.getCellAt(e,n),i=t.getCellRect(o.col,o.row);return e<i.left+r?o.col-1:i.right-r<e?o.col:-1}function It(t){var e=t[R],n=e.scroll,r=n.left,o=n.top,i=e.canvas,a=i.width,l=i.height;return new b(r,o,a,l)}function Lt(t,e){var n=e.copy(),r=It(t);return n.offsetLeft(-r.left),n.offsetTop(-r.top),n}var St=function(){function t(e){u(this,t),this._grid=e,this._handler=new E,this._events={},this._started=!1,this._moved=!1}return f(t,[{key:"moving",value:function(t){return!!this._started}},{key:"lastMoving",value:function(t){if(this.moving(t))return!0;var e=this._mouseEndPoint;if(!e)return!1;var n=bt(this._grid,t);return n.x===e.x&&n.y===e.y}},{key:"_bindMoveAndUp",value:function(t){var e=this,n=this._events,r=this._handler;_(t)?(n.touchmove=r.on(document.body,"touchmove",function(t){return e._mouseMove(t)},{passive:!1}),n.touchend=r.on(document.body,"touchend",function(t){return e._mouseUp(t)}),n.touchcancel=r.on(document.body,"touchcancel",function(t){return e._mouseUp(t)})):(n.mousemove=r.on(document.body,"mousemove",function(t){return e._mouseMove(t)}),n.mouseup=r.on(document.body,"mouseup",function(t){return e._mouseUp(t)})),this._started=!0,this._moved=!1}},{key:"_mouseMove",value:function(t){_(t)||1===m(t)?(this._moved=this._moveInternal(t)||this._moved,C(t)):this._mouseUp(t)}},{key:"_moveInternal",value:function(t){}},{key:"_mouseUp",value:function(t){var e=this,n=this._events,r=this._handler;r.off(n.mousemove),r.off(n.touchmove),r.off(n.mouseup),r.off(n.touchend),r.off(n.touchcancel),this._started=!1,this._upInternal(t),this._moved&&(this._mouseEndPoint=bt(this._grid,t),setTimeout(function(){e._mouseEndPoint=null},10))}},{key:"_upInternal",value:function(t){}},{key:"dispose",value:function(){this._handler.dispose()}}]),t}(),Tt=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,St),f(e,[{key:"start",value:function(t){var e=this._getTargetCell(t);e&&(xt(this._grid,e.col,e.row,t.shiftKey),this._bindMoveAndUp(t),this._cell=e,C(t),nt(t))}},{key:"select",value:function(t){var e=this._getTargetCell(t);e&&(xt(this._grid,e.col,e.row,t.shiftKey),this._cell=e)}},{key:"_moveInternal",value:function(t){var e=this._getTargetCell(t);if(!e)return!1;var n=this._cell,r=n.col,o=n.row,i=e.col,a=e.row;if(r===i&&o===a)return!1;var l=this._grid;xt(l,i,a,!0);var s=i<r&&0<i?i-1:r<i&&i+1<l.colCount?i+1:i,c=a<o&&0<a?a-1:o<a&&a+1<l.rowCount?a+1:a;return s===i&&c===a||l.makeVisibleCell(s,c),this._cell=e,!0}},{key:"_getTargetCell",value:function(t){var e=this._grid,n=bt(e,t);if(!n)return null;var r=e.getCellAt(n.x,n.y);return r.col<0||r.row<0?null:r}}]),e}(),At=function(t){function e(t){var n;return u(this,e),(n=o(this,a(e).call(this,t)))._targetCol=-1,n}return l(e,St),f(e,[{key:"start",value:function(t,e){var n;n=_(e)?e.changedTouches[0].pageX:e.pageX,this._x=n,this._preX=0,this._bindMoveAndUp(e),this._targetCol=t,this._invalidateAbsoluteLeft=yt(this._grid,0,t-1),C(e),nt(e)}},{key:"_moveInternal",value:function(t){var e=(_(t)?t.changedTouches[0].pageX:t.pageX)-this._x,n=e-this._preX;this._preX=e;var r=this._grid.getColWidth(this._targetCol),o=vt(this._grid,this._targetCol,r+n);o<10&&n<0&&(o=10),pt(this._grid,this._targetCol,o);var i=It(this._grid);return i.left=this._invalidateAbsoluteLeft,ht(this._grid,i),this._grid.fireListeners("resize_column",{col:this._targetCol}),!0}},{key:"_upInternal",value:function(t){var e=this._grid;e.updateScroll()&&e.invalidate()}}]),e}();function Rt(t,e){var n=t.type;t.type="",t.value=e,n&&(t.type=n)}var Bt=function(e){function r(e,n,i){var l;u(this,r),(l=o(this,a(r).call(this)))._grid=e,l._scrollable=i;var s,c=l._handler=new E,f=l._input=document.createElement("input");f.classList.add("grid-focus-control"),f.readOnly=!0,n.appendChild(f),c.on(f,"compositionstart",function(t){f.classList.add("composition"),f.style.font=e.font||"16px sans-serif",l._isComposition=!0,l._compositionEnd&&(clearTimeout(l._compositionEnd),delete l._compositionEnd),e.focus()});var p=function(){s=f.value,l._isComposition||Rt(f,"")},y=function(){l._isComposition=!1,f.classList.remove("composition"),f.style.font="";var t=f.value;p(),f.readOnly||l.fireListeners("input",t),l._compositionEnd&&(clearTimeout(l._compositionEnd),delete l._compositionEnd)};return c.on(f,"compositionend",function(t){l._compositionEnd=setTimeout(y)}),c.on(f,"keypress",function(t){l._isComposition||(!f.readOnly&&t.key&&1===t.key.length&&("c"===t.key&&(t.ctrlKey||t.metaKey)||"v"===t.key&&(t.ctrlKey||t.metaKey)||(l.fireListeners("input",t.key),C(t))),p())}),c.on(f,"keydown",function(t){if(l._isComposition)l._compositionEnd&&(y(),C(t));else{var e=w(t);l.fireListeners("keydown",e,t),!f.readOnly&&s&&l.fireListeners("input",s),p()}}),c.on(f,"keyup",function(t){l._isComposition&&l._compositionEnd&&y(),p()}),c.on(f,"input",function(t){p()}),d.IE&&c.on(document,"keydown",function(t){if(t.target===f){var e=w(t);e===z&&t.ctrlKey?(Rt(f,"dummy"),f.select(),setTimeout(function(){Rt(f,"")},100)):e===W&&t.ctrlKey&&f.readOnly&&(f.readOnly=!1,setTimeout(function(){f.readOnly=!0,Rt(f,"")},10))}}),d.Edge&&c.once(document,"keydown",function(t){if(v(n,t.target)){var r=document.createElement("input");e.getElement().appendChild(r),r.focus(),f.focus(),r.parentElement.removeChild(r)}}),c.on(document,"paste",function(e){if(v(n,e.target)){var r=void 0;if(d.IE)r=t.clipboardData.getData("Text");else{var o=e.clipboardData;o.items?r=o.getData("text/plain"):-1!==Array.prototype.indexOf.call(o.types,"text/plain")&&(r=o.getData("Text"))}h(r)&&r.length&&l.fireListeners("paste",{value:r,event:e})}}),c.on(document,"copy",function(e){if(!l._isComposition&&v(n,e.target)){Rt(f,"");var r=g.find(l.fireListeners("copy"),h);h(r)&&(C(e),d.IE?t.clipboardData.setData("Text",r):e.clipboardData.setData("text/plain",r))}}),l}return l(r,x),f(r,[{key:"onKeyDownMove",value:function(t){var e=this;this._handler.on(this._input,"keydown",function(n){if(!e._isComposition){var r=w(n);r!==O&&r!==D&&r!==P&&r!==F&&r!==M&&r!==B||t(n)}})}},{key:"onInput",value:function(t){return this.listen("input",t)}},{key:"onCopy",value:function(t){return this.listen("copy",t)}},{key:"onPaste",value:function(t){return this.listen("paste",t)}},{key:"focus",value:function(){this._input.focus()}},{key:"setFocusRect",value:function(t){var e=this._input,n=this._scrollable.calcTop(t.top);e.style.top="".concat((n-L.getScrollBarSize()).toFixed(),"px"),e.style.left="".concat(t.left.toFixed(),"px"),e.style.width="".concat(t.width.toFixed(),"px"),e.style.height="".concat(t.height.toFixed(),"px")}},{key:"resetInputStatus",value:function(){for(var t=this._input,e=t.classList.contains("composition"),n=t.attributes,r=[],o=0,i=n.length;o<i;o++){var a=n[o];this._inputStatus.hasOwnProperty(a.nodeName)||r.push(a.name)}for(var l in r.forEach(function(e){t.removeAttribute(e)}),this._inputStatus)t.setAttribute(l,this._inputStatus[l]);e?(t.classList.add("composition"),t.style.font=this._grid.font||"16px sans-serif"):t.classList.remove("composition")}},{key:"storeInputStatus",value:function(){for(var t=this._input,e=this._inputStatus={},n=t.attributes,r=0,o=n.length;r<o;r++){var i=n[r];e[i.name]=i.value}}},{key:"setDefaultInputStatus",value:function(){}},{key:"dispose",value:function(){n(a(r.prototype),"dispose",this).call(this),this._handler.dispose()}},{key:"editMode",set:function(t){this._input.readOnly=!t},get:function(){return!this._input.readOnly}},{key:"input",get:function(){return this._input}}]),r}(),Mt=function(t){function e(t){var n;return u(this,e),(n=o(this,a(e).call(this)))._grid=t,n._sel={col:0,row:0},n._focus={col:0,row:0},n._start={col:0,row:0},n._end={col:0,row:0},n}return l(e,x),f(e,[{key:"_setSelectCell",value:function(t,e){var n=this;this._wrapFireSelectedEvent(function(){n._sel={col:t,row:e},n._start={col:t,row:e}})}},{key:"_setFocusCell",value:function(t,e,n){var r=this;this._wrapFireSelectedEvent(function(){n||r._setSelectCell(t,e),r._focus={col:t,row:e},r._end={col:t,row:e}})}},{key:"_wrapFireSelectedEvent",value:function(t){if(this._isWraped)t();else{this._isWraped=!0;try{var e={col:this._sel.col,row:this._sel.row,selected:!1};t();var n={col:this._sel.col,row:this._sel.row,selected:!0,before:{col:e.col,row:e.row}};e.after={col:n.col,row:n.row},this.fireListeners(G,e),this.fireListeners(G,n)}finally{this._isWraped=!1}}}},{key:"_updateGridRange",value:function(){for(var t=this._grid,e=t.rowCount,n=t.colCount,r=[this._sel,this._focus,this._start,this._end],o=!1,i=0;i<r.length;i++)if(n<=r[i].col||e<=r[i].row){o=!0;break}return!!o&&(this._wrapFireSelectedEvent(function(){r.forEach(function(t){t.col=Math.min(n-1,t.col),t.row=Math.min(e-1,t.row)})}),!0)}},{key:"range",get:function(){var t=this._start,e=this._end,n=Math.min(t.col,e.col),r=Math.min(t.row,e.row),o=Math.max(t.col,e.col),i=Math.max(t.row,e.row);return{start:{col:n,row:r},end:{col:o,row:i},inCell:function(t,e){return n<=t&&t<=o&&r<=e&&e<=i}}}},{key:"focus",get:function(){var t=this._focus;return{col:t.col,row:t.row}}},{key:"select",get:function(){var t=this._sel;return{col:t.col,row:t.row}},set:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._wrapFireSelectedEvent(function(){var n=e.col,r=void 0===n?0:n,o=e.row,i=void 0===o?0:o;t._setSelectCell(r,i),t._setFocusCell(r,i,!0)})}}]),e}(),Ot=function(){function t(){u(this,t),this._layers={}}return f(t,[{key:"addDraw",value:function(t,e){(this._layers[t]||(this._layers[t]=new Dt(t))).addDraw(e)}},{key:"draw",value:function(t){var e=[];for(var n in this._layers)e.push(this._layers[n]);e.sort(function(t,e){return t.level-e.level}),e.forEach(function(e){return e.draw(t)})}}]),t}(),Dt=function(){function t(e){u(this,t),this._level=e,this._list=[]}return f(t,[{key:"addDraw",value:function(t){this._list.push(t)}},{key:"draw",value:function(t){this._list.forEach(function(e){t.save();try{e(t)}finally{t.restore()}})}},{key:"level",get:function(){return this._level}}]),t}(),Pt=function(){function t(e,n,r,o,i,a,l,s){u(this,t),this._col=e,this._row=n,this._mode=0,this._ctx=r,this._rect=o,this._drawRect=i,this._drawing=a,this._selection=l,this._drawLayers=s,this._childContexts=[]}return f(t,[{key:"cancel",value:function(){this._cancel=!0,this._childContexts.forEach(function(t){t.cancel()})}},{key:"getSelectState",value:function(){var t=this._selection.select;return{selected:t.col===this._col&&t.row===this._row,selection:this._selection.range.inCell(this._col,this._row)}}},{key:"getContext",value:function(){return 0===this._mode?this._ctx:this._grid._getInitContext()}},{key:"getRect",value:function(){return 0===this._mode?this._rect:this._rect?this._rect:this._grid.getCellRelativeRect(this._col,this._row)}},{key:"setRect",value:function(t){this._rect=t}},{key:"getDrawRect",value:function(){if(this._cancel)return null;if(0===this._mode)return this._drawRect;if(this._isOutOfRange())return null;var t=this._grid.getCellRect(this._col,this._row);return this._toRelativeDrawRect(t)}},{key:"_isOutOfRange",value:function(){var t=this._grid,e=t.colCount,n=t.rowCount;return e<=this._col||n<=this._row}},{key:"toCurrentContext",value:function(){if(0===this._mode)return this;var e=this._grid.getCellRect(this._col,this._row),n=Lt(this._grid,e),r=this._isOutOfRange()?null:this._toRelativeDrawRect(e),o=new t(this._col,this._row,this.getContext(),n,r,this.drawing,this._selection,this._drawLayers);return o.toCurrentContext=this.toCurrentContext.bind(this),this._childContexts.push(o),this._cancel&&o.cancel(),o}},{key:"addLayerDraw",value:function(t,e){this._drawLayers.addDraw(t,e)}},{key:"_toRelativeDrawRect",value:function(t){var e=It(this._grid),n=t.copy();if(!n.intersection(e))return null;var r=this._grid.isFrozenCell(this._col,this._row);if(this._grid.frozenColCount>=0&&(!r||!r.col)){var o=this._grid.getCellRect(this._grid.frozenColCount-1,this._row);n=b.bounds(Math.max(n.left,o.right),n.top,n.right,n.bottom)}if(this._grid.frozenRowCount>=0&&(!r||!r.row)){var i=this._grid.getCellRect(this._col,this._grid.frozenRowCount-1);n=b.bounds(n.left,Math.max(n.top,i.bottom),n.right,n.bottom)}return n.intersection(e)?(n.offsetLeft(-e.left),n.offsetTop(-e.top),n):null}},{key:"_delayMode",value:function(t,e){this._mode=1,this._ctx=null,this._rect=null,this._drawRect=null,this._grid=t,this._onTerminate=e}},{key:"terminate",value:function(){0!==this._mode&&this._onTerminate()}},{key:"drawing",get:function(){return 0!==this._mode||this._drawing}},{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}}]),t}(),Ft=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.rowCount,l=void 0===r?10:r,s=n.colCount,c=void 0===s?10:s,h=n.frozenColCount,f=void 0===h?0:h,d=n.frozenRowCount,v=void 0===d?0:d,g=n.defaultRowHeight,p=void 0===g?40:g,y=n.defaultColWidth,_=void 0===y?80:y,m=n.font,w=n.underlayBackgroundColor,C=n.parentElement;u(this,e);var x=(t=o(this,a(e).call(this)))[R]={};return L.initDocument(),x.element=function(){var t=document.createElement("div");return t.classList.add("cheetah-grid"),t}(),x.scrollable=new k,x.handler=new E,x.selection=new Mt(i(i(t))),x.focusControl=new Bt(i(i(t)),x.scrollable.getElement(),x.scrollable),x.canvas=A.transform(document.createElement("canvas")),x.context=x.canvas.getContext("2d",{alpha:!1}),x.rowCount=l,x.colCount=c,x.frozenColCount=f,x.frozenRowCount=v,x.defaultRowHeight=p,x.defaultColWidth=_,x.font=m,x.underlayBackgroundColor=w,x.rowHeightsMap=new I,x.colWidthsMap=new I,x.colWidthsLimit={},x.calcWidthContext={_:x,get full(){return this._.canvas.width},get em(){return T(this._.context,this._.font).width}},x.columnResizer=new At(i(i(t))),x.cellSelector=new Tt(i(i(t))),x.drawCells={},x.cellTextOverflows={},x.element.appendChild(x.canvas),x.element.appendChild(x.scrollable.getElement()),t.updateScroll(),C?(C.appendChild(x.element),t.updateSize()):t.updateSize(),kt(i(i(t))),t}return l(e,x),f(e,null,[{key:"EVENT_TYPE",get:function(){return et}}]),f(e,[{key:"getElement",value:function(){return this[R].element}},{key:"focus",value:function(){var t=this[R].selection.select,e=t.col,n=t.row;this.focusCell(e,n)}},{key:"configure",value:function(t,e){var n=this[R].config||(this[R].config={});return h(e)&&(n[t]=e),n[t]}},{key:"updateSize",value:function(){var t=this[R].canvas;t.style.width="",t.style.height="";var e=Math.floor(t.offsetWidth||t.parentElement.offsetWidth-L.getScrollBarSize()),n=Math.floor(t.offsetHeight||t.parentElement.offsetHeight-L.getScrollBarSize());t.width=e,t.height=n,t.style.width="".concat(e,"px"),t.style.height="".concat(n,"px");var r=this[R].selection.select;this[R].focusControl.setFocusRect(this.getCellRect(r.col,r.row))}},{key:"updateScroll",value:function(){var t=this[R].scrollable,e=Ct(this),n=wt(this);return(e!==t.scrollHeight||n!==t.scrollWidth)&&(t.setScrollSize(wt(this),Ct(this)),this[R].scroll={left:t.scrollLeft,top:t.scrollTop},!0)}},{key:"getRowHeight",value:function(t){return _t(this,t)}},{key:"setRowHeight",value:function(t,e){!function(t,e,n){t[R].rowHeightsMap.put(e,n)}(this,t,e),this.updateScroll()}},{key:"getColWidth",value:function(t){return gt(this,t)}},{key:"setColWidth",value:function(t,e){pt(this,t,e),this.updateScroll()}},{key:"getMaxColWidth",value:function(t){var e=this[R].colWidthsLimit[t];return e&&e.max||void 0}},{key:"setMaxColWidth",value:function(t,e){(this[R].colWidthsLimit[t]||(this[R].colWidthsLimit[t]={})).max=e}},{key:"getMinColWidth",value:function(t){var e=this[R].colWidthsLimit[t];return e&&e.min||void 0}},{key:"setMinColWidth",value:function(t,e){(this[R].colWidthsLimit[t]||(this[R].colWidthsLimit[t]={})).min=e}},{key:"getCellRect",value:function(t,e){var n=this.isFrozenCell(t,e),r=yt(this,0,t-1),o=gt(this,t);n&&n.col&&(r+=this[R].scroll.left);var i=mt(this,0,e-1),a=_t(this,e);return n&&n.row&&(i+=this[R].scroll.top),new b(r,i,o,a)}},{key:"getCellRelativeRect",value:function(t,e){return Lt(this,this.getCellRect(t,e))}},{key:"getCellsRect",value:function(t,e,n,r){var o=this.isFrozenCell(t,e),i=this.isFrozenCell(n,r),a=yt(this,0,t-1),l=yt(this,t,n);if(o&&o.col){var s=this[R].scroll.left;a+=s,i&&i.col||(l-=s,l=Math.max(l,yt(this,t,this.frozenColCount-1)))}var c=mt(this,0,e-1),u=mt(this,e,r);if(o&&o.row){var h=this[R].scroll.top;c+=h,i&&i.row||(u-=h,u=Math.max(u,yt(this,e,this.frozenRowCount-1)))}return new b(a,c,l,u)}},{key:"isFrozenCell",value:function(t,e){var n=this[R],r=n.frozenRowCount,o=n.frozenColCount,i=r>0&&e<r,a=o>0&&t<o;return i||a?{row:i,col:a}:null}},{key:"getRowAt",value:function(t){var e=it(this,t);if(e)return e.row;var n=rt(this,t);return n?n.row:-1}},{key:"getColAt",value:function(t){var e=at(this,t);if(e)return e.col;var n=ot(this,t);return n?n.col:-1}},{key:"getCellAt",value:function(t,e){return{row:this.getRowAt(e),col:this.getColAt(t)}}},{key:"makeVisibleCell",value:function(t,e){var n=this.isFrozenCell(t,e);if(!(n&&n.col&&n.row)){var r=this.getCellRect(t,e),o=function(t){var e=0;t[R].frozenColCount>0&&(e=st(t).width);var n=0;return t[R].frozenRowCount>0&&(n=lt(t).height),new b(t[R].scroll.left+e,t[R].scroll.top+n,t[R].canvas.width-e,t[R].canvas.height-n)}(this);if(!o.contains(r)){var i=this[R].scrollable;n&&n.col||(r.left<o.left?i.scrollLeft-=o.left-r.left:o.right<r.right&&(i.scrollLeft-=o.right-r.right)),n&&n.row||(r.top<o.top?i.scrollTop-=o.top-r.top:o.bottom<r.bottom&&(i.scrollTop-=o.bottom-r.bottom))}}}},{key:"focusCell",value:function(t,e){var n=this[R].focusControl;n.editMode&&n.resetInputStatus(),n.setFocusRect(this.getCellRect(t,e));var r=this[R].selection.select,o=r.col,i=r.row,a=this.fireListeners("editableinput_cell",{col:o,row:i}),l=g.findIndex(a,function(t){return!!t})>=0;n.editMode=l,l&&(n.storeInputStatus(),n.setDefaultInputStatus(),this.fireListeners("modify_status_editableinput_cell",{col:o,row:i,input:n.input})),n.focus()}},{key:"invalidateCell",value:function(t,e){this.invalidateGridRect(t,e)}},{key:"invalidateGridRect",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=this.getOffsetInvalidateCells();o>0&&(t-=o,e-=o,n+=o,r+=o);var i=It(this),a=this.getCellsRect(t,e,n,r),l=i.intersection(a);if(l){var s=this[R],c=s.frozenColCount,u=s.frozenRowCount;if(c>0&&n>=c){var h=st(this);h.intersection(l)&&(l.left=Math.min(h.right-1,h.right))}if(u>0&&r>=u){var f=lt(this);f.intersection(l)&&(l.top=Math.min(f.bottom-1,l.top))}ht(this,l)}}},{key:"invalidate",value:function(){ht(this,It(this))}},{key:"getCopyCellValue",value:function(t,e){}},{key:"onDrawCell",value:function(t,e,n){}},{key:"getCellOverflowText",value:function(t,e){var n="".concat(t,":").concat(e);return this[R].cellTextOverflows[n]||null}},{key:"setCellOverflowText",value:function(t,e,n){var r="".concat(t,":").concat(e);n?this[R].cellTextOverflows[r]="string"==typeof n?n.trim():n:delete this[R].cellTextOverflows[r]}},{key:"addDisposable",value:function(t){if(!t||!t.dispose||"function"!=typeof t.dispose)throw new Error("not disposable!");(this[R].disposables=this[R].disposables||[]).push(t)}},{key:"dispose",value:function(){n(a(e.prototype),"dispose",this).call(this);var t=this[R];t.handler.dispose(),t.scrollable.dispose(),t.focusControl.dispose(),t.columnResizer.dispose(),t.cellSelector.dispose(),t.disposables&&(t.disposables.forEach(function(t){return t.dispose()}),t.disposables=null);var r=t.element.parentElement;r&&r.removeChild(t.element)}},{key:"getAttachCellArea",value:function(t,e){return{element:this.getElement(),rect:Lt(this,this.getCellRect(t,e))}}},{key:"bindEventsInternal",value:function(){}},{key:"getTargetRowAtInternal",value:function(t){}},{key:"getRowsHeightInternal",value:function(t,e){}},{key:"getRowHeightInternal",value:function(t){}},{key:"getScrollHeightInternal",value:function(t){}},{key:"getMoveLeftColByKeyDownInternal",value:function(t){var e=t.col;t.row;return e-1}},{key:"getMoveRightColByKeyDownInternal",value:function(t){var e=t.col;t.row;return e+1}},{key:"getMoveUpRowByKeyDownInternal",value:function(t){t.col;return t.row-1}},{key:"getMoveDownRowByKeyDownInternal",value:function(t){t.col;return t.row+1}},{key:"getOffsetInvalidateCells",value:function(){return 0}},{key:"_getInitContext",value:function(){var t=this[R].context;return t.fillStyle="white",t.strokeStyle="black",t.textAlign="left",t.textBaseline="top",t.lineWidth=1,t.font=this.font||"16px sans-serif",t}},{key:"canvas",get:function(){return this[R].canvas}},{key:"selection",get:function(){return this[R].selection}},{key:"rowCount",get:function(){return this[R].rowCount},set:function(t){if(this[R].rowCount=t,this.updateScroll(),this[R].selection._updateGridRange()){var e=this[R].selection.focus,n=e.col,r=e.row;this.makeVisibleCell(n,r),this.focusCell(n,r)}}},{key:"colCount",get:function(){return this[R].colCount},set:function(t){if(this[R].colCount=t,this.updateScroll(),this[R].selection._updateGridRange()){var e=this[R].selection.focus,n=e.col,r=e.row;this.makeVisibleCell(n,r),this.focusCell(n,r)}}},{key:"frozenColCount",get:function(){return this[R].frozenColCount},set:function(t){this[R].frozenColCount=t}},{key:"frozenRowCount",get:function(){return this[R].frozenRowCount},set:function(t){this[R].frozenRowCount=t}},{key:"defaultRowHeight",get:function(){return this[R].rowCount},set:function(t){this[R].defaultRowHeight=t,this.updateScroll()}},{key:"defaultColWidth",get:function(){return this[R].defaultColWidth},set:function(t){this[R].defaultColWidth=t,this.updateScroll()}},{key:"font",get:function(){return this[R].font},set:function(t){this[R].font=t}},{key:"underlayBackgroundColor",get:function(){return this[R].underlayBackgroundColor},set:function(t){this[R].underlayBackgroundColor=t}}]),e}();e.exports=Ft},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,n,r){var o={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return t&&document&&document.all&&!t.atob}),a=function(e){var n={};return function(e,r){if("function"==typeof e)return e();if(void 0===n[e]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,e,r);if(t.HTMLIFrameElement&&o instanceof t.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}n[e]=o}return n[e]}}(),l=null,s=0,c=[],u=r(72);function h(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],e))}else{var l=[];for(a=0;a<r.parts.length;a++)l.push(_(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:l}}}}function f(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function v(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!==d(t.insertAt)||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertAt.before,n);n.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function p(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return r.nc}();n&&(t.attrs.nonce=n)}return y(e,t.attrs),v(t,e),e}function y(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var a=s++;n=l||(l=p(e)),r=w.bind(null,n,a,!1),o=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),v(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=u(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}.bind(null,n,e),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}e.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!==("undefined"==typeof document?"undefined":d(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"===d(e.attrs)?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return h(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(l=o[a.id]).refs--,r.push(l)}t&&h(f(t,e),e);for(i=0;i<r.length;i++){var l;if(0===(l=r[i]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e,n){var r={};function o(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.offset,a=void 0===i?0:i,l=o.padding,s=(l=void 0===l?{}:l).left,c=void 0===s?0:s,u=l.right,h=void 0===u?0:u,f=l.top,d=void 0===f?0:f,v=l.bottom,g=void 0===v?0:v,p=t.textAlign||"left",y=t.textBaseline||"middle";t.textAlign=p,t.textBaseline=y;var _=e.left+a+c;"right"===p||"end"===p?_=e.right-n-a-h:"center"===p&&(_=e.left+(e.width-n+c-h)/2);var m=e.top+a+d;return"bottom"===y||"alphabetic"===y||"ideographic"===y?m=e.bottom-r-a-g:"middle"===y&&(m=e.top+(e.height-r+d-g)/2),{x:_,y:m}}t.exports={calcBasePosition:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.offset,i=void 0===r?0:r,a=n.padding,l=(a=void 0===a?{}:a).left,s=void 0===l?0:l,c=a.right,u=void 0===c?0:c,h=a.top,f=void 0===h?0:h,d=a.bottom;return o(t,e,0,0,{offset:i,padding:{left:s,right:u,top:f,bottom:void 0===d?0:d}})},calcStartPosition:o,getFontSize:function(t,e){if(r[e])return r[e];var n=t.font;try{t.font=e||t.font;var o=t.measureText("„ÅÇ").width;return r[e]={width:o,height:o}}finally{t.font=n}}}},function(t,e,n){var r=n(41),o=n(0),i=o.isPromise,a=o.isDef,l=o.obj.setReadonly,s=n(21),c=n(4),h=n(1).COLUMN_FADEIN_STATE_ID;function d(t){return t[h]||l(t,h,{}),t[h]}function v(t,e,n,r,o,i){return function(a){var l=d(t),s="".concat(e,":").concat(n);1===a?delete l[s]:l[s]={opacity:a},i(),o();var c=l[s];if(c){var u=r.getContext();u.globalAlpha=1-c.opacity;try{i()}finally{u.globalAlpha=1}}}}var g=function(t,e,n,r,o,i){var a=d(t),l=[v(t,e,n,r,o,i)];a.activeFadeins=l,s(500,function(t){l.forEach(function(e){return e(t)}),1===t&&delete a.activeFadeins})},p=function(t,e,n,r,o,i){var a=d(t);a.activeFadeins?a.activeFadeins.push(v(t,e,n,r,o,i)):o()},y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this.onDrawCell=this.onDrawCell.bind(this),this._fadeinWhenCallbackInPromise=e.fadeinWhenCallbackInPromise}return f(t,[{key:"onDrawCell",value:function(t,e,n,o){var l=this,s=e.style,c=e.getRecord,u=e.drawCellBase,f=o.getGridCanvasHelper();u();var d,v=c();if(i(v)?d=v.then(function(){return t}):i(t)&&(d=t),d){var y=Date.now();return d.then(function(t){if(n.toCurrentContext().getDrawRect()){var h=Date.now()-y,d=function(){var a=n.toCurrentContext();if(a.getDrawRect()){var u=c();if(!i(u)){var h=r.of(s,u,l.StyleClass);l.drawInternal(l.convertInternal(t),a,h,f,o,e),l.drawMessageInternal(e.getMessage(),n,h,f,o,e)}}};if(function(t,e){return a(t._fadeinWhenCallbackInPromise)?t._fadeinWhenCallbackInPromise:!!e.configure("fadeinWhenCallbackInPromise")}(l,o)){var v=n.col,_=n.row;h<80?p(o,v,_,n,d,u):g(o,v,_,n,d,u)}else d()}})}var _=r.of(s,v,this.StyleClass);this.drawInternal(this.convertInternal(t),n,_,f,o,e),this.drawMessageInternal(e.getMessage(),n,_,f,o,e);var m=n.col,w=n.row,C="".concat(m,":").concat(w),x=o[h]&&o[h][C];if(x){var b=n.getContext();b.globalAlpha=1-x.opacity;try{u()}finally{b.globalAlpha=1}}return null}},{key:"clone",value:function(){return new t(this)}},{key:"convertInternal",value:function(t){return a(t)?t:""}},{key:"drawInternal",value:function(t,e,n,r,o,i){}},{key:"drawMessageInternal",value:function(t,e,n,r,o,i){i.messageHandler.drawCellMessage(t,e,n,r,i)}},{key:"bindGridEvent",value:function(t,e,n){return[]}},{key:"StyleClass",get:function(){return c}}]),t}();t.exports=y},function(e,n,r){(function(n){var o=r(0).isDef;function i(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.classList,i=r.text,a=r.html,l=document.createElement(t);o&&(n(o)?(e=l.classList).add.apply(e,c(o)):l.classList.add(o));return i?l.textContent=i:a&&(l.innerHTML=a),l}function a(t){return!(!t.nodeType||!t.nodeName)}function l(t){if(a(t))return t;var e=i("div",{html:t});return Array.prototype.slice.call(e.childNodes)}function s(e){if(t.jQuery&&e instanceof t.jQuery)return Array.prototype.map.call(e,function(t){return t});if(n(e))return e.map(l);var r=l(e);return n(r)?r:[l(e)]}function u(t){return o(t.tabIndex)&&t.tabIndex>-1}e.exports={createElement:i,empty:function(t){for(var e;e=t.firstChild;)t.removeChild(e)},isNode:a,toNode:l,toNodeList:s,appendHtml:function(t,e){s(e).forEach(function(e){t.appendChild(e)})},disableFocus:function t(e){e.dataset.disableBeforeTabIndex=e.tabIndex,e.tabIndex=-1,Array.prototype.slice.call(e.children,0).forEach(t)},enableFocus:function t(e){"disableBeforeTabIndex"in e.dataset&&(e.tabIndex=e.dataset.disableBeforeTabIndex),Array.prototype.slice.call(e.children,0).forEach(t)},isFocusable:u,findPrevSiblingFocusable:function(t){for(var e=t.previousSibling;e&&!u(e);)e=e.previousSibling;return e},findNextSiblingFocusable:function(t){for(var e=t.nextSibling;e&&!u(e);)e=e.nextSibling;return e}}}).call(this,r(2).Array_isArray)},function(t,e,n){var r=n(4),i=n(9),s=n(16),c=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=i.getIcon,c=n.textAlign,u=n.textBaseline,h=n.color,f=n.font,d=n.bgColor,v=n.padding,g=n.textOverflow;d&&a({bgColor:d}),r.testFontLoad(f,t,e),s.loadIcons(l(),e,r,function(e,n){r.text(t,n,{textAlign:c,textBaseline:u,color:h,font:f,padding:v,textOverflow:g,icons:e})})}},{key:"StyleClass",get:function(){return r}}]),e}();t.exports=c},function(t,e,n){var r=n(54),o=n(26),i=n(107),a=n(55),l={get BaseStyle(){return r},get Style(){return o},get SortHeaderStyle(){return i},get CheckHeaderStyle(){return a},of:function(t,e){return t?t instanceof o?t:"function"==typeof t?l.of(t(),e):new e(t):e.DEFAULT}};t.exports=l},function(t,e,n){var r=n(0),o=r.isDef,i=r.str,a=i.genChars,l=i.genWords;function s(t,e){return t.measureText(e).width}function c(t,e,n,r,o){for(var i=[],a=n.next(),l=0;l<r&&null!==a;l++,a=n.next())i.push(a);var c=s(t,i.join(""));if(c>o)for(;i.length;){if((c-=s(t,i.pop()))<=o)break}else if(c<o)for(;null!==a;){var u=s(t,a);if(c+u>o)break;i.push(a),c+=u,a=n.next()}var f=i.join("").replace(/\s+$/,""),d=e.slice(f.length).replace(/^\s+/,"");return{before:f?new h(f):null,after:d?new h(d):null}}var h=function(){function t(e){u(this,t),this._content=o(e)?e:""}return f(t,[{key:"width",value:function(t){return s(t.ctx,this._content)}},{key:"font",value:function(){return null}},{key:"color",value:function(){return null}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(t){}},{key:"draw",value:function(t){var e=t.ctx,n=t.canvashelper,r=t.rect,o=t.offset,i=t.offsetLeft,a=t.offsetRight,l=t.offsetTop,s=t.offsetBottom;n.fillTextRect(e,this._content,r.left,r.top,r.width,r.height,{offset:o+1,padding:{left:i,right:a,top:l,bottom:s}})}},{key:"canBreak",value:function(){return!!this._content}},{key:"splitIndex",value:function(e){for(var n=this._content,r=a(n),o=[],i=r.next(),l=0;l<e&&null!==i;l++,i=r.next())o.push(i);var s=o.join(""),c=n.slice(s.length);return{before:s?new t(s):null,after:c?new t(c):null}}},{key:"breakWord",value:function(t,e){var n=this._content,r=this.width({ctx:t}),o=Math.floor(this._content.length*e/r);return c(t,n,l(n),o,e)}},{key:"breakAll",value:function(t,e){var n=this._content,r=this.width({ctx:t}),o=Math.floor(this._content.length*e/r);return c(t,n,a(n),o,e)}},{key:"toString",value:function(){return this._content}}]),t}();t.exports=h},function(t,e,n){var r=n(0),o=r.isDef,i=r.obj.each,a=n(1).get(),l=1,s=function(){function t(){u(this,t),this[a]={},this[a].listeners={},this[a].listenerData={}}return f(t,[{key:"listen",value:function(t,e){var n=this,r=this[a].listeners[t]||(this[a].listeners[t]=[]);r.push(e);var o=l++;return this[a].listenerData[o]={type:t,listener:e,remove:function(){delete n[a].listenerData[o];var i=r.indexOf(e);r.splice(i,1),n[a].listeners[t].length||delete n[a].listeners[t]}},o}},{key:"unlisten",value:function(t){this[a].listenerData[t].remove()}},{key:"addEventListener",value:function(t,e){this.listen(t,e)}},{key:"removeEventListener",value:function(t,e){var n=this;i(this[a].listenerData,function(r,o){r.type===t&&r.listener===e&&n.unlisten(o)})}},{key:"hasListeners",value:function(t){return!!this[a].listeners[t]}},{key:"fireListeners",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var l=this[a].listeners[t];return l?l.map(function(t){return t.call.apply(t,[e].concat(r))}).filter(o):[]}},{key:"dispose",value:function(){delete this[a]}}]),t}();t.exports=s},function(t,e,n){var r=n(20),i=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._readOnly=n.readOnly,t}return l(e,r),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"onChangeReadOnlyInternal",value:function(){}},{key:"readOnly",get:function(){return this._readOnly},set:function(t){this._readOnly=!!t,this.onChangeReadOnlyInternal()}}]),e}();t.exports=i},function(t,e,n){var r=n(0).isPromise,o=n(24);t.exports={loadIcons:function(t,e,n,i){var a=this;if(t)if(r(t))t.then(function(t){a.loadIcon(t,e.toCurrentContext(),i)}),t=null;else{var l=o.toNormarizeArray(t);l.forEach(function(t){n.testFontLoad(t.font,t.content,e)}),t=l}i(t,e)}}},function(t,e,n){var r=n(12),o=n(0).isDef,i=r.Style,a=function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];u(this,t),this.onDrawCell=this.onDrawCell.bind(this)}return f(t,[{key:"onDrawCell",value:function(t,e,n,o){var i=e.style,a=e.drawCellBase;delete e.getRecord,delete e.style;var l=o.getGridCanvasHelper();a(),this.drawInternal(this.convertInternal(t),n,r.of(i,this.StyleClass),l,o,e)}},{key:"convertInternal",value:function(t){return o(t)?t:""}},{key:"drawInternal",value:function(t,e,n,r,o,i){}},{key:"bindGridEvent",value:function(t,e){return[]}},{key:"StyleClass",get:function(){return i}}]),t}();t.exports=a},function(t,e,n){var r=function(){function t(e,n,r,o){u(this,t),this._left=e,this._top=n,this._width=r,this._height=o}return f(t,[{key:"offsetLeft",value:function(t){this._left+=t,this._right=void 0}},{key:"offsetTop",value:function(t){this._top+=t,this._bottom=void 0}},{key:"copy",value:function(){return new t(this.left,this.top,this.width,this.height)}},{key:"intersection",value:function(e){var n=Math.max(this.left,e.left),r=Math.min(this.left+this.width,e.left+e.width);if(n<=r){var o=Math.max(this.top,e.top),i=Math.min(this.top+this.height,e.top+e.height);if(o<=i)return t.bounds(n,o,r,i)}return null}},{key:"contains",value:function(t){return this.left<=t.left&&this.left+this.width>=t.left+t.width&&this.top<=t.top&&this.top+this.height>=t.top+t.height}},{key:"inPoint",value:function(t,e){return this.left<=t&&this.left+this.width>=t&&this.top<=e&&this.top+this.height>=e}},{key:"left",get:function(){return this._left},set:function(t){var e=this.right;this._left=t,this.right=e}},{key:"top",get:function(){return this._top},set:function(t){var e=this.bottom;this._top=t,this.bottom=e}},{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._right=void 0}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._bottom=void 0}},{key:"right",get:function(){return void 0!==this._right?this._right:this._right=this.left+this.width},set:function(t){this._right=t,this.width=t-this.left}},{key:"bottom",get:function(){return void 0!==this._bottom?this._bottom:this._bottom=this.top+this.height},set:function(t){this._bottom=t,this.height=t-this.top}}],[{key:"bounds",value:function(e,n,r,o){return new t(e,n,r-e,o-n)}},{key:"max",value:function(e,n){return t.bounds(Math.min(e.left,n.left),Math.min(e.top,n.top),Math.max(e.right,n.right),Math.max(e.bottom,n.bottom))}}]),t}();t.exports=r},function(t,e,n){var r=n(0).array.findIndex,o="p",i="u",a="o",l="n",s="u",c="b",u="n";function h(t){return new Error("calc parse error: ".concat(t))}var f={"*":3,"/":3,"+":2,"-":2};function d(t){return function t(e,n){function d(t){var e=t.pop(),r=t.pop(),o=t.pop();if(!(o&&o.nodeType&&r&&r.type===a&&e&&e.nodeType))throw h(n);return{nodeType:c,left:o,op:r,right:e}}for(var v=[];e.length;){var g=e.shift();if(g.type===o&&"("===g.value)!function(){var i=0,a=r(e,function(t,e){if(t.type===o&&"("===t.value)i++;else if(t.type===o&&")"===t.value){if(!i)return!0;i--}return!1});if(-1===a)throw h(n);v.push(t(e.slice(0,a),n)),e.splice(0,a+1)}();else if(g.type===a){if(v.length>=3){var p=v[v.length-2].value;f[g.value]<=f[p]&&v.push(d(v))}v.push(g)}else if(g.type===i){var y=g.value,_=parseFloat(y),m=/[a-z%]+/i.exec(y)[0];v.push({nodeType:s,value:_,unit:m})}else g.type===l&&v.push({nodeType:u,value:parseFloat(g.value)})}for(;v.length>1;)v.push(d(v));return v[0]}(function(t){for(var e,n=t.replace(/calc\(/g,"("),r=/^[-+]?(\d*\.\d+|\d+)[a-z%]+/i,s=/^[-+]?(\d*\.\d+|\d+)/i,c=/^[-+*/]/,u=[];n=n.trim();)if("("===n[0]||")"===n[0])u.push({value:n[0],type:o}),n=n.slice(1);else if(e=r.exec(n))u.push({value:e[0],type:i}),n=n.slice(e[0].length);else if(e=s.exec(n))u.push({value:e[0],type:l}),n=n.slice(e[0].length);else{if(!(e=c.exec(n)))throw h(t);u.push({value:e[0],type:a}),n=n.slice(e[0].length)}return u}(t),t)}function v(t,e){return function t(e,n){if(e.nodeType===c){var r=t(e.left,n),o=t(e.right,n);switch(e.op.value){case"+":return r+o;case"-":return r-o;case"*":return r*o;case"/":return r/o;default:throw new Error("calc error. unknown operator: ".concat(e.op.value))}}else if(e.nodeType===s)switch(e.unit){case"%":return e.value*n.full/100;case"em":return e.value*n.em;case"px":return e.value;default:throw new Error("calc error. unknown unit: ".concat(e.unit))}else if(e.nodeType===u)return e.value;throw new Error("calc error.")}(d(t),e)}t.exports={toPx:function(t,e){return"string"==typeof t?v(t.trim(),e):t-0}}},function(t,e,n){var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this._disabled=e.disabled}return f(t,[{key:"clone",value:function(){return new t(this)}},{key:"bindGridEvent",value:function(t,e,n){return[]}},{key:"onChangeDisabledInternal",value:function(){}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=!!t,this.onChangeDisabledInternal()}}]),t}();t.exports=r},function(e,n,r){var o=r(0).isNode;function i(t,e,n,r){var o;return t*=3,e*=3,n*=3,r*=3,function(i){var a,l,s,c,u,h;if(i<0||1<i)throw new Error(i);a=o||i;do{a+=.5*(h=i-(t*(s=(l=1-a)*l)*a+n*l*(c=a*a)+(u=c*a)))}while(1e-4<Math.abs(h));return o=a,e*s*a+r*l*c+u}}var a={linear:function(t){return t},easeIn:i(.42,0,1,1),easeOut:i(0,0,.58,1),easeInOut:i(.42,0,.58,1)},l=o?function(){}:t.requestAnimationFrame||setTimeout;function s(){return Date.now()}e.exports=function(e,n,r){var o=s();r?"string"==typeof r&&(r=a[r]):r=a.easeInOut;var i=!1,c=function(t,a){return function c(){var u=s()-o;i?a&&a():u>=e?(n(1),t&&t()):(n(r(u/e)),l(c,1))}},u=function(){i=!0};if(t.Promise){var h=new t.Promise(function(t,e){var r=c(t,e);n(0),r()});return h.cancel=u,h}var f=c(function(){},function(){});return n(0),f(),{cancel:u}}},function(t,e,n){var r,i=n(23),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._textAlign=n.textAlign||"left",t._textBaseline=n.textBaseline||"middle",t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"textAlign",get:function(){return this._textAlign},set:function(t){this._textAlign=t,this.doChangeStyle()}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r,i=n(14),s={CHANGE_STYLE:"change_style"},c=function(t){function e(){var t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bgColor;return u(this,e),(t=o(this,a(e).call(this)))._bgColor=n,t}return l(e,i),f(e,null,[{key:"EVENT_TYPE",get:function(){return s}},{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"doChangeStyle",value:function(){this.fireListeners(s.CHANGE_STYLE)}},{key:"clone",value:function(){return new e(this)}},{key:"bgColor",get:function(){return this._bgColor},set:function(t){this._bgColor=t,this.doChangeStyle()}}]),e}();t.exports=c},function(t,e,n){(function(e){var r=n(0).isDef,o=["content","font","color","className","isLiga","width","src","svg","name","path"];var i={},a={};function l(t,e){var n=a[t]||(a[t]={});if(n[e])return n[e];var r=i[t]||(i[t]=document.createElement(t));r.className=e,document.body.appendChild(r);try{var o=document.defaultView.getComputedStyle(r,"::before"),l=o.getPropertyValue("content");l.length>=3&&('"'===l[0]||"'"===l[0])&&l[0]===l[l.length-1]&&(l=l.substr(1,l.length-2));var s=o.getPropertyValue("font");s||(s="".concat(o.getPropertyValue("font-style")," ").concat(o.getPropertyValue("font-variant")," ").concat(o.getPropertyValue("font-weight")," ").concat(o.getPropertyValue("font-size"),"/").concat(o.getPropertyValue("line-height")," ").concat(function(t){for(var e=[],n=t.split(/,\s*/),r=0;r<n.length;r++){var o=n[r].replace(/['"]/g,"");-1!==o.indexOf(" ")||/^\d/.test(o)?e.push("'".concat(o,"'")):e.push(o)}return e.join(",")}(o.getPropertyValue("font-family"))));var c=o.getPropertyValue("color"),u=r.clientWidth,h=(o.getPropertyValue("font-feature-settings")||"").indexOf("liga")>-1;return n[e]={content:l,font:s,color:c,width:u,isLiga:h}}finally{document.body.removeChild(r)}}function s(t){if(!t)return t;if(e(t))return t;var n={},r=0;o.forEach(function(n){t[n]&&(r=e(t[n])?Math.max(r,t[n].length):Math.max(r,1))}),o.forEach(function(o){n[o]=function(t,n){var r=[];if(e(t)){r.push.apply(r,c(t));for(var o=t.length;o<n;o++)r.push(null)}else for(var i=0;i<n;i++)r.push(t);return r}(t[o],r)});for(var i=[],a=function(t){var e={};o.forEach(function(r){e[r]=n[r][t]}),i.push(e)},l=0;l<r;l++)a(l);return i}t.exports={toNormarizeArray:function(t){var e=s(t);return e?e.map(function(t){return function(t){var e={};for(var n in t)"className"!==n&&(e[n]=t[n]);if(t.className){var o=l(t.tagName||"i",t.className);for(var i in o)r(t[i])||(e[i]=o[i])}return e}(t)}):e},get iconPropKeys(){return o},getIconProps:l}}).call(this,n(2).Array_isArray)},function(t,e,n){var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,t),this._disabled=e.disabled}return f(t,[{key:"clone",value:function(){return new t(this)}},{key:"bindGridEvent",value:function(t,e){return[]}},{key:"onChangeDisabledInternal",value:function(){}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=!!t,this.onChangeDisabledInternal()}}]),t}();t.exports=r},function(t,e,n){var r,i=n(106),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._color=n.color,t._font=n.font,t._textOverflow=n.textOverflow||"ellipsis",t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.doChangeStyle()}},{key:"font",get:function(){return this._font},set:function(t){this._font=t,this.doChangeStyle()}},{key:"textOverflow",get:function(){return this._textOverflow},set:function(t){this._textOverflow=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r=n(0),o=r.extend,i=r.getIgnoreCase,a=n(111),l=a.Theme,s=n(56),c=new l(n(112)),u=new l(n(113)),h={BASIC:c,MATERIAL_DESIGN:u},f=u,d={get default(){return f},set default(t){f=d.of(t)||f},get MATERIAL_DESIGN(){return u},get BASIC(){return c},theme:a,of:function(t){if(!t)return null;if("string"==typeof t){var e=i(d.choices,t);return e||null}return t instanceof l?t:new l(t)},get choices(){return o(h,s)}};t.exports=d},function(t,e,r){var i=r(0),s=i.array,h=i.isDef,d=i.isPromise,v=i.getOrApply,g=i.applyChainSafe,p=i.emptyFn,y=r(58),_=r(14),m={UPDATE_LENGTH:"update_length",UPDATED_LENGTH:"updated_length",UPDATED_ORDER:"updated_order"};function w(t,e){return t=v(t),d(t)&&(t=t.then(function(t){return d(t)||e(t),w(t,e)}),e(t)),t}function C(t,e){if(!t._sortedIndexMap)return e;var n=t._sortedIndexMap[e];return h(n)?n:e}var x=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this)))._get=n.get&&n.get.bind(n)||void 0,t._length=n.length||0,t._sortedIndexMap=!1,t}return l(e,_),f(e,null,[{key:"ofArray",value:function(t){return new e({get:function(e){return t[e]},length:t.length})}},{key:"EVENT_TYPE",get:function(){return m}}]),f(e,[{key:"get",value:function(t){return this.getOriginal(C(this,t))}},{key:"getField",value:function(t,e){return this.getOriginalField(C(this,t),e)}},{key:"hasField",value:function(t,e){return this.hasOriginalField(C(this,t),e)}},{key:"setField",value:function(t,e,n){return this.setOriginalField(C(this,t),e,n)}},{key:"sort",value:function(t,e){var n=this,r=new Array(this._length),o="desc"!==e?function(t,e){return t===e?0:t>e?1:-1}:function(t,e){return t===e?0:t<e?1:-1};return y.sortPromise(function(t){return h(r[t])?r[t]:r[t]=t},function(t,e){r[t]=e},this._length,o,function(e){return n.getOriginalField(e,t)}).then(function(){n._sortedIndexMap=r,n.fireListeners(m.UPDATED_ORDER)})}},{key:"dispose",value:function(){n(a(e.prototype),"dispose",this).call(this)}},{key:"getOriginal",value:function(t){var e=this;return w(this._get(t),function(n){e.recordPromiseCallBackInternal(t,n)})}},{key:"getOriginalField",value:function(t,e){var n=this;if(h(e))return function t(e,n,r){if(h(e)){if(d(e))return e.then(function(e){return t(e,n,r)});if(n in e)return w(e[n],r);if("function"==typeof n)return w(n(e),r);var o="".concat(n).split(".");return o.length<=1?w(e[n],r):w(g.apply(void 0,[e,function(e,n){return t(e,n,p)}].concat(c(o))),r)}}(this.getOriginal(t),e,function(r){n.fieldPromiseCallBackInternal(t,e,r)})}},{key:"hasOriginalField",value:function(t,e){if(!h(e))return!1;if("function"==typeof e)return!0;var n=this.getOriginal(t);return n&&e in n}},{key:"setOriginalField",value:function(t,e,n){if(h(e))return function(t,e,n){if(e in t)t[e]=n;else{if("function"==typeof e)return e(t,n);if("string"==typeof e)for(var r="".concat(e).split("."),o=t,i=r.length,a=0;a<i;a++){var l=r[a];a===i-1?o[l]=n:o=o[l]||(o[l]={})}else t[e]=n}return!0}(this.getOriginal(t),e,n)}},{key:"fieldPromiseCallBackInternal",value:function(t,e,n){}},{key:"recordPromiseCallBackInternal",value:function(t,e){}},{key:"length",get:function(){return this._length},set:function(t){if(this._length!==t){var e=this.fireListeners(m.UPDATE_LENGTH,t);s.findIndex(e,function(t){return!t})>=0||(this._length=t,this.fireListeners(m.UPDATED_LENGTH,this._length))}}}]),e}();x.EMPTY=new x({length:0}),t.exports=x},function(e,n,r){var o=r(0).browser;function i(){return t.Path2D&&!o.Edge?t.Path2D:r(123)}e.exports={fill:function(t,e,n,r,o,a){e.save();try{var l=t.width,s=t.height,c=t.ud,u=t.x,h=void 0===u?0:u,f=t.y,d=void 0===f?0:f,v=(o=o||l)/l,g=(a=a||s)/(c?-s:s);n=n||0,r=c?(r||0)+-s*g:r||0,e.translate(n,r),e.scale(v,g),0===h&&0===d||e.translate(h,d);var p=i();t.path2d=t.path2d||new p(t.d),e.fill(t.path2d)}finally{e.restore()}},get Path2D(){return i()}}},function(t,e,n){var r=(0,n(0).extend)(n(5).EVENT_TYPE,{CHANGED_VALUE:"changed_value",CHANGED_HEADER_VALUE:"changed_header_value"});t.exports=r},function(t,e,n){var r=function(){function t(e){u(this,t),this._grid=e}return f(t,[{key:"dispose",value:function(){this.detachMessageElement(),this._messageElement&&this._messageElement.dispose(),this._messageElement=null}},{key:"_getMessageElement",value:function(){return this._messageElement||(this._messageElement=this.createMessageElementInternal())}},{key:"createMessageElementInternal",value:function(){}},{key:"drawCellMessageInternal",value:function(t,e,n,r,o){}},{key:"attachMessageElement",value:function(t,e,n){this._getMessageElement().attach(this._grid,t,e,n)}},{key:"moveMessageElement",value:function(t,e){this._getMessageElement().move(this._grid,t,e)}},{key:"detachMessageElement",value:function(){this._getMessageElement()._detach()}},{key:"drawCellMessage",value:function(t,e,n,r,o){this.drawCellMessageInternal(t,e,n,r,o)}}]),t}();t.exports=r},function(t,e,n){var r=n(3),o=n(10).createElement,i="cheetah-grid__message-element",a="".concat(i,"__message"),l="".concat(i,"--hidden"),s="".concat(i,"--shown");var c=function(){function t(){u(this,t),this._handler=new r;var e=this._rootElement=function(){n(136);var t=o("div",{classList:[i,l]}),e=o("span",{classList:[a]});return t.appendChild(e),t}();this._messageElement=e.querySelector(".".concat(a))}return f(t,[{key:"dispose",value:function(){this.detach(),this._handler.dispose(),this._rootElement=null,this._messageElement=null}},{key:"attach",value:function(t,e,n,r){var o=this._rootElement,i=this._messageElement;o.classList.remove(s),o.classList.add(l),this._attachCell(t,e,n)?(o.classList.add(s),o.classList.remove(l),i.textContent=r.message):this._detach()}},{key:"move",value:function(t,e,n){var r=this._rootElement;this._attachCell(t,e,n)?(r.classList.add(s),r.classList.remove(l)):this._detach()}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var t=this._rootElement;t.parentElement&&(t.parentElement.removeChild(t),t.classList.remove(s),t.classList.add(l))}},{key:"_attachCell",value:function(t,e,n){var r=this._rootElement,o=t.getAttachCellArea(e,n),i=o.element,a=o.rect,l=a.bottom,s=a.left,c=a.width,u=t.frozenRowCount,h=t.frozenColCount;if(n>=u&&u>0){if(l<t.getAttachCellArea(e,u-1).rect.bottom)return!1}else if(l<0)return!1;if(e>=h&&h>0){if(s<t.getAttachCellArea(h-1,n).rect.right)return!1}else if(s<0)return!1;var f=i.offsetHeight,d=i.offsetWidth;return!(f<l)&&(!(d<s)&&(r.style.top="".concat(l.toFixed(),"px"),r.style.left="".concat(s.toFixed(),"px"),r.style.width="".concat(c.toFixed(),"px"),r.parentElement!==i&&i.appendChild(r),!0))}}]),t}();t.exports=c},function(t,e,n){var r=n(18);t.exports={drawExclamationMarkBox:function(t,e,n){var o=e.bgColor,i=e.color,a=t.getContext(),l=t.getRect();a.fillStyle=o;var s=l.copy();s.left=s.right-24,a.fillRect(s.left,s.top,s.width,s.height-1);var c=i,u=s.left+(s.width-4)/2,h=s.top+(s.height-20)/2;n.fillRectWithState(new r(u,h,4,12),t,{fillColor:c}),n.fillRectWithState(new r(u,h+16,4,4),t,{fillColor:c})},drawInfomationMarkBox:function(t,e,n){var o=e.bgColor,i=e.color,a=t.getContext(),l=t.getRect();a.fillStyle=o;var s=l.copy();s.left=s.right-24,a.fillRect(s.left,s.top,s.width,s.height-1);var c=i,u=s.left+(s.width-4)/2,h=s.top+(s.height-20)/2;n.fillRectWithState(new r(u,h,4,4),t,{fillColor:c}),n.fillRectWithState(new r(u,h+8,4,12),t,{fillColor:c})}}},function(t,e,n){var r,o=function(){n(70),r=function(){var t=document.createElement("div"),e=t.style;e.position="absolute",e.height="9999px",e.width="calc(100vw - 100%)",e.opacity=0,t.textContent="x",document.body.appendChild(t);var n=document.defaultView.getComputedStyle(t,"").width;return document.body.removeChild(t),parseInt(n,10)}()||10;var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-name","cheetah-grid"),t.innerHTML="\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ".concat(r,"px;\n\theight: ").concat(r,"px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ").concat(r,"px);\n\twidth: calc(100% - ").concat(r,"px);\n\theight: -webkit-calc(100% - ").concat(r,"px);\n\theight: calc(100% - ").concat(r,"px);\n}\n\t\t"),document.head.appendChild(t)},i={initDocument:function(){i.initDocument=function(){},o()},getScrollBarSize:function(){return r}};t.exports=i},function(t,e,n){var r=n(8),o=r.calcBasePosition,i=r.calcStartPosition,a=r.getFontSize,l=Math.ceil,s=Math.PI;function c(t,e,n,r,o,i){t.beginPath(),t.arc(e+i,n+i,i,-s,-.5*s,!1),t.arc(e+r-i,n+i,i,-.5*s,0,!1),t.arc(e+r-i,n+o-i,i,0,.5*s,!1),t.arc(e+i,n+o-i,i,.5*s,s,!1),t.closePath()}function u(t,e,n,r,o,i){c(t,e,n,r,o,i),t.fill()}function h(t,e,n,r,o,i){c(t,e,n,r,o,i),t.stroke()}function f(t){return{width:a(t,null).width}}var d={roundRect:c,fillRoundRect:u,strokeRoundRect:h,drawCheckbox:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.uncheckBgColor,a=void 0===i?"#FFF":i,s=o.checkBgColor,c=void 0===s?"rgb(76, 73, 72)":s,d=o.borderColor,v=void 0===d?"#000":d,g=o.boxSize,p=void 0===g?f(t).width:g,y="number"==typeof r?r>1?1:r:1;t.save();try{if(t.fillStyle=r?c:a,u(t,l(e)-1,l(n)-1,l(p+1),l(p+1),p/5),t.lineWidth=1,t.strokeStyle=v,h(t,l(e)-.5,l(n)-.5,l(p),l(p),p/5),r){t.lineWidth=l(p/10),t.strokeStyle=a;var _=p/4,m=p/2*.9,w=e+.2*p,C=n+p/2;y<.5&&(_*=2*y),t.beginPath(),t.moveTo(w,C),t.lineTo(w+_,C+_),y>.5&&(y<1&&(m*=2*(y-.5)),t.lineTo(w+_+m,C+_-m)),t.stroke()}}finally{t.restore()}},measureCheckbox:f,fillTextRect:function(t,e,n,r,i,a){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=l.offset,c=void 0===s?2:s,u=l.padding,h={left:n,top:r,width:i,height:a,right:n+i,bottom:r+a};t.save();try{t.beginPath(),t.rect(h.left,h.top,h.width,h.height),t.clip();var f=o(t,h,{offset:c,padding:u});t.fillText(e,f.x,f.y)}finally{t.restore()}},drawButton:function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=i.backgroundColor,s=void 0===a?"#FFF":a,c=i.bgColor,h=void 0===c?s:c,f=i.radius,d=void 0===f?4:f,v=i.shadow,g=void 0===v?{}:v;t.save();try{if(t.fillStyle=h,g){var p=g.color,y=void 0===p?"rgba(0, 0, 0, 0.24)":p,_=g.blur,m=void 0===_?1:_,w=g.offsetX,C=void 0===w?0:w,x=g.offsetY,b=void 0===x?2:x,k=g.offset,E=(k=void 0===k?{}:k).x,I=void 0===E?C:E,L=k.y,S=void 0===L?b:L;t.shadowColor=y,t.shadowBlur=m,t.shadowOffsetX=I,t.shadowOffsetY=S}u(t,l(e),l(n),l(r),l(o),d)}finally{t.restore()}},drawInlineImageRect:function(t,e,n,r,o,a,l,s,c,u,h,f){var d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{},v=d.offset,g=void 0===v?2:v,p=d.padding,y={left:c,top:u,width:h,height:f,right:c+h,bottom:u+f};t.save();try{t.beginPath(),t.rect(y.left,y.top,y.width,y.height),t.clip();var _=i(t,y,l,s,{offset:g,padding:p});t.drawImage(e,n,r,o,a,_.x,_.y,l,s)}finally{t.restore()}},strokeColorsRect:function(t,e,n,r,o,i){e[0]===e[1]&&e[0]===e[2]&&e[0]===e[3]?e[0]&&(t.strokeStyle=e[0],t.strokeRect(n,r,o,i)):function(n){for(var r=0;r<e.length;r++){var o=e[r],i=e[r-1];if(o){if(i!==o){i&&(t.strokeStyle=i,t.stroke());var a=n[r];t.beginPath(),t.moveTo(a.x,a.y)}var l=n[r+1];t.lineTo(l.x,l.y)}else i&&(t.strokeStyle=i,t.stroke())}var s=e[e.length-1];s&&(t.strokeStyle=s,t.stroke())}([{x:n,y:r},{x:n+o,y:r},{x:n+o,y:r+i},{x:n,y:r+i},{x:n,y:r}])}};t.exports=d},function(t,e,n){var r=n(76),o=n(91),i=n(41);t.exports={action:r,type:o,style:i}},function(t,e,n){var r=n(38),i=r.bindCellClickAction,s=r.bindCellKeyAction,h=n(20),d=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._action=n.action,t}return l(e,h),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"getState",value:function(t){return{}}},{key:"bindGridEvent",value:function(t,e,n){var r=this,o=this.getState(t),a=function(e){if(!r.disabled){var n=t.getRowRecord(e.row);r._action(n)}};return c(i(t,e,n,{action:a,mouseOver:function(e){return!r.disabled&&(o.mouseActiveCell={col:e.col,row:e.row},t.invalidateCell(e.col,e.row),!0)},mouseOut:function(e){delete o.mouseActiveCell,t.invalidateCell(e.col,e.row)}})).concat(c(s(t,e,n,{action:a})))}},{key:"action",get:function(){return this._action},set:function(t){this._action=t}}]),e}();t.exports=d},function(t,e,n){var r=n(0),o=r.isPromise,i=r.event.cancel,a=n(5).EVENT_TYPE,l=a.CLICK_CELL,s=a.MOUSEOVER_CELL,u=a.MOUSEOUT_CELL,h=a.KEYDOWN,f=13;t.exports={bindCellClickAction:function(t,e,n,r){var i=r.action,a=r.mouseOver,c=r.mouseOut;return[t.listen(l,function(e){n.isTarget(e.col,e.row)&&(o(t.getRowRecord(e.row))||i({col:e.col,row:e.row}))}),t.listen(s,function(e){n.isTarget(e.col,e.row)&&(o(t.getRowRecord(e.row))||a&&!a({col:e.col,row:e.row})||(t.getElement().style.cursor="pointer"))}),t.listen(u,function(e){n.isTarget(e.col,e.row)&&(c&&c({col:e.col,row:e.row}),t.getElement().style.cursor="")})]},bindCellKeyAction:function(t,e,n,r){var a=r.action,l=r.acceptKeys,s=void 0===l?[]:l;return s=c(s).concat([f]),[t.listen(h,function(e,r){if(-1!==s.indexOf(e)){var l=t.selection.select;n.isTarget(l.col,l.row)&&(o(t.getRowRecord(l.row))||(a({col:l.col,row:l.row}),i(r)))}})]}}},function(t,e,n){var r=n(0).event.cancel,i=n(15),s=n(5).EVENT_TYPE,c=s.INPUT_CELL,h=s.PASTE_CELL,d=s.EDITABLEINPUT_CELL,v=s.SELECTED_CELL,g=s.DBLCLICK_CELL,p=s.DBLTAP_CELL,y=s.KEYDOWN,_=s.MODIFY_STATUS_EDITABLEINPUT_CELL,m=s.SCROLL,w=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),o(this,a(e).call(this,t))}return l(e,i),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"onInputCellInternal",value:function(t,e,n){throw new Error}},{key:"onOpenCellInternal",value:function(t,e){throw new Error}},{key:"onChangeSelectCellInternal",value:function(t,e,n){throw new Error}},{key:"onSetInputAttrsInternal",value:function(t,e,n){throw new Error}},{key:"onGridScrollInternal",value:function(t){throw new Error}},{key:"bindGridEvent",value:function(t,e,n){var o=this,i=function(e){o.readOnly||o.disabled||o.onOpenCellInternal(t,e)},a=function(e,n){o.readOnly||o.disabled||o.onInputCellInternal(t,e,n)};return[t.listen(c,function(t){n.isTarget(t.col,t.row)&&a({col:t.col,row:t.row},t.value)}),t.listen(h,function(t){t.multi||n.isTarget(t.col,t.row)&&(r(t.event),a({col:t.col,row:t.row},t.normalizeValue))}),t.listen(g,function(t){n.isTarget(t.col,t.row)&&i({col:t.col,row:t.row})}),t.listen(p,function(t){n.isTarget(t.col,t.row)&&(i({col:t.col,row:t.row}),r(t.event))}),t.listen(y,function(e,r){if(113===e||13===e){var o=t.selection.select;n.isTarget(o.col,o.row)&&i({col:o.col,row:o.row})}}),t.listen(v,function(e){o.onChangeSelectCellInternal(t,{col:e.col,row:e.row},e.selected)}),t.listen(m,function(){o.onGridScrollInternal(t)}),t.listen(d,function(t){return!!n.isTarget(t.col,t.row)&&(!o.readOnly&&!o.disabled)}),t.listen(_,function(e){n.isTarget(e.col,e.row)&&(o.readOnly||o.disabled||o.onSetInputAttrsInternal(t,{col:e.col,row:e.row},e.input))})]}}]),e}();t.exports=w},function(t,e,n){(function(e){t.exports={normalize:function t(n){if(!n)return[];if(e(n))return n;if("string"==typeof n)return t(JSON.parse(n));var r=[];for(var o in n)r.push({value:o,caption:n[o]});return r}}}).call(this,n(2).Array_isArray)},function(t,e,n){var r=n(23),o=n(4),i=n(42),a=n(43),l=n(44),s=n(45),c=n(46),u=n(47),h=n(48),f=n(49),d={get EVENT_TYPE(){return r.EVENT_TYPE},get BaseStyle(){return r},get Style(){return o},get NumberStyle(){return i},get CheckStyle(){return a},get ButtonStyle(){return l},get ImageStyle(){return s},get IconStyle(){return c},get PercentCompleteBarStyle(){return u},get MultilineTextStyle(){return h},get MenuStyle(){return f},of:function(t,e,n){return t?t instanceof o?t:"function"==typeof t?d.of(t(e),e,n):e&&t in e?d.of(e[t],e,n):new n(t):n.DEFAULT}};t.exports=d},function(t,e,n){var r,i=n(4);var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"right":e;return t.textAlign=n,t}(t)))}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}}]),e}();t.exports=s},function(t,e,n){var r,i=n(22);var s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),t=o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"center":e;return t.textAlign=n,t}(n)));var r=n.uncheckBgColor,i=n.checkBgColor,l=n.borderColor;return t._uncheckBgColor=r,t._checkBgColor=i,t._borderColor=l,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(t){this._uncheckBgColor=t,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(t){this._checkBgColor=t,this.doChangeStyle()}},{key:"borderColor",get:function(){return this._borderColor},set:function(t){this._borderColor=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r,i=n(4);var s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),t=o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"center":e;return t.textAlign=n,t}(n)));var r=n.buttonBgColor;return t._buttonBgColor=r,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"buttonBgColor",get:function(){return this._buttonBgColor},set:function(t){this._buttonBgColor=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r,i=n(22);var s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"center":e;return t.textAlign=n,t}(n))))._imageSizing=n.imageSizing,t._margin=n.margin||4,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"imageSizing",get:function(){return this._imageSizing},set:function(t){this._imageSizing=t,this.doChangeStyle()}},{key:"margin",get:function(){return this._margin},set:function(t){this._margin=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r,i=n(4);var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"center":e;return t.textAlign=n,t}(t)))}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}}]),e}();t.exports=s},function(t,e,n){var r,i=n(4),s=function(t){return t>80?"#20a8d8":t>50?"#4dbd74":t>20?"#ffc107":"#f86c6b"},c=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._barColor=n.barColor||s,t._barBgColor=n.barBgColor||"#f0f3f5",t._barHeight=n.barHeight||3,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"barColor",get:function(){return this._barColor},set:function(t){this._barColor=t,this.doChangeStyle()}},{key:"barBgColor",get:function(){return this._barBgColor},set:function(t){this._barBgColor=t,this.doChangeStyle()}},{key:"barHeight",get:function(){return this._barHeight},set:function(t){this._barHeight=t,this.doChangeStyle()}}]),e}();t.exports=c},function(t,e,n){var r,i=n(4);var s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,function(t){var e=t.textBaseline,n=void 0===e?"top":e;return t.textBaseline=n,t}(n))))._lineHeight=n.lineHeight||"1em",t._autoWrapText=n.autoWrapText||!1,t._lineClamp=n.lineClamp,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,this.doChangeStyle()}},{key:"lineClamp",get:function(){return this._lineClamp},set:function(t){this._lineClamp=t,this.doChangeStyle()}},{key:"autoWrapText",get:function(){return this._autoWrapText},set:function(t){this._autoWrapText=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r,i=n(4),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),t=o(this,a(e).call(this,n));var r=n.appearance;return t._appearance=r,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"appearance",get:function(){return this._appearance||"menulist-button"},set:function(t){this._appearance=t,this.doChangeStyle()}}]),e}();t.exports=s},function(e,n,r){var o=r(0).then,i=r(96),a={};function l(e){if(!t.Promise)return console.error("Promise is not loaded. load Promise before this process."),{then:function(){return this}};var n=new Image,r=new t.Promise(function(t){n.onload=function(){t(n)}});return n.onerror=function(t){var n=e.length>200?"".concat(e.substr(0,200),"..."):e;throw console.warn("cannot load: ".concat(n)),new Error("IMAGE LOAD ERROR: ".concat(n))},n.src=function(t){return-1!==t.search(/^(data:)/)}(e)?e:"".concat(e,"?").concat(Date.now()),r}e.exports={loadImage:l,getCacheOrLoad:function(t,e,n){return function(t,e){return o(e,function(e){var n=t.get(e);if(n)return n;var r=l(e).then(function(n){return t.put(e,n),n});return t.put(e,r),r})}(a[t]||(a[t]=new i(e)),n)}}},function(t,e,n){var r=n(25),i=n(104),s=n(105),c=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"disabled",get:function(){return this._disabled}}]),e}(),h=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,s),f(e,[{key:"disabled",get:function(){return this._disabled}}]),e}(),d={ACTIONS:{SORT:new c,CHECK:new h},get BaseAction(){return r},get SortHeaderAction(){return i},get CheckHeaderAction(){return s},of:function(t){return t?"string"==typeof t?d.ACTIONS[t.toUpperCase()]||d.of(null):t:void 0},ofCell:function(t){if(t.sort){if("function"===t.sort){return new c({sort:function(e){var n=e.order,r=e.col,o=e.grid;return t.sort(n,r,o)}})}return d.ACTIONS.SORT}return d.of(t.action)}};t.exports=d},function(t,e,n){var r=n(0).event.cancel,o=n(5).EVENT_TYPE,i=o.CLICK_CELL,a=o.MOUSEOVER_CELL,l=o.MOUSEOUT_CELL,s=o.MOUSEMOVE_CELL,u=o.KEYDOWN,h=13;t.exports={bindCellClickAction:function(t,e,n){var r,o=n.action,c=n.mouseOver,u=n.mouseOut;return[t.listen(i,function(t){e.isCellInRange(t.col,t.row)&&o({col:t.col,row:t.row})}),t.listen(a,function(n){e.isCellInRange(n.col,n.row)&&(c&&!c({col:n.col,row:n.row})||(t.getElement().style.cursor="pointer",r=!0))}),t.listen(s,function(n){e.isCellInRange(n.col,n.row)&&r&&!t.getElement().style.cursor&&(t.getElement().style.cursor="pointer")}),t.listen(l,function(n){e.isCellInRange(n.col,n.row)&&(u&&u({col:n.col,row:n.row}),t.getElement().style.cursor="",r=!1)})]},bindCellKeyAction:function(t,e,n){var o=n.action,i=n.acceptKeys,a=void 0===i?[]:i;return a=c(a).concat([h]),[t.listen(u,function(n,i){if(-1!==a.indexOf(n)){var l=t.selection.select;e.isCellInRange(l.col,l.row)&&(o({col:l.col,row:l.row}),r(i))}})]}}},function(t,e,n){var r=n(17),o=n(108),i=n(109),a=n(110),l={TYPES:{DEFAULT:new o,SORT:new i,CHECK:new a},get BaseHeader(){return r},get Header(){return o},get SortHeader(){return o},get CheckHeader(){return a},of:function(t){return t?"string"==typeof t?l.TYPES[t.toUpperCase()]||l.of(null):t:l.TYPES.DEFAULT},ofCell:function(t){return t.sort?l.TYPES.SORT:l.of(t.headerType)}};t.exports=l},function(t,e,n){var r,i=n(14),s={CHANGE_STYLE:"change_style"},c=function(t){function e(){var t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bgColor;return u(this,e),(t=o(this,a(e).call(this)))._bgColor=n,t}return l(e,i),f(e,null,[{key:"EVENT_TYPE",get:function(){return s}},{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"doChangeStyle",value:function(){this.fireListeners(s.CHANGE_STYLE)}},{key:"clone",value:function(){return new e(this)}},{key:"bgColor",get:function(){return this._bgColor},set:function(t){this._bgColor=t,this.doChangeStyle()}}]),e}();t.exports=c},function(t,e,n){var r,i=n(26);var s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e),t=o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"center":e;return t.textAlign=n,t}(n)));var r=n.uncheckBgColor,i=n.checkBgColor,l=n.borderColor;return t._uncheckBgColor=r,t._checkBgColor=i,t._borderColor=l,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"uncheckBgColor",get:function(){return this._uncheckBgColor},set:function(t){this._uncheckBgColor=t,this.doChangeStyle()}},{key:"checkBgColor",get:function(){return this._checkBgColor},set:function(t){this._checkBgColor=t,this.doChangeStyle()}},{key:"borderColor",get:function(){return this._borderColor},set:function(t){this._borderColor=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){t.exports={}},function(t,e,n){var r=n(28),o=n(114),i=n(115);t.exports={DataSource:r,CachedDataSource:o,FilterDataSource:i}},function(e,n,r){var o=r(0).isPromise;function i(t){return t.then(function(t){return o(t)?i(t):t})}function a(t,e,n){return new Promise(function(r){for(var a=[],l=new Array(n),s=function(e){var n=t(e),r={v:n,f:n};l[e]=r,o(n)&&a.push(i(n).then(function(t){r.v=t,r.f=t}))},c=0;c<n;c++)s(c);Promise.all(a).then(function(){return function(t,e){if(!e)return Promise.resolve(t);return new Promise(function(n){for(var r=t.length,a=[],l=function(n){var r=t[n];r.f=e(r.v),o(r.f)&&a.push(i(r.f).then(function(t){r.f=t}))},s=0;s<r;s++)l(s);Promise.all(a).then(function(){return n(t)})})}(l,e)}).then(r)})}var l={sort:function(t,e,n,r,o){var i=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t(r);return n}(t,n);o?i.sort(function(t,e){return r(o(t),o(e))}):i.sort(r);for(var a=0;a<n;a++)e(a,i[a])},sortArray:function(t,e){Array.prototype.sort.call(t,e)},sortPromise:function(e,n,r,o,i){if(t.Promise)return a(e,i,r).then(function(t){t.sort(function(t,e){return o(t.f,e.f)});for(var e=0;e<r;e++)n(e,t[e].v)});l.sort(e,n,r,o,i);var s={then:function(t){return t(),s},catch:function(){return s}};return s}};e.exports=l},function(t,e,n){(function(e){var r=n(8),o=r.calcStartPosition,i=r.getFontSize,a=n(117),l=n(35),s=n(27),h=n(65).colorToRGB,d=n(18),v=n(0),g=v.getChainSafe,p=v.getOrApply,y=v.style.toBoxArray,_=v.isDef,m=n(60),w=n(19),C=n(62),x=a.of("‚Ä¶");function b(t,e,n,r,o){return p(t,{col:e,row:n,grid:r,context:o})}function k(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o,i=g.apply(void 0,[t.theme].concat(n));return _(i)?"function"!=typeof i?i:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=i.apply(void 0,e);return _(a)?a:(o=o||g.apply(void 0,[s.default].concat(n)),p.apply(void 0,[o].concat(e)))}:g.apply(void 0,[s.default].concat(n))}function E(t,e,n,r,o,i,a,s,c){function u(e,u,h){if(e.canDraw()){t.save();try{t.fillStyle=b(e.color()||t.fillStyle,a,s,c,t),t.font=e.font()||t.font,e.draw({ctx:t,canvashelper:l,rect:n,offset:r,offsetLeft:u,offsetRight:h,offsetTop:o,offsetBottom:i})}finally{t.restore()}}else e.onReady(function(){return c.invalidateCell(a,s)})}if(1===e.length){u(e[0],0,0)}else{var h=e.map(function(e){return(e.width({ctx:t})||0)-0}),f=h.reduce(function(t,e){return t+e}),d=0;e.forEach(function(t,e){var n=h[e];u(t,d,f-=n),d+=n})}}function I(t,e){return a.buildInlines(t,e||"")}function L(t){return a.string(t)}function S(t){return T(t)&&"ellipsis"!==t&&1===(t=t.trim()).length?a.of(t[0]):x}function T(t){return t&&"clip"!==t&&"string"==typeof t}function A(t,e,n){for(var r=n-3,o=0,i=0;i<e.length;i++){var a=(e[i].width({ctx:t})||0)-0;if(o+a>r)return{index:i,lineWidth:o,remWidth:r-o};o+=a}return null}function R(t,e,n){var r=A(t,e,n);if(!r)return{beforeInlines:e,overflow:!1,afterInlines:[]};var o=r.index,i=r.remWidth,a=e[o],l=e.slice(0,o),s=[];if(a.canBreak()){var u=a.breakWord(t,i),h=u.before,f=u.after;if(!h&&!l.length){var d=a.breakAll(t,i);h=d.before,f=d.after}if(!h&&!l.length){var v=a.splitIndex(1);h=v.before,f=v.after}h&&l.push(h),f&&s.push(f),s.push.apply(s,c(e.slice(o+1)))}else l.length||l.push(a),s.push.apply(s,c(e.slice(l.length)));return{beforeInlines:l,overflow:!0,afterInlines:s}}function B(t,e,n,r){var o=A(t,e,n);if(!o)return{inlines:e,overflow:!1};var i=o.index,a=o.lineWidth,l=e[i],s=S(r),c=n-a-s.width({ctx:t}),u=e.slice(0,i);if(l.canBreak()){var h=l.breakAll(t,c).before;h&&u.push(h)}return u.push(s),{inlines:u,overflow:!0}}function M(t,e,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=a.offset,s=a.color,c=a.textAlign,u=a.textBaseline,h=a.font,f=a.textOverflow,d=a.icons;e.fillStyle=b(s,o,i,t,e),e.textAlign=c,e.textBaseline=u,e.font=h||e.font;var v=I(d,n);if(T(f)&&function(t,e,n){return!!A(t,e,n)}(e,v,r.width)){var g=B(e,v,r.width,f),p=g.inlines,y=g.overflow;v=p,t.setCellOverflowText(o,i,y&&L(n))}else t.setCellOverflowText(o,i,!1);E(e,v,r,l,0,0,o,i,t)}function O(t,e,n,r,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=s.animElapsedTime,u=void 0===c?1:c,f=s.uncheckBgColor,d=void 0===f?a.theme.checkbox.uncheckBgColor:f,v=s.checkBgColor,g=void 0===v?a.theme.checkbox.checkBgColor:v,p=s.borderColor,y=void 0===p?a.theme.checkbox.borderColor:p,_=s.textAlign,m=void 0===_?"center":_,w=s.textBaseline,C=void 0===w?"middle":w,x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},b=l.measureCheckbox(t).width;t.textAlign=m,t.textBaseline=C;var k=o(t,e,b+1,b+1,x);if(d=a.getColor(d,n,r,t),g=a.getColor(g,n,r,t),y=a.getColor(y,n,r,t),0<u&&u<1){var E=h(d),I=h(g),L=function(t){var e=E[t],n=I[t];if(u>=1)return n;var r=e-n;return Math.ceil(e-r*u)},S=function(t){var e=E[t],n=I[t];if(u>=1)return e;var r=e-n;return Math.ceil(n+r*u)};d=i?d:"rgb(".concat(S("r")," , ").concat(S("g"),", ").concat(S("b"),")"),g="rgb(".concat(L("r")," , ").concat(L("g"),", ").concat(L("b"),")")}l.drawCheckbox(t,k.x,k.y,!!i&&u,{uncheckBgColor:d,checkBgColor:g,borderColor:y})}var D=function(){function t(e){u(this,t),this._grid=e}return f(t,[{key:"getThemeColor",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k.apply(void 0,[this._grid].concat(e))}},{key:"font",get:function(){return k(this._grid,"font")}},{key:"underlayBackgroundColor",get:function(){return k(this._grid,"underlayBackgroundColor")}},{key:"color",get:function(){return k(this._grid,"color")}},{key:"frozenRowsColor",get:function(){return k(this._grid,"frozenRowsColor")}},{key:"defaultBgColor",get:function(){return k(this._grid,"defaultBgColor")}},{key:"frozenRowsBgColor",get:function(){return k(this._grid,"frozenRowsBgColor")}},{key:"selectionBgColor",get:function(){return k(this._grid,"selectionBgColor")}},{key:"borderColor",get:function(){return k(this._grid,"borderColor")}},{key:"frozenRowsBorderColor",get:function(){return k(this._grid,"frozenRowsBorderColor")}},{key:"highlightBorderColor",get:function(){return k(this._grid,"highlightBorderColor")}},{key:"checkbox",get:function(){var t=this._grid;return this._checkbox||(this._checkbox={get uncheckBgColor(){return k(t,"checkbox","uncheckBgColor")},get checkBgColor(){return k(t,"checkbox","checkBgColor")},get borderColor(){return k(t,"checkbox","borderColor")}})}},{key:"button",get:function(){var t=this._grid;return this._button||(this._button={get color(){return k(t,"button","color")},get bgColor(){return k(t,"button","bgColor")}})}},{key:"header",get:function(){var t=this._grid;return this._header||(this._header={get sortArrowColor(){return k(t,"header","sortArrowColor")}})}}]),t}();function P(t,n,r,o,i,a){if(e(n)){var s=y(n);l.strokeColorsRect(t,s,r,o,i,a)}else n&&(t.strokeStyle=n,t.strokeRect(r,o,i,a))}var F=function(){function t(e){u(this,t),this._grid=e,this._theme=new D(e)}return f(t,[{key:"createCalculator",value:function(t,e){return{calcWidth:function(n){return w.toPx(n,{get full(){return t.getRect().width},get em(){return i(t.getContext(),e).width}})},calcHeight:function(n){return w.toPx(n,{get full(){return t.getRect().height},get em(){return i(t.getContext(),e).height}})}}}},{key:"getColor",value:function(t,e,n,r){return b(t,e,n,this._grid,r)}},{key:"toBoxArray",value:function(t){return y(t)}},{key:"toBoxPixelArray",value:function(t,n,r){if("string"==typeof t||e(t)){var o=this.createCalculator(n,r),i=y(t);return[o.calcHeight(i[0]),o.calcWidth(i[1]),o.calcHeight(i[2]),o.calcWidth(i[3])]}return y(t)}},{key:"drawWithClip",value:function(t,e){var n=t.getDrawRect();if(n){var r=t.getContext();r.save();try{r.beginPath(),r.rect(n.left,n.top,n.width,n.height),r.clip(),e(r)}finally{r.restore()}}}},{key:"drawBorderWithClip",value:function(t,e){var n=t.getDrawRect();if(n){var r=t.getRect(),o=t.getContext();o.save();try{o.beginPath();var i=n.left,a=n.width;n.left===r.left&&(i+=-1,a+=1);var l=n.top,s=n.height;n.top===r.top&&(l+=-1,s+=1),o.rect(i,l,a,s),o.clip(),e(o)}finally{o.restore()}}}},{key:"text",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.padding,i=r.offset,a=void 0===i?2:i,l=r.color,s=r.textAlign,c=void 0===s?"left":s,u=r.textBaseline,h=void 0===u?"middle":u,f=r.font,v=r.textOverflow,g=void 0===v?"clip":v,p=r.icons,y=e.getRect(),_=e.col,m=e.row;if(!l){l=this.theme.color;var w=this._grid.isFrozenCell(_,m);w&&w.row&&(l=this.theme.frozenRowsColor)}this.drawWithClip(e,function(r){if(o){o=n.toBoxPixelArray(o,e,f);var i=y.left+o[3],s=y.top+o[0],u=y.width-o[1]-o[3],v=y.height-o[0]-o[2];y=new d(i,s,u,v)}M(n._grid,r,t,y,_,m,{offset:a,color:l,textAlign:c,textBaseline:h,font:f,textOverflow:g,icons:p})})}},{key:"multilineText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.padding,a=r.offset,l=void 0===a?2:a,s=r.color,c=r.textAlign,u=void 0===c?"left":c,h=r.textBaseline,f=void 0===h?"middle":h,v=r.font,g=r.lineHeight,p=void 0===g?"1em":g,y=r.autoWrapText,_=void 0!==y&&y,m=r.lineClamp,w=void 0===m?0:m,C=r.textOverflow,x=void 0===C?"clip":C,k=r.icons,A=e.getRect(),M=e.col,O=e.row;if(!s){s=this.theme.color;var D=this._grid.isFrozenCell(M,O);D&&D.row&&(s=this.theme.frozenRowsColor)}this.drawWithClip(e,function(r){if(o){o=n.toBoxPixelArray(o,e,v);var a=A.left+o[3],c=A.top+o[0],h=A.width-o[1]-o[3],g=A.height-o[0]-o[2];A=new d(a,c,h,g)}var y=n.createCalculator(e,v);p=y.calcHeight(p),function(t,e,n,r,o,a){var l,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=s.offset,u=s.color,h=s.textAlign,f=s.textBaseline,d=s.font,v=s.lineHeight,g=s.autoWrapText,p=s.lineClamp,y=s.textOverflow,_=s.icons;if(e.fillStyle=b(u,o,a,t,e),e.textAlign=h,e.textBaseline=f,e.font=d||e.font,"auto"===p){var m=r.height-2*c-2;p=Math.max(Math.floor(m/v),1)}if(g||p>0||T(y)){var w=r.width;l=[];var C=p>0?function(r,i){if(l.length+1>=p){if(0===r.length&&i)l.push([S(y)]),t.setCellOverflowText(o,a,n.map(L).join("\n"));else{var s=B(e,r,w,y),c=s.inlines,u=s.overflow;l.push(i&&!u?c.concat([S(y)]):c),(u||i)&&t.setCellOverflowText(o,a,n.map(L).join("\n"))}return!1}return!0}:function(){return!0},x=g?function(t,n){if(!C(t,n))return!1;for(;t.length;){if(!C(t,n))return!1;var r=R(e,t,w),o=r.beforeInlines,i=r.afterInlines;l.push(o),t=i}return!0}:T(y)?function(r,i){if(!C(r,i))return!1;var s=B(e,r,w,y),c=s.inlines,u=s.overflow;return l.push(c),u&&t.setCellOverflowText(o,a,n.map(L).join("\n")),!0}:function(t,e){return!!C(t,e)&&(l.push(t),!0)};t.setCellOverflowText(o,a,!1);for(var k=0;k<n.length;k++){var A=n[k];if(!x(I(0===k?_:void 0,A),k+1<n.length))break}}else t.setCellOverflowText(o,a,!1),l=n.map(function(t,e){return I(0===e?_:void 0,t)});var M=0,O=v*(l.length-1);if("top"===e.textBaseline||"hanging"===e.textBaseline){var D=i(e,e.font).height,P=(v-D)/2;M+=P,O-=P}else if("bottom"===e.textBaseline||"alphabetic"===e.textBaseline||"ideographic"===e.textBaseline){var F=i(e,e.font).height,z=(v-F)/2;M-=z,O+=z}l.forEach(function(n){E(e,n,r,c,M,O,o,a,t),M+=v,O-=v})}(n._grid,r,t,A,M,O,{offset:l,color:s,textAlign:u,textBaseline:f,font:v,lineHeight:p,autoWrapText:_,lineClamp:w,textOverflow:x,icons:k})})}},{key:"fillText",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.color,a=o.textAlign,l=void 0===a?"left":a,s=o.textBaseline,c=void 0===s?"top":s,u=o.font,h=r.col,f=r.row;if(!i){i=this.theme.color;var d=this._grid.isFrozenCell(h,f);d&&d.row&&(i=this.theme.frozenRowsColor)}var v=r.getContext();v.save();try{v.fillStyle=b(i,h,f,this._grid,v),v.textAlign=l,v.textBaseline=c,v.font=u||v.font,v.fillText(t,e,n)}finally{v.restore()}}},{key:"fillCell",value:function(t){var e=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fillColor,r=void 0===n?this.theme.defaultBgColor:n,o=t.getRect();this.drawWithClip(t,function(n){var i=t.col,a=t.row;n.fillStyle=b(r,i,a,e._grid,n),n.beginPath(),n.rect(o.left,o.top,o.width,o.height),n.fill()})}},{key:"fillCellWithState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.fillColor=this.getFillColorState(t,e),this.fillCell(t,e)}},{key:"fillRect",value:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fillColor,r=void 0===n?this.theme.defaultBgColor:n,o=e.getContext();o.save();try{var i=e.col,a=e.row;o.fillStyle=b(r,i,a,this._grid,o),o.beginPath(),o.rect(t.left,t.top,t.width,t.height),o.fill()}finally{o.restore()}}},{key:"fillRectWithState",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.fillColor=this.getFillColorState(e,n),this.fillRect(t,e,n)}},{key:"getFillColorState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getSelectState(),r=t.col,o=t.row;if(!n.selected&&n.selection)return this.theme.selectionBgColor;if(e.fillColor)return e.fillColor;var i=this._grid.isFrozenCell(r,o);return i&&i.row?this.theme.frozenRowsBgColor:this.theme.defaultBgColor}},{key:"border",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.borderColor,o=void 0===r?this.theme.borderColor:r,i=n.lineWidth,a=void 0===i?1:i,l=t.getRect();this.drawBorderWithClip(t,function(n){var r=t.col,i=t.row,s=b(o,r,i,e._grid,n);if(1===a)n.lineWidth=1,P(n,s,l.left-.5,l.top-.5,l.width,l.height);else if(2===a)n.lineWidth=2,P(n,s,l.left,l.top,l.width-1,l.height-1);else{n.lineWidth=a;var c=a/2-1;P(n,s,l.left+c,l.top+c,l.width-a+1,l.height-a+1)}})}},{key:"borderWithState",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getRect(),o=t.getSelectState(),i=t.col,a=t.row;if(o.selected)n.borderColor=this.theme.highlightBorderColor,n.lineWidth=2,this.border(t,n);else{var l=this._grid.isFrozenCell(i,a);l&&l.row&&(n.borderColor=this.theme.frozenRowsBorderColor),n.lineWidth=1,this.border(t,n);var s=this._grid.selection.select;s.col+1===i&&s.row===a?this.drawBorderWithClip(t,function(t){var n=y(b(e.theme.highlightBorderColor,s.col,s.row,e._grid,t));t.lineWidth=1,t.strokeStyle=n[1],t.beginPath(),t.moveTo(r.left-.5,r.top),t.lineTo(r.left-.5,r.bottom),t.stroke()}):s.col===i&&s.row+1===a&&this.drawBorderWithClip(t,function(t){var n=y(b(e.theme.highlightBorderColor,s.col,s.row,e._grid,t));t.lineWidth=1,t.strokeStyle=n[0],t.beginPath(),t.moveTo(r.left,r.top-.5),t.lineTo(r.right,r.top-.5),t.stroke()})}}},{key:"buildCheckBoxInline",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this,o=e.getContext(),i=l.measureCheckbox(o).width;return new C({draw:function(o){var i=o.ctx,a=(o.canvashelper,o.rect),l=o.offset,s=o.offsetLeft,c=o.offsetRight,u=o.offsetTop,h=o.offsetBottom,f=e.col,d=e.row;O(i,a,f,d,t,r,n,{offset:l+1,padding:{left:s+1,right:c,top:u,bottom:h}})},width:i+3,height:i+1,color:void 0})}},{key:"checkbox",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.drawWithClip(e,function(o){var i=e.col,a=e.row;O(o,e.getRect(),i,a,t,n,r)})}},{key:"button",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.bgColor,i=void 0===o?this.theme.button.bgColor:o,a=r.padding,s=r.offset,c=void 0===s?2:s,u=r.color,h=void 0===u?this.theme.button.color:u,f=r.textAlign,v=void 0===f?"center":f,g=r.textBaseline,p=void 0===g?"middle":g,y=r.shadow,_=r.font,m=r.textOverflow,w=void 0===m?"clip":m,C=r.icons,x=e.getRect();this.drawWithClip(e,function(r){var o=e.col,s=e.row;a=n.toBoxPixelArray(a||x.height/8,e,_);var u=x.left+a[3],f=x.top+a[0],g=x.width-a[1]-a[3],m=x.height-a[0]-a[2];l.drawButton(r,u,f,g,m,{bgColor:i,radius:x.height/8,offset:c,shadow:y}),M(n._grid,r,t,new d(u,f,g,m),o,s,{offset:c,color:h,textAlign:v,textBaseline:p,font:_,textOverflow:w,icons:C})})}},{key:"testFontLoad",value:function(t,e,n){return function(t,e,n,r){return!(t&&!m.check(t,e)&&(m.load(t,e,function(){return function(t,e){var n=t.col,r=t.row;e.invalidateCell(n,r)}(n,r)}),1))}(t,e,n,this._grid)}},{key:"theme",get:function(){return this._theme}}]),t}();t.exports=F}).call(this,n(2).Array_isArray)},function(t,e,n){var r,o,i={};if(n(0).isNode)r=function(t,e,n){n()},o=function(){return!1};else{var a=!document.fonts;r=a?function(t,e,r){i["".concat(t," @ ").concat(e)]?r():n(119).load(t,e,function(){i["".concat(t," @ ").concat(e)]=!0,r()},function(){i["".concat(t," @ ").concat(e)]=!0,r()})}:function(t,e,n){i.all||i[t]?n():(document.fonts.ready.then(function(){i.all=!0}),document.fonts.load(t).then(function(){i[t]=!0,n()}))},o=a?function(t,e){return!!i["".concat(t," @ ").concat(e)]||(r(t,e,function(){}),!1)}:function(t,e){return!(!i.all&&!i[t])||(!!document.fonts.check(t)||(r(t,e,function(){}),!1))}}t.exports={check:o,load:r}},function(t,e,n){var r=n(13),i=n(50).getCacheOrLoad,s=n(0).isPromise,c=function(t){function e(t){var n,r=t.src,i=t.width,l=t.height,c=t.imageLeft,h=t.imageTop,f=t.imageWidth,d=t.imageHeight;return u(this,e),(n=o(this,a(e).call(this)))._src=r,n._width=i,n._height=l,n._imageLeft=c,n._imageTop=h,n._imageWidth=f,n._imageHeight=d,n._onloaded=[],n._loaded=!1,s(r)?r.then(function(t){n._src=t,n._loadImage(t)}):n._loadImage(r),n}return l(e,r),f(e,[{key:"_loadImage",value:function(t){var e=this,n=this._inlineImg=i("InlineImage",50,t);s(n)?n.then(function(t){e._loaded=!0,e._inlineImg=t,e._onloaded.forEach(function(t){return t()})}):this._loaded=!0}},{key:"width",value:function(t){t.ctx;return this._width||(this._loaded?this._inlineImg.width:0)}},{key:"font",value:function(){return null}},{key:"color",value:function(){return null}},{key:"canDraw",value:function(){return this._loaded}},{key:"onReady",value:function(t){(s(this._src)||s(this._inlineImg))&&this._onloaded.push(function(){return t()})}},{key:"draw",value:function(t){var e=t.ctx,n=t.canvashelper,r=t.rect,o=t.offset,i=t.offsetLeft,a=t.offsetRight,l=t.offsetTop,s=t.offsetBottom,c=this._inlineImg;n.drawInlineImageRect(e,c,this._imageLeft||0,this._imageTop||0,this._imageWidth||c.width,this._imageHeight||c.height,this._width||c.width,this._height||c.height,r.left,r.top,r.width,r.height,{offset:o+1,padding:{left:i,right:a,top:l,bottom:s}})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),e}();t.exports=c},function(t,e,n){var r=n(13),i=function(t){function e(t){var n,r=t.draw,i=t.width,l=t.height,s=t.color;return u(this,e),(n=o(this,a(e).call(this)))._draw=r,n._width=i,n._height=l,n._color=s,n}return l(e,r),f(e,[{key:"width",value:function(t){t.ctx;return this._width}},{key:"font",value:function(){return null}},{key:"color",value:function(){return this._color}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(t){}},{key:"draw",value:function(t){var e=t.ctx,n=t.canvashelper,r=t.rect,o=t.offset,i=t.offsetLeft,a=t.offsetRight,l=t.offsetTop,s=t.offsetBottom;this._draw({ctx:e,canvashelper:n,rect:r,offset:o,offsetLeft:i,offsetRight:a,offsetTop:l,offsetBottom:s})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),e}();t.exports=i},function(t,e,n){var r=n(0).extend,o=n(64),i={get arrow_upward(){return n(126)},get arrow_downward(){return n(127)},get edit(){return n(128)},get add(){return n(129)},get star(){return n(130)},get star_border(){return n(131)},get star_half(){return n(132)}};t.exports={get:function(){return r(i,o)}}},function(t,e,n){t.exports={}},function(t,e,n){var r={};function o(t){return parseInt(t,16)}function i(t,e,n){return{r:t,g:e,b:n,a:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1}}function a(t){var e=t.r,n=t.g,r=t.b,o=t.a;return 0<=e&&e<=255&&0<=n&&n<=255&&0<=r&&r<=255&&0<=o&&o<=1}function l(t){return Math.ceil(255*t/100)}function s(t){if(t.match(/^#[0-9a-f]{3}$/i))return function(t){var e=t[1],n=t[2],r=t[3];return i(o(e+e),o(n+n),o(r+r))}(t);if(t.match(/^#[0-9a-f]{6}$/i))return function(t){var e=t[1],n=t[2],r=t[3],a=t[4],l=t[5],s=t[6];return i(o(e+n),o(r+a),o(l+s))}(t);var e=t.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i);if(e){var n=i(e[1]-0,e[2]-0,e[3]-0);if(a(n))return n}if(e=t.match(/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d)?)\s*\)$/i)){var r=i(e[1]-0,e[2]-0,e[3]-0,e[4]-0);if(a(r))return r}if(e=t.match(/^rgb\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*\)$/i)){var s=i(l(e[1]),l(e[3]),l(e[5]));if(a(s))return s}if(e=t.match(/^rgba\(\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d{1,3}(\.\d)?)%\s*,\s*(\d(\.\d)?)\s*\)$/i)){var c=i(l(e[1]),l(e[3]),l(e[5]),e[7]-0);if(a(c))return c}return null}t.exports={colorToRGB:function(t){return"string"!=typeof t?i(0,0,0,0):(t=t.toLowerCase().trim(),r[t]?r[t]:s(t)||(r[t]=function(t){var e=document.createElement("div"),n=e.style;n.color=t,n.position="fixed",n.height="1px",n.width="1px",n.opacity=0,document.body.appendChild(e);var r=document.defaultView.getComputedStyle(e,"").color;return document.body.removeChild(e),s(r)}(t)))}}},function(t,e,n){var r=n(67),o=n(75),i=n(36),a=n(103),l=n(27),s=n(57),c=n(116),u=n(59),h=n(63),f=n(151);t.exports={core:r,tools:o,ListGrid:c,columns:i,headers:a,themes:l,data:s,GridCanvasHelper:u,get icons(){return h.get()},register:f,get _internal(){return console.warn("use internal!!"),{color:n(65),sort:n(58),calc:n(19),symbolManager:n(1),path2DManager:n(29)}}}},function(t,e,n){var r=n(5);t.exports={DrawGrid:r}},function(e,n){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===d(t)&&(r=t)}e.exports=r},function(t,e,n){var r=n(3),o=n(34),i=n(0).browser.heightLimit-1e3;function a(t){var e;if(t._height>i){var n=o.getScrollBarSize(),r=t._scrollable.offsetHeight,a=i-r+n,l=t._height-r+n;t._p=a/l,e=i}else t._p=1,e=t._height;t._endPointElement.style.top="".concat(e.toFixed(),"px"),t._endPointElement.style.left="".concat(t._width.toFixed(),"px")}var l=function(){function t(){u(this,t),this._handler=new r,this._scrollable=document.createElement("div"),this._scrollable.classList.add("grid-scrollable"),this._height=0,this._width=0,this._endPointElement=document.createElement("div"),this._endPointElement.classList.add("grid-scroll-end-point"),a(this),this._scrollable.appendChild(this._endPointElement)}return f(t,[{key:"calcTop",value:function(t){var e=t-this.scrollTop;return this._scrollable.scrollTop+e}},{key:"getElement",value:function(){return this._scrollable}},{key:"setScrollSize",value:function(t,e){this._width=t,this._height=e,a(this)}},{key:"onScroll",value:function(t){this._handler.on(this._scrollable,"scroll",t)}},{key:"dispose",value:function(){this._handler.dispose()}},{key:"scrollWidth",get:function(){return this._width},set:function(t){this._width=t,a(this)}},{key:"scrollHeight",get:function(){return this._height},set:function(t){this._height=t,a(this)}},{key:"scrollLeft",get:function(){return Math.ceil(this._scrollable.scrollLeft)},set:function(t){this._scrollable.scrollLeft=t}},{key:"scrollTop",get:function(){return Math.ceil(this._scrollable.scrollTop/this._p)},set:function(t){this._scrollable.scrollTop=t*this._p}}]),t}();t.exports=l},function(t,e,n){var r=n(71);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"/**\n * core styles \n */\n.cheetah-grid .grid-scrollable {\n\theight: 100%;\n\twidth: 100%;\n\tposition: absolute;\n\toverflow: scroll;\n}\n.cheetah-grid .grid-scroll-end-point {\n\topacity: 0;\n\tposition: relative;\n}\n.cheetah-grid {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n.cheetah-grid > canvas {\n\tposition: absolute;\n\twidth: 0;\n\theight: 0;\n}\n.cheetah-grid .grid-focus-control {\n\tposition: relative !important;\n\twidth: 1px;\n\theight: 1px;\n\topacity: 0;\n\tpadding: 0;\n\tmargin: 0;\n\tbox-sizing: border-box;\n\tpointer-events: none;\n\tmax-width: 0;\n\tmax-height: 0;\n\tfloat: none !important;\n}\n.cheetah-grid input.grid-focus-control::-ms-clear {\n\tvisibility:hidden;\n}\n.cheetah-grid input.grid-focus-control.composition {\n\topacity: 1;\n\tmax-width: none;\n\tmax-height: none;\n}",""])},function(e,n){e.exports=function(e){var n=void 0!==t&&t.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=n.protocol+"//"+n.host,o=r+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,n){var r=function(){function t(){u(this,t),this._keys=[],this._vals={},this._sorted=!1}return f(t,[{key:"put",value:function(t,e){t in this._vals||(this._keys.push(t),this._sorted=!1),this._vals[t]=e}},{key:"get",value:function(t){return this._vals[t]}},{key:"eachAll",value:function(t){var e=this;this._keys.forEach(function(n){t(e.get(n),n)})}},{key:"each",value:function(t,e,n){var r=this._keys,o=r.length;this._sorted||(r.sort(function(t,e){return t<e?-1:t>e?1:0}),this._sorted=!0);for(var i=function(t,e){for(var n=0,r=t.length-1;n<=r;){var o=Math.floor((n+r)/2);if(t[o]===e)return o;t[o]>e?r=o-1:n=o+1}return r<0?0:r}(r,t);i<o;i++){var a=r[i];if(t<=a&&a<=e)n(this.get(a),a);else if(e<a)return}}}]),t}();t.exports=r},function(e,n,r){var o,i=r(0).isNode,a=new(r(3));function l(){i?o=1:(o=Math.ceil(t.devicePixelRatio||1))>1&&o%2!=0&&(o+=1)}l(),i||a.on(t,"resize",l),e.exports={transform:function(t){var e=t.getContext("2d"),n=t.getAttribute,r=t.setAttribute;t.getAttribute=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var a=n.call.apply(n,[this,t].concat(r));return"width"!==t&&"height"!==t||(a/=o),a},t.setAttribute=function(t,n){var i="width"===t||"height"===t;i&&(n*=o);for(var a=arguments.length,l=new Array(a>2?a-2:0),s=2;s<a;s++)l[s-2]=arguments[s];var c=r.call.apply(r,[this,t,n].concat(l));return i&&e.scale(o,o),c},Object.defineProperty(t,"width",{get:function(){return t.getAttribute("width")},set:function(e){t.setAttribute("width",Math.floor(e))},configurable:!0,enumerable:!0}),Object.defineProperty(t,"height",{get:function(){return t.getAttribute("height")},set:function(e){t.setAttribute("height",Math.floor(e))},configurable:!0,enumerable:!0});var i=e.drawImage;return e.drawImage=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(e!==t||1===o)return i.call.apply(i,[this,e].concat(r));this.save();try{return this.scale(1/o,1/o),r.length>4?(r[4]*=o,r[5]*=o):(r[0]*=o,r[1]*=o),i.call.apply(i,[this,e].concat(r))}finally{this.restore()}},t}}},function(t,e,n){var r=n(35);t.exports={canvashelper:r}},function(t,e,n){var r=n(20),i=n(37),s=n(15),c=n(77),h=n(78),d=n(79),v=n(83),g=n(87),p=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,c),f(e,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),e}(),y=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,d),f(e,[{key:"disabled",get:function(){return this._disabled}},{key:"readOnly",get:function(){return this._readOnly}}]),e}(),_={ACTIONS:{CHECK:new p,INPUT:new y},get BaseAction(){return r},get Editor(){return s},get Action(){return i},get CheckEditor(){return c},get ButtonAction(){return h},get SmallDialogInputEditor(){return d},get InlineInputEditor(){return console.warn("InlineInputEditor is an experiment stage"),v},get InlineMenuEditor(){return g},of:function(t){return t?"string"==typeof t?_.ACTIONS[t.toUpperCase()]||_.of(null):t:void 0}};t.exports=_},function(t,e,n){var r=n(0),i=r.obj.setReadonly,s=r.isPromise,h=r.event.cancel,d=n(38),v=d.bindCellClickAction,g=d.bindCellKeyAction,p=n(21),y=n(15),_=n(1).CHECK_COLUMN_STATE_ID,m=n(5).EVENT_TYPE.PASTE_CELL;function w(t){if("number"==typeof t)return 0===t?1:0;if("string"==typeof t){if("false"===t)return"true";if("off"===t)return"on";if(t.match(/^0+$/))return t.replace(/^(0*)0$/,"$11");if("true"===t)return"false";if("on"===t)return"off";if(t.match(/^0*1$/))return t.replace(/^(0*)1$/,"$10")}return!t}var C=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,y),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"bindGridEvent",value:function(t,e,n){var r=this;t[_]||i(t,_,{});var o=t[_],a=function(e){var n="".concat(e.col,":").concat(e.row),i="".concat(n,"::block"),a="".concat(n,"::elapsed");if(!(r.readOnly||r.disabled||o[i])){var l=t.doChangeValue(e.col,e.row,w);if(l){var c=function(){p(200,function(n){1===n?delete o[a]:o[a]=n,t.invalidateCell(e.col,e.row)})};s(l)?(o[i]=!0,l.then(function(){delete o[i],c()})):c()}}};return c(v(t,e,n,{action:a,mouseOver:function(e){return!r.disabled&&(o.mouseActiveCell={col:e.col,row:e.row},t.invalidateCell(e.col,e.row),!0)},mouseOut:function(e){delete o.mouseActiveCell,t.invalidateCell(e.col,e.row)}})).concat(c(g(t,e,n,{action:function(e){for(var r=t.selection.range,o=t.selection.select.col,i=r.start.row;i<=r.end.row;i++)n.isTarget(o,i)&&a({col:o,row:i})},acceptKeys:[13,32]})),[t.listen(m,function(e){if(!e.multi&&n.isTarget(e.col,e.row)){var r=e.normalizeValue.trim();t.doGetCellValue(e.col,e.row,function(t){var n=w(t);"".concat(n).trim()===r&&(h(e.event),a({col:e.col,row:e.row}))})}})])}}]),e}();t.exports=C},function(t,e,n){var r=n(0).obj.setReadonly,i=n(37),s=n(1).BUTTON_COLUMN_STATE_ID,c=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"getState",value:function(t){return t[s]||r(t,s,{}),t[s]}}]),e}();t.exports=c},function(t,e,n){(function(e){var r=n(0).obj.setReadonly,i=n(80),s=n(1).SMALL_DIALOG_INPUT_EDITOR_STATE_ID,c=null,h=0;function d(t,e,n,o){t[s]||r(t,s,{}),c||(c=new i);var a=t[s];a.element||(a.element=c,h++,t.addDisposable({dispose:function(){--h||(c.dispose(),c=null)}})),c.attach(t,n,e.col,e.row,o)}function v(t){c&&c.detach(t)}var g=n(39),p=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,n),(t=o(this,a(n).call(this,e)))._helperText=e.helperText,t._inputValidator=e.inputValidator,t._validator=e.validator,t._classList=e.classList,t._type=e.type,t}return l(n,g),f(n,[{key:"dispose",value:function(){this._inputDialogManager.dispose(),this._inputDialogManager=null}},{key:"clone",value:function(){return new n(this)}},{key:"onInputCellInternal",value:function(t,e,n){d(t,e,this,n)}},{key:"onOpenCellInternal",value:function(t,e){var n=this;t.doGetCellValue(e.col,e.row,function(r){d(t,e,n,r)})}},{key:"onChangeSelectCellInternal",value:function(t,e,n){v()}},{key:"onGridScrollInternal",value:function(t){v(!0)}},{key:"onChangeDisabledInternal",value:function(){v(!0)}},{key:"onChangeReadOnlyInternal",value:function(){v(!0)}},{key:"onSetInputAttrsInternal",value:function(t,e,n){i.setInputAttrs(this,t,n)}},{key:"classList",get:function(){return this._classList&&(e(this._classList)?this._classList:[this._classList])},set:function(t){this._classList=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"helperText",get:function(){return this._helperText}},{key:"inputValidator",get:function(){return this._inputValidator}},{key:"validator",get:function(){return this._validator}}]),n}();t.exports=p}).call(this,n(2).Array_isArray)},function(t,e,n){var r=n(0),o=r.event,i=o.getKeyCode,a=o.cancel,l=r.then,s=r.browser,h=n(3),d=n(10).createElement,v="cheetah-grid__small-dialog-input",g="".concat(v,"__input"),p="".concat(v,"--hidden"),y="".concat(v,"--shown");function _(t,e){e.tryWithOffEvents(t,"blur",function(){!function(){t.focus();var e=t.value.length;try{if(void 0!==t.selectionStart)return t.selectionStart=e,void(t.selectionEnd=e)}catch(t){}if(document.selection){var n=t.createTextRange();n.collapse(),n.moveEnd("character",e),n.moveStart("character",e),n.select()}}()})}function m(t,e,n){var r=t.type;n.type=r||""}var w=function(){function t(){u(this,t),this._handler=new h,this._dialog=function(){n(81);var t=d("div",{classList:[v,p]}),e=d("input",{classList:g});return e.readonly=!0,e.tabIndex=-1,t.appendChild(e),t}(),this._input=this._dialog.querySelector(".".concat(g)),this._bindDialogEvents()}return f(t,null,[{key:"setInputAttrs",value:function(){m.apply(void 0,arguments)}}]),f(t,[{key:"dispose",value:function(){var t=this._dialog;this.detach(),this._handler.dispose(),this._dialog=null,this._input=null,this._beforePropEditor=null,t.parentElement&&t.parentElement.removeChild(t)}},{key:"attach",value:function(t,e,n,r,o){var i=this,a=this._handler,l=this._dialog,u=this._input;this._beforePropEditor&&function(t,e,n,r){var o,i=r.classList;i&&(o=e.classList).remove.apply(o,c(i)),delete e.dataset.helperText,n.type=""}(0,l,u,this._beforePropEditor),delete l.dataset.errorMessage,l.classList.remove(y),l.classList.add(p),u.readonly=!1,u.tabIndex=0;var h=t.getAttachCellArea(n,r),f=h.element,d=h.rect;l.style.top="".concat(d.top.toFixed(),"px"),l.style.left="".concat(d.left.toFixed(),"px"),l.style.width="".concat(d.width.toFixed(),"px"),u.style.height="".concat(d.height.toFixed(),"px"),f.appendChild(l),u.value=o,u.style.font=t.font||"16px sans-serif";var v={grid:t,col:n,row:r,editor:e};this._onInputValue(u,v),s.IE?setTimeout(function(){return _(u,a)}):_(u,a),l.classList.add(y),l.classList.remove(p),u.readonly=!0,function(t,e,n,r){var o,i=r.classList,a=r.helperText;i&&(o=e.classList).add.apply(o,c(i)),a&&"function"!=typeof a&&(e.dataset.helperText=a),m(r,0,n)}(0,l,u,e),this._activeData=v,this._beforePropEditor=e,this._attaching=!0,setTimeout(function(){delete i._attaching})}},{key:"detach",value:function(t){if(this._isActive()){var e=this._dialog,n=this._input;e.classList.remove(y),e.classList.add(p),n.readonly=!1,n.tabIndex=-1;var r=this._activeData,o=r.grid,i=r.col,a=r.row;o.invalidateCell(i,a),t&&o.focus()}this._activeData=null,this._beforeValue=null}},{key:"_doChangeValue",value:function(){var t=this;if(!this._isActive())return!1;var e=this._input,n=e.value;return l(this._validate(n),function(r){if(r&&n===e.value){var o=t._activeData,i=o.grid,a=o.col,l=o.row;return i.doChangeValue(a,l,function(){return n}),!0}return!1})}},{key:"_isActive",value:function(){var t=this._dialog;return!(!t||!t.parentElement)&&!!this._activeData}},{key:"_bindDialogEvents",value:function(){var t=this,e=this._handler,n=this._dialog,r=this._input,o=function(t){return t.stopPropagation()};e.on(n,"click",o),e.on(n,"dblclick",o),e.on(n,"mousedown",o),e.on(n,"touchstart",o),e.on(r,"compositionstart",function(t){r.classList.add("composition")}),e.on(r,"compositionend",function(e){r.classList.remove("composition"),t._onInputValue(r)});var s=function(e){r.classList.contains("composition")||t._onInputValue(r)};e.on(r,"keyup",s),e.on(r,"keypress",s),e.on(r,"keydown",function(e){if(!r.classList.contains("composition")){var n=i(e);if(27===n)t.detach(!0),a(e);else if(13!==n||t._attaching)t._onInputValue(r);else{var o=t._input,s=o.value;l(t._doChangeValue(),function(e){e&&s===o.value&&t.detach(!0)}),a(e)}}})}},{key:"_onInputValue",value:function(t,e){var n=this._beforeValue,r=t.value;n!==r&&this._onInputValueChange(r,n,e),this._beforeValue=r}},{key:"_onInputValueChange",value:function(t,e,n){n=n||this._activeData;var r=this._dialog,o=n,i=o.grid,a=o.col,l=o.row,s=o.editor;if("function"==typeof s.helperText){var c=s.helperText(t,{grid:i,col:a,row:l});c?r.dataset.helperText=c:delete r.dataset.helperText}"errorMessage"in r.dataset&&this._validate(t,!0)}},{key:"_validate",value:function(t,e){var n=this._dialog,r=this._input,o=this._activeData,i=o.grid,a=o.col,s=o.row,c=o.editor,u=null;return c.inputValidator&&(u=c.inputValidator(t,{grid:i,col:a,row:s})),l(u,function(o){return o||!c.validator||e||(o=c.validator(t,{grid:i,col:a,row:s})),l(o,function(e){return e&&t===r.value?n.dataset.errorMessage=e:delete n.dataset.errorMessage,!e})})}}]),t}();t.exports=w},function(t,e,n){var r=n(82);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"/*ms*/\n.cheetah-grid__small-dialog-input__input::-ms-clear {\n\tvisibility:hidden;\n}\n\n@keyframes cheetah-grid__small-dialog-input--hidden-animation {\n\t0% {\n\t\topacity: 1;\n\t}\n\t99% {\n\t\topacity: 1;\n\t}\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n.cheetah-grid__small-dialog-input {\n\tposition: absolute;\n\tbox-sizing: content-box;\n\tmargin : -1px auto auto -1px;\n\tborder-radius: 3px;\n\tbackground-color: #fafafa;\n\n\ttransition: padding 150ms ease-out, box-shadow 150ms ease-out;\n}\n.cheetah-grid__small-dialog-input--hidden {\n\tbox-shadow: none;\n\tpadding: 0;\n\n\tpointer-events: none;\n\tanimation: cheetah-grid__small-dialog-input--hidden-animation  150ms ease-out;\n\topacity: 0;\n}\n.cheetah-grid__small-dialog-input--shown {\n\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0px rgba(0, 0, 0, .14), 0 1px 5px 0px rgba(0, 0, 0, .12);\n\tpadding: 8px 24px;\n}\n.cheetah-grid__small-dialog-input__input {\n\twidth: 100%;\n\theight: 100%;\n\tbox-sizing: border-box;\n\tpadding: 3px 2px 0 4px;\n\tborder: none;\n\tborder-bottom: solid 1px rgba(0, 0, 0, .87);\n\toutline: none;\n\tbackground-color: transparent;\n\ttransition: all 300ms ease-out;\n}\n.cheetah-grid__small-dialog-input__input:focus {\n\tborder-bottom: solid 1px #2196f3;\n\tbox-shadow: 0 1px 0 0 #2196f3;\n}\n.cheetah-grid__small-dialog-input::after {\n\tcontent: '';\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\tfont-size: .75rem;\n\tmin-height: 1em;\n\tline-height: 1;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding-top: 8px;\n}\n.cheetah-grid__small-dialog-input.helper-text--right-justified::after {\n\ttext-align: right;\n}\n.cheetah-grid__small-dialog-input[data-helper-text]::after {\n\tcontent: attr(data-helper-text);\n\tcolor: rgba(0, 0, 0, .87);\n}\n.cheetah-grid__small-dialog-input[data-error-message] input {\n\tborder-bottom: solid 1px #ff1744;\n\tbox-shadow: 0 1px 0 0 #ff1744;\n}\n.cheetah-grid__small-dialog-input[data-error-message]::after {\n\tcontent: attr(data-error-message);\n\tcolor: #ff1744;\n\ttext-align: left;\n}",""])},function(t,e,n){(function(e){var r=n(0).obj.setReadonly,i=n(39),s=n(84),c=n(1).INLINE_INPUT_EDITOR_STATE_ID,h=null,d=0;function v(t,e,n,o){t[c]||r(t,c,{}),h||(h=new s);var i=t[c];i.element||(i.element=h,d++,t.addDisposable({dispose:function(){--d||(h.dispose(),h=null)}})),h.attach(t,n,e.col,e.row,o)}function g(t){h&&h.detach(t)}function p(t){h&&h.doChangeValue()}var y=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,n),(t=o(this,a(n).call(this,e)))._classList=e.classList,t._type=e.type,t}return l(n,i),f(n,[{key:"clone",value:function(){return new n(this)}},{key:"onInputCellInternal",value:function(t,e,n){v(t,e,this,n)}},{key:"onOpenCellInternal",value:function(t,e){var n=this;t.doGetCellValue(e.col,e.row,function(r){v(t,e,n,r)})}},{key:"onChangeSelectCellInternal",value:function(t,e,n){p(),g()}},{key:"onGridScrollInternal",value:function(t){p(),g(!0)}},{key:"onChangeDisabledInternal",value:function(){g(!0)}},{key:"onChangeReadOnlyInternal",value:function(){g(!0)}},{key:"onSetInputAttrsInternal",value:function(t,e,n){s.setInputAttrs(this,t,n)}},{key:"classList",get:function(){return this._classList&&(e(this._classList)?this._classList:[this._classList])},set:function(t){this._classList=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}}]),n}();t.exports=y}).call(this,n(2).Array_isArray)},function(t,e,n){var r=n(0).event,o=r.getKeyCode,i=r.cancel,a=n(3),l=n(10).createElement,s="cheetah-grid__inline-input";function h(t,e,n){var r,o=t.classList,i=t.type;o&&(r=n.classList).add.apply(r,c(o));n.type=i||""}var d=function(){function t(){u(this,t),this._handler=new a,this._input=(n(85),l("input",{classList:s})),this._bindInputEvents()}return f(t,null,[{key:"setInputAttrs",value:function(){h.apply(void 0,arguments)}}]),f(t,[{key:"dispose",value:function(){this.detach(),this._handler.dispose(),this._input=null,this._beforePropEditor=null}},{key:"attach",value:function(t,e,n,r,o){var i=this,a=this._input,l=this._handler;if(this._beforePropEditor){var s,u=this._beforePropEditor.classList;if(u)(s=a.classList).remove.apply(s,c(u))}a.style.font=t.font||"16px sans-serif";var f=t.getAttachCellArea(n,r),d=f.element,v=f.rect;a.style.top="".concat(v.top.toFixed(),"px"),a.style.left="".concat(v.left.toFixed(),"px"),a.style.width="".concat(v.width.toFixed(),"px"),a.style.height="".concat(v.height.toFixed(),"px"),d.appendChild(a),h(e,0,a),a.value=o,this._activeData={grid:t,col:n,row:r,editor:e},this._beforePropEditor=e;l.tryWithOffEvents(a,"blur",function(){!function(){a.focus();var t=a.value.length;try{if(void 0!==a.selectionStart)return a.selectionStart=t,void(a.selectionEnd=t)}catch(t){}if(document.selection){var e=a.createTextRange();e.collapse(),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}()}),this._attaching=!0,setTimeout(function(){delete i._attaching})}},{key:"detach",value:function(t){if(this._isActive()){var e=this._activeData,n=e.grid,r=e.col,o=e.row,i=this._input;this._handler.tryWithOffEvents(i,"blur",function(){i.parentElement.removeChild(i)}),n.invalidateCell(r,o),t&&n.focus()}this._activeData=null}},{key:"doChangeValue",value:function(){if(this._isActive()){var t=this._input.value,e=this._activeData,n=e.grid,r=e.col,o=e.row;n.doChangeValue(r,o,function(){return t})}}},{key:"_isActive",value:function(){var t=this._input;return!(!t||!t.parentElement)&&!!this._activeData}},{key:"_bindInputEvents",value:function(){var t=this,e=this._handler,n=this._input,r=function(t){return t.stopPropagation()};e.on(n,"click",r),e.on(n,"mousedown",r),e.on(n,"touchstart",r),e.on(n,"dblclick",r),e.on(n,"compositionstart",function(t){n.classList.add("composition")}),e.on(n,"compositionend",function(t){n.classList.remove("composition")}),e.on(n,"keydown",function(e){if(!n.classList.contains("composition")&&13===o(e)){if(!t._isActive()||t._attaching)return;var r=t._activeData.grid;t.doChangeValue(),r&&r.focus(),t.detach(),i(e)}}),e.on(n,"blur",function(e){t.doChangeValue(),t.detach()})}}]),t}();t.exports=d},function(t,e,n){var r=n(86);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"/*ms*/\n.cheetah-grid__inline-input::-ms-clear {\n\tvisibility:hidden;\n}\n\n\n.cheetah-grid__inline-input {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""])},function(t,e,n){(function(e){var r=n(0),i=r.obj.setReadonly,s=r.array.find,c=r.event.cancel,h=r.then,d=n(40).normalize,v=n(15),g=n(5).EVENT_TYPE,p=g.SELECTED_CELL,y=g.CLICK_CELL,_=g.KEYDOWN,m=g.SCROLL,w=g.MOUSEOVER_CELL,C=g.MOUSEOUT_CELL,x=g.MOUSEMOVE_CELL,b=g.PASTE_CELL,k=n(88),E=n(1).INLINE_MENU_EDITOR_STATE_ID,I=null,L=0;function S(t){I&&I.detach(t)}var T=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,n),(t=o(this,a(n).call(this,e)))._classList=e.classList,t._options=d(e.options),t}return l(n,v),f(n,[{key:"dispose",value:function(){}},{key:"clone",value:function(){return new n(this)}},{key:"onChangeDisabledInternal",value:function(){S(!0)}},{key:"onChangeReadOnlyInternal",value:function(){S(!0)}},{key:"bindGridEvent",value:function(t,e,n){var r=this,o=function(e){r.readOnly||r.disabled||t.doGetCellValue(e.col,e.row,function(n){!function(t,e,n,r){t[E]||i(t,E,{}),I||(I=new k);var o=t[E];o.element||(o.element=I,L++,t.addDisposable({dispose:function(){--L||(I.dispose(),I=null)}})),I.attach(t,n,e.col,e.row,r)}(t,e,r,n)})};return[t.listen(y,function(t){n.isTarget(t.col,t.row)&&o({col:t.col,row:t.row})}),t.listen(_,function(e,r){if(113===e||13===e){var i=t.selection.select;n.isTarget(i.col,i.row)&&o({col:i.col,row:i.row})}}),t.listen(p,function(t){S()}),t.listen(m,function(){S(!0)}),t.listen(w,function(e){r.readOnly||r.disabled||n.isTarget(e.col,e.row)&&(t.getElement().style.cursor="pointer")}),t.listen(x,function(e){r.readOnly||r.disabled||n.isTarget(e.col,e.row)&&(t.getElement().style.cursor||(t.getElement().style.cursor="pointer"))}),t.listen(C,function(e){n.isTarget(e.col,e.row)&&(t.getElement().style.cursor="")}),t.listen(b,function(e){if(!e.multi&&n.isTarget(e.col,e.row)){var o=e.normalizeValue.trim(),i=s(r._options,function(t){return"".concat(t.value).trim()===o});i&&(c(e.event),h(t.doChangeValue(e.col,e.row,function(){return i.value}),function(){return t.invalidateCell(e.col,e.row)}))}})]}},{key:"classList",get:function(){return this._classList&&(e(this._classList)?this._classList:[this._classList])},set:function(t){this._classList=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=d(t)}}]),n}();t.exports=T}).call(this,n(2).Array_isArray)},function(e,n,r){(function(n){var o=r(0),i=o.isDef,a=o.event,l=a.getKeyCode,s=a.cancel,h=r(3),d=r(10),v=d.createElement,g=d.appendHtml,p=d.empty,y=d.disableFocus,_=d.isFocusable,m=d.findPrevSiblingFocusable,w=d.findNextSiblingFocusable,C="cheetah-grid__inline-menu",x="".concat(C,"__menu-item"),b="".concat(C,"--hidden"),k="".concat(C,"--shown"),E="".concat(x,"--empty");function I(t){for(var e=t;!e.classList.contains(x);)if(!(e=e.parentElement)||e.classList.contains(C))return;return e}function L(t,e,n){n.style.top="".concat(e.top.toFixed(),"px"),n.style.left="".concat(e.left.toFixed(),"px"),n.style.width="".concat(e.width.toFixed(),"px"),n.style["line-height"]="".concat(e.height.toFixed(),"px"),t.appendChild(n)}function S(e,r,o,a,l,s){var u=r.options,h=r.classList;s.classList.remove(k),s.classList.add(b),p(s),s.style.font=e.font||"16px sans-serif";var f=null,d=null;u.forEach(function(t,e){var r=function(t,e){var r,o=t.classList,a=t.caption,l=t.value,s=t.html,u=v("li",{classList:x});if(u.tabIndex=0,u.dataset.valueindex=e,o&&(r=u.classList).add.apply(r,c(n(o)?o:[o])),a){var h=v("span",{text:a});u.appendChild(h)}else s&&g(u,s);return""!==l&&i(l)||u.classList.add(E),u}(t,e);s.appendChild(r),t.value===l&&(d=r,r.dataset.select=!0),r.classList.contains(E)&&(f=r)});var y,_=d||f||s.children[0];h&&(y=s.classList).add.apply(y,c(h));var m=Array.prototype.slice.call(s.children,0),w=m.indexOf(_),C=e.getAttachCellArea(o,a),I=C.element,S=C.rect;S.width++,L(I,S,s);for(var T=0,A=0,R=0;R<m.length;R++){var B=m[R].offsetHeight;R<w&&(T+=B),A+=B}S.offsetTop(-T),s.style["transform-origin"]="center ".concat(T+Math.ceil(m[w].offsetHeight/2),"px 0px"),L(I,S,s);var M=s.getBoundingClientRect(),O=(A-M.height)/2,D=M.top-O,P=D,F=P+A,z=t.innerHeight;F>z-20&&(P-=F-z+20);P<20&&(P=20),P!==D&&(S.offsetTop(-(D-P)),L(I,S,s)),_&&_.focus(),s.classList.remove(b),s.classList.add(k)}var T=function(){function t(){u(this,t),this._handler=new h,this._menu=(r(89),v("ul",{classList:C})),this._bindMenuEvents()}return f(t,[{key:"dispose",value:function(){var t=this._menu;this.detach(),this._handler.dispose(),this._menu=null,this._beforePropEditor=null,t.parentElement&&t.parentElement.removeChild(t)}},{key:"attach",value:function(t,e,n,r,o){var i=this._menu;if(this._beforePropEditor){var a,l=this._beforePropEditor.classList;if(l)(a=i.classList).remove.apply(a,c(l))}S(t,e,n,r,o,i),this._activeData={grid:t,col:n,row:r,editor:e},this._beforePropEditor=e}},{key:"detach",value:function(t){if(this._isActive()){var e=this._activeData,n=e.grid,r=e.col,o=e.row;!function(t,e,n,r){r.classList.remove(k),r.classList.add(b),y(r)}(0,0,0,this._menu),n.invalidateCell(r,o),t&&n.focus()}this._activeData=null}},{key:"_doChangeValue",value:function(t){if(this._isActive()){var e=this._activeData,n=e.grid,r=e.col,o=e.row,i=e.editor.options[t].value;n.doChangeValue(r,o,function(){return i})}}},{key:"_isActive",value:function(){var t=this._menu;return!(!t||!t.parentElement)&&!!this._activeData}},{key:"_bindMenuEvents",value:function(){var t=this,e=this._handler,n=this._menu,r=function(t){return t.stopPropagation()};e.on(n,"mousedown",r),e.on(n,"touchstart",r),e.on(n,"dblclick",r),e.on(n,"click",function(e){e.stopPropagation();var n=I(e.target);if(n){var r=n.dataset.valueindex;t._doChangeValue(r),t.detach(!0)}}),e.on(n,"keydown",function(e){var r=I(e.target);if(r){var o=l(e);if(13===o){var i=r.dataset.valueindex;t._doChangeValue(i),t.detach(!0),s(e)}else if(27===o)t.detach(!0),s(e);else if(38===o){var a=m(r);a&&(a.focus(),s(e))}else if(40===o){var c=w(r);c&&(c.focus(),s(e))}else if(9===o)if(e.shiftKey){if(!m(r)){var u=n.querySelectorAll(".".concat(x)),h=u[u.length-1];_(h)||(h=m(h)),h&&(h.focus(),s(e))}}else if(!w(r)){var f=n.querySelector(".".concat(x));_(f)||(f=w(f)),f&&(f.focus(),s(e))}}})}}]),t}();e.exports=T}).call(this,r(2).Array_isArray)},function(t,e,n){var r=n(90);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,'.cheetah-grid__inline-menu {\n\tposition: absolute;\n\tcolor: rgba(0, 0, 0, .87);\n\tbox-sizing: content-box;\n\tmargin: -1px auto auto -1px;\n\tpadding: 8px 0;\n\tbackground-color: #fafafa;\n\tlist-style-type: none;\n\tborder-radius: 2px;\n\tmax-height: calc(100vh - 40px);\n\toverflow-y: auto;\n\n}\n.cheetah-grid__inline-menu--hidden {\n\ttransform: scale(.9);\n\tbox-shadow: none;\n\topacity: 0;\n\n\tpointer-events: none;\n\n\ttransition: all 50ms ease-out;\n}\n.cheetah-grid__inline-menu--hidden * {\n\tpointer-events: none;\n}\n.cheetah-grid__inline-menu--shown {\n\ttransform: translateY(-7px);\n\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0px rgba(0, 0, 0, 0.14), 0 1px 5px 0px rgba(0, 0, 0, 0.12);\n\topacity: 1;\n\n\ttransition: all 150ms ease-out;\n}\n\n.cheetah-grid__inline-menu__menu-item {\n\theight: 100%;\n\tbox-sizing: border-box;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\n\toutline: none;\n\tcursor: pointer;\n\n\tposition: relative;\n\toverflow: hidden;\n\n\tpadding: 0 16px;\n}\n.cheetah-grid__inline-menu__menu-item--empty {\n\tcolor: rgba(0, 0, 0, .38);\n}\n\n.cheetah-grid__inline-menu__menu-item::before {\n\tcontent: "";\n\tposition: absolute;\n\ttop: -50%;\n\tleft: -50%;\n\twidth: 200%;\n\theight: 200%;\n\tbackground-color: #000;\n\topacity: 0;\n\tpointer-events: none;\n\ttransition: opacity 15ms linear;\n}\n.cheetah-grid__inline-menu__menu-item:hover::before {\n\topacity: .04;\n}\n.cheetah-grid__inline-menu__menu-item[data-select]::before {\n\topacity: .04;\n}\n.cheetah-grid__inline-menu__menu-item:focus::before {\n\topacity: .12;\n}',""])},function(t,e,n){var r=n(11),o=n(92),i=n(93),a=n(94),l=n(95),s=n(97),c=n(98),u=n(99),h=n(101),f=n(102),d={TYPES:{DEFAULT:new r,NUMBER:new o,CHECK:new i,BUTTON:new a,IMAGE:new l,MULTILINETEXT:new f},get Column(){return r},get NumberColumn(){return o},get CheckColumn(){return i},get ButtonColumn(){return a},get ImageColumn(){return l},get PercentCompleteBarColumn(){return s},get IconColumn(){return c},get BranchGraphColumn(){return u},get MenuColumn(){return h},get MultilineTextColumn(){return f},of:function(t){return t?"string"==typeof t?d.TYPES[t.toUpperCase()]||d.of(null):t:d.TYPES.DEFAULT}};t.exports=d},function(t,e,n){var r,i=n(11),s=n(42),c=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._format=n.format,t}return l(e,i),f(e,null,[{key:"defaultFotmat",get:function(){return r||(r=new Intl.NumberFormat)},set:function(t){r=t}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"withFormat",value:function(t){var e=this.clone();return e._format=t,e}},{key:"convertInternal",value:function(t){return isNaN(t-0)?t:(this._format||e.defaultFotmat).format(t-0)}},{key:"StyleClass",get:function(){return s}},{key:"format",get:function(){return this._format}}]),e}();t.exports=c},function(t,e,n){var r=n(0).isDef,i=n(9),s=n(43),c=n(1).CHECK_COLUMN_STATE_ID;var h=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"convertInternal",value:function(t){return function(t){if("string"==typeof t){if("false"===t)return!1;if("off"===t)return!1;if(t.match(/^0+$/))return!1}return t}(t)}},{key:"drawInternal",value:function(t,e,n,o,i,a){var l=a.drawCellBase,s=n.textAlign,u=n.textBaseline,h=n.borderColor,f=n.checkBgColor,d=n.uncheckBgColor,v=n.bgColor;v&&l({bgColor:v});var g=e.col,p=e.row,y="".concat(g,":").concat(p),_="".concat(y,"::elapsed"),m=i[c]&&i[c][_],w={textAlign:s,textBaseline:u,borderColor:h,checkBgColor:f,uncheckBgColor:d};r(m)&&(w.animElapsedTime=m),o.checkbox(t,e,w)}},{key:"bindGridEvent",value:function(t,e,n){return[]}},{key:"StyleClass",get:function(){return s}}]),e}();t.exports=h},function(t,e,n){var r=n(11),i=n(44),s=n(1).BUTTON_COLUMN_STATE_ID,c=n(16),h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._caption=n.caption,t}return l(e,r),f(e,[{key:"withCaption",value:function(t){var e=this.clone();return e._caption=t,e}},{key:"clone",value:function(){return new e(this)}},{key:"convertInternal",value:function(t){return this._caption||t}},{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=i.getIcon,u=n.textAlign,h=n.textBaseline,f=n.bgColor,d=n.color,v=n.buttonBgColor,g=n.font,p=n.padding,y=n.textOverflow;f&&a({bgColor:f}),r.testFontLoad(g,t,e);var _=e.col,m=e.row,w=!1,C=o[s];C&&(C.mouseActiveCell&&C.mouseActiveCell.col===_&&C.mouseActiveCell.row===m?w=!0:e.getSelectState().selected&&(w=!0)),c.loadIcons(l(),e,r,function(e,n){r.button(t,n,{textAlign:u,textBaseline:h,bgColor:v,color:d,font:g,padding:p,shadow:!w||{color:"rgba(0, 0, 0, 0.48)",blur:6,offsetY:3},textOverflow:y,icons:e})})}},{key:"StyleClass",get:function(){return i}},{key:"caption",get:function(){return this._caption}}]),e}();t.exports=h},function(t,e,r){var i=r(45),s=r(50).getCacheOrLoad,c=r(8).calcStartPosition,h=r(9),d=50;var v=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,h),f(e,[{key:"onDrawCell",value:function(t,r,o,i){return n(a(e.prototype),"onDrawCell",this).call(this,function(t){return s("ImageColumn",d,t)}(t),r,o,i)}},{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase;if(t){var l=n.textAlign,s=n.textBaseline,u=n.margin,h=n.bgColor;h&&a({bgColor:h}),r.drawWithClip(e,function(r){r.textAlign=l,r.textBaseline=s;var o=e.getRect();if("keep-aspect-ratio"===n.imageSizing){var i=function(t,e,n,r){var o=t,i=e;return o>n&&(i=(o=n)*e/t),i>r&&(o=(i=r)*t/e),{width:o,height:i}}(t.width,t.height,o.width-2*u,o.height-2*u),a=i.width,h=i.height,f=c(r,o,a,h,{offset:u});r.drawImage(t,0,0,t.width,t.height,f.x,f.y,a,h)}else r.drawImage(t,0,0,t.width,t.height,o.left+u,o.top+u,o.width-2*u,o.height-2*u)})}}},{key:"StyleClass",get:function(){return i}}]),e}();t.exports=v},function(t,e,n){var r=function(){function t(e){u(this,t),this._list=[],this._map={},this._cacheSize=e||50}return f(t,[{key:"get",value:function(t){var e=this._map[t];if(e){var n=this._list,r=n.indexOf(t);n.splice(r,1),n.push(t)}return e}},{key:"put",value:function(t,e){var n=this._list,r=this._map;if(r[t]){var o=n.indexOf(t);n.splice(o,1)}(r[t]=e,n.push(t),n.length>this._cacheSize)&&delete r[n.shift()]}}]),t}();t.exports=r},function(t,e,r){var i=r(47),s=r(0),c=s.getOrApply,h=s.str,d=r(11),v=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._min=n.min||0,t._max=n.max||t._min+100,t._formatter=n.formatter||function(t){return t},t}return l(e,d),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,r,o,i,l,s){n(a(e.prototype),"drawInternal",this).call(this,this._formatter(t),r,o,i,l,s);var u=o.barColor,f=o.barBgColor,d=o.barHeight,v="".concat(t);h.endsWith(v,"%")&&(v=v.substr(0,v.length-1));var g=v-0,p=g<this._min?0:g>this._max?1:(g-this._min)/(this._max-this._min);i.drawWithClip(r,function(t){var e=r.getRect(),n=e.width-4-1,o=e.bottom-2-d-1,i=e.left+2;t.fillStyle=c(f,100*p)||"#f0f3f5",t.beginPath(),t.rect(i,o,n,d),t.fill();var a=Math.min(n*p,n);t.fillStyle=c(u,100*p)||"#20a8d8",t.beginPath(),t.rect(i,o,a,d),t.fill()})}},{key:"StyleClass",get:function(){return i}}]),e}();t.exports=v},function(t,e,r){var i=r(46),s=r(11),c=r(24);var h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._tagName=n.tagName||"i",t._className=n.className,t._content=n.content,t._name=n.name,t._iconWidth=n.iconWidth,t}return l(e,s),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,r,o,i,l,s){var u=t-0;if(isNaN(u))s.getIcon=function(){return null};else{var h={};c.iconPropKeys.forEach(function(t){h[t]=o[t]}),h.className=this._className,h.tagName=this._tagName,h.content=this._content,h.name=this._name,this._iconWidth&&(h.width=this._iconWidth),s.getIcon=function(){return function(t,e){e===1/0&&(e=0);for(var n=[],r=0;r<e;r++)n.push(t);return n}(h,u)}}n(a(e.prototype),"drawInternal",this).call(this,"",r,o,i,l,s)}},{key:"StyleClass",get:function(){return i}}]),e}();t.exports=h},function(t,e,r){(function(e){var i=r(0),s=i.isDef,h=i.getOrApply,d=i.isPromise,v=i.obj.isObject,g=r(100),p=r(9),y=r(1).BRANCH_GRAPH_COLUMN_STATE_ID;var _=function t(e){var n=e.fromIndex,r=e.toIndex,o=e.colorIndex,i=e.point;u(this,t),this.fromIndex=n,this.toIndex=r,this.colorIndex=o,this.point=i},m=function(){function t(e){var n=e.index,r=e.commit,o=void 0!==r&&r,i=e.lines,a=void 0===i?[]:i,l=e.tag;u(this,t),this.index=n,this.commit=o,this.lines=a,this.tag=l}return f(t,null,[{key:"mergeLines",value:function(t){var e=t.filter(function(t){return s(t.fromIndex)&&s(t.toIndex)}),n=t.filter(function(t){return s(t.fromIndex)&&!s(t.toIndex)}),r=t.filter(function(t){return!s(t.fromIndex)&&s(t.toIndex)});return n.forEach(function(t){for(var n=0;n<r.length;n++){var o=r[n];if(!o.point&&t.colorIndex===o.colorIndex){t.toIndex=o.toIndex,r.splice(n,1);break}}e.push(t)}),e.concat(r)}},{key:"merge",value:function(e,n){return e?new t({index:e.index,commit:e.commit||n.commit,lines:t.mergeLines(e.lines.concat(n.lines)),tag:e.tag||n.tag}):n}}]),t}();function w(t,e){for(var n=c(t).reverse(),r=0;r<n.length;r++){var o=n[r][e];if(o){o.lines=m.mergeLines(o.lines.concat([new _({toIndex:e,colorIndex:e})]));for(var i=0;i<r;i++){n[i][e]=new m({index:e,lines:[new _({fromIndex:e,toIndex:e,colorIndex:e})]})}return!0}}return!1}function C(t,n){var r=t.timeline,o=[];(e(n)?n:[n]).forEach(function(e){if(e){var n;if("branch"===e.command){var r=v(e.branch)?e.branch.from:null,i=v(e.branch)?e.branch.to:e.branch;n=function(t,e,n){var r=t.timeline,o=t.branches,i=o.indexOf(e),a=o.indexOf(n);if(a<0&&(a=o.length,o.push(n)),i<0)return new m({index:a});var l=function(){for(var t=r.length-1;t>=0;t--){var e=r[t][i];if(e&&e.commit)return t}return-1}();if(-1===l)return null;var s,c,u=l+1,h=new m({index:a,lines:[new _({fromIndex:i,colorIndex:a})]});if(u<r.length){var f=r[u];s=f[a]=m.merge(f[a],h)}else s=h,c=h;var d=r[l][i];return d.lines=m.mergeLines(d.lines.concat([new _({toIndex:a,colorIndex:a,point:s})])),c}(t,r,i)}else if("commit"===e.command){var a=e.branch;n=function(t,e){var n=t.timeline,r=t.branches.indexOf(e);if(r<0)return null;var o=new m({index:r,commit:!0});return w(n,r)&&(o.lines=m.mergeLines(o.lines.concat([new _({fromIndex:r,colorIndex:r})]))),o}(t,a)}else if("merge"===e.command){var l=e.branch,s=l.from,u=l.to;n=function(t,e,n){var r=t.timeline,o=t.branches,i=o.indexOf(e),a=o.indexOf(n);if(a<0||i<0)return new m({index:a,commit:!0});var l=new m({index:a,commit:!0,lines:[new _({fromIndex:i,colorIndex:i}),new _({fromIndex:a,colorIndex:a})]}),s=c(r),u=s.pop();return u&&(u[i]=m.merge(u[i],new m({index:a,lines:[new _({toIndex:a,colorIndex:i})]}))),w(s,i)&&u&&(u[i].lines=m.mergeLines(u[i].lines.concat([new _({fromIndex:i,colorIndex:i})]))),w(r,a),l}(t,s,u)}else if("tag"===e.command){var h=e.branch,f=e.tag;n=function(t,e,n){t.timeline;var r=t.branches,o=r.indexOf(e);return o<0&&(o=r.length,r.push(e)),new m({index:o,tag:n})}(t,h,f)}n&&n.index>-1&&(o[n.index]=m.merge(o[n.index],n))}}),r.push(o)}function x(t,e,n){var r={branches:[],timeline:[]};return function(t,e,n){var r=t.dataSource,o=t.getField(e);v(o)&&o.get&&o.set&&(o=o.get);for(var i,a=[],l=function(t){var e=r.getField(t,o);if(d(e)){var n=a.length;a.push(e),i=i?i.then(function(){return e}).then(function(t){a[n]=t}):e.then(function(t){a[n]=t})}else a.push(e)},s=0;s<r.length;s++)l(s);i?i.then(function(){return n(a)}):n(a)}(e,n,function(e){"top"!==t&&(e=c(e).reverse()),e.forEach(function(t){C(r,t)})}),r}var b=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._start=n.start||"bottom",t._cache=!!s(n.cache)&&n.cache,t}return l(e,p),f(e,[{key:"clearCache",value:function(t){delete t[y]}},{key:"onDrawCell",value:function(t,r,o,i){if(this._cache){var l=i[y]||(i[y]={}),s=o.col;l[s]||(l[s]=x(this._start,i,s))}return n(a(e.prototype),"onDrawCell",this).call(this,t,r,o,i)}},{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=e.col,c=e.row,u=this._cache&&o[y]?o[y][l]:x(this._start,o,l),f=u.timeline,d=u.branches,v="top"!==this._start?{upLineIndexKey:"toIndex",downLineIndexKey:"fromIndex"}:{upLineIndexKey:"fromIndex",downLineIndexKey:"toIndex"},g=v.upLineIndexKey,p=v.downLineIndexKey,_="top"!==this._start?f[f.length-(c-o.frozenRowCount)-1]:f[c-o.frozenRowCount],m=n.branchColors,w=n.branchLineWidth,C=n.circleSize,b=n.mergeStyle,k=n.margin,E=n.bgColor;E&&a({bgColor:E});var I=e.getRect(),L=C/2,S=I.width-2*k;r.drawWithClip(e,function(t){t.textAlign="left",t.textBaseline="middle";var e=function(t,e,n,r,o,i){var a=Math.max(n/o.length+1,5);i.forEach(function(e){e.forEach(function(e,o){if(!(o<=0)&&e.tag){var i=t.measureText(e.tag).width;a*o+2*r+4+i>n&&(a=Math.max((n-2*r-4-i)/o,5))}})});var l=[],s=e;return o.forEach(function(){l.push(Math.ceil(s+r)),s+=a}),l}(t,I.left+k,S,L,d,f),n=I.top+I.height/2;_.map(function(t,e){return t?t.lines.map(function(t){return{colorIndex:t.colorIndex,upLineIndex:t[g],downLineIndex:t[p],pointIndex:e}}):[]}).reduce(function(t,e){return t.concat(e)},[]).sort(function(t,e){return e.colorIndex-t.colorIndex}).forEach(function(r){var i=e[r.pointIndex];!function(t,e,n,r,o,i,a,l,c){var u=l.branchXPoints,f=(l.margin,l.branchColors),d=l.branchLineWidth,v=l.mergeStyle,g=(c.width,c.col),p=c.row,y=c.branches;if(s(o)||s(i)){if(e.strokeStyle=h(f,y[a],a),e.lineWidth=d,e.lineCap="round",e.beginPath(),s(o)){var _=u[o],m=t.getCellRelativeRect(g,p-1),w=m.top+m.height/2;e.moveTo(_,w),"bezier"===v?e.bezierCurveTo(_,(r+w)/2,n,(r+w)/2,n,r):e.lineTo(n,r)}else e.moveTo(n,r);if(s(i)){var C=u[i],x=t.getCellRelativeRect(g,p+1),b=x.top+x.height/2;"bezier"===v?e.bezierCurveTo(n,(r+b)/2,C,(r+b)/2,C,b):e.lineTo(C,b)}e.stroke()}}(o,t,i,n,r.upLineIndex,r.downLineIndex,r.colorIndex,{margin:k,branchXPoints:e,branchLineWidth:w,branchColors:m,mergeStyle:b},{width:S,col:l,row:c,branches:d})}),_.forEach(function(r,o){if(r&&r.commit){var i=e[o];t.fillStyle=h(m,d[o],o),t.beginPath(),t.arc(i,n,L,0,2*Math.PI,!0),t.fill(),t.closePath()}}),_.forEach(function(r,o){r&&r.tag&&(t.fillStyle=h(m,d[o],o),t.fillText(r.tag,e[o]+L+4,n))})})}},{key:"StyleClass",get:function(){return g}}]),e}();t.exports=b}).call(this,r(2).Array_isArray)},function(t,e,n){var r,i=n(23);var s=function(t,e){switch(e%3){case 0:return"#979797";case 1:return"#008fb5";case 2:return"#f1c109"}return"#979797"},c=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,function(t){var e=t.textAlign,n=void 0===e?"center":e;return t.textAlign=n,t}(n))))._branchColors=n.branchColors||s,t._margin=n.margin||4,t._circleSize=n.circleSize||16,t._branchLineWidth=n.branchLineWidth||4,t._mergeStyle="straight"===n.mergeStyle?"straight":"bezier",t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"branchColors",get:function(){return this._branchColors},set:function(t){this._branchColors=t,this.doChangeStyle()}},{key:"margin",get:function(){return this._margin},set:function(t){this._margin=t,this.doChangeStyle()}},{key:"circleSize",get:function(){return this._circleSize},set:function(t){this._circleSize=t,this.doChangeStyle()}},{key:"branchLineWidth",get:function(){return this._branchLineWidth},set:function(t){this._branchLineWidth=t,this.doChangeStyle()}},{key:"mergeStyle",get:function(){return this._mergeStyle},set:function(t){this._mergeStyle=t,this.doChangeStyle()}}]),e}();t.exports=c},function(t,e,r){var i=r(40).normalize,s=r(0).isDef,c=r(9),h=r(49),d=r(16),v=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._options=i(n.options),t}return l(e,c),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"withOptions",value:function(t){var e=this.clone();return e._options=i(t),e}},{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=i.getIcon,c=n.textAlign,u=n.textBaseline,h=n.font,f=n.bgColor,v=n.padding,g=n.textOverflow,p=n.appearance,y=n.color;f&&a({bgColor:f});var _=this._convertInternal(t);r.testFontLoad(h,_,e),d.loadIcons(l(),e,r,function(e,n){var o=r.toBoxPixelArray(v||0,n,h),i=o.slice(0);i[1]+=26;var a=o.slice(0);a[1]+=8,s(y)||s(t)&&""!==t||(y="rgba(0, 0, 0, .38)"),r.text(_,n,{textAlign:c,textBaseline:u,color:y,font:h,padding:i,textOverflow:g,icons:e}),"menulist-button"===p?r.text("",n,{textAlign:"right",textBaseline:u,color:y,font:h,icons:[{path:"M0 2 5 7 10 2z",width:10,color:"rgba(0, 0, 0, .54)"}],padding:a}):"none"!==p&&console.warn("unsupported appearance:".concat(p))})}},{key:"convertInternal",value:function(t){return t}},{key:"_convertInternal",value:function(t){for(var r=this._options,o=0;o<r.length;o++){var i=r[o];if(i.value===t){t=i.caption;break}}return n(a(e.prototype),"convertInternal",this).call(this,t)}},{key:"StyleClass",get:function(){return h}},{key:"options",get:function(){return this._options}}]),e}();t.exports=v},function(t,e,n){var r=n(48),i=n(9),s=n(16),c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),o(this,a(e).call(this,t))}return l(e,i),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=i.getIcon,c=n.textAlign,u=n.textBaseline,h=n.color,f=n.font,d=n.bgColor,v=n.padding,g=n.lineHeight,p=n.autoWrapText,y=n.lineClamp,_=n.textOverflow;d&&a({bgColor:d});var m=t.replace(/\r?\n/g,"\n").replace(/\r/g,"\n").split("\n");r.testFontLoad(f,t,e),s.loadIcons(l(),e,r,function(t,e){r.multilineText(m,e,{textAlign:c,textBaseline:u,color:h,font:f,padding:v,lineHeight:g,autoWrapText:p,lineClamp:y,textOverflow:_,icons:t})})}},{key:"StyleClass",get:function(){return r}}]),e}();t.exports=c},function(t,e,n){var r=n(51),o=n(53),i=n(12);t.exports={action:r,type:o,style:i}},function(t,e,n){var r=n(52).bindCellClickAction,i=n(25),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._sort=n.sort,t}return l(e,i),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"_executeSort",value:function(t,e){"function"==typeof this._sort?this._sort({order:t.order,col:t.col,grid:e}):e.dataSource.sort(e.getField(t.col),t.order)}},{key:"bindGridEvent",value:function(t,e){var n=this;return c(r(t,e,{action:function(r){if(!n.disabled){var o,i=t.sortState;o=e.isCellInRange(i.col,r.row)?{col:e.startCol,row:e.startRow,order:"asc"===i.order?"desc":"asc"}:{col:e.startCol,row:e.startRow,order:"asc"},t.sortState=o,n._executeSort(o,t),t.invalidateGridRect(0,0,t.colCount-1,t.rowCount-1)}},mouseOver:function(t){return!n.disabled}}))}},{key:"sort",get:function(){return this._sort},set:function(t){this._sort=t,this.onChangeDisabledInternal()}}]),e}();t.exports=s},function(t,e,n){var r=n(0).obj.setReadonly,i=n(52),s=i.bindCellClickAction,h=i.bindCellKeyAction,d=n(21),v=n(25),g=n(1).CHECK_HEADER_STATE_ID,p=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,v),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"bindGridEvent",value:function(t,e){var n=this;t[g]||r(t,g,{});var o=t[g],i=function(r){var i=r.col,a=r.row,l="".concat(i,":").concat(a),s="".concat(l,"::block"),c="".concat(l,"::elapsed");if(!n.disabled&&!o[s]){var u=t.getHeaderValue(i,a);t.setHeaderValue(i,a,!u);d(200,function(n){1===n?delete o[c]:o[c]=n,t.invalidateGridRect(e.startCol,e.startRow,e.endCol,e.endRow)})}};return c(s(t,e,{action:i,mouseOver:function(e){return!n.disabled&&(o.mouseActiveCell={col:e.col,row:e.row},t.invalidateCell(e.col,e.row),!0)},mouseOut:function(e){delete o.mouseActiveCell,t.invalidateCell(e.col,e.row)}})).concat(c(h(t,e,{action:i,acceptKeys:[13,32]})))}}]),e}();t.exports=p},function(t,e,n){var r,i=n(54),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._textAlign=n.textAlign||"left",t._textBaseline=n.textBaseline||"middle",t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"textAlign",get:function(){return this._textAlign},set:function(t){this._textAlign=t,this.doChangeStyle()}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r,i=n(26),s=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._sortArrowColor=n.sortArrowColor,t}return l(e,i),f(e,null,[{key:"DEFAULT",get:function(){return r||(r=new e)}}]),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"sortArrowColor",get:function(){return this._sortArrowColor},set:function(t){this._sortArrowColor=t,this.doChangeStyle()}}]),e}();t.exports=s},function(t,e,n){var r=n(12).Style,i=n(17),s=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=n.textAlign,s=n.textBaseline,c=n.color,u=n.font,h=n.bgColor,f=n.textOverflow;h&&a({bgColor:h}),r.text(t,e,{textAlign:l,textBaseline:s,color:c,font:u,textOverflow:f})}},{key:"bindGridEvent",value:function(t,e){return[]}},{key:"StyleClass",get:function(){return r}}]),e}();t.exports=s},function(t,e,n){var r=n(12).SortHeaderStyle,i=n(17),s=n(0).isDef,c=n(8).getFontSize,h=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"drawInternal",value:function(t,e,n,r,o,i){var a=i.drawCellBase,l=n.textAlign,u=n.textBaseline,h=void 0===u?"middle":u,f=n.color,d=n.bgColor,v=n.font,g=n.textOverflow,p=n.sortArrowColor;d&&a({bgColor:d});var y=o.sortState,_=void 0,m=e.col,w=e.row,C=o.getHeaderCellRange(m,w);C.isCellInRange(y.col,C.startRow)&&(_=y.order);var x=e.getContext(),b=1.2*c(x,v).width;r.text(t,e,{textAlign:l,textBaseline:h,color:f,font:v,textOverflow:g,icons:[{name:s(_)?"asc"===_?"arrow_downward":"arrow_upward":null,width:b,color:r.getColor(p||r.theme.header.sortArrowColor,m,w,x)||"rgba(0, 0, 0, 0.38)"}]})}},{key:"StyleClass",get:function(){return r}}]),e}();t.exports=h},function(t,e,n){var r=n(0).isDef,i=n(17),s=n(55),c=n(1).CHECK_HEADER_STATE_ID,h=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,i),f(e,[{key:"clone",value:function(){return new e(this)}},{key:"drawInternal",value:function(t,e,n,o,i,a){var l=a.drawCellBase,s=n.textAlign,u=n.textBaseline,h=n.borderColor,f=n.checkBgColor,d=n.uncheckBgColor,v=n.bgColor,g=n.color,p=n.font,y=n.textOverflow;v&&l({bgColor:v});var _=e.col,m=e.row,w="".concat(_,":").concat(m),C="".concat(w,"::elapsed"),x=(i[c]||{})[C],b=i.getHeaderValue(_,m),k={textAlign:s,textBaseline:u,borderColor:h,checkBgColor:f,uncheckBgColor:d};r(x)&&(k.animElapsedTime=x);var E=o.buildCheckBoxInline(!!b,e,k);o.text([E,t],e,{textAlign:s,textBaseline:u,color:g,font:p,textOverflow:y})}},{key:"bindGridEvent",value:function(t,e,n){return[]}},{key:"StyleClass",get:function(){return s}}]),e}();t.exports=h},function(t,e,n){var r=n(0).getChainSafe,o=n(1).get();function i(t,e,n,o){return r.apply(void 0,[t].concat(c(n)))||r.apply(void 0,[e].concat(c(n)))||o&&r.apply(void 0,[t].concat(c(o)))||o&&r.apply(void 0,[e].concat(c(o)))}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,t),e.hiliteBorderColor&&!e.highlightBorderColor&&(console.warn("Please use highlightBorderColor instead of hiliteBorderColor. cheetah-grid@>=0.7"),e.highlightBorderColor=e.hiliteBorderColor),this[o]={obj:e,superTheme:n}}return f(t,[{key:"extends",value:function(e){return new t(e,this)}},{key:"font",get:function(){var t=this[o];return i(t.obj,t.superTheme,["font"])}},{key:"underlayBackgroundColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["underlayBackgroundColor"])}},{key:"color",get:function(){var t=this[o];return i(t.obj,t.superTheme,["color"])}},{key:"frozenRowsColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["frozenRowsColor"],["color"])}},{key:"defaultBgColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["defaultBgColor"])}},{key:"frozenRowsBgColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["frozenRowsBgColor"],["defaultBgColor"])}},{key:"selectionBgColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["selectionBgColor"],["defaultBgColor"])}},{key:"borderColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["borderColor"])}},{key:"frozenRowsBorderColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["frozenRowsBorderColor"],["borderColor"])}},{key:"highlightBorderColor",get:function(){var t=this[o];return i(t.obj,t.superTheme,["highlightBorderColor"],["borderColor"])}},{key:"checkbox",get:function(){var t=this[o],e=t.obj,n=t.superTheme;return this._checkbox||(this._checkbox={get uncheckBgColor(){return i(e,n,["checkbox","uncheckBgColor"],["defaultBgColor"])},get checkBgColor(){return i(e,n,["checkbox","checkBgColor"],["defaultBgColor"])},get borderColor(){return i(e,n,["checkbox","borderColor"],["borderColor"])}})}},{key:"button",get:function(){var t=this[o],e=t.obj,n=t.superTheme;return this._button||(this._button={get color(){return i(e,n,["button","color"],["color"])},get bgColor(){return i(e,n,["button","bgColor"],["defaultBgColor"])}})}},{key:"header",get:function(){var t=this[o],e=t.obj,n=t.superTheme;return this._header||(this._header={get sortArrowColor(){return i(e,n,["header","sortArrowColor"],["color"])}})}}]),t}();t.exports={Theme:a}},function(t,e,n){var r={};t.exports={color:"#000",defaultBgColor:function(t){return t.row-t.grid.frozenRowCount&1?"#F6F6F6":"#FFF"},frozenRowsBgColor:function(t){var e=t.col,n=t.grid,o=t.grid.frozenRowCount,i=t.context,a=n.getCellRelativeRect(e,0),l=a.left;return function(t,e,n,o,i,a){var l,s=[];for(l in a)s.push("".concat(l,"@").concat(a[l]));var c="".concat(e,"/").concat(n,"/").concat(o,"/").concat(i,"/").concat(s.join(",")),u=r[c];if(u)return u;var h=t.createLinearGradient(e,n,e,i);for(l in a)h.addColorStop(l,a[l]);return r[c]=h}(i,l,a.top,l,n.getCellRelativeRect(e,o-1).bottom,{0:"#FFF",1:"#D3D3D3"})},selectionBgColor:"#CCE0FF",borderColor:"#000",highlightBorderColor:"#5E9ED6",checkbox:{uncheckBgColor:"#FFF",checkBgColor:"rgb(76, 73, 72)"},button:{color:"#FFF",bgColor:"#2196F3"},header:{sortArrowColor:"rgba(0, 0, 0, 0.38)"},underlayBackgroundColor:"#F6F6F6"}},function(t,e,n){t.exports={color:"rgba(0, 0, 0, 0.87)",frozenRowsColor:"rgba(0, 0, 0, 0.54)",defaultBgColor:"#FFF",selectionBgColor:"#CCE0FF",borderColor:function(t){var e=t.col,n=t.grid,r=n.colCount;return n.frozenColCount-1===e?["#ccc7c7","#f2f2f2","#ccc7c7",null]:r-1===e?["#ccc7c7","#f2f2f2","#ccc7c7",null]:["#ccc7c7",null]},frozenRowsBorderColor:function(t){var e=t.row;return t.grid.frozenRowCount-1===e?["#f2f2f2","#f2f2f2","#ccc7c7","#f2f2f2"]:["#f2f2f2"]},highlightBorderColor:"#5E9ED6",checkbox:{checkBgColor:"rgb(76, 73, 72)",borderColor:"rgba(0, 0, 0, 0.26)"},button:{color:"#FFF",bgColor:"#2196F3"},header:{sortArrowColor:"rgba(0, 0, 0, 0.38)"},underlayBackgroundColor:"#FFF"}},function(t,e,r){var i=r(0).getChainSafe,s=r(28);var c=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(this,e),(t=o(this,a(e).call(this,n)))._rCache={},t._fCache={},t}return l(e,s),f(e,null,[{key:"ofArray",value:function(t){return new e({get:function(e){return t[e]},length:t.length})}},{key:"EVENT_TYPE",get:function(){return s.EVENT_TYPE}}]),f(e,[{key:"getOriginal",value:function(t){return this._rCache&&this._rCache[t]?this._rCache[t]:n(a(e.prototype),"getOriginal",this).call(this,t)}},{key:"getOriginalField",value:function(t,r){var o=i(this._fCache,t,r);return o||n(a(e.prototype),"getOriginalField",this).call(this,t,r)}},{key:"setOriginalField",value:function(t,r,o){var i=this._fCache;return i&&i[t]&&delete i[t],n(a(e.prototype),"setOriginalField",this).call(this,t,r,o)}},{key:"clearCache",value:function(){this._rCache&&(this._rCache={}),this._fCache&&(this._fCache={})}},{key:"fieldPromiseCallBackInternal",value:function(t,e,n){!function(t,e,n,r){var o=t._fCache;(o[e]||(o[e]={}))[n]=r}(this,t,e,n)}},{key:"recordPromiseCallBackInternal",value:function(t,e){this._rCache[t]=e}},{key:"dispose",value:function(){n(a(e.prototype),"dispose",this).call(this)}}]),e}();t.exports=c},function(e,r,i){var s=i(0).isPromise,c=i(28),h=i(3),d=c.EVENT_TYPE,v=function(){function t(e){u(this,t),this._dataSource=e,this._curIndex=-1,this._data=[]}return f(t,[{key:"hasNext",value:function(){var t=this._curIndex+1;return this._dataSource.length>t}},{key:"next",value:function(){var t=this._curIndex+1,e=this._getIndexData(t);return this._curIndex=t,e}},{key:"movePrev",value:function(){this._curIndex--}},{key:"_getIndexData",value:function(t,e){var n=this._dataSource,r=this._data;if(t<r.length)return r[t];if(!(n.length<=t)){var o=this._dataSource.get(t);if(r[t]=o,s(o)&&(o.then(function(e){r[t]=e}),!e))for(var i=1;i<=100;i++)this._getIndexData(t+i,!0);return o}}}]),t}(),g=function(){function e(t,n,r){u(this,e),this._owner=t,this._dataSourceItr=new v(n),this._filter=r,this._filterdList=[],this._queues=[]}return f(e,[{key:"get",value:function(t){if(!this._cancel){var e=this._filterdList;if(t<e.length)return e[t];var n=this._queues;return n[t]?n[t]:n[t]||this._findIndex(t)}}},{key:"cancel",value:function(){this._cancel=!0}},{key:"_findIndex",value:function(e){if(t.Promise){var n=Date.now()+100,r=0;return this._findIndexWithTimeout(e,function(){return++r>=100&&(r=0,n<Date.now())})}return this._findIndexWithTimeout(e,function(){return!1})}},{key:"_findIndexWithTimeout",value:function(t,e){for(var n=this,r=this._filterdList,o=this._filter,i=this._dataSourceItr,a=this._queues;i.hasNext();){if(this._cancel)return;var l=i.next();if(s(l))return i.movePrev(),a[t]=l.then(function(e){return a[t]=null,n.get(t)});if(o(l)&&(r.push(l),t<r.length))return r[t];if(e()){var c=new Promise(function(t){setTimeout(function(){t()},300)});return a[t]=c.then(function(){return a[t]=null,n.get(t)}),a[t]}}this._owner.length=r.length}}]),e}(),p=function(t){function e(t,n){var r;u(this,e),(r=o(this,a(e).call(this,t)))._dataSource=t,r.filter=n;var i=r._handler=new h;i.on(t,d.UPDATED_ORDER,function(){r.filter=r.filter});var l=function(e){var n=d[e];i.on(t,n,function(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=r).fireListeners.apply(t,[n].concat(o))})};for(var s in d)l(s);return r}return l(e,c),f(e,null,[{key:"EVENT_TYPE",get:function(){return d}}]),f(e,[{key:"getOriginal",value:function(t){return this._filterData?this._filterData.get(t):n(a(e.prototype),"getOriginal",this).call(this,t)}},{key:"sort",value:function(){var t;return(t=this._dataSource).sort.apply(t,arguments)}},{key:"dispose",value:function(){this._handler.dispose(),n(a(e.prototype),"dispose",this).call(this)}},{key:"filter",get:function(){return this._filterData&&this._filterData._filter||void 0},set:function(t){this._filterData&&this._filterData.cancel(),this._filterData=t?new g(this,this._dataSource,t):void 0,this.length=this._dataSource.length}}]),e}();e.exports=p},function(r,s,h){(function(s){var d=h(0),v=d.isDef,g=d.isPromise,p=d.then,y=d.obj.isObject,_=h(59),m=h(36),w=m.style.BaseStyle,C=h(53),x=h(51),b=h(12).BaseStyle,k=h(5),E=h(57),I=E.DataSource,L=E.CachedDataSource,S=h(27),T=h(24),A=h(133),R=h(145),B=h(30),M=h(1).PROTECTED_SYMBOL,O=0;function D(t,e,n){return t[M].headerMap.getHeaderCellRange(e,n)}function P(t,e,n){if(n<t[M].headerMap.rowCount)return t[M].headerMap.getCell(e,n).caption;var r=t[M].headerMap.columns[e].field;return y(r)&&r.get&&r.set&&(r=r.get),W(t,r,n)}function F(t,e,n){if(n<t[M].headerMap.rowCount)return null;var r=t[M].headerMap.columns[e].message;return r?W(t,r,n):null}function z(t,e,n){if(!v(e))return null;if(s(e))return e.map(function(e){return z(t,e,n)});if(!y(e)||"function"==typeof e)return W(t,e,n);var r={};return T.iconPropKeys.forEach(function(o){if(e[o]){var i=W(t,e[o],n);v(i)?r[o]=i:function(t,e,n){if(!v(e))return!1;if(n<t[M].headerMap.rowCount)return!1;var r=K(t,n);return t[M].dataSource.hasField(r,e)}(t,e[o],n)||(r[o]=e[o])}}),r}function W(t,e,n){if(!v(e))return null;if(n<t[M].headerMap.rowCount)return null;var r=K(t,n);return t[M].dataSource.getField(r,e)}function H(t,e,n,r,o,i){var a=r.col,l=r.row,s=t[M].gridCanvasHelper,c=function(){var t={fillColor:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bgColor};s.fillCellWithState(n,t)},u=function(){if(n.col===t.frozenColCount-1){var e=n.getRect();s.drawWithClip(n,function(r){var o=n.row>=t.frozenRowCount?s.theme.borderColor:s.theme.frozenRowsBorderColor,i=s.toBoxArray(s.getColor(o,n.col,n.row,r));i[1]&&(r.lineWidth=1,r.strokeStyle=i[1],r.beginPath(),r.moveTo(e.right-2.5,e.top),r.lineTo(e.right-2.5,e.bottom),r.stroke())})}n.row<t[M].headerMap.rowCount?function(t,e,n){var r=n.col,o=n.row,i=t.selection.select;if(i.row>=t[M].headerMap.rowCount)return void e.borderWithState(n);var a=t[M].headerMap.getCell(r,o).id,l=n.getRect(),s={},c=t[M].headerMap.getCell(i.col,i.row).id;if(c===a)s.borderColor=e.theme.highlightBorderColor,s.lineWidth=2,e.border(n,s);else{s.lineWidth=1;var u=t.isFrozenCell(r,o);u&&u.row&&(s.borderColor=e.theme.frozenRowsBorderColor),e.border(n,s),r>0&&t[M].headerMap.getCell(r-1,o).id===c?e.drawBorderWithClip(n,function(t){var n=e.toBoxArray(e.getColor(e.theme.highlightBorderColor,i.col,i.row,t));n[1]&&(t.lineWidth=1,t.strokeStyle=n[1],t.beginPath(),t.moveTo(l.left-.5,l.top),t.lineTo(l.left-.5,l.bottom),t.stroke())}):o>0&&t[M].headerMap.getCell(r,o-1).id===c&&e.drawBorderWithClip(n,function(t){var n=e.toBoxArray(e.getColor(e.theme.highlightBorderColor,i.col,i.row,t));n[0]&&(t.lineWidth=1,t.strokeStyle=n[0],t.beginPath(),t.moveTo(l.left,l.top-.5),t.lineTo(l.right,l.top-.5),t.stroke())})}}(t,s,n):s.borderWithState(n)};return i(e,{getRecord:function(){return t.getRowRecord(l)},getIcon:function(){return function(t,e,n){return z(t,t[M].headerMap.columns[e].icon,n)}(t,a,l)},getMessage:function(){return F(t,a,l)},messageHandler:t[M].messageHandler,style:o,drawCellBase:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).bgColor;c({bgColor:t}),u()},drawCellBg:c,drawCellBorder:u},n,t)}function N(t){t[M].headerEvents&&t[M].headerEvents.forEach(function(e){return t.unlisten(e)}),t[M].headerMap=new Y(t[M].header),t[M].headerEvents=[],t[M].headerMap.headerObjects.forEach(function(e){var n,r=e.headerType.bindGridEvent(t,e.range);if((n=t[M].headerEvents).push.apply(n,c(r)),e.style&&e.style instanceof b){var o=e.style.listen(b.EVENT_TYPE.CHANGE_STYLE,function(){t.invalidate()});t[M].headerEvents.push(o)}if(e.action){var i,a=e.action.bindGridEvent(t,e.range);(i=t[M].headerEvents).push.apply(i,c(a))}}),t[M].headerMap.columns.forEach(function(e,n){if(e.action){var r,o=e.action.bindGridEvent(t,n,{isTarget:function(e,r){return n===e&&t.frozenRowCount<=r}});(r=t[M].headerEvents).push.apply(r,c(o))}if(e.columnType){var i,a=e.columnType.bindGridEvent(t,n,{isTarget:function(e,r){return n===e&&t.frozenRowCount<=r}});(i=t[M].headerEvents).push.apply(i,c(a))}if(e.style&&e.style instanceof w){var l=e.style.listen(m.style.EVENT_TYPE.CHANGE_STYLE,function(){t.invalidate()});t[M].headerEvents.push(l)}}),t.colCount=t[M].headerMap.columns.length,U(t),t.frozenRowCount=t[M].headerMap.rowCount;for(var e=0;e<t[M].headerMap.columns.length;e++){var n=t[M].headerMap.columns[e],r=n.width,o=n.minWidth,i=n.maxWidth;r&&(r>0||"string"==typeof r)&&t.setColWidth(e,r),o&&(o>0||"string"==typeof o)&&t.setMinColWidth(e,o),i&&(i>0||"string"==typeof i)&&t.setMaxColWidth(e,i)}for(var a=s(t[M].headerRowHeight),l=0;l<t[M].headerMap.rowCount;l++){var u=a?t[M].headerRowHeight[l]:t[M].headerRowHeight;u&&u>0&&t.setRowHeight(l,u)}}function U(t){t.rowCount=t[M].dataSource.length+t[M].headerMap.rowCount}function V(t,e){t[M].dataSourceEventIds&&t[M].dataSourceEventIds.forEach(function(e){return t[M].handler.off(e)}),e(t),t[M].dataSourceEventIds=[t[M].handler.on(t[M].dataSource,I.EVENT_TYPE.UPDATED_LENGTH,function(){U(t),t.invalidate()}),t[M].handler.on(t[M].dataSource,I.EVENT_TYPE.UPDATED_ORDER,function(){t.invalidate()})]}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];V(t,function(){t[M].records=e,t[M].dataSource=L.ofArray(t[M].records)})}function G(t,e){V(t,function(){t[M].dataSource=e?e instanceof I?e:new L(e):I.EMPTY,t[M].records=null})}function K(t,e){return e<t[M].headerMap.rowCount?void 0:e-t[M].headerMap.rowCount}var Y=function(){function t(e){u(this,t),this._columns=[],this._headerCells=[],this._headerObjects=[],this._addHeaders(0,e,[]),this._setupHeaderControllers()}return f(t,[{key:"getCell",value:function(t,e){return this._headerCells[e][t]}},{key:"getHeaderCellRangeById",value:function(t){for(var e=0;e<this.rowCount;e++)for(var n=0;n<this.columns.length;n++)if(t===this.getCell(n,e).id)return this.getHeaderCellRange(n,e)}},{key:"getHeaderCellRange",value:function(t,e){for(var n={startCol:t,startRow:e,endCol:t,endRow:e,isCellInRange:function(t,e){return this.startCol<=t&&t<=this.endCol&&this.startRow<=e&&e<=this.endRow}},r=this.getCell(t,e).id,o=t-1;o>=0&&r===this.getCell(o,e).id;o--)n.startCol=o;for(var i=t+1;i<this.columns.length&&r===this.getCell(i,e).id;i++)n.endCol=i;for(var a=e-1;a>=0&&r===this.getCell(t,a).id;a--)n.startRow=a;for(var l=e+1;l<this.rowCount&&r===this.getCell(t,l).id;l++)n.endRow=l;return n}},{key:"_addHeaders",value:function(t,e,n){var r=this,o=this._headerCells[t]||this._newRow(t);e.forEach(function(e){var i=r._columns.length,a={id:O++,caption:e.caption,field:e.headerField||e.field,style:e.headerStyle,headerType:e.headerType,action:e.headerAction,sort:e.sort,define:e};r._headerObjects.push(a),o[i]=a;for(var l=t-1;l>=0;l--)r._headerCells[l][i]=n[l];if(e.columns)r._addHeaders(t+1,e.columns,c(n).concat([a]));else{r._columns.push({field:e.field,width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,icon:e.icon,message:e.message,columnType:m.type.of(e.columnType),action:m.action.of(e.action),style:e.style,define:e});for(var s=t+1;s<r._headerCells.length;s++)r._headerCells[s][i]=a}})}},{key:"_setupHeaderControllers",value:function(){var t=this;this._headerObjects.forEach(function(e){e.range=t.getHeaderCellRangeById(e.id),e.headerType=C.ofCell(e),e.action=x.ofCell(e)})}},{key:"_newRow",value:function(t){var e=this._headerCells[t]=[];if(!this._columns.length)return e;for(var n=this._headerCells[t-1],r=0;r<n.length;r++)e[r]=n[r];return e}},{key:"columns",get:function(){return this._columns}},{key:"rowCount",get:function(){return this._headerCells.length}},{key:"headerObjects",get:function(){return this._headerObjects}}]),t}();var q=function(r){function s(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,s);var r=(e=o(this,a(s).call(this,function(t){return t&&(delete t.frozenRowCount,delete t.colCount,delete t.rowCount),t}(n))))[M];return r.header=n.header||[],r.headerRowHeight=n.headerRowHeight||[],n.dataSource?G(i(i(e)),n.dataSource):j(i(i(e)),n.records),N(i(i(e))),r.sortState={col:-1,row:-1,order:void 0},r.gridCanvasHelper=new _(i(i(e))),r.theme=S.of(n.theme),r.messageHandler=new A(i(i(e)),function(t,n){return F(i(i(e)),t,n)}),r.tooltipHandler=new R(i(i(e))),e.invalidate(),r.handler.on(t,"resize",function(){e.updateSize(),e.updateScroll(),e.invalidate()}),e}return l(s,k),f(s,null,[{key:"EVENT_TYPE",get:function(){return B}}]),f(s,[{key:"dispose",value:function(){var t=this[M];t.messageHandler.dispose(),t.tooltipHandler.dispose(),n(a(s.prototype),"dispose",this).call(this)}},{key:"getField",value:function(t){return this[M].headerMap.columns[t].field}},{key:"getColumnDefine",value:function(t){return this[M].headerMap.columns[t].define}},{key:"getHeaderField",value:function(t,e){return this[M].headerMap.getCell(t,e).field}},{key:"getHeaderDefine",value:function(t,e){return this[M].headerMap.getCell(t,e).define}},{key:"getRowRecord",value:function(t){return t<this[M].headerMap.rowCount?void 0:this[M].dataSource.get(K(this,t))}},{key:"getColumnIndexByField",value:function(t){for(var e in this[M].headerMap.columns)if(this[M].headerMap.columns[e].field===t)return e-0;return null}},{key:"focusGridCell",value:function(t,e){var n=this.selection.range,r=n.start,o=r.col,i=r.row,a=n.end,l=a.col,s=a.row,c=this.getColumnIndexByField(t),u=e+this[M].headerMap.rowCount;this.focusCell(c,u),this.selection.select={col:c,row:u},this.invalidateGridRect(o,i,l,s),this.invalidateCell(c,u)}},{key:"makeVisibleGridCell",value:function(t,e){this.makeVisibleCell(this.getColumnIndexByField(t),e+this[M].headerMap.rowCount)}},{key:"getGridCanvasHelper",value:function(){return this[M].gridCanvasHelper}},{key:"getHeaderCellRange",value:function(t,e){return D(this,t,e)}},{key:"getCopyCellValue",value:function(t,e){if(e<this[M].headerMap.rowCount){var n=D(this,t,e),r=n.startCol,o=n.startRow;if(r!==t||o!==e)return""}return P(this,t,e)}},{key:"onDrawCell",value:function(t,e,n){var r,o,i=this[M].headerMap,a=i.columns[t];if(e<i.rowCount){var l=i.getCell(t,e);r=l.headerType.onDrawCell,o=l.style,function(t,e,n,r){for(var o=r.getRect(),i=D(t,e,n),a=i.startCol,l=i.endCol,s=i.startRow,c=i.endRow,u=e-1;u>=a;u--)o.left-=t.getColWidth(u);for(var h=e+1;h<=l;h++)o.right+=t.getColWidth(h);for(var f=n-1;f>=s;f--)o.top-=t.getRowHeight(f);for(var d=n+1;d<=c;d++)o.bottom+=t.getRowHeight(d);r.setRect(o)}(this,t,e,n)}else r=a.columnType.onDrawCell,o=a.style;return H(this,P(this,t,e),n,{col:t,row:e},o,r)}},{key:"doGetCellValue",value:function(t,e,n){if(e<this[M].headerMap.rowCount)return!1;var r=P(this,t,e);return!g(r)&&(n(r),!0)}},{key:"doChangeValue",value:function(t,e,n){var r=this;if(e<this[M].headerMap.rowCount)return!1;var o=P(this,t,e);if(g(o))return!1;var i=n(o);return void 0!==i&&p(function(t,e,n,r){if(n<t[M].headerMap.rowCount)return!1;var o=t[M].headerMap.columns[e].field;y(o)&&o.get&&o.set&&(o=o.set);var i=K(t,n),a=t[M].dataSource.setField(i,o,r);return!g(a)||a}(this,t,e,i),function(n){if(n){var a=r[M].headerMap.columns[t].field,l=r;r.fireListeners(B.CHANGED_VALUE,{col:t,row:e,get record(){return l.getRowRecord(e)},field:a,value:i,oldValue:o})}return n})}},{key:"getHeaderValue",value:function(t,e){var n=this.getHeaderField(t,e);return this.headerValues[n]}},{key:"setHeaderValue",value:function(t,e,n){var r=this.getHeaderField(t,e),o=this.headerValues[r];this.headerValues[r]=n,this.fireListeners(B.CHANGED_HEADER_VALUE,{col:t,row:e,field:r,value:n,oldValue:o})}},{key:"bindEventsInternal",value:function(){var t=this;this.listen(B.SELECTED_CELL,function(e){if(e.row<t[M].headerMap.rowCount){var n=D(t,e.col,e.row),r=n.startCol,o=n.endCol,i=n.startRow,a=n.endRow;r===o&&i===a||t.invalidateGridRect(r,i,o,a)}})}},{key:"getMoveLeftColByKeyDownInternal",value:function(t){var e=t.col,r=t.row;r<this[M].headerMap.rowCount&&(e=D(this,e,r).startCol);return n(a(s.prototype),"getMoveLeftColByKeyDownInternal",this).call(this,{col:e,row:r})}},{key:"getMoveRightColByKeyDownInternal",value:function(t){var e=t.col,r=t.row;r<this[M].headerMap.rowCount&&(e=D(this,e,r).endCol);return n(a(s.prototype),"getMoveRightColByKeyDownInternal",this).call(this,{col:e,row:r})}},{key:"getMoveUpRowByKeyDownInternal",value:function(t){var e=t.col,r=t.row;r<this[M].headerMap.rowCount&&(r=D(this,e,r).startRow);return n(a(s.prototype),"getMoveUpRowByKeyDownInternal",this).call(this,{col:e,row:r})}},{key:"getMoveDownRowByKeyDownInternal",value:function(t){var e=t.col,r=t.row;r<this[M].headerMap.rowCount&&(r=D(this,e,r).endRow);return n(a(s.prototype),"getMoveDownRowByKeyDownInternal",this).call(this,{col:e,row:r})}},{key:"getOffsetInvalidateCells",value:function(){return 1}},{key:"header",get:function(){return this[M].header},set:function(t){this[M].header=t,N(this)}},{key:"records",get:function(){return this[M].records},set:function(t){j(this,t),U(this),this.invalidate()}},{key:"dataSource",get:function(){return this[M].dataSource},set:function(t){G(this,t),U(this),this.invalidate()}},{key:"theme",get:function(){return this[M].theme},set:function(t){this[M].theme=S.of(t),this.invalidate()}},{key:"font",get:function(){return n(a(s.prototype),"font",this)||this[M].gridCanvasHelper.theme.font},set:function(t){e(a(s.prototype),"font",t,this,!0)}},{key:"underlayBackgroundColor",get:function(){return n(a(s.prototype),"underlayBackgroundColor",this)||this[M].gridCanvasHelper.theme.underlayBackgroundColor},set:function(t){e(a(s.prototype),"underlayBackgroundColor",t,this,!0)}},{key:"sortState",get:function(){return this[M].sortState},set:function(t){var e,n=this.sortState;n.col>=0&&n.row>=0&&(e=this.getHeaderField(n.col,n.row));var r,o=this[M].sortState=v(t)?t:{col:-1,row:-1,order:void 0};o.col>=0&&o.row>=0&&(r=this.getHeaderField(o.col,o.row)),v(e)&&e!==r&&this.setHeaderValue(n.col,n.row,void 0),v(r)&&this.setHeaderValue(o.col,o.row,o.order)}},{key:"headerValues",get:function(){return this[M].headerValues||(this[M].headerValues={})},set:function(t){this[M].headerValues=t||{}}}]),s}();r.exports=q}).call(this,h(2).Array_isArray)},function(t,e,n){(function(e){var r=n(13),o=n(118),i=n(61),a=n(121),l=n(62),s=n(122),u=n(0).isDef,h=n(8).calcStartPosition,f=n(63),d=n(29);t.exports={iconOf:function(t){if(t instanceof r)return t;if(!t)return null;if(t.font&&t.content)return new o(t);if(t.src)return new i({src:t.src,width:t.width,height:t.width});if(t.svg)return new a({svg:t.svg,width:t.width,height:t.width});if(t.path)return new s({path:t.path,width:t.width,height:t.width,color:t.color});var e=f.get();if(t.name&&e[t.name]){var n=e[t.name],c=t.width||Math.max(n.width,n.height);return new l({draw:function(t){var e=t.ctx,r=(t.canvashelper,t.rect),o=t.offset,i=t.offsetLeft,a=t.offsetRight,l=t.offsetTop,s=t.offsetBottom;!function(t,e,n,r,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=s.offset,u=void 0===c?2:c,f=s.padding,v={left:o,top:i,width:a,height:l,right:o+a,bottom:i+l};t.save();try{t.beginPath(),t.rect(v.left,v.top,v.width,v.height),t.clip();var g=h(t,v,n,r,{offset:u,padding:f});d.fill(e,t,g.x,g.y,n,r)}finally{t.restore()}}(e,n,c,c,r.left,r.top,r.width,r.height,{offset:o+1,padding:{left:i,right:a,top:l,bottom:s}})},width:c,height:c,color:t.color})}return new o(t)},of:function(t){return u(t)?t instanceof r?t:new r(t):null},buildInlines:function(t,n){var o=this,i=[];if(t&&i.push.apply(i,c(t.map(function(t){return o.iconOf(t)}).filter(function(t){return!!t}))),e(n)&&n.filter(function(t){return t instanceof r}).length)i.push.apply(i,c(n.map(function(t){return o.of(t)}).filter(function(t){return!!t})));else{var a=this.of(n);a&&i.push(a)}return i},string:function(t){return this.buildInlines(void 0,t).join("")}}}).call(this,n(2).Array_isArray)},function(t,e,n){var r=n(13),i=n(60),s=function(t){function e(t){var n;return u(this,e),(n=o(this,a(e).call(this)))._icon=t||{},n}return l(e,r),f(e,[{key:"width",value:function(t){var e=t.ctx,n=this._icon;if(n.width)return n.width;if(n.font&&i.check(n.font,n.content)){e.save();try{return e.font=n.font||e.font,e.measureText(n.content).width}finally{e.restore()}}return null}},{key:"font",value:function(){return this._icon.font}},{key:"color",value:function(){return this._icon.color}},{key:"canDraw",value:function(){var t=this._icon;return!t.font||i.check(t.font,t.content)}},{key:"onReady",value:function(t){var e=this._icon;e.font&&!i.check(e.font,e.content)&&i.load(e.font,e.content,t)}},{key:"draw",value:function(t){var e=t.ctx,n=t.canvashelper,r=t.rect,o=t.offset,i=t.offsetLeft,a=t.offsetRight,l=t.offsetTop,s=t.offsetBottom,c=this._icon;c.content&&n.fillTextRect(e,c.content,r.left,r.top,r.width,r.height,{offset:o+1,padding:{left:i,right:a,top:l,bottom:s}})}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),e}();t.exports=s},function(e,n,r){var o=r(120),i={SERIF:"serif",SANS_SERIF:"sans-serif"},a={},l=function(){function e(t,n){u(this,e),this.activeCallbacks=[],this.inactiveCallbacks=[],this.status=null,this.lastResortWidths_={},this.fontRulerA_=new o("".concat(t,",").concat(i.SERIF),n),this.fontRulerB_=new o("".concat(t,",").concat(i.SANS_SERIF),n);var r=new o("4px ".concat(i.SERIF),n),a=new o("4px ".concat(i.SANS_SERIF),n);this.lastResortWidths_[i.SERIF]=r.getWidth(),this.lastResortWidths_[i.SANS_SERIF]=a.getWidth(),r.remove(),a.remove(),this.started_=Date.now(),this.check_()}return f(e,null,[{key:"load",value:function(t,n,r,o){var i=a[t]||(a[t]={});(i[n+=""]?i[n]:i[n]=new e(t,n)).then(r,o)}}]),f(e,[{key:"then",value:function(t,e){this.status?"ng"!==this.status?t():e():(this.activeCallbacks.push(t),this.inactiveCallbacks.push(e))}},{key:"check_",value:function(){var t=this,e=this.fontRulerA_.getWidth(),n=this.fontRulerB_.getWidth();this.isFallbackFont_(e,n)||this.isLastResortFont_(e,n)?Date.now()-this.started_>=3e3?this.isLastResortFont_(e,n)?(this.finish_(this.activeCallbacks),this.status="ok"):(this.finish_(this.inactiveCallbacks),this.status="ng"):setTimeout(function(){t.check_()},50):(this.finish_(this.activeCallbacks),this.status="ok")}},{key:"isFallbackFont_",value:function(t,e){return this.widthMatches_(t,i.SERIF)&&this.widthMatches_(e,i.SANS_SERIF)}},{key:"widthsMatchLastResortWidths_",value:function(t,e){for(var n in i)if(i.hasOwnProperty(n)&&this.widthMatches_(t,i[n])&&this.widthMatches_(e,i[n]))return!0;return!1}},{key:"widthMatches_",value:function(t,e){return t===this.lastResortWidths_[e]}},{key:"isLastResortFont_",value:function(e,n){return function(){if(null===s){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(t.navigator.userAgent);s=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)}return s}()&&this.widthsMatchLastResortWidths_(e,n)}},{key:"finish_",value:function(t){var e=this;setTimeout(function(){e.fontRulerA_.remove(),e.fontRulerB_.remove(),t.forEach(function(t){return t()})},0)}}]),e}(),s=null;e.exports=l},function(t,e,n){var r=function(){function t(e,n){u(this,t);var r=document.createElement("span");r.setAttribute("aria-hidden","true"),r.textContent=n||"BESbswy",function(t){return[{display:"block",position:"absolute",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0","white-space":"nowrap",font:t},{"font-variant":"normal","font-size":"300px","font-style":"normal","font-weight":"400","line-height":"normal"}]}(e).forEach(function(t){for(var e in t)r.style[e]=t[e]}),document.body.appendChild(r),this.el_=r}return f(t,[{key:"getWidth",value:function(){return this.el_.offsetWidth}},{key:"remove",value:function(){document.body.removeChild(this.el_)}}]),t}();t.exports=r},function(t,e,n){var r=n(61),i=n(0).then;function s(t){var e="string"==typeof t?t:(new XMLSerializer).serializeToString(t);return"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(e))}function c(t){return"string"==typeof t?(new DOMParser).parseFromString(t,"image/svg+xml"):t}var h=function(t){function e(t){var n=t.svg,r=t.width,l=t.height;t.imageLeft,t.imageTop,t.imageWidth,t.imageHeight;u(this,e);var h=i(n,c),f=h.getAttribute?h.getAttribute("width"):null,d=h.getAttribute?h.getAttribute("height"):null;return o(this,a(e).call(this,{src:i(n,s),width:r||f,height:l||d,imageWidth:f,imageHeight:d}))}return l(e,r),f(e,[{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),e}();t.exports=h},function(t,e,n){var r=n(13),i=n(8).calcStartPosition,s=n(29),c=function(t){function e(t){var n,r=t.path,i=t.width,l=t.height,c=t.color;return u(this,e),(n=o(this,a(e).call(this)))._path=new s.Path2D(r),n._width=i,n._height=l,n._color=c,n}return l(e,r),f(e,[{key:"width",value:function(t){t.ctx;return this._width}},{key:"font",value:function(){return null}},{key:"color",value:function(){return this._color}},{key:"canDraw",value:function(){return!0}},{key:"onReady",value:function(t){}},{key:"draw",value:function(t){var e=t.ctx,n=(t.canvashelper,t.rect),r=t.offset,o=t.offsetLeft,a=t.offsetRight,l=t.offsetTop,s=t.offsetBottom;r++;var c={left:o,right:a,top:l,bottom:s};e.save();try{e.beginPath(),e.rect(n.left,n.top,n.width,n.height),e.clip();var u=i(e,n,this._width,this._height,{offset:r,padding:c});e.translate(u.x,u.y),e.fill(this._path)}finally{e.restore()}}},{key:"canBreak",value:function(){return!1}},{key:"toString",value:function(){return""}}]),e}();t.exports=c},function(e,n,r){var o=new(r(124)),i=function t(e){var n=this;if(u(this,t),this._ops=[],["closePath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","arc","rect"].forEach(function(t){n[t]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n._ops.push({op:t,args:r})}}),void 0!==e)if("string"==typeof e)try{this._ops=o.parse(e)}catch(t){throw t}else{if(!e.hasOwnProperty("_ops"))throw new Error("Error: ".concat(d(e)," is not a valid argument to Path"));this._ops=c(this._ops)}},a=t.CanvasRenderingContext2D,l=a.prototype.fill;a.prototype.fill=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n[0]instanceof i){var o=n[0];this.beginPath(),o._ops.forEach(function(e){t[e.op].apply(t,c(e.args))}),l.apply(this,Array.prototype.slice.call(n,1))}else l.apply(this,n)},e.exports=i},function(e,n,r){var o=r(125);function i(t,e,n){return"M"===e.toUpperCase()||"L"===e.toUpperCase()||"T"===e.toUpperCase()?(t.command(e,n.next(),n.next()),"M"===e?"L":"m"===e?"l":e):"H"===e.toUpperCase()||"V"===e.toUpperCase()?(t.command(e,n.next()),e):"Z"===e.toUpperCase()?(t.command(e),e):"C"===e.toUpperCase()?(t.command(e,n.next(),n.next(),n.next(),n.next(),n.next(),n.next()),e):"S"===e.toUpperCase()||"Q"===e.toUpperCase()?(t.command(e,n.next(),n.next(),n.next(),n.next()),e):"A"===e.toUpperCase()?(t.command(e,n.next(),n.next(),n.next(),n.next(),n.next(),n.next(),n.next()),e):(console.warn("unsupported:".concat(e)),null)}var a=t.CanvasRenderingContext2D?Object.keys(t.CanvasRenderingContext2D.prototype):["save","restore","beginPath","closePath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","arc","arcTo","ellipse","rect","translate","rotate","scale"],l=function(){function t(){var e=this;u(this,t),this._commands=new o(this),a.forEach(function(t){e[t]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e._ops.push({op:t,args:r})}})}return f(t,[{key:"command",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r=r||[];for(var i=0;i<r.length;i++)r[i]-=0;(e=this._commands)[t].apply(e,c(r))}},{key:"parse",value:function(t){var e=this,n=this._ops=[],r=function(t){var e=0;return{next:function(){for(var n="";t.length>e;){var r=t[e];if(e++," ,\n\r\t".indexOf(r)>-1){if(n)return n}else{if("str"==(".+-1234567890".indexOf(r)>-1?"num":"str"))return n?(e--,n):r;if("-+".indexOf(r)>-1&&n)return e--,n;if("."===r&&n.indexOf(".")>-1)return e--,n;n+=r}}return n||null}}}(t);try{!function(){for(var t,n;t=r.next();)isNaN(t-0)?n=i(e,t,r):function(){var o=!0;n=i(e,n,{next:function(){return o?(o=!1,t):r.next()}})}()}()}catch(e){throw console.log("Error: ".concat(t)),e}return n}}]),t}();e.exports=l},function(t,e,n){function r(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function o(t,e){var n=1;return t[0]*e[1]-t[1]*e[0]<0&&(n=-1),n*Math.acos(function(t,e,n){return Math.min(Math.max(t,e),n)}(function(t,e){return function(t,e){return t[0]*e[0]+t[1]*e[1]}(t,e)/(r(t)*r(e))}(t,e)),-1,1)}function i(t,e,n,r,i,a,l,s,c,u){if(0!==r&&0!==i){a*=Math.PI/180,r=Math.abs(r),i=Math.abs(i);var h=function(t,e){var n=Math.cos(e),r=Math.sin(e);return[n*t[0]+r*t[1],-1*r*t[0]+n*t[1]]}(function(t,e){return[(t[0]-e[0])/2,(t[1]-e[1])/2]}(e,c),a),f=function(t,e){return[t[0]*e[0],t[1]*e[1]]}(h,h),d=Math.pow(r,2),v=Math.pow(i,2),g=Math.sqrt(f[0]/d+f[1]/v);g>1&&(r*=g,i*=g,d=Math.pow(r,2),v=Math.pow(i,2));var p=Math.sqrt(Math.abs(d*v-d*f[1]-v*f[0])/(d*f[1]+v*f[0]));l===s&&(p*=-1);var y=function(t,e){return[t*e[0],t*e[1]]}(p,[r*h[1]/i,-i*h[0]/r]),_=function(t,e){return[t[0]+e[0],t[1]+e[1]]}(function(t,e){var n=Math.cos(e),r=Math.sin(e);return[n*t[0]-r*t[1],r*t[0]+n*t[1]]}(y,a),function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e,c)),m=[(h[0]-y[0])/r,(h[1]-y[1])/i],w=[(-1*h[0]-y[0])/r,(-1*h[1]-y[1])/i],C=o([1,0],m),x=C,b=C+o(m,w);t.save(),t.translate(_[0],_[1]),t.rotate(a),t.scale(r,i),t.arc(0,0,1,x,b,1-s),t.restore()}else t.lineTo(c,e)}t.exports=function t(e){var n,r,o=this;u(this,t);var a,l=0,s=0,c="";function h(){return"CcSsQqTt".indexOf(c)<0?{x:l,y:s}:a}this.M=function(t,i){return e.moveTo(t,i),n=t,r=i,l=t,s=i,c="M",o},this.m=function(t,e){return o.M(t+l,e+s)},this.L=function(t,n){return e.lineTo(t,n),l=t,s=n,c="L",o},this.l=function(t,e){return o.L(t+l,e+s)},this.H=function(t){return o.L(t,s)},this.h=function(t){return o.H(t+l)},this.V=function(t){return o.L(l,t)},this.v=function(t){return o.V(t+s)},this.Z=function(){return e.closePath(),l=n,s=r,c="Z",o},this.z=function(){return o.Z()},this.C=function(t,n,r,i,u,h){return e.bezierCurveTo(t,n,r,i,u,h),l=u,s=h,a={x:2*u-r,y:2*h-i},c="C",o},this.c=function(t,e,n,r,i,a){return o.C(t+l,e+s,n+l,r+s,i+l,a+s)},this.S=function(t,e,n,r){var i=h(),a=i.x,l=i.y;return o.C(a,l,t,e,n,r)},this.s=function(t,e,n,r){return o.S(t+l,e+s,n+l,r+s)},this.Q=function(t,n,r,i){return e.quadraticCurveTo(t,n,r,i),l=r,s=i,a={x:2*r-t,y:2*i-n},c="Q",o},this.q=function(t,e,n,r){return o.Q(t+l,e+s,n+l,r+s)},this.T=function(t,e){var n=h(),r=n.x,i=n.y;return o.Q(r,i,t,e)},this.t=function(t,e){return o.T(t+l,e+s)},this.A=function(t,n,r,a,u,h,f){return i(e,l,0,t,n,r,a,u,h),l=h,s=f,c="A",o},this.a=function(t,e,n,r,i,a,c){return o.A(t,e,n,r,i,a+l,c+s)}}},function(t,e){t.exports={d:"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z",width:48,height:48}},function(t,e){t.exports={d:"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z",width:48,height:48}},function(t,e){t.exports={d:"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z",width:48,height:48}},function(t,e){t.exports={d:"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z",width:48,height:48}},function(t,e){t.exports={d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",width:24,height:24}},function(t,e){t.exports={d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},function(t,e){t.exports={d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",width:24,height:24}},function(t,e,n){var r=n(0).isPromise,o=n(30),i=o.SELECTED_CELL,a=o.SCROLL,l=o.CHANGED_VALUE,s=n(134),c=n(140),h=n(144),d={type:"error",message:void 0},v={error:function(t){return new s(t)},info:function(t){return new h(t)},warning:function(t){return new c(t)}};function g(t){if(!t||r(t))return d;if("string"==typeof t)return{type:"error",message:t,original:t};var e=t.type||"error";return e&&e in v?{type:e.toLowerCase(),message:"".concat(t.message),original:t}:{type:"error",message:"".concat(t),original:t}}function p(t){return!!g(t).message}var y=function(){function t(e,n){u(this,t),this._grid=e,this._messageInstances={},this._bindGridEvent(e,n)}return f(t,[{key:"dispose",value:function(){var t=this._messageInstances;for(var e in t)t[e].dispose();this._messageInstances=null}},{key:"drawCellMessage",value:function(t,e,n,r,o){p(t)&&this._getMessageInstanceOfMessage(t).drawCellMessage(t,e,n,r,o)}},{key:"_attach",value:function(t,e,n){var r=this._attachInfo,o=this._getMessageInstanceOfMessage(n);r&&r.instance!==o&&r.instance.detachMessageElement(),o.attachMessageElement(t,e,g(n)),this._attachInfo={col:t,row:e,instance:o}}},{key:"_move",value:function(t,e){var n=this._attachInfo;n&&n.col===t&&n.row===e&&n.instance.moveMessageElement(t,e)}},{key:"_detach",value:function(){var t=this._attachInfo;t&&(t.instance.detachMessageElement(),this._attachInfo=null)}},{key:"_bindGridEvent",value:function(t,e){var n=this,r=function(t){var r=e(t.col,t.row);p(r)?n._attach(t.col,t.row,r):n._detach()};t.listen(i,function(t){t.selected&&(t.before.col===t.col&&t.before.row===t.row||r(t))}),t.listen(a,function(){var e=t.selection.select;n._move(e.col,e.row)}),t.listen(l,function(e){var n=t.selection.select;n.col===e.col&&n.row===e.row&&r(e)})}},{key:"_getMessageInstanceOfMessage",value:function(t){var e=this._messageInstances,n=g(t).type;return e[n]||(e[n]=v[n](this._grid))}}]),t}();t.exports=y},function(t,e,n){var r=n(31),i=n(135),s=n(33),c=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,r),f(e,[{key:"createMessageElementInternal",value:function(){return new i}},{key:"drawCellMessageInternal",value:function(t,e,n,r,o){var i=n.bgColor,a=e.getSelectState().selected;r.drawBorderWithClip(e,function(t){a||s.drawExclamationMarkBox(e,{bgColor:"#ff8a80",color:i},r)})}}]),e}();t.exports=c},function(t,e,n){var r=n(32),i="cheetah-grid__error-message-element",s="".concat(i,"__message"),c=function(t){function e(){var t;return u(this,e),t=o(this,a(e).call(this)),n(138),t._rootElement.classList.add(i),t._messageElement.classList.add(s),t}return l(e,r),e}();t.exports=c},function(t,e,n){var r=n(137);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".cheetah-grid__message-element {\n\tposition: absolute;\n\tmargin-top: -2px;\n\tbox-sizing: border-box;\n\tborder-radius: 0 0 3px 3px;\n\tbackground-color: rgba(250, 250, 250, 0.85);\n\tpadding: 8px 2px;\n\n\tpointer-events: none;\n\tuser-select: none;\n}\n.cheetah-grid__message-element--hidden {\n\tdisplay: none;\n}\n.cheetah-grid__message-element--shown {\n\tdisplay: block;\n}\n.cheetah-grid__message-element__message {\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\tfont-size: .75rem;\n\tmin-height: 1em;\n\tline-height: 1;\n\tdisplay: block;\n\twidth: 100%;\n}\n.cheetah-grid__message-element {\n\tborder-top: solid 1px rgba(0, 0, 0, .87);\n\tcolor: rgba(0, 0, 0, .87);\n}\n",""])},function(t,e,n){var r=n(139);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".cheetah-grid__error-message-element {\n\tborder-top: solid 1px #FF1744;\n\tcolor: #ff1744;\n}",""])},function(t,e,n){var r=n(31),i=n(141),s=n(33),c=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,r),f(e,[{key:"createMessageElementInternal",value:function(){return new i}},{key:"drawCellMessageInternal",value:function(t,e,n,r,o){var i=n.bgColor,a=e.getSelectState().selected;r.drawBorderWithClip(e,function(t){a||s.drawExclamationMarkBox(e,{bgColor:"#ff9e80",color:i},r)})}}]),e}();t.exports=c},function(t,e,n){var r=n(32),i="cheetah-grid__warning-message-element",s="".concat(i,"__message"),c=function(t){function e(){var t;return u(this,e),t=o(this,a(e).call(this)),n(142),t._rootElement.classList.add(i),t._messageElement.classList.add(s),t}return l(e,r),e}();t.exports=c},function(t,e,n){var r=n(143);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".cheetah-grid__warning-message-element {\n\tborder-top: solid 1px #dd2c00;\n\tcolor: #dd2c00;\n}",""])},function(t,e,n){var r=n(31),i=n(32),s=n(33),c=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,r),f(e,[{key:"createMessageElementInternal",value:function(){return new i}},{key:"drawCellMessageInternal",value:function(t,e,n,r,o){var i=n.bgColor,a=e.getSelectState().selected;r.drawBorderWithClip(e,function(t){a||s.drawInfomationMarkBox(e,{bgColor:"#e0e0e0",color:i},r)})}}]),e}();t.exports=c},function(t,e,n){var r=n(30),o=r.SELECTED_CELL,i=r.SCROLL,a=r.CHANGED_VALUE,l=r.MOUSEOVER_CELL,s=r.MOUSEOUT_CELL,c=n(146),h={"overflow-text":function(t){return new c(t)}};var d=function(){function t(e){u(this,t),this._grid=e,this._tooltipInstances={},this._bindGridEvent(e)}return f(t,[{key:"dispose",value:function(){var t=this._tooltipInstances;for(var e in t)t[e].dispose();this._tooltipInstances=null}},{key:"_attach",value:function(t,e){var n=this._attachInfo,r=this._getTooltipInstanceInfo(t,e);if(!n||r&&n.instance===r.instance||(n.instance.detachTooltipElement(),this._attachInfo=null),r){var o=r.instance;o.attachTooltipElement(t,e,r.content),this._attachInfo={col:t,row:e,instance:o}}}},{key:"_move",value:function(t,e){var n=this._attachInfo;n&&n.col===t&&n.row===e&&n.instance.moveTooltipElement(t,e)}},{key:"_detach",value:function(){var t=this._attachInfo;t&&(t.instance.detachTooltipElement(),this._attachInfo=null)}},{key:"_isAttachCell",value:function(t,e){var n=this._attachInfo;return!!n&&(n.col===t&&n.row===e)}},{key:"_bindGridEvent",value:function(t){var e=this;t.listen(l,function(t){e._attach(t.col,t.row)}),t.listen(s,function(t){e._detach()}),t.listen(o,function(t){e._isAttachCell(t.col,t.row)&&e._detach(t)}),t.listen(i,function(){var t=e._attachInfo;t&&e._move(t.col,t.row)}),t.listen(a,function(t){e._isAttachCell(t.col,t.row)&&(e._detach(),e._attach(t.col,t.row))})}},{key:"_getTooltipInstanceInfo",value:function(t,e){var n=this._grid,r=this._tooltipInstances,o=function(t,e,n){var r=t.getCellOverflowText(e,n);return r?{type:"overflow-text",content:r}:null}(n,t,e);if(!o)return null;var i=o.type;return{instance:r[i]||(r[i]=h[i](n)),type:i,content:o.content}}}]),t}();t.exports=d},function(t,e,n){var r=n(147),i=n(148),s=function(t){function e(){return u(this,e),o(this,a(e).apply(this,arguments))}return l(e,r),f(e,[{key:"createTooltipElementInternal",value:function(){return new i}}]),e}();t.exports=s},function(t,e,n){var r=function(){function t(e){u(this,t),this._grid=e}return f(t,[{key:"dispose",value:function(){this.detachTooltipElement(),this._tooltipElement&&this._tooltipElement.dispose(),this._tooltipElement=null}},{key:"_getTooltipElement",value:function(){return this._tooltipElement||(this._tooltipElement=this.createTooltipElementInternal())}},{key:"createTooltipElementInternal",value:function(){}},{key:"attachTooltipElement",value:function(t,e,n){this._getTooltipElement().attach(this._grid,t,e,n)}},{key:"moveTooltipElement",value:function(t,e){this._getTooltipElement().move(this._grid,t,e)}},{key:"detachTooltipElement",value:function(){this._getTooltipElement()._detach()}}]),t}();t.exports=r},function(t,e,n){var r=n(3),o=n(10).createElement,i="cheetah-grid__tooltip-element",a="".concat(i,"__content"),l="".concat(i,"--hidden"),s="".concat(i,"--shown");var c=function(){function t(){u(this,t),this._handler=new r;var e=this._rootElement=function(){n(149);var t=o("div",{classList:[i,l]}),e=o("pre",{classList:[a]});return t.appendChild(e),t}();this._messageElement=e.querySelector(".".concat(a))}return f(t,[{key:"dispose",value:function(){this.detach();var t=this._rootElement;t.parentElement&&t.parentElement.removeChild(t),this._handler.dispose(),this._rootElement=null,this._messageElement=null}},{key:"attach",value:function(t,e,n,r){var o=this._rootElement,i=this._messageElement;o.classList.remove(s),o.classList.add(l),this._attachCell(t,e,n)?(o.classList.add(s),o.classList.remove(l),i.textContent=r):this._detach()}},{key:"move",value:function(t,e,n){var r=this._rootElement;this._attachCell(t,e,n)?(r.classList.add(s),r.classList.remove(l)):this._detach()}},{key:"detach",value:function(){this._detach()}},{key:"_detach",value:function(){var t=this._rootElement;t.parentElement&&(t.classList.remove(s),t.classList.add(l))}},{key:"_attachCell",value:function(t,e,n){var r=this._rootElement,o=t.getAttachCellArea(e,n),i=o.element,a=o.rect,l=a.bottom,s=a.left,c=a.width,u=t.frozenRowCount,h=t.frozenColCount;if(n>=u&&u>0){if(l<t.getAttachCellArea(e,u-1).rect.bottom)return!1}else if(l<0)return!1;if(e>=h&&h>0){if(s<t.getAttachCellArea(h-1,n).rect.right)return!1}else if(s<0)return!1;var f=i.offsetHeight,d=i.offsetWidth;return!(f<l)&&(!(d<s)&&(r.style.top="".concat(l.toFixed(),"px"),r.style.left="".concat((s+c/2).toFixed(),"px"),r.style["min-width"]="".concat(c.toFixed(),"px"),r.parentElement!==i&&i.appendChild(r),!0))}}]),t}();t.exports=c},function(t,e,n){var r=n(150);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,"@keyframes cheetah-grid__tooltip-element--shown-animation {\n\t0% {\n\t\topacity: 0;\n\t\ttransform: scale(.8) translateX(-60%);\n\t}\n\t100% {\n\t\topacity: 1;\n\t\ttransform: scale(1) translateX(-50%);\n\t}\n}\n\n.cheetah-grid__tooltip-element {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\tborder-radius: 3px;\n\tbackground-color: #232F34;\n\tpadding: 8px;\n\n\tpointer-events: none;\n\tuser-select: none;\n}\n.cheetah-grid__tooltip-element--hidden {\n\topacity: 0;\n\ttransform: translateX(-50%);\n\ttransition: opacity 75ms linear;\n}\n.cheetah-grid__tooltip-element--shown {\n\topacity: 1;\n\ttransform: translateX(-50%);\n\tanimation: cheetah-grid__tooltip-element--shown-animation 150ms ease-out;\n}\n.cheetah-grid__tooltip-element__content {\n\tfont-family: Roboto;\n\tfont-size: 12px;\n\tfont-size: .75rem;\n\tmin-height: 1em;\n\tline-height: 1;\n\twidth: 100%;\n\tdisplay: block;\n\twhite-space: pre-wrap;\n\tmargin: 0;\n}\n.cheetah-grid__tooltip-element {\n\tcolor: #FFFFFF;\n}\n",""])},function(t,e,n){var r=n(56),o=n(64);function i(t,e,n){if(n){var r=t[e];return t[e]=n,r}return t[e]}t.exports={theme:function(t,e){return i(r,t,e)},icon:function(t,e){return i(o,t,e)},icons:function(t){!function(t,e){for(var n in e)t[n]=e[n]}(o,t)}}}])})}).call("undefined"!=typeof global?global:window,"undefined"!=typeof global?global:window)}();
//# sourceMappingURL=cheetahGrid.es5.min.js.map