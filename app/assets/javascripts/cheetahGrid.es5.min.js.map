{"version":3,"sources":["cheetahGrid.es5.min/cheetahGrid.es5.min.js","cheetahGrid.es5.min/webpack/universalModuleDefinition","cheetahGrid.es5.min/webpack/bootstrap","cheetahGrid.es5.min/./internal/utils.js","cheetahGrid.es5.min/./internal/symbolManager.js","cheetahGrid.es5.min/./internal/com.js","cheetahGrid.es5.min/./columns/style/Style.js","cheetahGrid.es5.min/./internal/EventHandler.js","cheetahGrid.es5.min/node_modules/css-loader/lib/css-base.js","cheetahGrid.es5.min/node_modules/style-loader/lib/addStyles.js","cheetahGrid.es5.min/./core/DrawGrid.js","cheetahGrid.es5.min/./internal/canvases.js","cheetahGrid.es5.min/./columns/type/BaseColumn.js","cheetahGrid.es5.min/./internal/dom.js","cheetahGrid.es5.min/./columns/type/Column.js","cheetahGrid.es5.min/./element/Inline.js","cheetahGrid.es5.min/./core/EventTarget.js","cheetahGrid.es5.min/./columns/action/Editor.js","cheetahGrid.es5.min/./columns/type/columnUtils.js","cheetahGrid.es5.min/./header/style.js","cheetahGrid.es5.min/./internal/Rect.js","cheetahGrid.es5.min/./internal/calc.js","cheetahGrid.es5.min/./columns/action/BaseAction.js","cheetahGrid.es5.min/./columns/style/StdBaseStyle.js","cheetahGrid.es5.min/./columns/style/BaseStyle.js","cheetahGrid.es5.min/./internal/icons.js","cheetahGrid.es5.min/./themes.js","cheetahGrid.es5.min/./data/DataSource.js","cheetahGrid.es5.min/./internal/path2DManager.js","cheetahGrid.es5.min/./list-grid/EVENT_TYPE.js","cheetahGrid.es5.min/./columns/message/BaseMessage.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.js","cheetahGrid.es5.min/./columns/message/messageUtils.js","cheetahGrid.es5.min/./internal/style.js","cheetahGrid.es5.min/./tools/canvashelper.js","cheetahGrid.es5.min/./columns.js","cheetahGrid.es5.min/./columns/action/Action.js","cheetahGrid.es5.min/./columns/action/actionBind.js","cheetahGrid.es5.min/./internal/animate.js","cheetahGrid.es5.min/./columns/action/BaseInputEditor.js","cheetahGrid.es5.min/./internal/menu-items.js","cheetahGrid.es5.min/./columns/style.js","cheetahGrid.es5.min/./columns/style/NumberStyle.js","cheetahGrid.es5.min/./columns/style/CheckStyle.js","cheetahGrid.es5.min/./columns/style/ButtonStyle.js","cheetahGrid.es5.min/./columns/style/ImageStyle.js","cheetahGrid.es5.min/./columns/style/IconStyle.js","cheetahGrid.es5.min/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5.min/./columns/style/MultilineTextStyle.js","cheetahGrid.es5.min/./columns/style/MenuStyle.js","cheetahGrid.es5.min/./internal/imgs.js","cheetahGrid.es5.min/./plugins/themes.js","cheetahGrid.es5.min/./data.js","cheetahGrid.es5.min/./internal/sort.js","cheetahGrid.es5.min/./GridCanvasHelper.js","cheetahGrid.es5.min/./internal/fonts.js","cheetahGrid.es5.min/./element/InlineImage.js","cheetahGrid.es5.min/./icons.js","cheetahGrid.es5.min/./plugins/icons.js","cheetahGrid.es5.min/./internal/color.js","cheetahGrid.es5.min/./header/style/BaseStyle.js","cheetahGrid.es5.min/./header/style/Style.js","cheetahGrid.es5.min/./header/type/BaseHeader.js","cheetahGrid.es5.min/./main.js","cheetahGrid.es5.min/./core.js","cheetahGrid.es5.min/./internal/Scrollable.js","cheetahGrid.es5.min/./internal/style.css*","cheetahGrid.es5.min/./internal/style.css","cheetahGrid.es5.min/node_modules/style-loader/lib/urls.js","cheetahGrid.es5.min/./internal/NumberMap.js","cheetahGrid.es5.min/./internal/hiDPI.js","cheetahGrid.es5.min/./tools.js","cheetahGrid.es5.min/./columns/action.js","cheetahGrid.es5.min/./columns/action/CheckEditor.js","cheetahGrid.es5.min/./columns/action/ButtonAction.js","cheetahGrid.es5.min/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5.min/./columns/action/InlineInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css","cheetahGrid.es5.min/./columns/action/InlineMenuEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css","cheetahGrid.es5.min/./columns/type.js","cheetahGrid.es5.min/./columns/type/NumberColumn.js","cheetahGrid.es5.min/./columns/type/CheckColumn.js","cheetahGrid.es5.min/./columns/type/ButtonColumn.js","cheetahGrid.es5.min/./columns/type/ImageColumn.js","cheetahGrid.es5.min/./internal/LRUCache.js","cheetahGrid.es5.min/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5.min/./columns/type/IconColumn.js","cheetahGrid.es5.min/./columns/type/BranchGraphColumn.js","cheetahGrid.es5.min/./columns/style/BranchGraphStyle.js","cheetahGrid.es5.min/./columns/type/MenuColumn.js","cheetahGrid.es5.min/./columns/type/MultilineTextColumn.js","cheetahGrid.es5.min/./themes/theme.js","cheetahGrid.es5.min/./themes/BASIC.js","cheetahGrid.es5.min/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5.min/./data/CachedDataSource.js","cheetahGrid.es5.min/./data/FilterDataSource.js","cheetahGrid.es5.min/./ListGrid.js","cheetahGrid.es5.min/./element/inlines.js","cheetahGrid.es5.min/./element/InlineIcon.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5.min/./element/InlineSvg.js","cheetahGrid.es5.min/./element/InlineDrawer.js","cheetahGrid.es5.min/./element/InlinePath2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/Path2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.es5.min/./header/type.js","cheetahGrid.es5.min/./header/type/Header.js","cheetahGrid.es5.min/./header/style/StdBaseStyle.js","cheetahGrid.es5.min/./header/style/SortHeaderStyle.js","cheetahGrid.es5.min/./header/type/SortHeader.js","cheetahGrid.es5.min/./columns/message/MessageHandler.js","cheetahGrid.es5.min/./columns/message/ErrorMessage.js","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css","cheetahGrid.es5.min/./columns/message/WarningMessage.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css","cheetahGrid.es5.min/./columns/message/InfoMessage.js","cheetahGrid.es5.min/./tooltip/TooltipHandler.js","cheetahGrid.es5.min/./tooltip/Tooltip.js","cheetahGrid.es5.min/./tooltip/BaseTooltip.js","cheetahGrid.es5.min/./tooltip/internal/TooltipElement.js","cheetahGrid.es5.min/./tooltip/internal/TooltipElement.css*","cheetahGrid.es5.min/./tooltip/internal/TooltipElement.css","cheetahGrid.es5.min/./register.js"],"names":["root","factory","exports","_typeof","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_provided_Array_dot_isArray","arrayFind","arrayFindIndex","array","find","Array","arr","predicate","index","findIndex","undefined","length","isDef","data","ua","navigator","userAgent","toLowerCase","IE","match","Chrome","indexOf","Firefox","applyChainSafe","obj","fn","arguments","isPromise","then","browser","heightLimit","extend","result","_len","args","_key","forEach","source","_loop","set","val","configurable","isDescendantElement","target","parentElement","getChainSafe","_len2","names","_key2","apply","getOrApply","_len3","_key3","getIgnoreCase","u","k","callback","setReadonly","each","isObject","str","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","lastIndexOf","genChars","re","next","res","exec","genWords","event","getMouseButtons","e","buttons","which","button","getKeyCode","keyCode","isTouchEvent","changedTouches","cancel","preventDefault","stopPropagation","style","toBoxArray","emptyFn","this","random","cl","concat","mem","PROTECTED_SYMBOL","CHECK_COLUMN_STATE_ID","BUTTON_COLUMN_STATE_ID","COLUMN_FADEIN_STATE_ID","BRANCH_GRAPH_COLUMN_STATE_ID","SMALL_DIALOG_INPUT_EDITOR_STATE_ID","INLINE_INPUT_EDITOR_STATE_ID","INLINE_MENU_EDITOR_STATE_ID","Array_isArray","isArray","defaultStyle","StdBaseStyle","require","Style","_StdBaseStyle","constructor","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","_color","color","_font","font","_padding","padding","_textOverflow","textOverflow","_inherits","_createClass","doChangeStyle","nextId","EventHandler","_listeners","type","listener","_len4","options","_key4","addEventListener","id","list","_obj$target","removeEventListener","push","_obj$target2","_obj$target3","_len5","_key5","_obj$listener","_obj$target4","clear","useSourceMap","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","toComment","sourceURLs","sources","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","stylesInDom","isOldIE","memo","memoize","document","all","atob","getElement","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","createElement","attrs","nonce","nc","getNonce","addAttrs","el","keys","setAttribute","update","remove","transform","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","replacement","filter","Boolean","cssNode","childNodes","_webpack_require__2","_webpack_require__2$e","cancelEvent","EventTarget","Rect","Scrollable","NumberMap","calc","getFontSize","hiDPI","_","KEY_END","KEY_HOME","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_ALPHA_C","EVENT_TYPE","CLICK_CELL","DBLCLICK_CELL","DBLTAP_CELL","MOUSEDOWN_CELL","MOUSEUP_CELL","SELECTED_CELL","KEYDOWN","MOUSEMOVE_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","MOUSEOVER_CELL","MOUSEOUT_CELL","INPUT_CELL","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","RESIZE_COLUMN","SCROLL","_vibrate","vibrate","_getTargetRowAt","grid","absoluteY","internal","getTargetRowAtInternal","candRow","min","ceil","defaultRowHeight","rowCount","bottom","_getRowsHeight","startRow","startBottom","top","_getRowHeight","row","findAfter","findBefore","_getTargetColAt","absoluteX","left","colCount","col","right","_getColWidth","_getTargetFrozenRowAt","frozenRowCount","scroll","_getTargetFrozenColAt","frozenColCount","_getFrozenRowsRect","height","canvas","width","_getFrozenColsRect","_drawCell","ctx","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","rect","drawRect","bounds","max","save","cellDrawing","drawCells","_getCellDrawing","dcContext","DrawCellContext","selection","onDrawCell","context","_putCellDrawing","pCol","_delayMode","_removeCellDrawing","terminate","restore","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","beginPath","fillStyle","underlayBackgroundColor","fill","count","_invalidateRect","_getVisibleRect","_getInitContext","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","draw","_toPxWidth","round","toPx","calcWidthContext","_getDefaultColPxWidth","defaultColWidth","_adjustColWidth","orgWidth","limit","colWidthsLimit","colWidthsMap","_setColWidth","put","startCol","endCol","w","getRowHeightInternal","rowHeightsMap","endRow","getRowsHeightInternal","h","_getScrollWidth","eachAll","_getScrollHeight","getScrollHeightInternal","_moveFocusCell","shiftKey","offset","getOffsetInvalidateCells","extendRange","range","start","end","beforeRange","beforeRect","getCellsRect","_setFocusCell","makeVisibleCell","focusCell","afterRange","afterRect","intersection","_getMouseAbstractPoint","clientX","pageX","scrollX","clientY","pageY","scrollY","getBoundingClientRect","x","y","_bindEvents","getCellEventArgsSet","abstractPos","cell","getCellAt","eventArgs","canResizeColumn","handler","on","element","eventArgsSet","results","fireListeners","v","resizeCol","_getResizeColAt","columnResizer","cellSelector","doubleTapBefore","longTouchId","clearTimeout","defaultPrevented","setTimeout","select","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","scrollable","moving","cursor","lastMoving","hasListeners","focusControl","listen","selected","onScroll","lastLeft","lastTop","moveX","scrollLeft","moveY","scrollTop","abs","drawImage","redrawRect","copy","frozenRect","_onScroll","onKeyDownMove","_focus","_sel","getMoveLeftColByKeyDownInternal","getMoveUpRowByKeyDownInternal","getMoveRightColByKeyDownInternal","getMoveDownRowByKeyDownInternal","ctrlKey","_onKeyDownMove","copyValue","copyCellValue","getCopyCellValue","Promise","strCellValue","onCopy","onInput","_grid$_$selection$sel","bindEventsInternal","abstractX","abstractY","inPoint","cellRect","getCellRect","_toRelativeRect","absoluteRect","offsetLeft","offsetTop","BaseMouseDownMover","_grid","_handler","_events","_started","_moved","last","_mouseEndPoint","pt","_this2","touchmove","body","_mouseMove","passive","touchend","_mouseUp","touchcancel","mousemove","mouseup","_moveInternal","_this3","off","_upInternal","dispose","CellSelector","_BaseMouseDownMover","_getTargetCell","_bindMoveAndUp","_cell","_this4","makeVisibleCol","makeVisibleRow","ColumnResizer","_BaseMouseDownMover2","_this5","_targetCol","_x","_preX","_invalidateAbsoluteLeft","pre","getColWidth","afterSize","updateScroll","invalidate","setSafeInputValue","input","FocusControl","_EventTarget","_this6","_scrollable","_input","classList","add","readOnly","_isComposition","_compositionEnd","focus","handleCompositionEnd","metaKey","inputClear","clipboardData","setData","_this7","calcTop","getScrollBarSize","toFixed","composition","contains","atts","attributes","removeNames","att","_inputStatus","nodeName","removeName","removeAttribute","_get","editMode","Selection","_EventTarget2","_this8","_start","_end","_this9","_wrapFireSelectedEvent","keepSelect","_this10","_setSelectCell","_isWraped","after","_this$_grid","points","needChange","inCell","_this$_focus","_this$_sel","_this11","_cell$col","_cell$row","_layers","level","DrawLayer","addDraw","sort","a","b","_level","_list","drawing","_col","_row","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","sel","getCellRelativeRect","_isOutOfRange","_toRelativeDrawRect","_this$_grid2","getContext","toCurrentContext","isFrozenCell","fRect","onTerminate","_onTerminate","DrawGrid","_EventTarget3","_this12","_ref","_ref$rowCount","_ref$colCount","_ref$frozenColCount","_ref$frozenRowCount","_ref$defaultRowHeight","_ref$defaultColWidth","initDocument","createRootElement","_assertThisInitialized","alpha","full","em","cellTextOverflows","updateSize","_this$_$selection$sel","cfg","config","offsetWidth","offsetHeight","setFocusRect","newHeight","newWidth","scrollHeight","scrollWidth","setScrollSize","_setRowHeight","maxwidth","minwidth","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","frozen","getRowAt","getColAt","frozenColsWidth","frozenRowsHeight","_getScrollableVisibleRect","resetInputStatus","_this$_$selection$sel2","selCol","selRow","storeInputStatus","setDefaultInputStatus","invalidateGridRect","cellsRect","invalidateTarget","overflowText","trim","disposable","disposables","_ref2","_ref3","_ref4","_ref5","strokeStyle","textAlign","textBaseline","lineWidth","_updateGridRange","_this$_$selection$foc","_this$_$selection$foc2","fontSizeCache","calcStartPosition","_ref7","_ref7$offset","_ref7$padding","_ref7$padding$left","paddingLeft","_ref7$padding$right","paddingRight","_ref7$padding$top","paddingTop","_ref7$padding$bottom","paddingBottom","calcBasePosition","_ref6","_ref6$offset","_ref6$padding","_ref6$padding$left","_ref6$padding$right","_ref6$padding$top","_ref6$padding$bottom","bk","measureText","styleContents","_webpack_require__5","animate","BaseStyle","getFadinState","_generateFadinPointAction","drawInternal","drawCellBase","point","state","stateKey","opacity","cellState","globalAlpha","fadinMgr","activeFadeins","f","BaseColumn","option","_fadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","cellValue","info","_this13","getRecord","helper","getGridCanvasHelper","promise","record","Date","now","getDrawRect","time","currentContext","actStyle","of","StyleClass","convertInternal","drawMessageInternal","getMessage","column","configure","isFadeinWhenCallbackInPromise","message","messageHandler","drawCellMessage","util","tagName","_element$classList","_ref8","text","html","textContent","innerHTML","isNode","arg","nodeType","toNode","dom","slice","toNodeList","jQuery","node","isFocusable","tabIndex","empty","appendHtml","inner","disableFocus","dataset","disableBeforeTabIndex","children","enableFocus","findPrevSiblingFocusable","previousSibling","findNextSiblingFocusable","utils","Column","_BaseColumn","_ref9","getIcon","bgColor","testFontLoad","loadIcons","icons","_webpack_require__8","_webpack_require__8$s","getWidth","breakWidth","itr","candidateIndex","chars","ret","beforeWidth","pop","charWidth","beforeContent","replace","afterContent","Inline","_content","_ref10","_ref11","canvashelper","offsetRight","offsetBottom","fillTextRect","allWidth","candidate","_webpack_require__9","listeners","listenerData","_this14","_this15","unlisten","_this16","_len6","_key6","BaseAction","Editor","_this17","_readOnly","onChangeReadOnlyInternal","icon","_this18","loadIcon","iconList","toNormarizeArray","SortHeaderStyle","columnStyle","DEFAULT","_left","_top","_width","_height","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","parse","calcStr","replacer","num","unit","script","eval","_eval","test","substr","_disabled","disabled","onChangeDisabledInternal","_BaseStyle","_this19","_textAlign","_textBaseline","CHANGE_STYLE","_EventTarget4","_this20","_bgColor","ICON_PROP_KEYS","doms","props","getIconProps","className","tagProps","beforeStyle","defaultView","getComputedStyle","getPropertyValue","quoted","split","quote","clientWidth","isLiga","toSimpleArray","iconProps","workData","prop","_toConsumableArray","toPropArray","_loop2","normarize","iconPropKeys","_webpack_require__12","theme","Theme","plugins","BASIC","MATERIAL_DESIGN","builtin","defTheme","themes","default","defaultTheme","choices","_webpack_require__13","UPDATE_LENGTH","UPDATED_LENGTH","UPDATED_ORDER","getValue","setPromiseBack","_getIndex","dataSource","_sortedIndexMap","mapIndex","DataSource","_EventTarget5","_this21","_length","getOriginal","field","getOriginalField","hasOriginalField","setOriginalField","order","_this22","sortedIndexMap","orderFn","v1","v2","sortPromise","_this23","recordPromiseCallBackInternal","_this24","getField","ss","fieldPromiseCallBackInternal","setField","EMPTY","getPath2D","Path2D","upsideDown","ud","_module$x","offsetX","_module$y","offsetY","xrate","yrate","translate","scale","path2d","CHANGED_VALUE","BaseMessage","detachMessageElement","_messageElement","createMessageElementInternal","_getMessageElement","attach","move","_detach","drawCellMessageInternal","CLASSNAME","MESSAGE_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","MessageElement","rootElement","_rootElement","messageElement","createMessageDomElement","detach","_attachCell","_grid$getAttachCellAr","getAttachCellArea","drawExclamationMarkBox","getRect","boxRect","fillRect","fillColor","fillRectWithState","drawInfomationMarkBox","SCROLLBAR_SIZE","dummy","parseInt","getScrollBarWidth","_webpack_require__16","PI","roundRect","radius","arc","closePath","fillRoundRect","strokeRoundRect","stroke","measureCheckbox","drawCheckbox","check","_ref15","_ref15$uncheckBgColor","uncheckBgColor","_ref15$checkBgColor","checkBgColor","_ref15$borderColor","borderColor","_ref15$boxSize","boxSize","checkPoint","leftWidth","rightWidth","leftLeftPos","leftTopPos","moveTo","lineTo","_ref13","_ref13$offset","clip","pos","fillText","drawButton","_option$backgroundCol","backgroundColor","_option$bgColor","_option$radius","_option$shadow","shadow","_shadow$color","_shadow$blur","blur","_shadow$offsetX","_shadow$offsetY","_shadow$offset","_shadow$offset$x","ox","_shadow$offset$y","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawInlineImageRect","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","_ref14","_ref14$offset","strokeColorsRect","borderColors","strokeRect","positions","preColor","pos1","pos2","strokeRectLines","action","_webpack_require__17","bindCellClickAction","bindCellKeyAction","Action","_BaseAction2","_this25","_action","_this26","getState","getRowRecord","mouseOver","mouseActiveCell","invalidateCell","mouseOut","_webpack_require__18","_webpack_require__19$","KEY_ENTER","_ref16","isTarget","_ref17","_ref17$acceptKeys","acceptKeys","cubicBezier","x2","y2","x3","y3","step","EASINGS","linear","easeIn","easeOut","easeInOut","raf","requestAnimationFrame","duration","easing","startedAt","canceledFlg","createAnim","resolve","reject","anim","_webpack_require__20$","BaseInputEditor","_Editor","inputValue","_this27","open","onOpenCellInternal","onInputCellInternal","onChangeSelectCellInternal","onGridScrollInternal","onSetInputAttrsInternal","normalize","caption","NumberStyle","CheckStyle","ButtonStyle","ImageStyle","IconStyle","PercentCompleteBarStyle","MultilineTextStyle","MenuStyle","_Style","_style$textAlign","adj","_StdBaseStyle2","_this28","_style$textAlign2","_uncheckBgColor","_checkBgColor","_borderColor","_Style2","_this29","_style$textAlign3","buttonBgColor","_buttonBgColor","_this30","_style$textAlign4","_imageSizing","imageSizing","_margin","margin","_Style3","_style$textAlign5","DEFAULT_BAR_COLOR","_this31","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","_Style5","_this32","_style$textBaseline","_lineHeight","lineHeight","_autoWrapText","autoWrapText","_lineClamp","lineClamp","_this33","appearance","_appearance","LRUCache","allCache","loadImage","src","console","error","img","Image","onload","onerror","url","warn","search","isDataUrl","getCacheOrLoad","cacheName","cacheSize","cache","getCacheOrLoad0","CachedDataSource","FilterDataSource","wait","createArrayPromise","plist","_loop3","_loop4","setArrayField","compare","old","createArray","r1","r2","sortArray","dummyPromise","catch","_webpack_require__23","inlineUtils","colorToRGB","_webpack_require__25","fonts","INLINE_ELLIPSIS","getColor","getThemeColor","_len7","_key7","defaultThemeColor","gridThemeColor","_len8","_key8","drawInlines","inlines","drawInline","inline","canDraw","onReady","inlineWidths","reduce","inlineWidth","buildInlines","inlineToString","string","getOverflowInline","isAllowOverflow","getOverflowInlinesIndex","maxWidth","remWidth","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","canBreak","_inline$breakWord","breakWord","_inline$breakAll","breakAll","_inline$splitIndex","splitIndex","truncateInlines","overflowInline","_inlineRect","_ref18","isOverflowInlines","_truncateInlines","truncInlines","setCellOverflowText","ThemeResolver","_len9","_key9","_checkbox","_button","_header","sortArrowColor","GridCanvasHelper","_theme","calcWidth","calcHeight","calculator","createCalculator","box","clipLeft","clipWidth","clipTop","clipHeight","_this34","_ref21","_ref21$offset","_ref21$textAlign","_ref21$textBaseline","_ref21$textOverflow","frozenRowsColor","drawWithClip","toBoxPixelArray","multilines","_this35","_ref22","_ref22$offset","_ref22$textAlign","_ref22$textBaseline","_ref22$lineHeight","_ref22$autoWrapText","_ref22$lineClamp","_ref22$textOverflow","multiInlines","buildedMultiInlines","_ref19","rectHeight","procLineClamp","hasNext","_truncateInlines2","procLine","_breakWidthInlines","_truncateInlines3","lineRow","pad","buildedInline","_multiInlineRect","_ref23","_ref23$textAlign","_ref23$textBaseline","_this36","_ref24$fillColor","defaultBgColor","getFillColorState","fillCell","_ref25$fillColor","getSelectState","selectionBgColor","frozenRowsBgColor","_this37","_ref26","_ref26$borderColor","_ref26$lineWidth","drawBorderWithClip","startOffset","_this38","highlightBorderColor","border","frozenRowsBorderColor","_this39","_ref20","_ref20$animElapsedTim","animElapsedTime","_ref20$uncheckBgColor","checkbox","_ref20$checkBgColor","_ref20$borderColor","_ref20$textAlign","_ref20$textBaseline","boxWidth","uncheckBgRGB","checkBgRGB","checkRGB","colorName","diff","uncheckRGB","_this40","_ref27","_ref27$bgColor","_ref27$offset","_ref27$color","_ref27$textAlign","_ref27$textBaseline","_ref27$textOverflow","load","loads","legacy","testStr","ready","InlineImage","_Inline","_this41","_ref28","imageLeft","imageTop","imageWidth","imageHeight","_src","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loaded","_loadImage","_this42","_inlineImg","_ref29","_ref30","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","rgbMap","hexToNum","hex","createRGB","g","testRGB","_ref33","rateToByte","colorToRGB0","_ref31","tripleHexToRGB","_ref32","g1","g2","b1","b2","sextupleHexToRGB","rgb","styleColor","styleColorToRGB","_EventTarget6","_this43","_this44","BaseHeader","headerCell","_headerCell","core","tools","columns","ListGrid","register","_internal","symbolManager","path2DManager","MAX_SCROLL","_update","domHeight","sbSize","vScrollRange","rScrollRange","_p","_endPointElement","relativeTop","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","_keys","_vals","_sorted","_this45","keyFrom","keyTo","ary","elm","low","high","indexFirst","ratio","setRatio","devicePixelRatio","getAttribute","_len10","_key10","wh","_len11","_key11","_len12","_key12","CheckEditor","ButtonAction","SmallDialogInputEditor","InlineInputEditor","InlineMenuEditor","ImmutableCheckEditor","_CheckEditor","ImmutableInputEditor","_SmallDialogInputEdit","ACTIONS","CHECK","INPUT","columnAction","toUpperCase","_webpack_require__31","_webpack_require__32","toggleValue","_Editor2","_this46","blockKey","doChangeValue","onChange","elapsed","selrange","_Action","SmallDialogInputElement","globalElement","bindGridCount","attachInput","editor","addDisposable","detachInput","gridFocus","_BaseInputEditor","_this47","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","_classList","_type","_inputDialogManager","_this48","doGetCellValue","setInputAttrs","_webpack_require__38","_webpack_require__38$","INPUT_CLASSNAME","tryWithOffEvents","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","_dialog","readonly","createDialogElement","_bindDialogEvents","dialog","_beforePropEditor","_this49","_dialog$classList2","unbindProps","errorMessage","_grid$getAttachCellAr4","activeData","_onInputValue","_dialog$classList","bindProps","_activeData","_attaching","_isActive","_this$_activeData","_beforeValue","_this50","_validate","_this50$_activeData","_this51","stopPropagationOnly","onKeyupAndPress","_doChangeValue","_onInputValueChange","inputOnly","_this$_activeData2","InlineInputElement","_BaseInputEditor2","_this52","_this53","_webpack_require__42$","_input$classList","_bindInputEvents","_this54","_input$classList2","_grid$getAttachCellAr5","_this$_activeData3","_this$_activeData4","_this55","_webpack_require__46$","InlineMenuElement","detachMenu","_Editor3","_this56","_options","_this57","attachMenu","_webpack_require__48","_webpack_require__48$","_webpack_require__49","ITEM_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","attachElement","menu","openMenu","emptyItemEl","valueItemEl","_ref35","_item$classList","valueindex","span","optionToLi","_menu$classList","focusEl","focusIndex","_grid$getAttachCellAr6","allHeight","menuClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","_menu","_bindMenuEvents","_menu$classList2","_this$_activeData5","closeMenu","_this$_activeData6","_this58","items","querySelectorAll","NumberColumn","CheckColumn","ButtonColumn","ImageColumn","PercentCompleteBarColumn","IconColumn","BranchGraphColumn","MenuColumn","MultilineTextColumn","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","columnType","defaultFotmat","_this59","_format","format","Intl","NumberFormat","fmt","clone","isNaN","_BaseColumn2","toBoolean","_ref36","opt","_Column2","_this60","_caption","_ref37","active","MAX_LRU_CACHE_SIZE","_BaseColumn3","getImage","_ref38","_calcKeepAspectRatioS","maxHeight","calcKeepAspectRatioSize","_map","_cacheSize","remKey","shift","_this61","_min","_max","_formatter","formatter","svalue","rate","barMaxWidth","MARGIN","barTop","barLeft","barSize","_this62","_tagName","_className","_name","_iconWidth","iconWidth","Infinity","repeatArray","_webpack_require__55","BranchGraphStyle","BranchLine","fromIndex","_ref39","toIndex","colorIndex","BranchPoint","_ref40","_ref40$commit","commit","_ref40$lines","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","calcCommand","command","timelineData","cmd","from","branch","to","_ref41","branches","fromTargetIndex","findBranchRootIndex","branchTargetFromIndex","branchPoint","targetLine","merge","_ref42","_cmd$branch","_ref44","fromTargetLine","commitMerge","_ref43","commitTag","calcBranchesInfo","allData","_loop5","dataIndex","getAllColumnData","_BaseColumn4","_this63","_cache","_ref47","_ref48","_ref49","upLineIndexKey","downLineIndexKey","branchColors","branchLineWidth","circleSize","mergeStyle","branchXPoints","tl","textWidth","calcBranchXPoints","line","upLineIndex","downLineIndex","pointIndex","_ref45","_ref46","lineCap","upX","upRect","upY","bezierCurveTo","downX","downRect","downY","renderMerge","DEFAULT_BRANCH_COLORS","_BaseStyle2","_this64","_style$textAlign6","_branchColors","_circleSize","_branchLineWidth","_mergeStyle","_BaseColumn5","_this65","_ref50","_convertInternal","basePadding","textPadding","iconPadding","path","_BaseColumn6","_ref51","multilineText","getProp","superObj","defNames","superTheme","hiliteBorderColor","_this$_","_this$_2","_this$_3","_this$_4","_this$_5","_this$_6","_this$_7","_this$_8","_this$_9","_this$_10","_this$_11","_this$_12","_this$_13","cacheLinearGradient","_grid$getCellRelative","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","getLinearGradient","0","1","header","_args$grid","_DataSource","_this66","_rCache","_fCache","fCache","_ref52","_setFieldCache","DataSourceIterator","_dataSource","_curIndex","_data","_getIndexData","nest","FilterData","dc","original","_owner","_dataSourceItr","_filter","_filterdList","_queues","filterdList","queues","_findIndex","timeout","_findIndexWithTimeout","testTimeout","_this67","dataSourceItr","movePrev","_DataSource2","_this68","_filterData","_webpack_require__62","headerType","HeaderBaseStyle","_webpack_require__64","MessageHandler","TooltipHandler","headerId","_getHeaderCellRange","headerMap","getHeaderCellRange","_getCellValue","getCell","_getField","_getCellMessage","_getCellIcon0","retIcon","_getRowRecordIndex","hasField","_hasField","_onDrawValue","_ref53","gridCanvasHelper","drawCellBg","fillOpt","fillCellWithState","drawCellBorder","borderWithState","selId","_headerBorderWithState","_getCellIcon","_refreshHeader","headerEvents","HeaderMap","headerObjects","_grid$_$headerEvents","ids","bindGridEvent","_grid$_$headerEvents2","_grid$_$headerEvents3","_refreshRowCount","minWidth","setColWidth","setMinColWidth","setMaxColWidth","isArrayHeaderRowHeight","headerRowHeight","setRowHeight","_tryWithUpdateDataSource","dataSourceEventIds","_setRecords","records","ofArray","_setDataSource","_columns","_headerCells","_headerObjects","_addHeaders","_setupHeaderType","isCellInRange","roots","_this69","rowCells","_newRow","hd","headerStyle","_this70","getHeaderCellRangeById","newRow","prev","_DrawGrid","_this71","adjustListGridOption","sortState","tooltipHandler","columnIndex","_this$selection$range","_this$selection$range2","_this$selection$range3","newCol","getColumnIndexByField","_getHeaderCellRange3","_getHeaderCellRange2","getRowHeight","setRect","_updateRect","valueCallback","changeValueCallback","_this72","_setCellValue","self","_this73","_getHeaderCellRange4","_ref56","_ref57","_ref58","_ref59","_set","InlineIcon","InlineSvg","InlineDrawer","InlinePath2D","iconOf","svg","regedIcons","regedIcon","_ref61","drawWidth","drawHeight","_ref60","_ref60$offset","drawRegisteredIcon","_this74","il","_this75","_icon","_ref62","_ref63","FontRuler","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","activeCallback","inactiveCallback","_this76","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","lastResortFont","HAS_WEBKIT_FALLBACK_BUG","hasWebKitFallbackBug","widthsMatchLastResortWidths_","callbacks","_this77","cb","display","white-space","font-variant","font-size","font-style","font-weight","line-height","computeStyle","el_","buildSvgDataUrl","XMLSerializer","serializeToString","getSvgElement","DOMParser","parseFromString","_InlineImage","_ref64","svgElem","elmWidth","elmHeight","_this78","_ref65","_draw","_ref66","_ref67","_this79","_ref68","_path","_ref69","_ref70","parser","_this80","_ops","_len13","_key13","op","CanvasRenderingContext2D","originalFill","_this81","_len14","_key14","PathCommands","builder","argsProvider","canvasOperations","PathCommandsParser","_this82","_commands","_len15","_key15","_this$_commands","_len16","_key16","_this83","ops","tokens","pathTokens","subsequentCommand","fst","log","mag","sqrt","pow","angle","sign","acos","clamp","dot","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","cost","cos","sint","sin","rotClockwise","midPoint","xPrime2","pointMul","rx2","ry2","lambda","factor","cPrime","sum","rotCounterClockwise","meanVec","x1UnitVector","x2UnitVector","theta","rotate","lMx","lMy","_this84","reflected","lx","ly","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","_makeReflected","Q","quadraticCurveTo","q","T","_makeReflected2","A","xAxisRotation","largeArcFlag","sweepFlag","Header","SortHeader","_BaseHeader","_ref71","_BaseStyle3","_this85","_Style7","_this86","_sortArrowColor","_webpack_require__72$","_BaseHeader2","_this87","_sort","_range","_ref72","_style$textBaseline2","arrowSize","newState","_this88","_executeSort","_webpack_require__74","ErrorMessage","WarningMessage","InfoMessage","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","warning","normalizeMessage","hasMessage","_messageInstances","_bindGridEvent","messageInstances","_getMessageInstanceOfMessage","_attachInfo","instance","attachMessageElement","moveMessageElement","_this89","onSelectMessage","_attach","_move","ErrorMessageElement","messageUtils","_this90","WarningMessageElement","_BaseMessage2","_MessageElement2","_this91","_BaseMessage3","_webpack_require__75","Tooltip","TOOLTIP_INSTANCE_FACTORY","overflow-text","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","detachTooltipElement","attachTooltipElement","moveTooltipElement","_this92","_isAttachCell","getCellOverflowText","getTooltipInstanceInfo","BaseTooltip","TooltipElement","_BaseTooltip","_tooltipElement","createTooltipElementInternal","_getTooltipElement","CONTENT_CLASSNAME","createTooltipDomElement","_grid$getAttachCellAr7","themePlugins","iconPlugins","values","registers","global"],"mappings":"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","file":"cheetahGrid.es5.min.js","sourcesContent":["(function(){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 60);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n  get find() {\n    if (arrayFind) {\n      return arrayFind;\n    }\n\n    if (Array.prototype.find) {\n      arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n    } else {\n      arrayFind = (arr, predicate) => {\n        const index = array.findIndex(arr, predicate);\n        return index >= 0 ? arr[index] : undefined;\n      };\n    }\n\n    return arrayFind;\n  },\n\n  get findIndex() {\n    if (arrayFindIndex) {\n      return arrayFindIndex;\n    }\n\n    if (Array.prototype.findIndex) {\n      arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n    } else {\n      arrayFindIndex = (arr, predicate) => {\n        const {\n          length\n        } = arr;\n\n        for (let i = 0; i < length; i++) {\n          const value = arr[i];\n\n          if (predicate(value, i, arr)) {\n            return i;\n          }\n        }\n\n        return -1;\n      };\n    }\n\n    return arrayFindIndex;\n  }\n\n};\n\nfunction isDef(data) {\n  return data !== null && typeof data !== 'undefined';\n}\n\nconst ua = window.navigator.userAgent.toLowerCase();\nconst IE = ua.match(/(msie)/) || ua.match(/trident/);\nconst Chrome = ua.indexOf('chrome') > -1 && ua.indexOf('edge') === -1;\nconst Firefox = ua.indexOf('firefox') > -1;\n\nfunction setReadonly(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    enumerable: false,\n    configurable: true,\n    value\n  });\n}\n\nfunction each(obj, fn) {\n  for (const key in obj) {\n    fn(obj[key], key, obj);\n  }\n}\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\nfunction extend(...args) {\n  const result = {};\n  args.forEach(source => {\n    for (const key in source) {\n      Object.defineProperty(result, key, {\n        get() {\n          return source[key];\n        },\n\n        set(val) {\n          source[key] = val;\n        },\n\n        configurable: true,\n        enumerable: true\n      });\n    }\n  });\n  return result;\n}\n\nfunction isDescendantElement(root, target) {\n  while (target.parentElement) {\n    const p = target.parentElement;\n\n    if (root === p) {\n      return true;\n    }\n\n    target = p;\n  }\n\n  return false;\n}\n\nfunction applyChainSafe(obj, fn, ...names) {\n  let value = obj;\n\n  for (let i = 0; i < names.length && isDef(value); i++) {\n    value = fn(value, names[i]);\n  }\n\n  return value;\n}\n\nfunction getChainSafe(obj, ...names) {\n  return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\n\nfunction getOrApply(value, ...args) {\n  if (typeof value === 'function') {\n    return value(...args);\n  } else {\n    return value;\n  }\n}\n\nfunction endsWith(str, searchString, position) {\n  const subjectString = str.toString();\n\n  if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n    position = subjectString.length;\n  }\n\n  position -= searchString.length;\n  const lastIndex = subjectString.lastIndexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\nfunction genChars(s) {\n  // Surrogate Code Point\n  // [\\uD800-\\uDBFF]\n  // Variation Selectors\n  // FVS [\\u180B-\\u180D]\n  // VS1VS16 [\\uFE00-\\uFE0F]\n  // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n  const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n\n  };\n}\n\nfunction genWords(s) {\n  const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n\n  };\n}\n\nconst isPromise = data => data && typeof data.then === 'function';\n\nconst then = (result, callback) => isPromise(result) ? result.then(r => callback(r)) : callback(result);\n\nfunction getMouseButtons(e) {\n  if (isDef(e.buttons)) {\n    return e.buttons;\n  }\n  /*for legacy*/\n\n\n  if (isDef(e.which)) {\n    if (e.which === 3) {\n      //right?\n      return 4;\n    }\n\n    if (e.which === 2) {\n      //middle?\n      return 4;\n    }\n\n    return e.which; //left or no\n  }\n\n  if (e.button === 0 || e.button === 1) {\n    return 1; //candidate left\n  }\n\n  if (e.button === 2) {\n    return 2; // right\n  }\n\n  return 0; //no or middle?\n}\n\nfunction getKeyCode(e) {\n  return e.keyCode || e.which;\n}\n\nfunction isTouchEvent(e) {\n  return !!e.changedTouches;\n}\n\nfunction getIgnoreCase(obj, name) {\n  if (obj[name]) {\n    return obj[name];\n  }\n\n  const l = name.toLowerCase();\n\n  if (obj[l]) {\n    return obj[l];\n  }\n\n  const u = name.toLowerCase();\n\n  if (obj[u]) {\n    return obj[u];\n  }\n\n  for (const k in obj) {\n    if (k.toLowerCase() === l) {\n      return obj[k];\n    }\n  }\n\n  return undefined;\n}\n\nfunction cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nfunction toBoxArray(obj) {\n  if (!__webpack_provided_Array_dot_isArray(obj)) {\n    return [obj\n    /*top*/\n    , obj\n    /*right*/\n    , obj\n    /*bottom*/\n    , obj\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 3) {\n    return [obj[0]\n    /*top*/\n    , obj[1]\n    /*right*/\n    , obj[2]\n    /*bottom*/\n    , obj[1]\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 2) {\n    return [obj[0]\n    /*top*/\n    , obj[1]\n    /*right*/\n    , obj[0]\n    /*bottom*/\n    , obj[1]\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 1) {\n    return [obj[0]\n    /*top*/\n    , obj[0]\n    /*right*/\n    , obj[0]\n    /*bottom*/\n    , obj[0]\n    /*left*/\n    ];\n  }\n\n  return obj;\n} // Chrome 33554431\n// FireFox 17895588\n// IE 10737433\n\n\nmodule.exports = {\n  isDef,\n  browser: {\n    IE,\n    Chrome,\n    Firefox,\n    heightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433 // default IE limit\n\n  },\n  extend,\n  isDescendantElement,\n  getChainSafe,\n  applyChainSafe,\n  getOrApply,\n  getIgnoreCase,\n  isPromise,\n  then,\n  array,\n  obj: {\n    setReadonly,\n    each,\n    isObject\n  },\n  str: {\n    endsWith,\n    genChars,\n    genWords\n  },\n  event: {\n    getMouseButtons,\n    getKeyCode,\n    isTouchEvent,\n    cancel\n  },\n  style: {\n    toBoxArray\n  },\n\n  emptyFn() {}\n\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Symbol = window.Symbol ? window.Symbol : (() => {\n  function random() {\n    const c = 'abcdefghijklmnopqrstuvwxyz0123456789';\n    const cl = c.length;\n    let r = '';\n\n    for (let i = 0; i < 10; i++) {\n      r += c[Math.floor(Math.random() * cl)];\n    }\n\n    return r;\n  }\n\n  return name => {\n    if (name) {\n      return `#${name}_${random()}`;\n    } else {\n      return `#_${random()}`;\n    }\n  };\n})();\nconst mem = {};\nmodule.exports = {\n  get(name) {\n    if (name) {\n      return mem[name] ? mem[name] : mem[name] = Symbol(name);\n    } else {\n      return Symbol();\n    }\n  },\n\n  get PROTECTED_SYMBOL() {\n    return this.get('protected');\n  },\n\n  get CHECK_COLUMN_STATE_ID() {\n    return this.get('chkcol.stateID');\n  },\n\n  get BUTTON_COLUMN_STATE_ID() {\n    return this.get('btncol.stateID');\n  },\n\n  get COLUMN_FADEIN_STATE_ID() {\n    return this.get('col.fadein_stateID');\n  },\n\n  get BRANCH_GRAPH_COLUMN_STATE_ID() {\n    return this.get('branch_graph_col.stateID');\n  },\n\n  get SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n    return this.get('small_dialog_input_editor.stateID');\n  },\n\n  get INLINE_INPUT_EDITOR_STATE_ID() {\n    return this.get('inline_input_editor.stateID');\n  },\n\n  get INLINE_MENU_EDITOR_STATE_ID() {\n    return this.get('inline_menu_editor.stateID');\n  }\n\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'Array_isArray': window.Array.isArray\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(20);\n\nlet defaultStyle;\n\nclass Style extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._padding = style.padding;\n    this._textOverflow = style.textOverflow || 'clip';\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n\n  get font() {\n    return this._font;\n  }\n\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n\n  get padding() {\n    return this._padding;\n  }\n\n  set padding(padding) {\n    this._padding = padding;\n    this.doChangeStyle();\n  }\n\n  get textOverflow() {\n    return this._textOverflow;\n  }\n\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new Style(this);\n  }\n\n}\n\nmodule.exports = Style;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    each\n  }\n} = __webpack_require__(0);\n\nlet nextId = 1;\n\nclass EventHandler {\n  constructor() {\n    this._listeners = {};\n  }\n\n  on(target, type, listener, ...options) {\n    if (target.addEventListener) {\n      target.addEventListener(type, listener, ...options);\n    }\n\n    const obj = {\n      target,\n      type,\n      listener,\n      options\n    };\n    const id = nextId++;\n    this._listeners[id] = obj;\n    return id;\n  }\n\n  tryWithOffEvents(target, type, call) {\n    const list = [];\n\n    try {\n      each(this._listeners, obj => {\n        if (obj.target === target && obj.type === type) {\n          if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n          }\n\n          list.push(obj);\n        }\n      });\n      call();\n    } finally {\n      list.forEach(obj => {\n        if (obj.target.addEventListener) {\n          obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n        }\n      });\n    }\n  }\n\n  off(id) {\n    if (!id) {\n      return;\n    }\n\n    const obj = this._listeners[id];\n\n    if (!obj) {\n      return;\n    }\n\n    delete this._listeners[id];\n\n    if (obj.target.removeEventListener) {\n      obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n    }\n  }\n\n  fire(target, type, ...args) {\n    each(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        obj.listener.call(obj.target, ...args);\n      }\n    });\n  }\n\n  hasListener(target, type) {\n    let result = false;\n    each(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        result = true;\n      }\n    });\n    return result;\n  }\n\n  clear() {\n    each(this._listeners, obj => {\n      if (obj.target.removeEventListener) {\n        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n      }\n    });\n    this._listeners = {};\n  }\n\n  dispose() {\n    this.clear();\n    this._listeners = null;\n  }\n\n}\n\nmodule.exports = EventHandler;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(65);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef,\n  browser,\n  isDescendantElement,\n  array,\n  isPromise,\n  event: {\n    isTouchEvent,\n    getMouseButtons,\n    getKeyCode,\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst EventTarget = __webpack_require__(13);\n\nconst Rect = __webpack_require__(17);\n\nconst Scrollable = __webpack_require__(62);\n\nconst EventHandler = __webpack_require__(4);\n\nconst NumberMap = __webpack_require__(66);\n\nconst style = __webpack_require__(30);\n\nconst calc = __webpack_require__(18);\n\nconst {\n  getFontSize\n} = __webpack_require__(8);\n\nconst hiDPI = __webpack_require__(67); //protected symbol\n\n\nconst {\n  PROTECTED_SYMBOL: _\n} = __webpack_require__(1);\n\nfunction createRootElement() {\n  const element = document.createElement('div');\n  element.classList.add('cheetah-grid');\n  return element;\n}\n\nconst KEY_END = 35;\nconst KEY_HOME = 36;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_ALPHA_C = 67;\nconst EVENT_TYPE = {\n  CLICK_CELL: 'click_cell',\n  DBLCLICK_CELL: 'dblclick_cell',\n  DBLTAP_CELL: 'dbltap_cell',\n  MOUSEDOWN_CELL: 'mousedown_cell',\n  MOUSEUP_CELL: 'mouseup_cell',\n  SELECTED_CELL: 'selected_cell',\n  KEYDOWN: 'keydown',\n  MOUSEMOVE_CELL: 'mousemove_cell',\n  MOUSEENTER_CELL: 'mouseenter_cell',\n  MOUSELEAVE_CELL: 'mouseleave_cell',\n  MOUSEOVER_CELL: 'mouseover_cell',\n  MOUSEOUT_CELL: 'mouseout_cell',\n  INPUT_CELL: 'input_cell',\n  EDITABLEINPUT_CELL: 'editableinput_cell',\n  MODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\n  RESIZE_COLUMN: 'resize_column',\n  SCROLL: 'scroll'\n}; //private methods\n\nfunction _vibrate(e) {\n  if (navigator.vibrate && isTouchEvent(e)) {\n    navigator.vibrate(50);\n  }\n}\n\nfunction _getTargetRowAt(grid, absoluteY) {\n  const internal = grid.getTargetRowAtInternal(absoluteY);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  const findBefore = (startRow, startBottom) => {\n    let bottom = startBottom;\n\n    for (let row = startRow; row >= 0; row--) {\n      const height = _getRowHeight(grid, row);\n\n      const top = bottom - height;\n\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n\n      bottom = top;\n    }\n\n    return null;\n  };\n\n  const findAfter = (startRow, startBottom) => {\n    let top = startBottom - _getRowHeight(grid, startRow);\n\n    const {\n      rowCount\n    } = grid[_];\n\n    for (let row = startRow; row < rowCount; row++) {\n      const height = _getRowHeight(grid, row);\n\n      const bottom = top + height;\n\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n\n      top = bottom;\n    }\n\n    return null;\n  };\n\n  const candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\n  const bottom = _getRowsHeight(grid, 0, candRow);\n\n  if (absoluteY >= bottom) {\n    return findAfter(candRow, bottom);\n  } else {\n    return findBefore(candRow, bottom);\n  }\n}\n\nfunction _getTargetColAt(grid, absoluteX) {\n  let left = 0;\n  const {\n    colCount\n  } = grid[_];\n\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    const right = left + width;\n\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n\n    left = right;\n  }\n\n  return null;\n}\n\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n\n  let {\n    top\n  } = grid[_].scroll;\n  const rowCount = grid[_].frozenRowCount;\n\n  for (let row = 0; row < rowCount; row++) {\n    const height = _getRowHeight(grid, row);\n\n    const bottom = top + height;\n\n    if (bottom > absoluteY) {\n      return {\n        top,\n        row\n      };\n    }\n\n    top = bottom;\n  }\n\n  return null;\n}\n\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n\n  let {\n    left\n  } = grid[_].scroll;\n  const colCount = grid[_].frozenColCount;\n\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    const right = left + width;\n\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n\n    left = right;\n  }\n\n  return null;\n}\n\nfunction _getFrozenRowsRect(grid) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n\n  const {\n    top\n  } = grid[_].scroll;\n  let height = 0;\n  const rowCount = grid[_].frozenRowCount;\n\n  for (let row = 0; row < rowCount; row++) {\n    height += _getRowHeight(grid, row);\n  }\n\n  return new Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n\nfunction _getFrozenColsRect(grid) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n\n  const {\n    left\n  } = grid[_].scroll;\n  let width = 0;\n  const colCount = grid[_].frozenColCount;\n\n  for (let col = 0; col < colCount; col++) {\n    width += _getColWidth(grid, col);\n  }\n\n  return new Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n\nfunction _getCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return null;\n  }\n\n  return grid[_].drawCells[row][col];\n}\n\nfunction _putCellDrawing(grid, col, row, context) {\n  if (!grid[_].drawCells[row]) {\n    grid[_].drawCells[row] = {};\n  }\n\n  grid[_].drawCells[row][col] = context;\n}\n\nfunction _removeCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return;\n  }\n\n  delete grid[_].drawCells[row][col];\n\n  if (Object.keys(grid[_].drawCells[row]).length === 0) {\n    delete grid[_].drawCells[row];\n  }\n}\n\nfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n  const rect = new Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n  const drawRect = Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n\n  if (drawRect.height > 0 && drawRect.width > 0) {\n    ctx.save();\n\n    try {\n      const cellDrawing = _getCellDrawing(grid, col, row);\n\n      if (cellDrawing) {\n        cellDrawing.cancel();\n      }\n\n      const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, grid[_].selection, drawLayers);\n      const p = grid.onDrawCell(col, row, dcContext);\n\n      if (isPromise(p)) {\n        //\n        _putCellDrawing(grid, col, row, dcContext);\n\n        const pCol = col;\n\n        dcContext._delayMode(grid, () => {\n          _removeCellDrawing(grid, pCol, row);\n        });\n\n        p.then(() => {\n          dcContext.terminate();\n        });\n      }\n    } finally {\n      ctx.restore();\n    }\n  }\n}\n\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n  const {\n    colCount\n  } = grid[_];\n\n  const drawOuter = (col, absoluteLeft) => {\n    //\n    if (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n      const outerLeft = absoluteLeft - visibleRect.left;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n      ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n\n  let skipAbsoluteLeft = 0;\n\n  if (initFrozenCol) {\n    let absoluteLeft = initFrozenCol.left;\n    const count = grid[_].frozenColCount;\n\n    for (let {\n      col\n    } = initFrozenCol; col < count; col++) {\n      const width = _getColWidth(grid, col);\n\n      _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n\n      absoluteLeft += width;\n\n      if (drawRight <= absoluteLeft) {\n        //\n        drawOuter(col, absoluteLeft);\n        return;\n      }\n    }\n\n    skipAbsoluteLeft = absoluteLeft;\n  }\n\n  let absoluteLeft = initCol.left;\n\n  for (let {\n    col\n  } = initCol; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n\n    absoluteLeft += width;\n\n    if (drawRight <= absoluteLeft) {\n      //\n      drawOuter(col, absoluteLeft);\n      return;\n    }\n  }\n\n  drawOuter(colCount - 1, absoluteLeft);\n}\n\nfunction _invalidateRect(grid, drawRect) {\n  const visibleRect = _getVisibleRect(grid);\n\n  const {\n    rowCount\n  } = grid[_];\n\n  const ctx = grid._getInitContext();\n\n  const initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n    top: _getRowsHeight(grid, 0, rowCount - 1),\n    row: rowCount\n  };\n  const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n    left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n    col: grid[_].colCount\n  };\n  const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n  const drawRight = Math.min(visibleRect.right, drawRect.right);\n\n  const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\n  const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n  const drawLayers = new DrawLayers();\n\n  const drawOuter = (row, absoluteTop) => {\n    //\n    if (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n      const outerTop = absoluteTop - visibleRect.top;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n      ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n\n  let skipAbsoluteTop = 0;\n\n  if (initFrozenRow) {\n    let absoluteTop = initFrozenRow.top;\n    const count = grid[_].frozenRowCount;\n\n    for (let {\n      row\n    } = initFrozenRow; row < count; row++) {\n      const height = _getRowHeight(grid, row);\n\n      _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n\n      absoluteTop += height;\n\n      if (drawBottom <= absoluteTop) {\n        //\n        drawOuter(row, absoluteTop);\n        drawLayers.draw(ctx);\n        return;\n      }\n    }\n\n    skipAbsoluteTop = absoluteTop;\n  }\n\n  let absoluteTop = initRow.top;\n\n  for (let {\n    row\n  } = initRow; row < rowCount; row++) {\n    const height = _getRowHeight(grid, row); //\n\n\n    _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n\n    absoluteTop += height;\n\n    if (drawBottom <= absoluteTop) {\n      //\n      drawOuter(row, absoluteTop);\n      drawLayers.draw(ctx);\n      return;\n    }\n  }\n\n  drawOuter(rowCount - 1, absoluteTop);\n  drawLayers.draw(ctx);\n}\n\nfunction _toPxWidth(grid, width) {\n  return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n\nfunction _getDefaultColPxWidth(grid) {\n  return _toPxWidth(grid, grid.defaultColWidth);\n}\n\nfunction _adjustColWidth(grid, col, orgWidth) {\n  const limit = grid[_].colWidthsLimit[col];\n\n  if (!limit) {\n    return orgWidth;\n  }\n\n  if (limit.min) {\n    const min = _toPxWidth(grid, limit.min);\n\n    if (min > orgWidth) {\n      return min;\n    }\n  }\n\n  if (limit.max) {\n    const max = _toPxWidth(grid, limit.max);\n\n    if (max < orgWidth) {\n      return max;\n    }\n  }\n\n  return orgWidth;\n}\n\nfunction _getColWidth(grid, col) {\n  const width = grid[_].colWidthsMap.get(col);\n\n  if (width) {\n    return _adjustColWidth(grid, col, _toPxWidth(grid, width));\n  }\n\n  return _getDefaultColPxWidth(grid);\n}\n\nfunction _setColWidth(grid, col, width) {\n  grid[_].colWidthsMap.put(col, width);\n}\n\nfunction _getColsWidth(grid, startCol, endCol) {\n  const colCount = endCol - startCol + 1;\n  let w = _getDefaultColPxWidth(grid) * colCount;\n\n  grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n    w += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n  });\n\n  return w;\n}\n\nfunction _getRowHeight(grid, row) {\n  const internal = grid.getRowHeightInternal(row);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  const height = grid[_].rowHeightsMap.get(row);\n\n  if (height) {\n    return height;\n  }\n\n  return grid[_].defaultRowHeight;\n}\n\nfunction _setRowHeight(grid, row, height) {\n  grid[_].rowHeightsMap.put(row, height);\n}\n\nfunction _getRowsHeight(grid, startRow, endRow) {\n  const internal = grid.getRowsHeightInternal(startRow, endRow);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  const rowCount = endRow - startRow + 1;\n  let h = grid[_].defaultRowHeight * rowCount;\n\n  grid[_].rowHeightsMap.each(startRow, endRow, height => {\n    h += height - grid[_].defaultRowHeight;\n  });\n\n  return h;\n}\n\nfunction _getScrollWidth(grid) {\n  let w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\n  grid[_].colWidthsMap.eachAll((width, col) => {\n    w += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n  });\n\n  return w;\n}\n\nfunction _getScrollHeight(grid, row) {\n  const internal = grid.getScrollHeightInternal(row);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  let h = grid[_].defaultRowHeight * grid[_].rowCount;\n\n  grid[_].rowHeightsMap.eachAll(height => {\n    h += height - grid[_].defaultRowHeight;\n  });\n\n  return h;\n}\n\nfunction _onScroll(grid, e) {\n  const lastLeft = grid[_].scroll.left;\n  const lastTop = grid[_].scroll.top;\n  const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n  const moveY = grid[_].scrollable.scrollTop - lastTop; //\n\n  grid[_].scroll = {\n    left: grid[_].scrollable.scrollLeft,\n    top: grid[_].scrollable.scrollTop\n  };\n\n  const visibleRect = _getVisibleRect(grid);\n\n  if (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n    //\n    _invalidateRect(grid, visibleRect);\n  } else {\n    //\n    grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n    if (moveX !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n\n      if (moveX < 0) {\n        redrawRect.width = -moveX;\n\n        if (grid[_].frozenColCount > 0) {\n          //\n          const frozenRect = _getFrozenColsRect(grid);\n\n          redrawRect.width += frozenRect.width;\n        }\n      } else if (moveX > 0) {\n        redrawRect.left = redrawRect.right - moveX;\n      } //\n\n\n      _invalidateRect(grid, redrawRect);\n\n      if (moveX > 0) {\n        if (grid[_].frozenColCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenColsRect(grid));\n        }\n      }\n    }\n\n    if (moveY !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n\n      if (moveY < 0) {\n        redrawRect.height = -moveY;\n\n        if (grid[_].frozenRowCount > 0) {\n          //\n          const frozenRect = _getFrozenRowsRect(grid);\n\n          redrawRect.height += frozenRect.height;\n        }\n      } else if (moveY > 0) {\n        redrawRect.top = redrawRect.bottom - moveY;\n      } //\n\n\n      _invalidateRect(grid, redrawRect);\n\n      if (moveY > 0) {\n        if (grid[_].frozenRowCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenRowsRect(grid));\n        }\n      }\n    }\n  }\n}\n\nfunction _onKeyDownMove(grid, e) {\n  const {\n    shiftKey\n  } = e;\n  const keyCode = getKeyCode(e);\n  const focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\n  if (keyCode === KEY_LEFT) {\n    const col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\n    if (col < 0) {\n      return;\n    }\n\n    _moveFocusCell(grid, col, focusCell.row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_UP) {\n    const row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\n    if (row < 0) {\n      return;\n    }\n\n    _moveFocusCell(grid, focusCell.col, row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_RIGHT) {\n    const col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\n    if (grid.colCount <= col) {\n      return;\n    }\n\n    _moveFocusCell(grid, col, focusCell.row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_DOWN) {\n    const row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\n    if (grid.rowCount <= row) {\n      return;\n    }\n\n    _moveFocusCell(grid, focusCell.col, row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_HOME) {\n    const row = e.ctrlKey ? 0 : focusCell.row;\n\n    _moveFocusCell(grid, 0, row, e.shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_END) {\n    const row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\n    _moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\n    cancelEvent(e);\n  }\n}\n\nfunction _moveFocusCell(grid, col, row, shiftKey) {\n  const offset = grid.getOffsetInvalidateCells();\n\n  function extendRange(range) {\n    if (offset > 0) {\n      range.start.col -= offset;\n      range.start.row -= offset;\n      range.end.col += offset;\n      range.end.row += offset;\n    }\n\n    return range;\n  }\n\n  const beforeRange = extendRange(grid.selection.range);\n  const beforeRect = grid.getCellsRect(beforeRange.start.col, beforeRange.start.row, beforeRange.end.col, beforeRange.end.row);\n\n  grid.selection._setFocusCell(col, row, shiftKey);\n\n  grid.makeVisibleCell(col, row);\n  grid.focusCell(col, row);\n  const afterRange = extendRange(grid.selection.range);\n  const afterRect = grid.getCellsRect(afterRange.start.col, afterRange.start.row, afterRange.end.col, afterRange.end.row);\n\n  if (afterRect.intersection(beforeRect)) {\n    const invalidateRect = Rect.max(afterRect, beforeRect);\n\n    _invalidateRect(grid, invalidateRect);\n  } else {\n    _invalidateRect(grid, beforeRect);\n\n    _invalidateRect(grid, afterRect);\n  }\n}\n\nfunction _getMouseAbstractPoint(grid, e) {\n  if (isTouchEvent(e)) {\n    e = e.changedTouches[0];\n  }\n\n  const clientX = e.clientX || e.pageX + window.scrollX;\n  const clientY = e.clientY || e.pageY + window.scrollY;\n\n  const rect = grid[_].canvas.getBoundingClientRect();\n\n  if (rect.right <= clientX) {\n    return null;\n  }\n\n  if (rect.bottom <= clientY) {\n    return null;\n  }\n\n  const x = clientX - rect.left + grid[_].scroll.left;\n  const y = clientY - rect.top + grid[_].scroll.top;\n  return {\n    x,\n    y\n  };\n}\n\nfunction _bindEvents(grid) {\n  const getCellEventArgsSet = e => {\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n\n    if (!abstractPos) {\n      return {};\n    }\n\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\n    if (cell.col < 0 || cell.row < 0) {\n      return {\n        abstractPos,\n        cell\n      };\n    }\n\n    const eventArgs = {\n      col: cell.col,\n      row: cell.row,\n      event: e\n    };\n    return {\n      abstractPos,\n      cell,\n      eventArgs\n    };\n  };\n\n  const canResizeColumn = col => {\n    const limit = grid[_].colWidthsLimit[col];\n\n    if (!limit || !limit.min || !limit.max) {\n      return true;\n    }\n\n    return limit.max !== limit.min;\n  };\n\n  grid[_].handler.on(grid[_].element, 'mousedown', e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n\n    if (!abstractPos) {\n      return;\n    }\n\n    if (eventArgs) {\n      const results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\n      if (array.findIndex(results, v => !v) >= 0) {\n        return;\n      }\n    }\n\n    if (getMouseButtons(e) !== 1) {\n      return;\n    }\n\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      //\n      grid[_].columnResizer.start(resizeCol, e);\n    } else {\n      //\n      grid[_].cellSelector.start(e);\n    }\n  });\n\n  let doubleTapBefore = null;\n  let longTouchId = null;\n\n  grid[_].handler.on(grid[_].element, 'touchstart', e => {\n    if (!doubleTapBefore) {\n      doubleTapBefore = getCellEventArgsSet(e).eventArgs;\n      setTimeout(() => {\n        doubleTapBefore = null;\n      }, 350);\n    } else {\n      const {\n        eventArgs\n      } = getCellEventArgsSet(e);\n\n      if (eventArgs && eventArgs.col === doubleTapBefore.col && eventArgs.row === doubleTapBefore.row) {\n        grid.fireListeners(EVENT_TYPE.DBLTAP_CELL, eventArgs);\n      }\n\n      doubleTapBefore = null;\n\n      if (e.defaultPrevented) {\n        return;\n      }\n    }\n\n    longTouchId = setTimeout(() => {\n      //\n      longTouchId = null;\n\n      const abstractPos = _getMouseAbstractPoint(grid, e);\n\n      if (!abstractPos) {\n        return;\n      }\n\n      const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\n      if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n        //\n        grid[_].columnResizer.start(resizeCol, e);\n      } else {\n        //\n        grid[_].cellSelector.start(e);\n      }\n    }, 500);\n  });\n\n  function cancel(e) {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n      longTouchId = null;\n    }\n  }\n\n  grid[_].handler.on(grid[_].element, 'touchcancel', cancel);\n\n  grid[_].handler.on(grid[_].element, 'touchmove', cancel);\n\n  grid[_].handler.on(grid[_].element, 'touchend', e => {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n\n      grid[_].cellSelector.select(e);\n\n      longTouchId = null;\n    }\n  });\n\n  let isMouseover = false;\n  let mouseEnterCell = null;\n  let mouseOverCell = null;\n\n  function onMouseenterCell(cell) {\n    grid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\n    mouseEnterCell = cell;\n  }\n\n  function onMouseleaveCell() {\n    const beforeMouseCell = mouseEnterCell;\n    mouseEnterCell = null;\n\n    if (beforeMouseCell) {\n      grid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row\n      });\n    }\n  }\n\n  function onMouseoverCell(cell) {\n    grid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\n    mouseOverCell = cell;\n  }\n\n  function onMouseoutCell() {\n    const beforeMouseCell = mouseOverCell;\n    mouseOverCell = null;\n\n    if (beforeMouseCell) {\n      grid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row\n      });\n    }\n  }\n\n  const scrollElement = grid[_].scrollable.getElement();\n\n  grid[_].handler.on(scrollElement, 'mouseover', e => {\n    isMouseover = true;\n  });\n\n  grid[_].handler.on(scrollElement, 'mouseout', e => {\n    isMouseover = false;\n    onMouseoutCell();\n  });\n\n  grid[_].handler.on(grid[_].element, 'mouseleave', e => {\n    onMouseleaveCell();\n  });\n\n  grid[_].handler.on(grid[_].element, 'mousemove', e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n\n    if (eventArgs) {\n      const beforeMouseCell = mouseEnterCell;\n\n      if (beforeMouseCell) {\n        grid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\n        if (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n          onMouseoutCell();\n          onMouseleaveCell();\n          const cell = {\n            col: eventArgs.col,\n            row: eventArgs.row\n          };\n          onMouseenterCell(cell);\n\n          if (isMouseover) {\n            onMouseoverCell(cell);\n          }\n        } else if (isMouseover && !mouseOverCell) {\n          onMouseoverCell({\n            col: eventArgs.col,\n            row: eventArgs.row\n          });\n        }\n      } else {\n        const cell = {\n          col: eventArgs.col,\n          row: eventArgs.row\n        };\n        onMouseenterCell(cell);\n\n        if (isMouseover) {\n          onMouseoverCell(cell);\n        }\n\n        grid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n      }\n    } else {\n      onMouseoutCell();\n      onMouseleaveCell();\n    }\n\n    if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n      return;\n    }\n\n    const {\n      style\n    } = grid[_].element;\n\n    if (!abstractPos) {\n      if (style.cursor === 'col-resize') {\n        style.cursor = '';\n      }\n\n      return;\n    }\n\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      style.cursor = 'col-resize';\n    } else {\n      if (style.cursor === 'col-resize') {\n        style.cursor = '';\n      }\n    }\n  });\n\n  grid[_].handler.on(grid[_].element, 'click', e => {\n    if (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n      return;\n    }\n\n    if (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\n  });\n\n  grid[_].handler.on(grid[_].element, 'dblclick', e => {\n    if (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n  });\n\n  grid[_].focusControl.listen('keydown', (keyCode, e) => {\n    grid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\n  });\n\n  grid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, data => {\n    grid.fireListeners(EVENT_TYPE.SELECTED_CELL, data, data.selected);\n  });\n\n  grid[_].scrollable.onScroll(e => {\n    _onScroll(grid, e);\n\n    grid.fireListeners(EVENT_TYPE.SCROLL, {\n      event: e\n    });\n  });\n\n  grid[_].focusControl.onKeyDownMove(e => {\n    _onKeyDownMove(grid, e);\n  });\n\n  grid.listen('copydata', range => {\n    let copyValue = '';\n\n    for (let {\n      row\n    } = range.start; row <= range.end.row; row++) {\n      for (let {\n        col\n      } = range.start; col <= range.end.col; col++) {\n        const copyCellValue = grid.getCopyCellValue(col, row);\n\n        if (window.Promise && copyCellValue instanceof window.Promise) {//\n        } else {\n          const strCellValue = `${copyCellValue}`;\n\n          if (strCellValue.match(/^\\[object .*\\]$/)) {//object \n          } else {\n            copyValue += strCellValue;\n          }\n        }\n\n        if (col < range.end.col) {\n          copyValue += '\\t';\n        }\n      }\n\n      copyValue += '\\n';\n    }\n\n    return copyValue;\n  });\n\n  grid[_].focusControl.onCopy(e => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\n  grid[_].focusControl.onInput(value => {\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(EVENT_TYPE.INPUT_CELL, {\n      col,\n      row,\n      value\n    });\n  });\n\n  grid.bindEventsInternal();\n}\n\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n  if (grid[_].frozenRowCount <= 0) {\n    return -1;\n  }\n\n  const frozenRect = _getFrozenRowsRect(grid);\n\n  if (!frozenRect.inPoint(abstractX, abstractY)) {\n    return -1;\n  }\n\n  const cell = grid.getCellAt(abstractX, abstractY);\n  const cellRect = grid.getCellRect(cell.col, cell.row);\n\n  if (abstractX < cellRect.left + offset) {\n    return cell.col - 1;\n  }\n\n  if (cellRect.right - offset < abstractX) {\n    return cell.col;\n  }\n\n  return -1;\n}\n\nfunction _getVisibleRect(grid) {\n  return new Rect(grid[_].scroll.left, grid[_].scroll.top, grid[_].canvas.width, grid[_].canvas.height);\n}\n\nfunction _getScrollableVisibleRect(grid) {\n  let frozenColsWidth = 0;\n\n  if (grid[_].frozenColCount > 0) {\n    //\n    const frozenRect = _getFrozenColsRect(grid);\n\n    frozenColsWidth = frozenRect.width;\n  }\n\n  let frozenRowsHeight = 0;\n\n  if (grid[_].frozenRowCount > 0) {\n    //\n    const frozenRect = _getFrozenRowsRect(grid);\n\n    frozenRowsHeight = frozenRect.height;\n  }\n\n  return new Rect(grid[_].scroll.left + frozenColsWidth, grid[_].scroll.top + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n\nfunction _toRelativeRect(grid, absoluteRect) {\n  const rect = absoluteRect.copy();\n\n  const visibleRect = _getVisibleRect(grid);\n\n  rect.offsetLeft(-visibleRect.left);\n  rect.offsetTop(-visibleRect.top);\n  return rect;\n} //end private methods\n//\n//\n//\n//\n\n/**\n * managing mouse down moving\n * @private\n */\n\n\nclass BaseMouseDownMover {\n  constructor(grid) {\n    this._grid = grid;\n    this._handler = new EventHandler();\n    this._events = {};\n    this._started = false;\n    this._moved = false;\n  }\n\n  moving(e) {\n    return !!this._started;\n  }\n\n  lastMoving(e) {\n    // mouseupclick\n    if (this.moving(e)) {\n      return true;\n    }\n\n    const last = this._mouseEndPoint;\n\n    if (!last) {\n      return false;\n    }\n\n    const pt = _getMouseAbstractPoint(this._grid, e);\n\n    return pt.x === last.x && pt.y === last.y;\n  }\n\n  _bindMoveAndUp(e) {\n    if (!isTouchEvent(e)) {\n      this._events.mousemove = this._handler.on(document.body, 'mousemove', e => this._mouseMove(e));\n      this._events.mouseup = this._handler.on(document.body, 'mouseup', e => this._mouseUp(e));\n    } else {\n      this._events.touchmove = this._handler.on(document.body, 'touchmove', e => this._mouseMove(e), {\n        passive: false\n      });\n      this._events.touchend = this._handler.on(document.body, 'touchend', e => this._mouseUp(e));\n      this._events.touchcancel = this._handler.on(document.body, 'touchcancel', e => this._mouseUp(e));\n    }\n\n    this._started = true;\n    this._moved = false;\n  }\n\n  _mouseMove(e) {\n    if (!isTouchEvent(e)) {\n      if (getMouseButtons(e) !== 1) {\n        this._mouseUp(e);\n\n        return;\n      }\n    }\n\n    this._moved = this._moveInternal(e) || this._moved\n    /*calculation on after*/\n    ;\n    cancelEvent(e);\n  }\n\n  _moveInternal(e) {//protected\n  }\n\n  _mouseUp(e) {\n    this._handler.off(this._events.mousemove);\n\n    this._handler.off(this._events.touchmove);\n\n    this._handler.off(this._events.mouseup);\n\n    this._handler.off(this._events.touchend); // this._handler.off(this._events.mouseleave);\n\n\n    this._handler.off(this._events.touchcancel);\n\n    this._started = false;\n\n    this._upInternal(e); // mouseupclick\n\n\n    if (this._moved) {\n      //\n      this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n      setTimeout(() => {\n        this._mouseEndPoint = null;\n      }, 10);\n    }\n  }\n\n  _upInternal(e) {//protected\n  }\n\n  dispose() {\n    this._handler.dispose();\n  }\n\n}\n/**\n * managing cell selection operation with mouse\n * @private\n */\n\n\nclass CellSelector extends BaseMouseDownMover {\n  start(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return;\n    }\n\n    _moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n    this._bindMoveAndUp(e);\n\n    this._cell = cell;\n    cancelEvent(e);\n\n    _vibrate(e);\n  }\n\n  select(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return;\n    }\n\n    _moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n    this._cell = cell;\n  }\n\n  _moveInternal(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell || this._cell.col === cell.col && this._cell.row === cell.row) {\n      return false;\n    }\n\n    _moveFocusCell(this._grid, cell.col, cell.row, true); //make visible\n\n\n    const makeVisibleCol = (() => {\n      if (cell.col < this._cell.col && 0 < cell.col) {\n        // move left\n        return cell.col - 1;\n      } else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\n        // move right\n        return cell.col + 1;\n      }\n\n      return cell.col;\n    })();\n\n    const makeVisibleRow = (() => {\n      if (cell.row < this._cell.row && 0 < cell.row) {\n        // move up\n        return cell.row - 1;\n      } else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\n        // move down\n        return cell.row + 1;\n      }\n\n      return cell.row;\n    })();\n\n    if (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\n      this._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n    }\n\n    this._cell = cell;\n    return true;\n  }\n\n  _getTargetCell(e) {\n    const abstractPos = _getMouseAbstractPoint(this._grid, e);\n\n    if (!abstractPos) {\n      return null;\n    }\n\n    const cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\n\n    if (cell.col < 0 || cell.row < 0) {\n      return null;\n    }\n\n    return cell;\n  }\n\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\n\n\nclass ColumnResizer extends BaseMouseDownMover {\n  constructor(grid) {\n    super(grid);\n    this._targetCol = -1;\n  }\n\n  start(col, e) {\n    let pageX;\n\n    if (!isTouchEvent(e)) {\n      ({\n        pageX\n      } = e);\n    } else {\n      ({\n        pageX\n      } = e.changedTouches[0]);\n    }\n\n    this._x = pageX;\n    this._preX = 0;\n\n    this._bindMoveAndUp(e);\n\n    this._targetCol = col;\n    this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n    cancelEvent(e);\n\n    _vibrate(e);\n  }\n\n  _moveInternal(e) {\n    const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n    const x = pageX - this._x;\n    const moveX = x - this._preX;\n    this._preX = x;\n\n    const pre = this._grid.getColWidth(this._targetCol);\n\n    let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\n    if (afterSize < 10 && moveX < 0) {\n      afterSize = 10;\n    }\n\n    _setColWidth(this._grid, this._targetCol, afterSize);\n\n    const rect = _getVisibleRect(this._grid);\n\n    rect.left = this._invalidateAbsoluteLeft;\n\n    _invalidateRect(this._grid, rect);\n\n    this._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, {\n      col: this._targetCol\n    });\n\n    return true;\n  }\n\n  _upInternal(e) {\n    const grid = this._grid;\n\n    if (grid.updateScroll()) {\n      grid.invalidate();\n    }\n  }\n\n}\n\nfunction setSafeInputValue(input, value) {\n  const {\n    type\n  } = input;\n  input.type = '';\n  input.value = value;\n\n  if (type) {\n    input.type = type;\n  }\n}\n/**\n * Manage focus\n * @private\n */\n\n\nclass FocusControl extends EventTarget {\n  constructor(grid, parentElement, scrollable) {\n    super();\n    this._grid = grid;\n    this._scrollable = scrollable;\n    this._handler = new EventHandler();\n    this._input = document.createElement('input');\n\n    this._input.classList.add('grid-focus-control');\n\n    this._input.readOnly = true;\n    parentElement.appendChild(this._input);\n\n    this._handler.on(this._input, 'compositionstart', e => {\n      this._input.classList.add('composition');\n\n      this._input.style.font = this._grid.font || '16px sans-serif';\n      this._isComposition = true;\n\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n\n      grid.focus();\n    });\n\n    const handleCompositionEnd = () => {\n      this._isComposition = false;\n\n      this._input.classList.remove('composition');\n\n      this._input.style.font = '';\n      const {\n        value\n      } = this._input;\n      setSafeInputValue(this._input, '');\n\n      if (!this._input.readOnly) {\n        this.fireListeners('input', value);\n      }\n\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n    };\n\n    this._handler.on(this._input, 'compositionend', e => {\n      this._compositionEnd = setTimeout(handleCompositionEnd);\n    });\n\n    this._handler.on(this._input, 'keypress', e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      if (!this._input.readOnly && e.key && e.key.length === 1) {\n        if (e.key === 'c' && (e.ctrlKey || e.metaKey)) {//copy! for Firefox\n        } else {\n          this.fireListeners('input', e.key);\n          cancelEvent(e);\n        }\n      }\n\n      setSafeInputValue(this._input, '');\n    });\n\n    this._handler.on(this._input, 'keydown', e => {\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n          cancelEvent(e);\n        }\n\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n      this.fireListeners('keydown', keyCode, e);\n\n      if (!this._input.readOnly && this._input.value) {\n        // for Safari\n        this.fireListeners('input', this._input.value);\n      }\n\n      setSafeInputValue(this._input, '');\n    });\n\n    const inputClear = e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      setSafeInputValue(this._input, '');\n    };\n\n    this._handler.on(this._input, 'keyup', e => {\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n        }\n      }\n\n      inputClear(e);\n    });\n\n    this._handler.on(this._input, 'input', inputClear);\n\n    this._handler.on(document, 'keydown', e => {\n      if (!browser.IE) {\n        return;\n      }\n\n      if (e.target !== this._input) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n        setSafeInputValue(this._input, 'dummy');\n\n        this._input.select();\n\n        setTimeout(() => {\n          setSafeInputValue(this._input, '');\n        }, 100);\n      }\n    });\n\n    this._handler.on(document, 'copy', e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      if (!isDescendantElement(parentElement, e.target)) {\n        return;\n      }\n\n      setSafeInputValue(this._input, '');\n      const data = array.find(this.fireListeners('copy'), isDef);\n\n      if (isDef(data)) {\n        cancelEvent(e);\n\n        if (browser.IE) {\n          window.clipboardData.setData('Text', data); // IE\n        } else {\n          e.clipboardData.setData('text/plain', data); // Chrome, Firefox\n        }\n      }\n    });\n  }\n\n  onKeyDownMove(fn) {\n    this._handler.on(this._input, 'keydown', e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n        fn(e);\n      }\n    });\n  }\n\n  onInput(fn) {\n    return this.listen('input', fn);\n  }\n\n  onCopy(fn) {\n    return this.listen('copy', fn);\n  }\n\n  focus() {\n    // this._input.value = '';\n    this._input.focus();\n  }\n\n  setFocusRect(rect) {\n    const top = this._scrollable.calcTop(rect.top);\n\n    this._input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n\n    this._input.style.left = `${rect.left.toFixed()}px`;\n    this._input.style.width = `${rect.width.toFixed()}px`;\n    this._input.style.height = `${rect.height.toFixed()}px`;\n  }\n\n  set editMode(editMode) {\n    this._input.readOnly = !editMode;\n  }\n\n  resetInputStatus() {\n    const el = this._input;\n    const composition = el.classList.contains('composition');\n    const atts = el.attributes;\n    const removeNames = [];\n\n    for (let i = 0, n = atts.length; i < n; i++) {\n      const att = atts[i];\n\n      if (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n        removeNames.push(att.name);\n      }\n    }\n\n    removeNames.forEach(removeName => {\n      el.removeAttribute(removeName);\n    });\n\n    for (const name in this._inputStatus) {\n      el.setAttribute(name, this._inputStatus[name]);\n    }\n\n    if (composition) {\n      el.classList.add('composition');\n      el.style.font = this._grid.font || '16px sans-serif';\n    } else {\n      el.classList.remove('composition');\n    }\n  }\n\n  storeInputStatus() {\n    const el = this._input;\n    this._inputStatus = {};\n    const atts = el.attributes;\n\n    for (let i = 0, n = atts.length; i < n; i++) {\n      const att = atts[i];\n      this._inputStatus[att.name] = att.value;\n    }\n  }\n\n  setDefaultInputStatus() {// \n    // this._input.style.font = this._grid.font || '16px sans-serif';\n  }\n\n  get editMode() {\n    return !this._input.readOnly;\n  }\n\n  get input() {\n    return this._input;\n  }\n\n  dispose() {\n    super.dispose();\n\n    this._handler.dispose();\n  }\n\n}\n/**\n * Selected area management\n */\n\n\nclass Selection extends EventTarget {\n  constructor(grid) {\n    super();\n    this._grid = grid;\n    this._sel = {\n      col: 0,\n      row: 0\n    };\n    this._focus = {\n      col: 0,\n      row: 0\n    };\n    this._start = {\n      col: 0,\n      row: 0\n    };\n    this._end = {\n      col: 0,\n      row: 0\n    };\n  }\n\n  get range() {\n    const startCol = Math.min(this._start.col, this._end.col);\n    const startRow = Math.min(this._start.row, this._end.row);\n    const endCol = Math.max(this._start.col, this._end.col);\n    const endRow = Math.max(this._start.row, this._end.row);\n    return {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      },\n\n      inCell(col, row) {\n        return startCol <= col && col <= endCol && startRow <= row && row <= endRow;\n      }\n\n    };\n  }\n\n  get focus() {\n    const {\n      col,\n      row\n    } = this._focus;\n    return {\n      col,\n      row\n    };\n  }\n\n  get select() {\n    const {\n      col,\n      row\n    } = this._sel;\n    return {\n      col,\n      row\n    };\n  }\n\n  set select(cell = {}) {\n    this._wrapFireSelectedEvent(() => {\n      const {\n        col = 0,\n        row = 0\n      } = cell;\n\n      this._setSelectCell(col, row);\n\n      this._setFocusCell(col, row, true);\n    });\n  }\n\n  _setSelectCell(col, row) {\n    this._wrapFireSelectedEvent(() => {\n      this._sel = {\n        col,\n        row\n      };\n      this._start = {\n        col,\n        row\n      };\n    });\n  }\n\n  _setFocusCell(col, row, keepSelect) {\n    this._wrapFireSelectedEvent(() => {\n      if (!keepSelect) {\n        this._setSelectCell(col, row);\n      }\n\n      this._focus = {\n        col,\n        row\n      };\n      this._end = {\n        col,\n        row\n      };\n    });\n  }\n\n  _wrapFireSelectedEvent(callback) {\n    if (this._isWraped) {\n      callback();\n    } else {\n      this._isWraped = true;\n\n      try {\n        const before = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: false\n        };\n        callback();\n        const after = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: true,\n          before: {\n            col: before.col,\n            row: before.row\n          }\n        };\n        before.after = {\n          col: after.col,\n          row: after.row\n        };\n        this.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\n        this.fireListeners(EVENT_TYPE.SELECTED_CELL, after);\n      } finally {\n        this._isWraped = false;\n      }\n    }\n  }\n\n  _updateGridRange() {\n    const {\n      rowCount,\n      colCount\n    } = this._grid;\n    const points = [this._sel, this._focus, this._start, this._end];\n    let needChange = false;\n\n    for (let i = 0; i < points.length; i++) {\n      if (colCount <= points[i].col || rowCount <= points[i].row) {\n        needChange = true;\n        break;\n      }\n    }\n\n    if (!needChange) {\n      return false;\n    }\n\n    this._wrapFireSelectedEvent(() => {\n      points.forEach(p => {\n        p.col = Math.min(colCount - 1, p.col);\n        p.row = Math.min(rowCount - 1, p.row);\n      });\n    });\n\n    return true;\n  }\n\n}\n/**\n * This class manages the drawing process for each layer\n */\n\n\nclass DrawLayers {\n  constructor() {\n    this._layers = {};\n  }\n\n  addDraw(level, fn) {\n    const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n    l.addDraw(fn);\n  }\n\n  draw(ctx) {\n    const list = [];\n\n    for (const k in this._layers) {\n      list.push(this._layers[k]);\n    }\n\n    list.sort((a, b) => a.level - b.level);\n    list.forEach(l => l.draw(ctx));\n  }\n\n}\n\nclass DrawLayer {\n  constructor(level) {\n    this._level = level;\n    this._list = [];\n  }\n\n  get level() {\n    return this._level;\n  }\n\n  addDraw(fn) {\n    this._list.push(fn);\n  }\n\n  draw(ctx) {\n    this._list.forEach(fn => {\n      ctx.save();\n\n      try {\n        fn(ctx);\n      } finally {\n        ctx.restore();\n      }\n    });\n  }\n\n}\n/**\n * Context of cell drawing\n */\n\n\nclass DrawCellContext {\n  /**\n   * constructor\n   * @param {number} col index of column\n   * @param {number} row index of row\n   * @param {CanvasRenderingContext2D} ctx context\n   * @param {Rect} rect rect of cell area\n   * @param {Rect} drawRect rect of drawing area\n   * @param {boolean} drawing `true` if drawing is in progress\n   * @param {object} selection the selection\n   * @param {Array} drawLayers array of draw layers\n   * @private\n   */\n  constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n    this._col = col;\n    this._row = row;\n    this._mode = 0;\n    this._ctx = ctx;\n    this._rect = rect;\n    this._drawRect = drawRect;\n    this._drawing = drawing;\n    this._selection = selection;\n    this._drawLayers = drawLayers;\n    this._childContexts = [];\n  }\n\n  get drawing() {\n    if (this._mode === 0) {\n      return this._drawing;\n    } else {\n      return true;\n    }\n  }\n\n  get row() {\n    return this._row;\n  }\n\n  get col() {\n    return this._col;\n  }\n\n  cancel() {\n    this._cancel = true;\n\n    this._childContexts.forEach(ctx => {\n      ctx.cancel();\n    });\n  }\n  /**\n   * select status.\n   * @return {object} select status\n   */\n\n\n  getSelectState() {\n    const sel = this._selection.select;\n    return {\n      selected: sel.col === this._col && sel.row === this._row,\n      selection: this._selection.range.inCell(this._col, this._row)\n    };\n  }\n  /**\n   * Canvas context.\n   * @return {CanvasRenderingContext2D} Canvas context.\n   */\n\n\n  getContext() {\n    if (this._mode === 0) {\n      return this._ctx;\n    } else {\n      return this._grid._getInitContext();\n    }\n  }\n  /**\n   * Rectangle of cell.\n   * @return {Rect} rect Rectangle of cell.\n   */\n\n\n  getRect() {\n    if (this._mode === 0) {\n      return this._rect;\n    } else {\n      if (this._rect) {\n        return this._rect;\n      }\n\n      return this._grid.getCellRelativeRect(this._col, this._row);\n    }\n  }\n\n  setRect(rect) {\n    this._rect = rect;\n  }\n  /**\n   * Rectangle of Drawing range.\n   * @return {Rect} Rectangle of Drawing range.\n   */\n\n\n  getDrawRect() {\n    if (this._cancel) {\n      return null;\n    }\n\n    if (this._mode === 0) {\n      return this._drawRect;\n    } else {\n      if (this._isOutOfRange()) {\n        return null;\n      }\n\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n\n      return this._toRelativeDrawRect(absoluteRect);\n    }\n  }\n\n  _isOutOfRange() {\n    const {\n      colCount,\n      rowCount\n    } = this._grid;\n    return colCount <= this._col || rowCount <= this._row;\n  }\n  /**\n   * get Context of current state\n   * @return {DrawCellContext} current DrawCellContext.\n   */\n\n\n  toCurrentContext() {\n    if (this._mode === 0) {\n      return this;\n    } else {\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n\n      const rect = _toRelativeRect(this._grid, absoluteRect);\n\n      const drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n      const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers); // toCurrentContext  toCurrentContext\n\n      context.toCurrentContext = this.toCurrentContext.bind(this);\n\n      this._childContexts.push(context);\n\n      if (this._cancel) {\n        context.cancel();\n      }\n\n      return context;\n    }\n  }\n\n  addLayerDraw(level, fn) {\n    this._drawLayers.addDraw(level, fn);\n  }\n\n  _toRelativeDrawRect(absoluteRect) {\n    const visibleRect = _getVisibleRect(this._grid);\n\n    let rect = absoluteRect.copy();\n\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n\n    const isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\n    if (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n      const fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\n      rect = Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n    }\n\n    if (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n      const fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\n      rect = Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n    }\n\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n  }\n\n  _delayMode(grid, onTerminate) {\n    this._mode = 1;\n    this._ctx = null;\n    this._rect = null;\n    this._drawRect = null;\n    this._grid = grid;\n    this._onTerminate = onTerminate;\n  }\n  /**\n   * terminate\n   * @return {void}\n   */\n\n\n  terminate() {\n    if (this._mode !== 0) {\n      this._onTerminate();\n    }\n  }\n\n}\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @extends EventTarget\n * @memberof cheetahGrid.core\n */\n\n\nclass DrawGrid extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n  /**\n   * constructor\n   *\n   * <pre>\n   * Constructor options\n   * -----\n   * rowCount: grid row count.default 10\n   * colCount: grid col count.default 10\n   * frozenColCount: default 0\n   * frozenRowCount: default 0\n   * defaultRowHeight: default grid row height. default 40\n   * defaultColWidth: default grid col width. default 80\n   * parentElement: canvas parentElement\n   * font: default font\n   * underlayBackgroundColor: underlay background color\n   * -----\n   * </pre>\n   *\n   * @constructor\n   * @param  {Object} options Constructor options\n   */\n\n\n  constructor({\n    rowCount = 10,\n    colCount = 10,\n    frozenColCount = 0,\n    frozenRowCount = 0,\n    defaultRowHeight = 40,\n    defaultColWidth = 80,\n    font,\n    underlayBackgroundColor,\n    parentElement\n  } = {}) {\n    super();\n    this[_] = {};\n    style.initDocument();\n    this[_].element = createRootElement();\n    this[_].scrollable = new Scrollable();\n    this[_].handler = new EventHandler();\n    this[_].selection = new Selection(this);\n    this[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\n    this[_].canvas = hiDPI.transform(document.createElement('canvas'));\n    this[_].context = this[_].canvas.getContext('2d', {\n      alpha: false\n    });\n    this[_].rowCount = rowCount;\n    this[_].colCount = colCount;\n    this[_].frozenColCount = frozenColCount;\n    this[_].frozenRowCount = frozenRowCount;\n    this[_].defaultRowHeight = defaultRowHeight;\n    this[_].defaultColWidth = defaultColWidth;\n    this[_].font = font;\n    this[_].underlayBackgroundColor = underlayBackgroundColor; /////\n\n    this[_].rowHeightsMap = new NumberMap();\n    this[_].colWidthsMap = new NumberMap();\n    this[_].colWidthsLimit = {};\n    this[_].calcWidthContext = {\n      _: this[_],\n\n      get full() {\n        return this._.canvas.width;\n      },\n\n      get em() {\n        return getFontSize(this._.context, this._.font).width;\n      }\n\n    };\n    this[_].columnResizer = new ColumnResizer(this);\n    this[_].cellSelector = new CellSelector(this);\n    this[_].drawCells = {};\n    this[_].cellTextOverflows = {};\n\n    this[_].element.appendChild(this[_].canvas);\n\n    this[_].element.appendChild(this[_].scrollable.getElement());\n\n    this.updateScroll();\n\n    if (parentElement) {\n      parentElement.appendChild(this[_].element);\n      this.updateSize();\n    } else {\n      this.updateSize();\n    }\n\n    _bindEvents(this);\n  }\n  /**\n   * Get root element.\n   * @returns {HTMLElement} root element\n   */\n\n\n  getElement() {\n    return this[_].element;\n  }\n  /**\n   * Get canvas element.\n   * @type {HTMLCanvasElement}\n   */\n\n\n  get canvas() {\n    return this[_].canvas;\n  }\n  /**\n   * Focus the grid.\n   * @return {void}\n   */\n\n\n  focus() {\n    const {\n      col,\n      row\n    } = this[_].selection.select;\n    this.focusCell(col, row);\n  }\n  /**\n   * Get the selection instance.\n   * @type {Selection}\n   */\n\n\n  get selection() {\n    return this[_].selection;\n  }\n  /**\n   * Get the number of rows.\n   * @type {number}\n   */\n\n\n  get rowCount() {\n    return this[_].rowCount;\n  }\n  /**\n   * Set the number of rows.\n   * @param {number} rowCount the number of rows to set\n   * @type {number}\n   */\n\n\n  set rowCount(rowCount) {\n    this[_].rowCount = rowCount;\n    this.updateScroll();\n\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.focusCell(col, row);\n    }\n  }\n  /**\n   * Get the number of columns.\n   * @type {number}\n   */\n\n\n  get colCount() {\n    return this[_].colCount;\n  }\n  /**\n   * Set the number of columns.\n   * @param {number} colCount the number of columns to set\n   * @type {number}\n   */\n\n\n  set colCount(colCount) {\n    this[_].colCount = colCount;\n    this.updateScroll();\n\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.focusCell(col, row);\n    }\n  }\n  /**\n   * Get the number of frozen columns.\n   * @type {number}\n   */\n\n\n  get frozenColCount() {\n    return this[_].frozenColCount;\n  }\n  /**\n   * Set the number of frozen columns.\n   * @param {number} frozenColCount the number of frozen columns to set\n   * @type {number}\n   */\n\n\n  set frozenColCount(frozenColCount) {\n    this[_].frozenColCount = frozenColCount;\n  }\n  /**\n   * Get the number of frozen rows.\n   * @type {number}\n   */\n\n\n  get frozenRowCount() {\n    return this[_].frozenRowCount;\n  }\n  /**\n   * Set the number of frozen rows.\n   * @param {number} frozenRowCount the number of frozen rows to set\n   * @type {number}\n   */\n\n\n  set frozenRowCount(frozenRowCount) {\n    this[_].frozenRowCount = frozenRowCount;\n  }\n  /**\n   * Get the default row height.\n   * @type {number}\n   *\n   */\n\n\n  get defaultRowHeight() {\n    return this[_].rowCount;\n  }\n  /**\n   * Set the default row height.\n   * @param {number} defaultRowHeight the default row height to set\n   * @type {number}\n   */\n\n\n  set defaultRowHeight(defaultRowHeight) {\n    this[_].defaultRowHeight = defaultRowHeight;\n    this.updateScroll();\n  }\n  /**\n   * Get the default column width.\n   * @type {number}\n   */\n\n\n  get defaultColWidth() {\n    return this[_].defaultColWidth;\n  }\n  /**\n   * Set the default column width.\n   * @param {number} defaultColWidth the default column width to set\n   * @type {number}\n   */\n\n\n  set defaultColWidth(defaultColWidth) {\n    this[_].defaultColWidth = defaultColWidth;\n    this.updateScroll();\n  }\n  /**\n   * Get the font definition as a string.\n   * @type {string}\n   */\n\n\n  get font() {\n    return this[_].font;\n  }\n  /**\n   * Set the font definition with the given string.\n   * @param {string} font the font definition to set\n   * @type {string}\n   */\n\n\n  set font(font) {\n    this[_].font = font;\n  }\n  /**\n   * Get the background color of the underlay.\n   * @type {*}\n   */\n\n\n  get underlayBackgroundColor() {\n    return this[_].underlayBackgroundColor;\n  }\n  /**\n   * Set the background color of the underlay.\n   * @param {*} underlayBackgroundColor the background color of the underlay to set\n   * @type {*}\n   */\n\n\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    this[_].underlayBackgroundColor = underlayBackgroundColor;\n  }\n\n  configure(name, value) {\n    const cfg = this[_].config || (this[_].config = {});\n\n    if (isDef(value)) {\n      cfg[name] = value;\n    }\n\n    return cfg[name];\n  }\n  /**\n   * Apply the changed size.\n   * @return {void}\n   */\n\n\n  updateSize() {\n    //\n    this[_].canvas.style.width = '';\n    this[_].canvas.style.height = '';\n    const width = Math.floor(this[_].canvas.offsetWidth || this[_].canvas.parentElement.offsetWidth - style.getScrollBarSize()\n    /*for legacy*/\n    );\n    const height = Math.floor(this[_].canvas.offsetHeight || this[_].canvas.parentElement.offsetHeight - style.getScrollBarSize()\n    /*for legacy*/\n    );\n    this[_].canvas.width = width;\n    this[_].canvas.height = height; //style\n\n    this[_].canvas.style.width = `${width}px`;\n    this[_].canvas.style.height = `${height}px`;\n    const sel = this[_].selection.select;\n\n    this[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n  }\n  /**\n   * Apply the changed scroll size.\n   * @return {boolean} `true` if there was a change in the scroll size\n   */\n\n\n  updateScroll() {\n    const {\n      scrollable\n    } = this[_];\n\n    const newHeight = _getScrollHeight(this);\n\n    const newWidth = _getScrollWidth(this);\n\n    if (newHeight === scrollable.scrollHeight && newWidth === scrollable.scrollWidth) {\n      return false;\n    }\n\n    this[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\n    this[_].scroll = {\n      left: this[_].scrollable.scrollLeft,\n      top: this[_].scrollable.scrollTop\n    };\n    return true;\n  }\n  /**\n   * Get the row height of the given the row index.\n   * @param  {number} row The row index\n   * @return {number} The row height\n   */\n\n\n  getRowHeight(row) {\n    return _getRowHeight(this, row);\n  }\n  /**\n   * Set the row height of the given the row index.\n   * @param  {number} row The row index\n   * @param  {number} height The row height\n   * @return {void}\n   */\n\n\n  setRowHeight(row, height) {\n    _setRowHeight(this, row, height);\n\n    this.updateScroll();\n  }\n  /**\n   * Get the column width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column width\n   */\n\n\n  getColWidth(col) {\n    return _getColWidth(this, col);\n  }\n  /**\n   * Set the column widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} width The column width\n   * @return {void}\n   */\n\n\n  setColWidth(col, width) {\n    _setColWidth(this, col, width);\n\n    this.updateScroll();\n  }\n  /**\n   * Get the column max width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column max width\n   */\n\n\n  getMaxColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.max || undefined;\n  }\n  /**\n   * Set the column max widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} maxwidth The column max width\n   * @return {void}\n   */\n\n\n  setMaxColWidth(col, maxwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    obj.max = maxwidth;\n  }\n  /**\n   * Get the column min width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column min width\n   */\n\n\n  getMinColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.min || undefined;\n  }\n  /**\n   * Set the column min widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} minwidth The column min width\n   * @return {void}\n   */\n\n\n  setMinColWidth(col, minwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    obj.min = minwidth;\n  }\n  /**\n   * Get the rect of the cell.\n   * @param {number} col index of column, of the cell\n   * @param {number} row index of row, of the cell\n   * @returns {Rect} the rect of the cell.\n   */\n\n\n  getCellRect(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n\n    let absoluteLeft = _getColsWidth(this, 0, col - 1);\n\n    const width = _getColWidth(this, col);\n\n    if (isFrozenCell && isFrozenCell.col) {\n      absoluteLeft += this[_].scroll.left;\n    }\n\n    let absoluteTop = _getRowsHeight(this, 0, row - 1);\n\n    const height = _getRowHeight(this, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      absoluteTop += this[_].scroll.top;\n    }\n\n    return new Rect(absoluteLeft, absoluteTop, width, height);\n  }\n  /**\n   * Get the relative rectangle of the cell.\n   * @param {number} col index of column, of the cell\n   * @param {number} row index of row, of the cell\n   * @returns {Rect} the rect of the cell.\n   */\n\n\n  getCellRelativeRect(col, row) {\n    return _toRelativeRect(this, this.getCellRect(col, row));\n  }\n  /**\n   * Get the rectangle of the cells area.\n   * @param {number} startCol index of the starting column, of the cell\n   * @param {number} startRow index of the starting row, of the cell\n   * @param {number} endCol index of the ending column, of the cell\n   * @param {number} endRow index of the ending row, of the cell\n   * @returns {Rect} the rect of the cells.\n   */\n\n\n  getCellsRect(startCol, startRow, endCol, endRow) {\n    const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n    const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n    let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\n    let width = _getColsWidth(this, startCol, endCol);\n\n    if (isFrozenStartCell && isFrozenStartCell.col) {\n      const scrollLeft = this[_].scroll.left;\n      absoluteLeft += scrollLeft;\n\n      if (!isFrozenEndCell || !isFrozenEndCell.col) {\n        width -= scrollLeft;\n        width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n      }\n    }\n\n    let absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\n    let height = _getRowsHeight(this, startRow, endRow);\n\n    if (isFrozenStartCell && isFrozenStartCell.row) {\n      const scrollTop = this[_].scroll.top;\n      absoluteTop += scrollTop;\n\n      if (!isFrozenEndCell || !isFrozenEndCell.row) {\n        height -= scrollTop;\n        height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n      }\n    }\n\n    return new Rect(absoluteLeft, absoluteTop, width, height);\n  }\n\n  isFrozenCell(col, row) {\n    const isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\n    const isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\n\n    if (isFrozenRow || isFrozenCol) {\n      return {\n        row: isFrozenRow,\n        col: isFrozenCol\n      };\n    } else {\n      return null;\n    }\n  }\n\n  getRowAt(absoluteY) {\n    const frozen = _getTargetFrozenRowAt(this, absoluteY);\n\n    if (frozen) {\n      return frozen.row;\n    }\n\n    const row = _getTargetRowAt(this, absoluteY);\n\n    return row ? row.row : -1;\n  }\n\n  getColAt(absoluteX) {\n    const frozen = _getTargetFrozenColAt(this, absoluteX);\n\n    if (frozen) {\n      return frozen.col;\n    }\n\n    const col = _getTargetColAt(this, absoluteX);\n\n    return col ? col.col : -1;\n  }\n\n  getCellAt(absoluteX, absoluteY) {\n    return {\n      row: this.getRowAt(absoluteY),\n      col: this.getColAt(absoluteX)\n    };\n  }\n  /**\n   * Scroll to where cell is visible.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  makeVisibleCell(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n      return;\n    }\n\n    const rect = this.getCellRect(col, row);\n\n    const visibleRect = _getScrollableVisibleRect(this);\n\n    if (visibleRect.contains(rect)) {\n      return;\n    }\n\n    if (!isFrozenCell || !isFrozenCell.col) {\n      if (rect.left < visibleRect.left) {\n        this[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\n      } else if (visibleRect.right < rect.right) {\n        this[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\n      }\n    }\n\n    if (!isFrozenCell || !isFrozenCell.row) {\n      if (rect.top < visibleRect.top) {\n        this[_].scrollable.scrollTop -= visibleRect.top - rect.top;\n      } else if (visibleRect.bottom < rect.bottom) {\n        this[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n      }\n    }\n  }\n  /**\n   * Focus the cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  focusCell(col, row) {\n    const oldEditMode = this[_].focusControl.editMode;\n\n    if (oldEditMode) {\n      this[_].focusControl.resetInputStatus();\n    }\n\n    this[_].focusControl.setFocusRect(this.getCellRect(col, row));\n\n    const {\n      col: selCol,\n      row: selRow\n    } = this[_].selection.select;\n    const results = this.fireListeners(EVENT_TYPE.EDITABLEINPUT_CELL, {\n      col: selCol,\n      row: selRow\n    });\n    const editMode = array.findIndex(results, v => !!v) >= 0;\n    this[_].focusControl.editMode = editMode;\n\n    if (editMode) {\n      this[_].focusControl.storeInputStatus();\n\n      this[_].focusControl.setDefaultInputStatus();\n\n      this.fireListeners(EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\n        col: selCol,\n        row: selRow,\n        input: this[_].focusControl.input\n      });\n    } // Failure occurs in IE if focus is not last\n\n\n    this[_].focusControl.focus();\n  }\n  /**\n   * Redraws the range of the given cell.\n   * @param  {number} col The column index of cell.\n   * @param  {number} row The row index of cell.\n   * @return {void}\n   */\n\n\n  invalidateCell(col, row) {\n    this.invalidateGridRect(col, row);\n  }\n  /**\n   * Redraws the range of the given cells.\n   * @param {number} startCol index of the starting column, of the cell\n   * @param {number} startRow index of the starting row, of the cell\n   * @param {number} endCol index of the ending column, of the cell\n   * @param {number} endRow index of the ending row, of the cell\n   * @return {void}\n   */\n\n\n  invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n    const offset = this.getOffsetInvalidateCells();\n\n    if (offset > 0) {\n      startCol -= offset;\n      startRow -= offset;\n      endCol += offset;\n      endRow += offset;\n    }\n\n    const visibleRect = _getVisibleRect(this);\n\n    const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n    const invalidateTarget = visibleRect.intersection(cellsRect);\n\n    if (invalidateTarget) {\n      if (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\n        const frozenRect = _getFrozenColsRect(this);\n\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n        }\n      }\n\n      if (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\n        const frozenRect = _getFrozenRowsRect(this);\n\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n        }\n      }\n\n      _invalidateRect(this, invalidateTarget);\n    }\n  }\n  /**\n   * Redraws the whole grid.\n   * @return {void}\n   */\n\n\n  invalidate() {\n    const visibleRect = _getVisibleRect(this);\n\n    _invalidateRect(this, visibleRect);\n  }\n  /**\n   * Get the value of cell with the copy action.\n   * <p>\n   * Please implement\n   * </p>\n   *\n   * @protected\n   * @param  {number} col Column index of cell.\n   * @param  {number} row Row index of cell.\n   * @return {string} the value of cell\n   */\n\n\n  getCopyCellValue(col, row) {} //Please implement get cell value!!\n\n  /**\n   * Draw a cell\n   * <p>\n   * Please implement cell drawing.\n   * </p>\n   *\n   * @protected\n   * @param  {number} col Column index of cell.\n   * @param  {number} row Row index of cell.\n   * @param  {DrawCellContext} context context of cell drawing.\n   * @return {void}\n   */\n\n\n  onDrawCell(col, row, context) {} //Please implement cell drawing!!\n\n  /**\n   * Get the overflowed text in the cell rectangle, from the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {string | null} The text overflowing the cell rect.\n   */\n\n\n  getCellOverflowText(col, row) {\n    const key = `${col}:${row}`;\n    return this[_].cellTextOverflows[key] || null;\n  }\n  /**\n   * Set the overflowed text in the cell rectangle, to the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @param  {boolean} overflowText The overflowed text in the cell rectangle.\n   * @return {void}\n   */\n\n\n  setCellOverflowText(col, row, overflowText) {\n    const key = `${col}:${row}`;\n\n    if (overflowText) {\n      this[_].cellTextOverflows[key] = typeof overflowText === 'string' ? overflowText.trim() : overflowText;\n    } else {\n      delete this[_].cellTextOverflows[key];\n    }\n  }\n\n  addDisposable(disposable) {\n    if (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n      throw new Error('not disposable!');\n    }\n\n    const disposables = this[_].disposables = this[_].disposables || [];\n    disposables.push(disposable);\n  }\n  /**\n   * Dispose the grid instance.\n   * @returns {void}\n   */\n\n\n  dispose() {\n    super.dispose();\n\n    this[_].handler.dispose();\n\n    this[_].scrollable.dispose();\n\n    this[_].focusControl.dispose();\n\n    this[_].columnResizer.dispose();\n\n    this[_].cellSelector.dispose();\n\n    if (this[_].disposables) {\n      this[_].disposables.forEach(disposable => disposable.dispose());\n\n      this[_].disposables = null;\n    }\n\n    const {\n      parentElement\n    } = this[_].element;\n\n    if (parentElement) {\n      parentElement.removeChild(this[_].element);\n    }\n  }\n\n  getAttachCellArea(col, row) {\n    return {\n      element: this.getElement(),\n      rect: _toRelativeRect(this, this.getCellRect(col, row))\n    };\n  }\n\n  bindEventsInternal() {//nop\n  }\n\n  getTargetRowAtInternal(absoluteY) {// \n  }\n\n  getRowsHeightInternal(startRow, endRow) {// \n  }\n\n  getRowHeightInternal(row) {// \n  }\n\n  getScrollHeightInternal(row) {// \n  }\n\n  getMoveLeftColByKeyDownInternal({\n    col,\n    row\n  }) {\n    return col - 1;\n  }\n\n  getMoveRightColByKeyDownInternal({\n    col,\n    row\n  }) {\n    return col + 1;\n  }\n\n  getMoveUpRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    return row - 1;\n  }\n\n  getMoveDownRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    return row + 1;\n  }\n\n  getOffsetInvalidateCells() {\n    return 0;\n  }\n\n  _getInitContext() {\n    const ctx = this[_].context; //\n\n    ctx.fillStyle = 'white';\n    ctx.strokeStyle = 'black';\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'top';\n    ctx.lineWidth = 1;\n    ctx.font = this.font || '16px sans-serif';\n    return ctx;\n  }\n\n}\n\nmodule.exports = DrawGrid;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst fontSizeCache = {};\n\nfunction getFontSize(ctx, font) {\n  if (fontSizeCache[font]) {\n    return fontSizeCache[font];\n  }\n\n  const bk = ctx.font;\n\n  try {\n    ctx.font = font || ctx.font;\n    const em = ctx.measureText('').width;\n    return fontSizeCache[font] = {\n      width: em,\n      height: em\n    };\n  } finally {\n    ctx.font = bk;\n  }\n}\n\nfunction calcBasePosition(ctx, rect, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  return calcStartPosition(ctx, rect, 0, 0, {\n    offset,\n    padding: {\n      left: paddingLeft,\n      right: paddingRight,\n      top: paddingTop,\n      bottom: paddingBottom\n    }\n  });\n}\n\nfunction calcStartPosition(ctx, rect, width, height, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  const textAlign = ctx.textAlign || 'left';\n  const textBaseline = ctx.textBaseline || 'middle';\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  let x = rect.left + offset + paddingLeft;\n\n  if (textAlign === 'right' || textAlign === 'end') {\n    x = rect.right - width - offset - paddingRight;\n  } else if (textAlign === 'center') {\n    x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n  }\n\n  let y = rect.top + offset + paddingTop;\n\n  if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n    y = rect.bottom - height - offset - paddingBottom;\n  } else if (textBaseline === 'middle') {\n    y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n  }\n\n  return {\n    x,\n    y\n  };\n}\n\nmodule.exports = {\n  calcBasePosition,\n  calcStartPosition,\n  getFontSize\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(38);\n\nconst {\n  isPromise,\n  isDef,\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst animate = __webpack_require__(35);\n\nconst BaseStyle = __webpack_require__(3);\n\nconst {\n  COLUMN_FADEIN_STATE_ID\n} = __webpack_require__(1);\n\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n  if (isDef(column._fadeinWhenCallbackInPromise)) {\n    return column._fadeinWhenCallbackInPromise;\n  }\n\n  return !!grid.configure('fadeinWhenCallbackInPromise');\n}\n\nfunction getFadinState(grid) {\n  if (!grid[COLUMN_FADEIN_STATE_ID]) {\n    setReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n  }\n\n  return grid[COLUMN_FADEIN_STATE_ID];\n}\n\nfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n  return point => {\n    const state = getFadinState(grid);\n    const stateKey = `${col}:${row}`;\n\n    if (point === 1) {\n      delete state[stateKey];\n    } else {\n      state[stateKey] = {\n        opacity: point\n      };\n    }\n\n    drawCellBase();\n    drawInternal();\n    const cellState = state[stateKey];\n\n    if (cellState) {\n      //\n      const ctx = context.getContext();\n      ctx.globalAlpha = 1 - cellState.opacity;\n\n      try {\n        drawCellBase();\n      } finally {\n        ctx.globalAlpha = 1;\n      }\n    }\n  };\n}\n\nconst fadinMgr = {\n  animate(grid, col, row, context, drawInternal, drawCellBase) {\n    // fadein animation\n    const state = getFadinState(grid);\n    const activeFadeins = [_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n    state.activeFadeins = activeFadeins;\n    animate(500, point => {\n      activeFadeins.forEach(f => f(point));\n\n      if (point === 1) {\n        delete state.activeFadeins;\n      }\n    });\n  },\n\n  margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n    const state = getFadinState(grid);\n\n    if (state.activeFadeins) {\n      state.activeFadeins.push(_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n    } else {\n      drawInternal();\n    }\n  }\n\n};\n\nclass BaseColumn {\n  constructor(option = {}) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n    //Promisecallback\n\n    this._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n  }\n\n  get StyleClass() {\n    return BaseStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    const {\n      style,\n      getRecord,\n      drawCellBase\n    } = info;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase();\n    const record = getRecord();\n    let promise;\n\n    if (isPromise(record)) {\n      promise = record.then(() => cellValue);\n    } else if (isPromise(cellValue)) {\n      promise = cellValue;\n    } //\n\n\n    if (promise) {\n      const start = Date.now();\n      return promise.then(val => {\n        const currentContext = context.toCurrentContext();\n        const drawRect = currentContext.getDrawRect();\n\n        if (!drawRect) {\n          return;\n        }\n\n        const time = Date.now() - start;\n\n        const drawInternal = () => {\n          const currentContext = context.toCurrentContext();\n          const drawRect = currentContext.getDrawRect();\n\n          if (!drawRect) {\n            return;\n          }\n\n          const record = getRecord();\n\n          if (isPromise(record)) {\n            return;\n          }\n\n          const actStyle = styleContents.of(style, record, this.StyleClass);\n          this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n          this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n        };\n\n        if (!isFadeinWhenCallbackInPromise(this, grid)) {\n          drawInternal(); //\n        } else {\n          const {\n            col,\n            row\n          } = context;\n\n          if (time < 80) {\n            //80msPromiseCallback\n            fadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n          } else {\n            //\n            fadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n          }\n        }\n      });\n    } else {\n      const actStyle = styleContents.of(style, record, this.StyleClass);\n      this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n      this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info); //\n\n      const {\n        col,\n        row\n      } = context;\n      const stateKey = `${col}:${row}`;\n      const cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\n      if (cellState) {\n        const ctx = context.getContext();\n        ctx.globalAlpha = 1 - cellState.opacity;\n\n        try {\n          drawCellBase();\n        } finally {\n          ctx.globalAlpha = 1;\n        }\n      }\n\n      return null;\n    }\n  }\n\n  clone() {\n    return new BaseColumn(this);\n  }\n\n  convertInternal(value) {\n    return isDef(value) ? value : '';\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {}\n\n  drawMessageInternal(message, context, style, helper, grid, info) {\n    info.messageHandler.drawCellMessage(message, context, style, helper, info);\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n}\n\nmodule.exports = BaseColumn;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nfunction createElement(tagName, {\n  classList,\n  text,\n  html\n} = {}) {\n  const element = document.createElement(tagName);\n\n  if (classList) {\n    if (__webpack_provided_Array_dot_isArray(classList)) {\n      element.classList.add(...classList);\n    } else {\n      element.classList.add(classList);\n    }\n  }\n\n  if (text) {\n    element.textContent = text;\n  } else if (html) {\n    element.innerHTML = html;\n  }\n\n  return element;\n}\n\nfunction empty(dom) {\n  let c;\n\n  while (c = dom.firstChild) {\n    dom.removeChild(c);\n  }\n}\n\nfunction isNode(arg) {\n  return !!(arg.nodeType && arg.nodeName);\n}\n\nfunction toNode(arg) {\n  if (isNode(arg)) {\n    return arg;\n  }\n\n  const dom = createElement('div', {\n    html: arg\n  });\n  return Array.prototype.slice.call(dom.childNodes);\n}\n\nfunction toNodeList(arg) {\n  if (window.jQuery && arg instanceof window.jQuery) {\n    return Array.prototype.map.call(arg, a => a);\n  }\n\n  if (__webpack_provided_Array_dot_isArray(arg)) {\n    return arg.map(toNode);\n  }\n\n  const node = toNode(arg);\n  return __webpack_provided_Array_dot_isArray(node) ? node : [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n  toNodeList(inner).forEach(node => {\n    dom.appendChild(node);\n  });\n}\n\nfunction disableFocus(el) {\n  el.dataset.disableBeforeTabIndex = el.tabIndex;\n  el.tabIndex = -1;\n  Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\n\nfunction enableFocus(el) {\n  if ('disableBeforeTabIndex' in el.dataset) {\n    el.tabIndex = el.dataset.disableBeforeTabIndex;\n  }\n\n  Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n  return isDef(el.tabIndex) && el.tabIndex > -1;\n}\n\nfunction findPrevSiblingFocusable(el) {\n  let n = el.previousSibling;\n\n  while (n && !isFocusable(n)) {\n    n = n.previousSibling;\n  }\n\n  return n;\n}\n\nfunction findNextSiblingFocusable(el) {\n  let n = el.nextSibling;\n\n  while (n && !isFocusable(n)) {\n    n = n.nextSibling;\n  }\n\n  return n;\n}\n\nmodule.exports = {\n  createElement,\n  empty,\n  isNode,\n  toNode,\n  toNodeList,\n  appendHtml,\n  disableFocus,\n  enableFocus,\n  isFocusable,\n  findPrevSiblingFocusable,\n  findNextSiblingFocusable\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst utils = __webpack_require__(15);\n\nclass Column extends BaseColumn {\n  get StyleClass() {\n    return Style;\n  }\n\n  clone() {\n    return new Column(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.testFontLoad(font, value, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.text(value, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nmodule.exports = Column;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef,\n  str: {\n    genChars,\n    genWords\n  }\n} = __webpack_require__(0);\n\nfunction getWidth(ctx, content) {\n  return ctx.measureText(content).width;\n}\n\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n  const chars = [];\n  let ret = itr.next();\n\n  for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n    chars.push(ret);\n  }\n\n  let beforeWidth = getWidth(ctx, chars.join(''));\n\n  if (beforeWidth > width) {\n    while (chars.length) {\n      const c = chars.pop();\n      beforeWidth -= getWidth(ctx, c);\n\n      if (beforeWidth <= width) {\n        break;\n      }\n    }\n  } else if (beforeWidth < width) {\n    while (ret !== null) {\n      const charWidth = getWidth(ctx, ret);\n\n      if (beforeWidth + charWidth > width) {\n        break;\n      }\n\n      chars.push(ret);\n      beforeWidth += charWidth;\n      ret = itr.next();\n    }\n  }\n\n  const beforeContent = chars.join('').replace(/\\s+$/, '');\n  const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, '');\n  return {\n    before: beforeContent ? new Inline(beforeContent) : null,\n    after: afterContent ? new Inline(afterContent) : null\n  };\n}\n\nclass Inline {\n  constructor(content) {\n    this._content = isDef(content) ? content : '';\n  }\n\n  width({\n    ctx\n  }) {\n    return getWidth(ctx, this._content);\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return null;\n  }\n\n  canDraw() {\n    return true;\n  }\n\n  onReady(fn) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n\n  canBreak() {\n    return !!this._content;\n  }\n\n  splitIndex(index) {\n    const content = this._content;\n    const itr = genChars(content);\n    const chars = [];\n    let ret = itr.next();\n\n    for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n      chars.push(ret);\n    }\n\n    const beforeContent = chars.join('');\n    const afterContent = content.slice(beforeContent.length);\n    return {\n      before: beforeContent ? new Inline(beforeContent) : null,\n      after: afterContent ? new Inline(afterContent) : null\n    };\n  }\n\n  breakWord(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = genWords(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n\n  breakAll(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = genChars(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n\n  toString() {\n    return this._content;\n  }\n\n}\n\nmodule.exports = Inline;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef,\n  obj: {\n    each\n  }\n} = __webpack_require__(0); //private symbol\n\n\nconst _ = __webpack_require__(1).get();\n\nlet nextId = 1;\n/**\n\t * event target.\n\t */\n\nclass EventTarget {\n  constructor() {\n    this[_] = {};\n    this[_].listeners = {};\n    this[_].listenerData = {};\n  }\n  /**\n  \t * Adds an event listener.\n  \t * @param  {string} type The event type id.\n  \t * @param  {function} listener Callback method.\n  \t * @return {number} unique id for the listener.\n  \t */\n\n\n  listen(type, listener) {\n    const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n    list.push(listener);\n    const id = nextId++;\n    this[_].listenerData[id] = {\n      type,\n      listener,\n      remove: () => {\n        delete this[_].listenerData[id];\n        const index = list.indexOf(listener);\n        list.splice(index, 1);\n\n        if (!this[_].listeners[type].length) {\n          delete this[_].listeners[type];\n        }\n      }\n    };\n    return id;\n  }\n  /**\n  \t * Removes an event listener which was added with listen() by the id returned by listen().\n  \t * @param  {number} id the id returned by listen().\n  \t * @return {void}\n  \t */\n\n\n  unlisten(id) {\n    this[_].listenerData[id].remove();\n  }\n\n  addEventListener(type, listener) {\n    this.listen(type, listener);\n  }\n\n  removeEventListener(type, listener) {\n    each(this[_].listenerData, (obj, id) => {\n      if (obj.type === type && obj.listener === listener) {\n        this.unlisten(id);\n      }\n    });\n  }\n\n  hasListeners(type) {\n    return !!this[_].listeners[type];\n  }\n  /**\n  \t * Fires all registered listeners\n  \t * @param  {string}    type The type of the listeners to fire.\n  \t * @param  {...*} args fire arguments\n  \t * @return {*} the result of the last listener\n  \t */\n\n\n  fireListeners(type, ...args) {\n    const list = this[_].listeners[type];\n\n    if (!list) {\n      return [];\n    }\n\n    return list.map(listener => listener.call(this, ...args)).filter(isDef);\n  }\n\n  dispose() {\n    delete this[_];\n  }\n\n}\n\nmodule.exports = EventTarget;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseAction = __webpack_require__(19);\n\nclass Editor extends BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._readOnly = option.readOnly;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n  set readOnly(readOnly) {\n    this._readOnly = !!readOnly;\n    this.onChangeReadOnlyInternal();\n  }\n\n  clone() {\n    return new Editor(this);\n  }\n\n  onChangeReadOnlyInternal() {}\n\n}\n\nmodule.exports = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nconst icons = __webpack_require__(22);\n\nmodule.exports = {\n  loadIcons(icon, context, helper, callback) {\n    if (icon) {\n      if (isPromise(icon)) {\n        icon.then(i => {\n          this.loadIcon(i, context.toCurrentContext(), callback);\n        });\n        icon = null;\n      } else {\n        const iconList = icons.toNormarizeArray(icon);\n        iconList.forEach(i => {\n          helper.testFontLoad(i.font, i.content, context);\n        });\n        icon = iconList;\n      }\n    }\n\n    callback(icon, context);\n  }\n\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(57);\n\nconst Style = __webpack_require__(58);\n\nconst SortHeaderStyle = __webpack_require__(122);\n\nconst style = {\n  get BaseStyle() {\n    return BaseStyle;\n  },\n\n  get Style() {\n    return Style;\n  },\n\n  get SortHeaderStyle() {\n    return SortHeaderStyle;\n  },\n\n  of(columnStyle, StyleClass) {\n    if (columnStyle) {\n      if (columnStyle instanceof Style) {\n        return columnStyle;\n      } else if (typeof columnStyle === 'function') {\n        return style.of(columnStyle(), StyleClass);\n      }\n\n      return new StyleClass(columnStyle);\n    } else {\n      return StyleClass.DEFAULT;\n    }\n  }\n\n};\nmodule.exports = style;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass Rect {\n  constructor(left, top, width, height) {\n    this._left = left;\n    this._top = top;\n    this._width = width;\n    this._height = height;\n  }\n\n  static bounds(left, top, right, bottom) {\n    return new Rect(left, top, right - left, bottom - top);\n  }\n\n  static max(rect1, rect2) {\n    return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n  }\n\n  get left() {\n    return this._left;\n  }\n\n  set left(left) {\n    const {\n      right\n    } = this;\n    this._left = left;\n    this.right = right;\n  }\n\n  get top() {\n    return this._top;\n  }\n\n  set top(top) {\n    const {\n      bottom\n    } = this;\n    this._top = top;\n    this.bottom = bottom;\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  set width(width) {\n    this._width = width;\n    this._right = undefined;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  set height(height) {\n    this._height = height;\n    this._bottom = undefined;\n  }\n\n  get right() {\n    return this._right !== undefined ? this._right : this._right = this.left + this.width;\n  }\n\n  set right(right) {\n    this._right = right;\n    this.width = right - this.left;\n  }\n\n  get bottom() {\n    return this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n  }\n\n  set bottom(bottom) {\n    this._bottom = bottom;\n    this.height = bottom - this.top;\n  }\n\n  offsetLeft(offset) {\n    this._left += offset;\n    this._right = undefined;\n  }\n\n  offsetTop(offset) {\n    this._top += offset;\n    this._bottom = undefined;\n  }\n\n  copy() {\n    return new Rect(this.left, this.top, this.width, this.height);\n  }\n\n  intersection(rect) {\n    const x0 = Math.max(this.left, rect.left);\n    const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\n    if (x0 <= x1) {\n      const y0 = Math.max(this.top, rect.top);\n      const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\n      if (y0 <= y1) {\n        return Rect.bounds(x0, y0, x1, y1);\n      }\n    }\n\n    return null;\n  }\n\n  contains(another) {\n    return this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n  }\n\n  inPoint(x, y) {\n    return this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n  }\n\n}\n\nmodule.exports = Rect;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction parse(calcStr) {\n  function replacer(match, num, unit) {\n    switch (unit) {\n      case '%':\n        return `(${num} * this.full / 100)`;\n\n      case 'em':\n        return `(${num} * this.em)`;\n\n      case 'px':\n        return `(${num})`;\n\n      default:\n        throw new Error('calc error');\n    }\n  }\n\n  const script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').replace(/(\\d+)([A-Za-z%]+)/g, replacer).replace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\n  return {\n    eval(context) {\n      function fn() {\n        function calc(v) {\n          // eslint-disable-line no-unused-vars\n          return v;\n        }\n\n        return eval(script); // eslint-disable-line no-eval\n      }\n\n      return fn.call(context);\n    }\n\n  };\n}\n\nfunction toPx(value, context) {\n  if (/^calc\\(.*\\)$/.test(value)) {\n    return parse(value).eval(context);\n  }\n\n  if (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\n    return context.full * value.substr(0, value.length - 1) / 100;\n  }\n\n  if (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\n    return value.substr(0, value.length - 2) - 0;\n  }\n\n  if (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\n    return context.em * (value.substr(0, value.length - 2) - 0);\n  }\n\n  return value - 0;\n}\n\nmodule.exports = {\n  parse,\n\n  toPx(value, context) {\n    if (typeof value === 'string') {\n      return toPx(value.trim(), context);\n    }\n\n    return value - 0;\n  }\n\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = option.disabled;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  set disabled(disabled) {\n    this._disabled = !!disabled;\n    this.onChangeDisabledInternal();\n  }\n\n  clone() {\n    return new BaseAction(this);\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n  onChangeDisabledInternal() {}\n\n}\n\nmodule.exports = BaseAction;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(21);\n\nlet defaultStyle;\n\nclass StdBaseStyle extends BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || 'left';\n    this._textBaseline = style.textBaseline || 'middle';\n  }\n\n  get textAlign() {\n    return this._textAlign;\n  }\n\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new StdBaseStyle(this);\n  }\n\n}\n\nmodule.exports = StdBaseStyle;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventTarget = __webpack_require__(13);\n\nconst EVENT_TYPE = {\n  CHANGE_STYLE: 'change_style'\n};\nlet defaultStyle;\n\nclass BaseStyle extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n\n  get bgColor() {\n    return this._bgColor;\n  }\n\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n\n  doChangeStyle() {\n    this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n  }\n\n  clone() {\n    return new BaseStyle(this);\n  }\n\n}\n\nmodule.exports = BaseStyle;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst ICON_PROP_KEYS = ['content', 'font', 'color', 'className', 'isLiga', 'width', 'src', 'svg', 'name', 'path'];\n\nfunction quote(name) {\n  const quoted = [];\n  const split = name.split(/,\\s*/);\n\n  for (let i = 0; i < split.length; i++) {\n    const part = split[i].replace(/['\"]/g, '');\n\n    if (part.indexOf(' ') === -1 && !/^\\d/.test(part)) {\n      quoted.push(part);\n    } else {\n      quoted.push(`'${part}'`);\n    }\n  }\n\n  return quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n  const tagProps = props[tagName] || (props[tagName] = {});\n\n  if (tagProps[className]) {\n    return tagProps[className];\n  }\n\n  const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n  dom.className = className;\n  document.body.appendChild(dom);\n\n  try {\n    const beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n    let content = beforeStyle.getPropertyValue('content');\n\n    if (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n      if (content[0] === content[content.length - 1]) {\n        content = content.substr(1, content.length - 2);\n      }\n    }\n\n    let font = beforeStyle.getPropertyValue('font');\n\n    if (!font) {\n      font = `${beforeStyle.getPropertyValue('font-style')} ${beforeStyle.getPropertyValue('font-variant')} ${beforeStyle.getPropertyValue('font-weight')} ${beforeStyle.getPropertyValue('font-size')}/${beforeStyle.getPropertyValue('line-height')} ${quote(beforeStyle.getPropertyValue('font-family'))}`;\n    }\n\n    const color = beforeStyle.getPropertyValue('color');\n    const width = dom.clientWidth;\n    const isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n    return tagProps[className] = {\n      content,\n      font,\n      color,\n      width,\n      isLiga\n    };\n  } finally {\n    document.body.removeChild(dom);\n  }\n}\n\nfunction toPropArray(prop, count) {\n  const result = [];\n\n  if (__webpack_provided_Array_dot_isArray(prop)) {\n    result.push(...prop);\n\n    for (let i = prop.length; i < count; i++) {\n      result.push(null);\n    }\n  } else {\n    for (let i = 0; i < count; i++) {\n      result.push(prop);\n    }\n  }\n\n  return result;\n}\n\nfunction toSimpleArray(iconProps) {\n  if (!iconProps) {\n    return iconProps;\n  } else if (__webpack_provided_Array_dot_isArray(iconProps)) {\n    return iconProps;\n  }\n\n  const workData = {};\n  let count = 0;\n  ICON_PROP_KEYS.forEach(k => {\n    if (iconProps[k]) {\n      if (__webpack_provided_Array_dot_isArray(iconProps[k])) {\n        count = Math.max(count, iconProps[k].length);\n      } else {\n        count = Math.max(count, 1);\n      }\n    }\n  });\n  ICON_PROP_KEYS.forEach(k => {\n    workData[k] = toPropArray(iconProps[k], count);\n  });\n  const result = [];\n\n  for (let i = 0; i < count; i++) {\n    const data = {};\n    ICON_PROP_KEYS.forEach(k => {\n      data[k] = workData[k][i];\n    });\n    result.push(data);\n  }\n\n  return result;\n}\n\nfunction normarize(iconProps) {\n  const data = {};\n\n  for (const k in iconProps) {\n    if (k === 'className') {\n      continue;\n    }\n\n    data[k] = iconProps[k];\n  }\n\n  if (iconProps.className) {\n    const prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\n    for (const k in prop) {\n      if (!isDef(iconProps[k])) {\n        data[k] = prop[k];\n      }\n    }\n  }\n\n  return data;\n}\n\nmodule.exports = {\n  toNormarizeArray(iconProps) {\n    const icons = toSimpleArray(iconProps);\n\n    if (!icons) {\n      return icons;\n    }\n\n    return icons.map(icon => normarize(icon));\n  },\n\n  get iconPropKeys() {\n    return ICON_PROP_KEYS;\n  },\n\n  getIconProps\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  extend,\n  getIgnoreCase\n} = __webpack_require__(0);\n\nconst theme = __webpack_require__(96);\n\nconst {\n  Theme\n} = theme;\n\nconst plugins = __webpack_require__(48);\n\nconst BASIC = new Theme(__webpack_require__(97));\nconst MATERIAL_DESIGN = new Theme(__webpack_require__(98));\nconst builtin = {\n  BASIC,\n  MATERIAL_DESIGN\n};\nlet defTheme = MATERIAL_DESIGN;\n/**\n * themes\n * @type {Object}\n * @namespace cheetahGrid.themes\n * @memberof cheetahGrid\n */\n\nconst themes = {\n  get default() {\n    return defTheme;\n  },\n\n  set default(defaultTheme) {\n    defTheme = themes.of(defaultTheme) || defTheme;\n  },\n\n  get MATERIAL_DESIGN() {\n    return MATERIAL_DESIGN;\n  },\n\n  get BASIC() {\n    return BASIC;\n  },\n\n  theme,\n\n  of(value) {\n    if (!value) {\n      return null;\n    }\n\n    if (typeof value === 'string') {\n      const t = getIgnoreCase(themes.choices, value);\n\n      if (t) {\n        return t;\n      }\n\n      return null;\n    }\n\n    if (value instanceof Theme) {\n      return value;\n    }\n\n    return new Theme(value);\n  },\n\n  /**\n   * @namespace cheetahGrid.themes.choices\n   */\n  get choices() {\n    return extend(builtin, plugins);\n  }\n\n};\nmodule.exports = themes;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  array,\n  isDef,\n  isPromise,\n  getOrApply,\n  applyChainSafe,\n  emptyFn\n} = __webpack_require__(0);\n\nconst sort = __webpack_require__(50);\n\nconst EventTarget = __webpack_require__(13);\n\nconst EVENT_TYPE = {\n  UPDATE_LENGTH: 'update_length',\n  UPDATED_LENGTH: 'updated_length',\n  UPDATED_ORDER: 'updated_order'\n};\n\nfunction getValue(value, setPromiseBack) {\n  value = getOrApply(value);\n\n  if (isPromise(value)) {\n    value = value.then(r => {\n      if (!isPromise(r)) {\n        setPromiseBack(r);\n      }\n\n      return getValue(r, setPromiseBack);\n    }); //\n\n    setPromiseBack(value);\n  }\n\n  return value;\n}\n\nfunction getField(record, field, setPromiseBack) {\n  if (!isDef(record)) {\n    return undefined;\n  }\n\n  if (isPromise(record)) {\n    return record.then(r => getField(r, field, setPromiseBack));\n  }\n\n  if (field in record) {\n    return getValue(record[field], setPromiseBack);\n  }\n\n  if (typeof field === 'function') {\n    return getValue(field(record), setPromiseBack);\n  }\n\n  const ss = `${field}`.split('.');\n\n  if (ss.length <= 1) {\n    return getValue(record[field], setPromiseBack);\n  }\n\n  return getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n}\n\nfunction setField(record, field, value) {\n  if (field in record) {\n    record[field] = value;\n  } else if (typeof field === 'function') {\n    return field(record, value);\n  } else if (typeof field === 'string') {\n    const ss = `${field}`.split('.');\n    let obj = record;\n    const {\n      length\n    } = ss;\n\n    for (let i = 0; i < length; i++) {\n      const f = ss[i];\n\n      if (i === length - 1) {\n        obj[f] = value;\n      } else {\n        obj = obj[f] || (obj[f] = {});\n      }\n    }\n  } else {\n    record[field] = value;\n  }\n\n  return true;\n}\n\nfunction _getIndex(dataSource, index) {\n  if (!dataSource._sortedIndexMap) {\n    return index;\n  }\n\n  const mapIndex = dataSource._sortedIndexMap[index];\n  return isDef(mapIndex) ? mapIndex : index;\n}\n/**\n\t * grid data source\n\t *\n\t * @classdesc cheetahGrid.data.DataSource\n\t * @extends EventTarget\n\t * @memberof cheetahGrid.data\n\t */\n\n\nclass DataSource extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static ofArray(array) {\n    return new DataSource({\n      get: index => array[index],\n      length: array.length\n    });\n  }\n\n  constructor(obj = {}) {\n    super();\n    this._get = obj.get && obj.get.bind(obj) || undefined;\n    this._length = obj.length || 0;\n    this._sortedIndexMap = false;\n  }\n\n  get(index) {\n    return this.getOriginal(_getIndex(this, index));\n  }\n\n  getField(index, field) {\n    return this.getOriginalField(_getIndex(this, index), field);\n  }\n\n  hasField(index, field) {\n    return this.hasOriginalField(_getIndex(this, index), field);\n  }\n\n  setField(index, field, value) {\n    return this.setOriginalField(_getIndex(this, index), field, value);\n  }\n\n  sort(field, order) {\n    const sortedIndexMap = new Array(this._length);\n    const orderFn = order !== 'desc' ? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1 : (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n    return sort.sortPromise(index => isDef(sortedIndexMap[index]) ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n      sortedIndexMap[index] = rel;\n    }, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n      this._sortedIndexMap = sortedIndexMap;\n      this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n    });\n  }\n\n  get length() {\n    return this._length;\n  }\n\n  set length(length) {\n    if (this._length === length) {\n      return;\n    }\n\n    const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\n    if (array.findIndex(results, v => !v) >= 0) {\n      return;\n    }\n\n    this._length = length;\n    this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n  }\n\n  dispose() {\n    super.dispose();\n  }\n\n  getOriginal(index) {\n    return getValue(this._get(index), val => {\n      this.recordPromiseCallBackInternal(index, val);\n    });\n  }\n\n  getOriginalField(index, field) {\n    if (!isDef(field)) {\n      return undefined;\n    }\n\n    const record = this.getOriginal(index);\n    return getField(record, field, val => {\n      this.fieldPromiseCallBackInternal(index, field, val);\n    });\n  }\n\n  hasOriginalField(index, field) {\n    if (!isDef(field)) {\n      return false;\n    }\n\n    if (typeof field === 'function') {\n      return true;\n    }\n\n    const record = this.getOriginal(index);\n    return field in record;\n  }\n\n  setOriginalField(index, field, value) {\n    if (!isDef(field)) {\n      return undefined;\n    }\n\n    const record = this.getOriginal(index);\n    return setField(record, field, value);\n  }\n\n  fieldPromiseCallBackInternal(index, field, val) {//\n  }\n\n  recordPromiseCallBackInternal(index, val) {//\n  }\n\n}\n\nDataSource.EMPTY = new DataSource({\n  length: 0\n});\nmodule.exports = DataSource;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction getPath2D() {\n  //return require('./legacy/canvas/Path2D');\n  return window.Path2D || __webpack_require__(109);\n}\n\nmodule.exports = {\n  fill(module, ctx, x, y, w, h) {\n    ctx.save();\n\n    try {\n      const {\n        width,\n        height\n      } = module;\n      const {\n        ud: upsideDown,\n        x: offsetX = 0,\n        y: offsetY = 0\n      } = module;\n      w = w || width;\n      h = h || height;\n      const xrate = w / width;\n      const yrate = h / (upsideDown ? -height : height);\n      x = x || 0;\n      y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n      ctx.translate(x, y);\n      ctx.scale(xrate, yrate);\n\n      if (offsetX !== 0 || offsetY !== 0) {\n        ctx.translate(offsetX, offsetY);\n      }\n\n      const Path2D = getPath2D();\n      module.path2d = module.path2d || new Path2D(module.d);\n      ctx.fill(module.path2d);\n    } finally {\n      ctx.restore();\n    }\n  },\n\n  get Path2D() {\n    return getPath2D();\n  }\n\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  extend\n} = __webpack_require__(0);\n\nconst DrawGrid = __webpack_require__(7);\n\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n  CHANGED_VALUE: 'changed_value'\n});\nmodule.exports = EVENT_TYPE;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseMessage {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  dispose() {\n    this.detachMessageElement();\n\n    if (this._messageElement) {\n      this._messageElement.dispose();\n    }\n\n    this._messageElement = null;\n  }\n\n  _getMessageElement() {\n    return this._messageElement || (this._messageElement = this.createMessageElementInternal());\n  }\n\n  createMessageElementInternal() {}\n\n  drawCellMessageInternal(message, context, style, helper, info) {}\n\n  attachMessageElement(col, row, message) {\n    const messageElement = this._getMessageElement();\n\n    messageElement.attach(this._grid, col, row, message);\n  }\n\n  moveMessageElement(col, row) {\n    const messageElement = this._getMessageElement();\n\n    messageElement.move(this._grid, col, row);\n  }\n\n  detachMessageElement() {\n    const messageElement = this._getMessageElement();\n\n    messageElement._detach();\n  }\n\n  drawCellMessage(message, context, style, helper, info) {\n    this.drawCellMessageInternal(message, context, style, helper, info);\n  }\n\n}\n\nmodule.exports = BaseMessage;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(4);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n  __webpack_require__(127);\n\n  const rootElement = createElement('div', {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = createElement('span', {\n    classList: [MESSAGE_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\n\nclass MessageElement {\n  constructor() {\n    this._handler = new EventHandler();\n    const rootElement = this._rootElement = createMessageDomElement();\n    this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n  }\n\n  dispose() {\n    this.detach();\n\n    this._handler.dispose();\n\n    this._rootElement = null;\n    this._messageElement = null;\n  }\n\n  attach(grid, col, row, message) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = message.message;\n    } else {\n      this._detach();\n    }\n  }\n\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  _detach() {\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(col, frozenRowCount - 1);\n\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(frozenColCount - 1, row);\n\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${left.toFixed()}px`;\n    rootElement.style.width = `${width.toFixed()}px`;\n\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n\n    return true;\n  }\n\n}\n\nmodule.exports = MessageElement;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Rect = __webpack_require__(17);\n\nmodule.exports = {\n  drawExclamationMarkBox(context, style, helper) {\n    const {\n      bgColor,\n      color\n    } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect(); // draw box\n\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1); // draw exclamation mark\n\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect(left, top, width, height / 5 * 3), context, {\n      fillColor\n    });\n    helper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5), context, {\n      fillColor\n    });\n  },\n\n  drawInfomationMarkBox(context, style, helper) {\n    const {\n      bgColor,\n      color\n    } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect(); // draw box\n\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1); // draw i mark\n\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect(left, top, width, height / 5), context, {\n      fillColor\n    });\n    helper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3), context, {\n      fillColor\n    });\n  }\n\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction getScrollBarWidth() {\n  const dummy = document.createElement('div');\n  const {\n    style\n  } = dummy;\n  style.position = 'absolute';\n  style.height = '9999px';\n  style.width = 'calc(100vw - 100%)';\n  style.opacity = 0;\n  dummy.textContent = 'x';\n  document.body.appendChild(dummy);\n  const {\n    width\n  } = document.defaultView.getComputedStyle(dummy, '');\n  document.body.removeChild(dummy);\n  return parseInt(width, 10);\n}\n\nlet SCROLLBAR_SIZE;\n\nconst initDocument = () => {\n  __webpack_require__(63);\n\n  SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n  const style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.setAttribute('data-name', 'cheetah-grid');\n  style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n  document.head.appendChild(style);\n};\n\nconst style = {\n  initDocument() {\n    style.initDocument = () => {};\n\n    initDocument();\n  },\n\n  getScrollBarSize() {\n    return SCROLLBAR_SIZE;\n  }\n\n};\nmodule.exports = style;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  calcBasePosition,\n  calcStartPosition,\n  getFontSize\n} = __webpack_require__(8);\n\nconst {\n  ceil,\n  PI\n} = Math;\n\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n  function strokeRectLines(positions) {\n    for (let i = 0; i < borderColors.length; i++) {\n      const color = borderColors[i];\n      const preColor = borderColors[i - 1];\n\n      if (color) {\n        if (preColor !== color) {\n          if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n          }\n\n          const pos1 = positions[i];\n          ctx.beginPath();\n          ctx.moveTo(pos1.x, pos1.y);\n        }\n\n        const pos2 = positions[i + 1];\n        ctx.lineTo(pos2.x, pos2.y);\n      } else {\n        if (preColor) {\n          ctx.strokeStyle = preColor;\n          ctx.stroke();\n        }\n      }\n    }\n\n    const preColor = borderColors[borderColors.length - 1];\n\n    if (preColor) {\n      ctx.strokeStyle = preColor;\n      ctx.stroke();\n    }\n  }\n\n  if (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n    if (borderColors[0]) {\n      ctx.strokeStyle = borderColors[0];\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    strokeRectLines([{\n      x: left,\n      y: top\n    }, {\n      x: left + width,\n      y: top\n    }, {\n      x: left + width,\n      y: top + height\n    }, {\n      x: left,\n      y: top + height\n    }, {\n      x: left,\n      y: top\n    }]);\n  }\n}\n\nfunction roundRect(ctx, left, top, width, height, radius) {\n  ctx.beginPath();\n  ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n  ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n  ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n  ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n  ctx.closePath();\n}\n\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.fill();\n}\n\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.stroke();\n}\n\nfunction fillTextRect(ctx, text, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = calcBasePosition(ctx, rect, {\n      offset,\n      padding\n    });\n    ctx.fillText(text, pos.x, pos.y);\n  } finally {\n    ctx.restore();\n  }\n}\n\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n      offset,\n      padding\n    });\n    ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n  } finally {\n    ctx.restore();\n  }\n}\n/**\n\t * Returns an object containing the width of the checkbox.\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @return {Object} Object containing the width of the checkbox\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\n\n\nfunction measureCheckbox(ctx) {\n  return {\n    width: getFontSize(ctx, null).width\n  };\n}\n/**\n\t * draw Checkbox\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {boolean|number} check checkbox check status\n\t * @param  {object} option option\n\t * @return {void}\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\n\n\nfunction drawCheckbox(ctx, x, y, check, {\n  uncheckBgColor = '#FFF',\n  checkBgColor = 'rgb(76, 73, 72)',\n  borderColor = '#000',\n  boxSize = measureCheckbox(ctx).width\n} = {}) {\n  const checkPoint = typeof check === 'number' ? check > 1 ? 1 : check : 1;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n    fillRoundRect(ctx, ceil(x) - 1, ceil(y) - 1, ceil(boxSize + 1), ceil(boxSize + 1), boxSize / 5);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = borderColor;\n    strokeRoundRect(ctx, ceil(x) - 0.5, ceil(y) - 0.5, ceil(boxSize), ceil(boxSize), boxSize / 5);\n\n    if (check) {\n      ctx.lineWidth = ceil(boxSize / 10);\n      ctx.strokeStyle = uncheckBgColor;\n      let leftWidth = boxSize / 4;\n      let rightWidth = boxSize / 2 * 0.9;\n      const leftLeftPos = x + boxSize * 0.2;\n      const leftTopPos = y + boxSize / 2;\n\n      if (checkPoint < 0.5) {\n        leftWidth *= checkPoint * 2;\n      }\n\n      ctx.beginPath();\n      ctx.moveTo(leftLeftPos, leftTopPos);\n      ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\n      if (checkPoint > 0.5) {\n        if (checkPoint < 1) {\n          rightWidth *= (checkPoint - 0.5) * 2;\n        }\n\n        ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n      }\n\n      ctx.stroke();\n    }\n  } finally {\n    ctx.restore();\n  }\n}\n\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n  const {\n    backgroundColor = '#FFF',\n    bgColor = backgroundColor,\n    radius = 4,\n    shadow = {}\n  } = option;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = bgColor;\n\n    if (shadow) {\n      const {\n        color = 'rgba(0, 0, 0, 0.24)',\n        blur = 1,\n        offsetX = 0,\n        offsetY = 2,\n        offset: {\n          x: ox = offsetX,\n          y: oy = offsetY\n        } = {}\n      } = shadow;\n      ctx.shadowColor = color;\n      ctx.shadowBlur = blur; //\n\n      ctx.shadowOffsetX = ox;\n      ctx.shadowOffsetY = oy;\n    }\n\n    fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n  } finally {\n    ctx.restore();\n  }\n}\n/**\n\t * canvashelper\n\t * @type {Object}\n\t * @namespace cheetahGrid.tools.canvashelper\n\t * @memberof cheetahGrid.tools\n\t */\n\n\nconst canvashelper = {\n  roundRect,\n  fillRoundRect,\n  strokeRoundRect,\n  drawCheckbox,\n  measureCheckbox,\n  fillTextRect,\n  drawButton,\n  drawInlineImageRect,\n  strokeColorsRect\n};\nmodule.exports = canvashelper;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst action = __webpack_require__(69);\n\nconst type = __webpack_require__(84);\n\nconst style = __webpack_require__(38);\n/**\n * columns\n * @type {Object}\n * @namespace cheetahGrid.columns\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  action,\n  type,\n  style\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  bindCellClickAction,\n  bindCellKeyAction\n} = __webpack_require__(34);\n\nconst BaseAction = __webpack_require__(19);\n\nclass Action extends BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._action = option.action;\n  }\n\n  get action() {\n    return this._action;\n  }\n\n  set action(action) {\n    this._action = action;\n  }\n\n  clone() {\n    return new Action(this);\n  }\n\n  getState(grid) {\n    return {};\n  }\n\n  bindGridEvent(grid, col, util) {\n    const state = this.getState(grid);\n\n    const action = cell => {\n      if (this.disabled) {\n        return;\n      }\n\n      const record = grid.getRowRecord(cell.row);\n\n      this._action(record);\n    };\n\n    return [...bindCellClickAction(grid, col, util, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        grid.invalidateCell(e.col, e.row);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        grid.invalidateCell(e.col, e.row);\n      }\n    }), ...bindCellKeyAction(grid, col, util, {\n      action\n    })];\n  }\n\n}\n\nmodule.exports = Action;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise,\n  event: {\n    cancel\n  }\n} = __webpack_require__(0);\n\nconst {\n  EVENT_TYPE: {\n    CLICK_CELL,\n    MOUSEOVER_CELL,\n    MOUSEOUT_CELL,\n    KEYDOWN\n  }\n} = __webpack_require__(7);\n\nconst KEY_ENTER = 13;\n\nfunction bindCellClickAction(grid, col, util, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  return [// click\n  grid.listen(CLICK_CELL, e => {\n    if (!util.isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (isPromise(grid.getRowRecord(e.row))) {\n      return;\n    }\n\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }), // mouse move\n  grid.listen(MOUSEOVER_CELL, e => {\n    if (!util.isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (isPromise(grid.getRowRecord(e.row))) {\n      return;\n    }\n\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n\n    grid.getElement().style.cursor = 'pointer';\n  }), grid.listen(MOUSEOUT_CELL, e => {\n    if (!util.isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n\n    grid.getElement().style.cursor = '';\n  })];\n}\n\nfunction bindCellKeyAction(grid, col, util, {\n  action,\n  acceptKeys = []\n}) {\n  acceptKeys = [...acceptKeys, KEY_ENTER];\n  return [// enter key down\n  grid.listen(KEYDOWN, (keyCode, e) => {\n    if (acceptKeys.indexOf(keyCode) === -1) {\n      return;\n    }\n\n    const sel = grid.selection.select;\n\n    if (!util.isTarget(sel.col, sel.row)) {\n      return;\n    }\n\n    if (isPromise(grid.getRowRecord(sel.row))) {\n      return;\n    }\n\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    cancel(e);\n  })];\n}\n\nmodule.exports = {\n  bindCellClickAction,\n  bindCellKeyAction\n};\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction cubicBezier(x2, y2, x3, y3) {\n  let step;\n  const err = 0.0001;\n  x2 *= 3;\n  y2 *= 3;\n  x3 *= 3;\n  y3 *= 3;\n  return function (t) {\n    let p, a, b, c, d, x, s;\n\n    if (t < 0 || 1 < t) {\n      throw new Error(t);\n    }\n\n    p = step || t;\n\n    do {\n      a = 1 - p;\n      b = a * a;\n      c = p * p;\n      d = c * p;\n      x = x2 * b * p + x3 * a * c + d;\n      s = t - x;\n      p += s * 0.5;\n    } while (err < Math.abs(s));\n\n    step = p;\n    return y2 * b * p + y3 * a * c + d;\n  };\n}\n\nconst EASINGS = {\n  linear(p) {\n    return p;\n  },\n\n  easeIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n  easeOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n  easeInOut: cubicBezier(0.420, 0.000, 0.580, 1.000)\n};\nconst raf = window.requestAnimationFrame || setTimeout;\n\nfunction now() {\n  return Date.now();\n}\n/**\n\t * <pre>\n\t * Animates.\n\t * </pre>\n\t * @function\n\t * @param {number} duration animation time.\n\t * @param {function} step step\n\t * @param {function|string} easing easing\n\t * @returns {object} Deferred object.\n\t */\n\n\nmodule.exports = (duration, step, easing) => {\n  const startedAt = now();\n\n  if (!easing) {\n    easing = EASINGS.easeInOut;\n  } else if (typeof easing === 'string') {\n    easing = EASINGS[easing];\n  }\n\n  let canceledFlg = false;\n\n  const createAnim = (resolve, reject) => {\n    const anim = () => {\n      const point = now() - startedAt;\n\n      if (canceledFlg) {\n        //cancel\n        if (reject) {\n          reject();\n        }\n      } else if (point >= duration) {\n        //end\n        step(1);\n\n        if (resolve) {\n          resolve();\n        }\n      } else {\n        step(easing(point / duration));\n        raf(anim, 1);\n      }\n    };\n\n    return anim;\n  };\n\n  const cancel = () => {\n    canceledFlg = true;\n  };\n\n  if (window.Promise) {\n    const result = new window.Promise((resolve, reject) => {\n      const anim = createAnim(resolve, reject);\n      step(0);\n      anim();\n    });\n    result.cancel = cancel;\n    return result;\n  } else {\n    const anim = createAnim(() => {}, () => {});\n    step(0);\n    anim();\n    return {\n      cancel\n    };\n  }\n};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Editor = __webpack_require__(14);\n\nconst {\n  EVENT_TYPE: {\n    INPUT_CELL,\n    EDITABLEINPUT_CELL,\n    SELECTED_CELL,\n    DBLCLICK_CELL,\n    DBLTAP_CELL,\n    KEYDOWN,\n    MODIFY_STATUS_EDITABLEINPUT_CELL,\n    SCROLL\n  }\n} = __webpack_require__(7);\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass BaseInputEditor extends Editor {\n  constructor(option = {}) {\n    super(option);\n  }\n\n  clone() {\n    return new BaseInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    throw new Error();\n  }\n\n  onOpenCellInternal(grid, cell) {\n    throw new Error();\n  }\n\n  onChangeSelectCellInternal(grid, cell, selected) {\n    throw new Error();\n  }\n\n  onSetInputAttrsInternal(grid, cell, input) {\n    throw new Error();\n  }\n\n  onGridScrollInternal(grid) {\n    throw new Error();\n  }\n\n  bindGridEvent(grid, col, util) {\n    const open = cell => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      this.onOpenCellInternal(grid, cell);\n    };\n\n    const input = (cell, value) => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      this.onInputCellInternal(grid, cell, value);\n    };\n\n    return [grid.listen(INPUT_CELL, e => {\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      input({\n        col: e.col,\n        row: e.row\n      }, e.value);\n    }), grid.listen(DBLCLICK_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(DBLTAP_CELL, e => {\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      open({\n        col: e.col,\n        row: e.row\n      });\n      e.event.preventDefault();\n      e.event.stopPropagation();\n    }), grid.listen(KEYDOWN, (keyCode, e) => {\n      if (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n        return;\n      }\n\n      const sel = grid.selection.select;\n\n      if (!util.isTarget(sel.col, sel.row)) {\n        return;\n      }\n\n      open({\n        col: sel.col,\n        row: sel.row\n      });\n    }), grid.listen(SELECTED_CELL, e => {\n      this.onChangeSelectCellInternal(grid, {\n        col: e.col,\n        row: e.row\n      }, e.selected);\n    }), grid.listen(SCROLL, () => {\n      this.onGridScrollInternal(grid);\n    }), grid.listen(EDITABLEINPUT_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return false;\n      }\n\n      if (this.readOnly || this.disabled) {\n        return false;\n      }\n\n      return true;\n    }), grid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      this.onSetInputAttrsInternal(grid, {\n        col: cell.col,\n        row: cell.row\n      }, cell.input);\n    })];\n  }\n\n}\n\nmodule.exports = BaseInputEditor;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nfunction normalize(options) {\n  if (!options) {\n    return [];\n  }\n\n  if (__webpack_provided_Array_dot_isArray(options)) {\n    return options;\n  }\n\n  if (typeof options === 'string') {\n    return normalize(JSON.parse(options));\n  }\n\n  const result = [];\n\n  for (const k in options) {\n    result.push({\n      value: k,\n      caption: options[k]\n    });\n  }\n\n  return result;\n}\n\nmodule.exports = {\n  normalize\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(21);\n\nconst Style = __webpack_require__(3);\n\nconst NumberStyle = __webpack_require__(39);\n\nconst CheckStyle = __webpack_require__(40);\n\nconst ButtonStyle = __webpack_require__(41);\n\nconst ImageStyle = __webpack_require__(42);\n\nconst IconStyle = __webpack_require__(43);\n\nconst PercentCompleteBarStyle = __webpack_require__(44);\n\nconst MultilineTextStyle = __webpack_require__(45);\n\nconst MenuStyle = __webpack_require__(46);\n/**\n * column styles\n * @type {Object}\n * @namespace cheetahGrid.columns.style\n * @memberof cheetahGrid.columns\n */\n\n\nconst style = {\n  get EVENT_TYPE() {\n    return BaseStyle.EVENT_TYPE;\n  },\n\n  get BaseStyle() {\n    return BaseStyle;\n  },\n\n  get Style() {\n    return Style;\n  },\n\n  get NumberStyle() {\n    return NumberStyle;\n  },\n\n  get CheckStyle() {\n    return CheckStyle;\n  },\n\n  get ButtonStyle() {\n    return ButtonStyle;\n  },\n\n  get ImageStyle() {\n    return ImageStyle;\n  },\n\n  get IconStyle() {\n    return IconStyle;\n  },\n\n  get PercentCompleteBarStyle() {\n    return PercentCompleteBarStyle;\n  },\n\n  get MultilineTextStyle() {\n    return MultilineTextStyle;\n  },\n\n  get MenuStyle() {\n    return MenuStyle;\n  },\n\n  of(columnStyle, record, StyleClass) {\n    if (columnStyle) {\n      if (columnStyle instanceof Style) {\n        return columnStyle;\n      } else if (typeof columnStyle === 'function') {\n        return style.of(columnStyle(record), record, StyleClass);\n      } else if (record && columnStyle in record) {\n        return style.of(record[columnStyle], record, StyleClass);\n      }\n\n      return new StyleClass(columnStyle);\n    } else {\n      return StyleClass.DEFAULT;\n    }\n  }\n\n};\nmodule.exports = style;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nfunction adj(style) {\n  const {\n    textAlign = 'right'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass NumberStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n  }\n\n  clone() {\n    return new NumberStyle(this);\n  }\n\n}\n\nmodule.exports = NumberStyle;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(20);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass CheckStyle extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n\n  get borderColor() {\n    return this._borderColor;\n  }\n\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new CheckStyle(this);\n  }\n\n}\n\nmodule.exports = CheckStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass ButtonStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    const {\n      buttonBgColor\n    } = style;\n    this._buttonBgColor = buttonBgColor;\n  }\n\n  get buttonBgColor() {\n    return this._buttonBgColor;\n  }\n\n  set buttonBgColor(buttonBgColor) {\n    this._buttonBgColor = buttonBgColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new ButtonStyle(this);\n  }\n\n}\n\nmodule.exports = ButtonStyle;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(20);\n\nlet defaultStyle;\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nclass ImageStyle extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    this._imageSizing = style.imageSizing;\n    this._margin = style.margin || 4;\n  }\n\n  get imageSizing() {\n    return this._imageSizing;\n  }\n\n  set imageSizing(imageSizing) {\n    this._imageSizing = imageSizing;\n    this.doChangeStyle();\n  }\n\n  get margin() {\n    return this._margin;\n  }\n\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new ImageStyle(this);\n  }\n\n}\n\nmodule.exports = ImageStyle;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass IconStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n  }\n\n  clone() {\n    return new IconStyle(this);\n  }\n\n}\n\nmodule.exports = IconStyle;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nlet defaultStyle;\n\nconst DEFAULT_BAR_COLOR = num => {\n  if (num > 80) {\n    return '#20a8d8';\n  }\n\n  if (num > 50) {\n    return '#4dbd74';\n  }\n\n  if (num > 20) {\n    return '#ffc107';\n  }\n\n  return '#f86c6b';\n};\n\nclass PercentCompleteBarStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n    this._barBgColor = style.barBgColor || '#f0f3f5';\n    this._barHeight = style.barHeight || 3;\n  }\n\n  get barColor() {\n    return this._barColor;\n  }\n\n  set barColor(barColor) {\n    this._barColor = barColor;\n    this.doChangeStyle();\n  }\n\n  get barBgColor() {\n    return this._barBgColor;\n  }\n\n  set barBgColor(barBgColor) {\n    this._barBgColor = barBgColor;\n    this.doChangeStyle();\n  }\n\n  get barHeight() {\n    return this._barHeight;\n  }\n\n  set barHeight(barHeight) {\n    this._barHeight = barHeight;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new PercentCompleteBarStyle(this);\n  }\n\n}\n\nmodule.exports = PercentCompleteBarStyle;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nfunction adj(style) {\n  const {\n    textBaseline = 'top'\n  } = style;\n  style.textBaseline = textBaseline;\n  return style;\n}\n\nlet defaultStyle;\n\nclass MultilineTextStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MultilineTextStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    this._lineHeight = style.lineHeight || '1em';\n    this._autoWrapText = style.autoWrapText || false;\n    this._lineClamp = style.lineClamp;\n  }\n\n  clone() {\n    return new MultilineTextStyle(this);\n  }\n\n  get lineHeight() {\n    return this._lineHeight;\n  }\n\n  set lineHeight(lineHeight) {\n    this._lineHeight = lineHeight;\n    this.doChangeStyle();\n  }\n\n  get lineClamp() {\n    return this._lineClamp;\n  }\n\n  set lineClamp(lineClamp) {\n    this._lineClamp = lineClamp;\n    this.doChangeStyle();\n  }\n\n  get autoWrapText() {\n    return this._autoWrapText;\n  }\n\n  set autoWrapText(autoWrapText) {\n    this._autoWrapText = autoWrapText;\n    this.doChangeStyle();\n  }\n\n}\n\nmodule.exports = MultilineTextStyle;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(3);\n\nlet defaultStyle;\n\nclass MenuStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MenuStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    const {\n      appearance\n    } = style;\n    this._appearance = appearance;\n  }\n\n  get appearance() {\n    return this._appearance || 'menulist-button';\n  }\n\n  set appearance(appearance) {\n    this._appearance = appearance;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new MenuStyle(this);\n  }\n\n}\n\nmodule.exports = MenuStyle;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  then\n} = __webpack_require__(0);\n\nconst LRUCache = __webpack_require__(89);\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n  return url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n  if (!window.Promise) {\n    console.error('Promise is not loaded. load Promise before this process.');\n    return {\n      then() {\n        return this;\n      }\n\n    };\n  }\n\n  const img = new Image();\n  const result = new window.Promise(resolve => {\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n\n  img.onerror = e => {\n    const url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n    console.warn(`cannot load: ${url}`);\n    throw new Error(`IMAGE LOAD ERROR: ${url}`);\n  };\n\n  img.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n  return result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n  return then(src, src => {\n    const c = cache.get(src);\n\n    if (c) {\n      return c;\n    }\n\n    const result = loadImage(src).then(img => {\n      cache.put(src, img);\n      return img;\n    });\n    cache.put(src, result);\n    return result;\n  });\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n  const cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n  return getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n  loadImage,\n  getCacheOrLoad\n};\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst DataSource = __webpack_require__(24);\n\nconst CachedDataSource = __webpack_require__(99);\n\nconst FilterDataSource = __webpack_require__(100);\n/**\n * data modules\n * @type {Object}\n * @namespace cheetahGrid.data\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  DataSource,\n  CachedDataSource,\n  FilterDataSource\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nfunction wait(val) {\n  return val.then(v => {\n    if (isPromise(v)) {\n      return wait(v);\n    } else {\n      return v;\n    }\n  });\n}\n\nfunction createArray(get, length) {\n  const array = new Array(length);\n\n  for (let i = 0; i < length; i++) {\n    array[i] = get(i);\n  }\n\n  return array;\n}\n\nfunction createArrayPromise(get, getField, length) {\n  return new Promise(resolve => {\n    const plist = [];\n    const array = new Array(length);\n\n    for (let i = 0; i < length; i++) {\n      const data = get(i);\n      const record = {\n        v: data,\n        f: data\n      };\n      array[i] = record;\n\n      if (isPromise(data)) {\n        plist.push(wait(data).then(v => {\n          record.v = v;\n          record.f = v;\n        }));\n      }\n    }\n\n    Promise.all(plist).then(() => setArrayField(array, getField)).then(resolve);\n  });\n}\n\nfunction setArrayField(array, getField) {\n  if (!getField) {\n    return Promise.resolve(array);\n  }\n\n  return new Promise(resolve => {\n    const {\n      length\n    } = array;\n    const plist = [];\n\n    for (let i = 0; i < length; i++) {\n      const record = array[i];\n      record.f = getField(record.v);\n\n      if (isPromise(record.f)) {\n        plist.push(wait(record.f).then(v => {\n          record.f = v;\n        }));\n      }\n    }\n\n    Promise.all(plist).then(() => resolve(array));\n  });\n}\n\nconst sort = {\n  sort(get, set, length, compare, getField) {\n    const old = createArray(get, length);\n\n    if (getField) {\n      old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n    } else {\n      old.sort(compare);\n    }\n\n    for (let i = 0; i < length; i++) {\n      set(i, old[i]);\n    }\n  },\n\n  sortArray(array, compare) {\n    Array.prototype.sort.call(array, compare);\n  },\n\n  sortPromise(get, set, length, compare, getField) {\n    if (window.Promise) {\n      return createArrayPromise(get, getField, length).then(array => {\n        array.sort((r1, r2) => compare(r1.f, r2.f));\n\n        for (let i = 0; i < length; i++) {\n          set(i, array[i].v);\n        }\n      });\n    } else {\n      sort.sort(get, set, length, compare, getField);\n      const dummyPromise = {\n        then(fn) {\n          fn();\n          return dummyPromise;\n        },\n\n        catch() {\n          return dummyPromise;\n        }\n\n      };\n      return dummyPromise;\n    }\n  }\n\n};\nmodule.exports = sort;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {/*eslint no-bitwise:0*/\n\n\nconst {\n  calcStartPosition,\n  getFontSize\n} = __webpack_require__(8);\n\nconst inlineUtils = __webpack_require__(102);\n\nconst canvashelper = __webpack_require__(31);\n\nconst themes = __webpack_require__(23);\n\nconst {\n  colorToRGB\n} = __webpack_require__(56);\n\nconst Rect = __webpack_require__(17);\n\nconst {\n  getChainSafe,\n  getOrApply,\n  style: {\n    toBoxArray\n  },\n  isDef\n} = __webpack_require__(0);\n\nconst fonts = __webpack_require__(52);\n\nconst calc = __webpack_require__(18);\n\nconst INLINE_ELLIPSIS = inlineUtils.of('\\u2026');\n\nfunction invalidateCell(context, grid) {\n  const {\n    col,\n    row\n  } = context;\n  grid.invalidateCell(col, row);\n}\n\nfunction getColor(color, col, row, grid, context) {\n  return getOrApply(color, {\n    col,\n    row,\n    grid,\n    context\n  });\n}\n\nfunction getThemeColor(grid, ...names) {\n  const gridThemeColor = getChainSafe(grid.theme, ...names);\n\n  if (!isDef(gridThemeColor)) {\n    // use default theme\n    return getChainSafe(themes.default, ...names);\n  }\n\n  if (typeof gridThemeColor !== 'function') {\n    return gridThemeColor;\n  }\n\n  let defaultThemeColor;\n  return (...args) => {\n    const color = gridThemeColor(...args);\n\n    if (isDef(color)) {\n      // use grid theme\n      return color;\n    } // use default theme\n\n\n    defaultThemeColor = defaultThemeColor || getChainSafe(themes.default, ...names);\n    return getOrApply(defaultThemeColor, ...args);\n  };\n}\n\nfunction testFontLoad(font, value, context, grid) {\n  if (font) {\n    if (!fonts.check(font, value)) {\n      fonts.load(font, value, () => invalidateCell(context, grid));\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n  function drawInline(inline, offsetLeft, offsetRight) {\n    if (inline.canDraw()) {\n      ctx.save();\n\n      try {\n        ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n        ctx.font = inline.font() || ctx.font;\n        inline.draw({\n          ctx,\n          canvashelper,\n          rect,\n          offset,\n          offsetLeft,\n          offsetRight,\n          offsetTop,\n          offsetBottom\n        });\n      } finally {\n        ctx.restore();\n      }\n    } else {\n      inline.onReady(() => grid.invalidateCell(col, row)); //noop\n    }\n  }\n\n  if (inlines.length === 1) {\n    //1\n    const inline = inlines[0];\n    drawInline(inline, 0, 0);\n  } else {\n    const inlineWidths = inlines.map(inline => (inline.width({\n      ctx\n    }) || 0) - 0);\n    let offsetRight = inlineWidths.reduce((a, b) => a + b);\n    let offsetLeft = 0;\n    inlines.forEach((inline, index) => {\n      const inlineWidth = inlineWidths[index];\n      offsetRight -= inlineWidth;\n      drawInline(inline, offsetLeft, offsetRight);\n      offsetLeft += inlineWidth;\n    });\n  }\n}\n\nfunction buildInlines(icons, inline) {\n  return inlineUtils.buildInlines(icons, inline);\n}\n\nfunction inlineToString(inline) {\n  return inlineUtils.string(inline);\n}\n\nfunction getOverflowInline(textOverflow) {\n  if (!isAllowOverflow(textOverflow) || textOverflow === 'ellipsis') {\n    return INLINE_ELLIPSIS;\n  }\n\n  textOverflow = textOverflow.trim();\n\n  if (textOverflow.length === 1) {\n    return inlineUtils.of(textOverflow[0]);\n  }\n\n  return INLINE_ELLIPSIS;\n}\n\nfunction isAllowOverflow(textOverflow) {\n  return textOverflow && textOverflow !== 'clip' && typeof textOverflow === 'string';\n}\n\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n  const maxWidth = width - 3\n  /*buffer*/\n  ;\n  let lineWidth = 0;\n\n  for (let i = 0; i < inlines.length; i++) {\n    const inline = inlines[i];\n    const inlineWidth = (inline.width({\n      ctx\n    }) || 0) - 0;\n\n    if (lineWidth + inlineWidth > maxWidth) {\n      return {\n        index: i,\n        lineWidth,\n        remWidth: maxWidth - lineWidth\n      };\n    }\n\n    lineWidth += inlineWidth;\n  }\n\n  return null;\n}\n\nfunction isOverflowInlines(ctx, inlines, width) {\n  return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\n\nfunction breakWidthInlines(ctx, inlines, width) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\n  if (!indexData) {\n    return {\n      beforeInlines: inlines,\n      overflow: false,\n      afterInlines: []\n    };\n  }\n\n  const {\n    index,\n    remWidth\n  } = indexData;\n  const inline = inlines[index];\n  const beforeInlines = inlines.slice(0, index);\n  const afterInlines = [];\n\n  if (inline.canBreak()) {\n    let {\n      before,\n      after\n    } = inline.breakWord(ctx, remWidth);\n\n    if (!before && !beforeInlines.length) {\n      ({\n        before,\n        after\n      } = inline.breakAll(ctx, remWidth));\n    }\n\n    if (!before && !beforeInlines.length) {\n      // Always return one char\n      ({\n        before,\n        after\n      } = inline.splitIndex(1));\n    }\n\n    if (before) {\n      beforeInlines.push(before);\n    }\n\n    if (after) {\n      afterInlines.push(after);\n    }\n\n    afterInlines.push(...inlines.slice(index + 1));\n  } else {\n    if (!beforeInlines.length) {\n      // Always return one char\n      beforeInlines.push(inline);\n    }\n\n    afterInlines.push(...inlines.slice(beforeInlines.length));\n  }\n\n  return {\n    beforeInlines,\n    overflow: true,\n    afterInlines\n  };\n}\n\nfunction truncateInlines(ctx, inlines, width, option) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\n  if (!indexData) {\n    return {\n      inlines,\n      overflow: false\n    };\n  }\n\n  const {\n    index,\n    lineWidth\n  } = indexData;\n  const inline = inlines[index];\n  const overflowInline = getOverflowInline(option);\n  const ellipsisWidth = overflowInline.width({\n    ctx\n  });\n  const remWidth = width - lineWidth - ellipsisWidth;\n  const result = inlines.slice(0, index);\n\n  if (inline.canBreak()) {\n    const {\n      before\n    } = inline.breakAll(ctx, remWidth);\n\n    if (before) {\n      result.push(before);\n    }\n  }\n\n  result.push(overflowInline);\n  return {\n    inlines: result,\n    overflow: true\n  };\n}\n\nfunction _inlineRect(grid, ctx, inline, rect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  textOverflow,\n  icons\n} = {}) {\n  //style\n  ctx.fillStyle = getColor(color, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n  let inlines = buildInlines(icons, inline);\n\n  if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, rect.width)) {\n    const {\n      inlines: truncInlines,\n      overflow\n    } = truncateInlines(ctx, inlines, rect.width, textOverflow);\n    inlines = truncInlines;\n    grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n  } else {\n    grid.setCellOverflowText(col, row, false);\n  }\n\n  drawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  lineHeight,\n  autoWrapText,\n  lineClamp,\n  textOverflow,\n  icons\n} = {}) {\n  //style\n  ctx.fillStyle = getColor(color, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n\n  if (lineClamp === 'auto') {\n    const rectHeight = rect.height - offset * 2 - 2\n    /*offset added by Inline#draw*/\n    ;\n    lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n  }\n\n  let buildedMultiInlines;\n\n  if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n    const {\n      width\n    } = rect;\n    buildedMultiInlines = [];\n    const procLineClamp = lineClamp > 0 ? (inlines, hasNext) => {\n      if (buildedMultiInlines.length + 1 >= lineClamp) {\n        if (inlines.length === 0 && hasNext) {\n          buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n          grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n        } else {\n          const {\n            inlines: truncInlines,\n            overflow\n          } = truncateInlines(ctx, inlines, width, textOverflow);\n          buildedMultiInlines.push(hasNext && !overflow ? truncInlines.concat([getOverflowInline(textOverflow)]) : truncInlines);\n\n          if (overflow || hasNext) {\n            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n          }\n        }\n\n        return false;\n      }\n\n      return true;\n    } : () => true;\n    const procLine = autoWrapText ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      while (inlines.length) {\n        if (!procLineClamp(inlines, hasNext)) {\n          return false;\n        }\n\n        const {\n          beforeInlines,\n          afterInlines\n        } = breakWidthInlines(ctx, inlines, width);\n        buildedMultiInlines.push(beforeInlines);\n        inlines = afterInlines;\n      }\n\n      return true;\n    } : isAllowOverflow(textOverflow) ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      const {\n        inlines: truncInlines,\n        overflow\n      } = truncateInlines(ctx, inlines, width, textOverflow);\n      buildedMultiInlines.push(truncInlines);\n\n      if (overflow) {\n        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n      }\n\n      return true;\n    } : (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      buildedMultiInlines.push(inlines);\n      return true;\n    };\n    grid.setCellOverflowText(col, row, false);\n\n    for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n      const inline = multiInlines[lineRow];\n      const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n\n      if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n        break;\n      }\n    }\n  } else {\n    grid.setCellOverflowText(col, row, false);\n    buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n  }\n\n  let paddingTop = 0;\n  let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n\n  if (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n    const em = getFontSize(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop += pad;\n    paddingBottom -= pad;\n  } else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n    const em = getFontSize(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop -= pad;\n    paddingBottom += pad;\n  }\n\n  buildedMultiInlines.forEach(buildedInline => {\n    drawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n    paddingTop += lineHeight;\n    paddingBottom -= lineHeight;\n  });\n}\n\nfunction drawCheckbox(ctx, rect, col, row, check, helper, {\n  animElapsedTime = 1,\n  uncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n  checkBgColor = helper.theme.checkbox.checkBgColor,\n  borderColor = helper.theme.checkbox.borderColor,\n  textAlign = 'center',\n  textBaseline = 'middle'\n} = {}) {\n  const boxWidth = canvashelper.measureCheckbox(ctx).width;\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  const pos = calcStartPosition(ctx, rect, boxWidth + 1\n  /*+1*/\n  , boxWidth + 1\n  /*+1*/\n  );\n  uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n  checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n  borderColor = helper.getColor(borderColor, col, row, ctx);\n\n  if (0 < animElapsedTime && animElapsedTime < 1) {\n    const uncheckBgRGB = colorToRGB(uncheckBgColor);\n    const checkBgRGB = colorToRGB(checkBgColor);\n\n    const checkRGB = colorName => {\n      const start = uncheckBgRGB[colorName];\n      const end = checkBgRGB[colorName];\n\n      if (animElapsedTime >= 1) {\n        return end;\n      }\n\n      const diff = start - end;\n      return Math.ceil(start - diff * animElapsedTime);\n    };\n\n    const uncheckRGB = colorName => {\n      const end = uncheckBgRGB[colorName];\n      const start = checkBgRGB[colorName];\n\n      if (animElapsedTime >= 1) {\n        return end;\n      }\n\n      const diff = end - start;\n      return Math.ceil(start + diff * animElapsedTime);\n    };\n\n    uncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n    checkBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n  }\n\n  canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n    uncheckBgColor,\n    checkBgColor,\n    borderColor\n  });\n}\n\nclass ThemeResolver {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  getThemeColor(...name) {\n    return getThemeColor(this._grid, ...name);\n  }\n\n  get font() {\n    return getThemeColor(this._grid, 'font');\n  }\n\n  get underlayBackgroundColor() {\n    return getThemeColor(this._grid, 'underlayBackgroundColor');\n  } // color\n\n\n  get color() {\n    return getThemeColor(this._grid, 'color');\n  }\n\n  get frozenRowsColor() {\n    return getThemeColor(this._grid, 'frozenRowsColor');\n  } // background\n\n\n  get defaultBgColor() {\n    return getThemeColor(this._grid, 'defaultBgColor');\n  }\n\n  get frozenRowsBgColor() {\n    return getThemeColor(this._grid, 'frozenRowsBgColor');\n  }\n\n  get selectionBgColor() {\n    return getThemeColor(this._grid, 'selectionBgColor');\n  } // border\n\n\n  get borderColor() {\n    return getThemeColor(this._grid, 'borderColor');\n  }\n\n  get frozenRowsBorderColor() {\n    return getThemeColor(this._grid, 'frozenRowsBorderColor');\n  }\n\n  get highlightBorderColor() {\n    return getThemeColor(this._grid, 'highlightBorderColor');\n  }\n\n  get checkbox() {\n    const grid = this._grid;\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n      },\n\n      get checkBgColor() {\n        return getThemeColor(grid, 'checkbox', 'checkBgColor');\n      },\n\n      get borderColor() {\n        return getThemeColor(grid, 'checkbox', 'borderColor');\n      }\n\n    });\n  }\n\n  get button() {\n    const grid = this._grid;\n    return this._button || (this._button = {\n      get color() {\n        return getThemeColor(grid, 'button', 'color');\n      },\n\n      get bgColor() {\n        return getThemeColor(grid, 'button', 'bgColor');\n      }\n\n    });\n  }\n\n  get header() {\n    const grid = this._grid;\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getThemeColor(grid, 'header', 'sortArrowColor');\n      }\n\n    });\n  }\n\n}\n\nfunction strokeRect(ctx, color, left, top, width, height) {\n  if (!__webpack_provided_Array_dot_isArray(color)) {\n    if (color) {\n      ctx.strokeStyle = color;\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    const borderColors = toBoxArray(color);\n    canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n  }\n}\n\nclass GridCanvasHelper {\n  constructor(grid) {\n    this._grid = grid;\n    this._theme = new ThemeResolver(grid);\n  }\n\n  createCalculator(context, font) {\n    return {\n      calcWidth(width) {\n        return calc.toPx(width, {\n          get full() {\n            const rect = context.getRect();\n            return rect.width;\n          },\n\n          get em() {\n            return getFontSize(context.getContext(), font).width;\n          }\n\n        });\n      },\n\n      calcHeight(height) {\n        return calc.toPx(height, {\n          get full() {\n            const rect = context.getRect();\n            return rect.height;\n          },\n\n          get em() {\n            return getFontSize(context.getContext(), font).height;\n          }\n\n        });\n      }\n\n    };\n  }\n\n  getColor(color, col, row, ctx) {\n    return getColor(color, col, row, this._grid, ctx);\n  }\n\n  toBoxArray(obj) {\n    return toBoxArray(obj);\n  }\n\n  toBoxPixelArray(value, context, font) {\n    if (typeof value === 'string' || __webpack_provided_Array_dot_isArray(value)) {\n      const calculator = this.createCalculator(context, font);\n      const box = toBoxArray(value);\n      return [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n    }\n\n    return toBoxArray(value);\n  }\n\n  get theme() {\n    return this._theme;\n  }\n\n  drawWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n\n    if (!drawRect) {\n      return;\n    }\n\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      ctx.beginPath();\n      ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height); //clip\n\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  drawBorderWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n\n    if (!drawRect) {\n      return;\n    }\n\n    const rect = context.getRect();\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      //clip\n      ctx.beginPath();\n      let clipLeft = drawRect.left;\n      let clipWidth = drawRect.width;\n\n      if (drawRect.left === rect.left) {\n        clipLeft += -1;\n        clipWidth += 1;\n      }\n\n      let clipTop = drawRect.top;\n      let clipHeight = drawRect.height;\n\n      if (drawRect.top === rect.top) {\n        clipTop += -1;\n        clipHeight += 1;\n      }\n\n      ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  text(text, context, {\n    padding,\n    offset = 2,\n    color,\n    textAlign = 'left',\n    textBaseline = 'middle',\n    font,\n    textOverflow = 'clip',\n    icons\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    this.drawWithClip(context, ctx => {\n      if (padding) {\n        padding = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + padding[3];\n        const top = rect.top + padding[0];\n        const width = rect.width - padding[1] - padding[3];\n        const height = rect.height - padding[0] - padding[2];\n        rect = new Rect(left, top, width, height);\n      }\n\n      _inlineRect(this._grid, ctx, text, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  multilineText(multilines, context, {\n    padding,\n    offset = 2,\n    color,\n    textAlign = 'left',\n    textBaseline = 'middle',\n    font,\n    lineHeight = '1em',\n    autoWrapText = false,\n    lineClamp = 0,\n    textOverflow = 'clip',\n    icons\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    this.drawWithClip(context, ctx => {\n      if (padding) {\n        padding = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + padding[3];\n        const top = rect.top + padding[0];\n        const width = rect.width - padding[1] - padding[3];\n        const height = rect.height - padding[0] - padding[2];\n        rect = new Rect(left, top, width, height);\n      }\n\n      const calculator = this.createCalculator(context, font);\n      lineHeight = calculator.calcHeight(lineHeight);\n\n      _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  fillText(text, x, y, context, {\n    color,\n    textAlign = 'left',\n    textBaseline = 'top',\n    font\n  } = {}) {\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = textBaseline;\n      ctx.font = font || ctx.font;\n      ctx.fillText(text, x, y);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  fillCell(context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    });\n  }\n\n  fillCellWithState(context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillCell(context, option);\n  }\n\n  fillRect(rect, context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  fillRectWithState(rect, context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillRect(rect, context, option);\n  }\n\n  getFillColorState(context, option = {}) {\n    const state = context.getSelectState();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!state.selected && state.selection) {\n      return this.theme.selectionBgColor;\n    }\n\n    if (option.fillColor) {\n      return option.fillColor;\n    }\n\n    const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      return this.theme.frozenRowsBgColor;\n    }\n\n    return this.theme.defaultBgColor;\n  }\n\n  border(context, {\n    borderColor = this.theme.borderColor,\n    lineWidth = 1\n  } = {}) {\n    const rect = context.getRect();\n    this.drawBorderWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n      if (lineWidth === 1) {\n        ctx.lineWidth = 1;\n        strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n      } else if (lineWidth === 2) {\n        ctx.lineWidth = 2;\n        strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n      } else {\n        ctx.lineWidth = lineWidth;\n        const startOffset = lineWidth / 2 - 1;\n        strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n      }\n    });\n  }\n\n  borderWithState(context, option = {}) {\n    const rect = context.getRect();\n    const state = context.getSelectState();\n    const {\n      col,\n      row\n    } = context; //\n\n    if (state.selected) {\n      option.borderColor = this.theme.highlightBorderColor;\n      option.lineWidth = 2;\n      this.border(context, option);\n    } else {\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        option.borderColor = this.theme.frozenRowsBorderColor;\n      }\n\n      option.lineWidth = 1;\n      this.border(context, option); //\n\n      const sel = this._grid.selection.select;\n\n      if (sel.col + 1 === col && sel.row === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        });\n      } else if (sel.col === col && sel.row + 1 === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0];\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        });\n      }\n    }\n  }\n\n  checkbox(check, context, option = {}) {\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n    });\n  }\n\n  button(caption, context, {\n    bgColor = this.theme.button.bgColor,\n    padding,\n    offset = 2,\n    color = this.theme.button.color,\n    textAlign = 'center',\n    textBaseline = 'middle',\n    shadow,\n    font,\n    textOverflow = 'clip',\n    icons\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      padding = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n      const left = rect.left + padding[3];\n      const top = rect.top + padding[0];\n      const width = rect.width - padding[1] - padding[3];\n      const height = rect.height - padding[0] - padding[2];\n      canvashelper.drawButton(ctx, left, top, width, height, {\n        bgColor,\n        radius: rect.height / 8,\n        offset,\n        shadow\n      });\n\n      _inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height), col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  testFontLoad(font, value, context) {\n    return testFontLoad(font, value, context, this._grid);\n  }\n\n}\n\nmodule.exports = GridCanvasHelper;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst loads = {};\nconst legacy = !document.fonts;\nconst load = legacy ? function (font, testStr, callback) {\n  //for legacy(IE)\n  if (loads[`${font} @ ${testStr}`]) {\n    callback();\n    return;\n  }\n\n  __webpack_require__(104).load(font, testStr, () => {\n    loads[`${font} @ ${testStr}`] = true;\n    callback();\n  }, () => {\n    loads[`${font} @ ${testStr}`] = true;\n    callback();\n  });\n} : function (font, testStr, callback) {\n  if (loads.all || loads[font]) {\n    callback();\n    return;\n  }\n\n  document.fonts.ready.then(() => {\n    loads.all = true;\n  });\n  document.fonts.load(font).then(() => {\n    loads[font] = true;\n    callback();\n  });\n};\nconst check = legacy ? function (font, testStr) {\n  //for legacy(IE)\n  if (loads[`${font} @ ${testStr}`]) {\n    return true;\n  }\n\n  load(font, testStr, () => {});\n  return false;\n} : function (font, testStr) {\n  if (loads.all || loads[font]) {\n    return true;\n  }\n\n  if (!document.fonts.check(font)) {\n    load(font, testStr, () => {});\n    return false;\n  }\n\n  return true;\n};\nmodule.exports = {\n  check,\n  load\n};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\n\nconst {\n  getCacheOrLoad\n} = __webpack_require__(47);\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nclass InlineImage extends Inline {\n  constructor({\n    src,\n    width,\n    height,\n    imageLeft,\n    imageTop,\n    imageWidth,\n    imageHeight\n  }) {\n    super();\n    this._src = src;\n    this._width = width;\n    this._height = height;\n    this._imageLeft = imageLeft;\n    this._imageTop = imageTop;\n    this._imageWidth = imageWidth;\n    this._imageHeight = imageHeight;\n    this._onloaded = [];\n    this._loaded = false;\n\n    if (isPromise(src)) {\n      src.then(s => {\n        this._src = s;\n\n        this._loadImage(s);\n      });\n    } else {\n      this._loadImage(src);\n    }\n  }\n\n  _loadImage(src) {\n    const img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\n    if (isPromise(img)) {\n      img.then(i => {\n        this._loaded = true;\n        this._inlineImg = i;\n\n        this._onloaded.forEach(fn => fn());\n      });\n    } else {\n      this._loaded = true;\n    }\n  }\n\n  width({\n    ctx\n  }) {\n    return this._width || (this._loaded ? this._inlineImg.width : 0);\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return null;\n  }\n\n  canDraw() {\n    return this._loaded;\n  }\n\n  onReady(callback) {\n    if (isPromise(this._src) || isPromise(this._inlineImg)) {\n      this._onloaded.push(() => callback());\n    }\n  }\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const img = this._inlineImg;\n    canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineImage;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint-disable camelcase*/\n\n\nconst {\n  extend\n} = __webpack_require__(0);\n\nconst plugins = __webpack_require__(55);\n\nconst builtins = {\n  get arrow_upward() {\n    return __webpack_require__(112);\n  },\n\n  get arrow_downward() {\n    return __webpack_require__(113);\n  },\n\n  get edit() {\n    return __webpack_require__(114);\n  },\n\n  get add() {\n    return __webpack_require__(115);\n  },\n\n  get star() {\n    return __webpack_require__(116);\n  },\n\n  get star_border() {\n    return __webpack_require__(117);\n  },\n\n  get star_half() {\n    return __webpack_require__(118);\n  }\n\n};\nmodule.exports = {\n  get() {\n    return extend(builtins, plugins);\n  }\n\n};\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst rgbMap = {};\n\nfunction styleColorToRGB(color) {\n  const dummy = document.createElement('div');\n  const {\n    style\n  } = dummy;\n  style.color = color;\n  style.position = 'fixed';\n  style.height = '1px';\n  style.width = '1px';\n  style.opacity = 0;\n  document.body.appendChild(dummy);\n  const {\n    color: styleColor\n  } = document.defaultView.getComputedStyle(dummy, '');\n  document.body.removeChild(dummy);\n  return colorToRGB0(styleColor);\n}\n\nfunction hexToNum(hex) {\n  return parseInt(hex, 16);\n}\n\nfunction createRGB(r, g, b, a = 1) {\n  return {\n    r,\n    g,\n    b,\n    a\n  };\n}\n\nfunction tripleHexToRGB({\n  1: r,\n  2: g,\n  3: b\n}) {\n  return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\n\nfunction sextupleHexToRGB({\n  1: r1,\n  2: r2,\n  3: g1,\n  4: g2,\n  5: b1,\n  6: b2\n}) {\n  return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\n\nfunction testRGB({\n  r,\n  g,\n  b,\n  a\n}) {\n  return 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n}\n\nfunction rateToByte(r) {\n  return Math.ceil(r * 255 / 100);\n}\n\nfunction colorToRGB0(color) {\n  if (color.match(/^#[0-9a-f]{3}$/i)) {\n    return tripleHexToRGB(color);\n  }\n\n  if (color.match(/^#[0-9a-f]{6}$/i)) {\n    return sextupleHexToRGB(color);\n  }\n\n  let ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  return null;\n}\n\nfunction colorToRGB(color) {\n  if (typeof color !== 'string') {\n    return createRGB(0, 0, 0, 0);\n  }\n\n  color = color.toLowerCase().trim();\n\n  if (rgbMap[color]) {\n    return rgbMap[color];\n  }\n\n  return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\n\nmodule.exports = {\n  colorToRGB\n};\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventTarget = __webpack_require__(13);\n\nconst EVENT_TYPE = {\n  CHANGE_STYLE: 'change_style'\n};\nlet defaultStyle;\n\nclass BaseStyle extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n\n  get bgColor() {\n    return this._bgColor;\n  }\n\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n\n  doChangeStyle() {\n    this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n  }\n\n  clone() {\n    return new BaseStyle(this);\n  }\n\n}\n\nmodule.exports = BaseStyle;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(121);\n\nlet defaultStyle;\n\nclass Style extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._textOverflow = style.textOverflow || 'ellipsis';\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n\n  get font() {\n    return this._font;\n  }\n\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n\n  get textOverflow() {\n    return this._textOverflow;\n  }\n\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new Style(this);\n  }\n\n}\n\nmodule.exports = Style;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(16);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst {\n  Style\n} = styleContents;\n\nclass BaseHeader {\n  constructor(headerCell) {\n    this._headerCell = headerCell;\n    this.onDrawCell = this.onDrawCell.bind(this); //\n  }\n\n  get StyleClass() {\n    return Style;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    const {\n      style,\n      drawCellBase\n    } = info;\n    delete info.getRecord;\n    delete info.style;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase(); //\n\n    this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n  }\n\n  convertInternal(value) {\n    return isDef(value) ? value : '';\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {}\n\n  bindGridEvent(grid) {\n    return [];\n  }\n\n}\n\nmodule.exports = BaseHeader;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst core = __webpack_require__(61);\n\nconst tools = __webpack_require__(68);\n\nconst columns = __webpack_require__(32);\n\nconst themes = __webpack_require__(23);\n\nconst data = __webpack_require__(49);\n\nconst ListGrid = __webpack_require__(101);\n\nconst GridCanvasHelper = __webpack_require__(51);\n\nconst icons = __webpack_require__(54);\n\nconst register = __webpack_require__(142);\n/**\n * Cheetah Grid\n * @type {Object}\n * @namespace cheetahGrid\n */\n\n\nmodule.exports = {\n  core,\n  tools,\n  // impl Grids\n  ListGrid,\n  // objects\n  columns,\n  themes,\n  data,\n  // helper\n  GridCanvasHelper,\n\n  get icons() {\n    return icons.get();\n  },\n\n  //plugin registers\n  register,\n\n  get _internal() {\n    console.warn('use internal!!');\n    return {\n      color: __webpack_require__(56),\n      sort: __webpack_require__(50),\n      calc: __webpack_require__(18),\n      symbolManager: __webpack_require__(1),\n      path2DManager: __webpack_require__(25)\n    };\n  }\n\n};\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst DrawGrid = __webpack_require__(7);\n/**\n * core modules\n * @type {Object}\n * @namespace cheetahGrid.core\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  DrawGrid\n};\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(4);\n\nconst style = __webpack_require__(30);\n\nconst {\n  browser\n} = __webpack_require__(0);\n\nconst MAX_SCROLL = browser.heightLimit - 1000;\n\nfunction _update(scrollable) {\n  let domHeight;\n\n  if (scrollable._height > MAX_SCROLL) {\n    const sbSize = style.getScrollBarSize();\n    const {\n      offsetHeight\n    } = scrollable._scrollable;\n    const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n    const rScrollRange = scrollable._height - offsetHeight + sbSize;\n    scrollable._p = vScrollRange / rScrollRange;\n    domHeight = MAX_SCROLL;\n  } else {\n    scrollable._p = 1;\n    domHeight = scrollable._height;\n  }\n\n  scrollable._endPointElement.style.top = `${domHeight.toFixed()}px`;\n  scrollable._endPointElement.style.left = `${scrollable._width.toFixed()}px`;\n}\n\nclass Scrollable {\n  constructor() {\n    this._handler = new EventHandler();\n    this._scrollable = document.createElement('div');\n\n    this._scrollable.classList.add('grid-scrollable');\n\n    this._height = 0;\n    this._width = 0;\n    this._endPointElement = document.createElement('div');\n\n    this._endPointElement.classList.add('grid-scroll-end-point');\n\n    _update(this);\n\n    this._scrollable.appendChild(this._endPointElement); // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n    // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n    // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n    // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n    // this.scrollTop += delta < 0 ? point : -point;\n    // });\n\n  }\n\n  calcTop(top) {\n    const relativeTop = top - this.scrollTop;\n    return this._scrollable.scrollTop + relativeTop;\n  }\n\n  getElement() {\n    return this._scrollable;\n  }\n\n  setScrollSize(width, height) {\n    this._width = width;\n    this._height = height;\n\n    _update(this);\n  }\n\n  get scrollWidth() {\n    return this._width;\n  }\n\n  set scrollWidth(width) {\n    this._width = width;\n\n    _update(this);\n  }\n\n  get scrollHeight() {\n    return this._height;\n  }\n\n  set scrollHeight(height) {\n    this._height = height;\n\n    _update(this);\n  }\n\n  get scrollLeft() {\n    return Math.ceil(this._scrollable.scrollLeft);\n  }\n\n  set scrollLeft(scrollLeft) {\n    this._scrollable.scrollLeft = scrollLeft;\n  }\n\n  get scrollTop() {\n    return Math.ceil(this._scrollable.scrollTop / this._p);\n  }\n\n  set scrollTop(scrollTop) {\n    this._scrollable.scrollTop = scrollTop * this._p;\n  }\n\n  onScroll(fn) {\n    this._handler.on(this._scrollable, 'scroll', fn);\n  }\n\n  dispose() {\n    this._handler.dispose();\n  }\n\n}\n\nmodule.exports = Scrollable;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(64);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/**\\n * core styles \\n */\\n.cheetah-grid .grid-scrollable {\\n\\theight: 100%;\\n\\twidth: 100%;\\n\\tposition: absolute;\\n\\toverflow: scroll;\\n}\\n.cheetah-grid .grid-scroll-end-point {\\n\\topacity: 0;\\n\\tposition: relative;\\n}\\n.cheetah-grid {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n.cheetah-grid > canvas {\\n\\tposition: absolute;\\n\\twidth: 0;\\n\\theight: 0;\\n}\\n.cheetah-grid .grid-focus-control {\\n\\tposition: relative !important;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\topacity: 0;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tbox-sizing: border-box;\\n\\tpointer-events: none;\\n\\tmax-width: 0;\\n\\tmax-height: 0;\\n\\tfloat: none !important;\\n}\\n.cheetah-grid input.grid-focus-control::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n.cheetah-grid input.grid-focus-control.composition {\\n\\topacity: 1;\\n\\tmax-width: none;\\n\\tmax-height: none;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst indexFirst = (ary, elm) => {\n  let low = 0;\n  let high = ary.length - 1;\n\n  while (low <= high) {\n    const i = Math.floor((low + high) / 2);\n\n    if (ary[i] === elm) {\n      return i;\n    } else if (ary[i] > elm) {\n      high = i - 1;\n    } else {\n      low = i + 1;\n    }\n  }\n\n  return high < 0 ? 0 : high;\n};\n\nclass NumberMap {\n  constructor() {\n    this._keys = [];\n    this._vals = {};\n    this._sorted = false;\n  }\n\n  put(key, value) {\n    if (!(key in this._vals)) {\n      this._keys.push(key);\n\n      this._sorted = false;\n    }\n\n    this._vals[key] = value;\n  }\n\n  get(key) {\n    return this._vals[key];\n  }\n\n  eachAll(fn) {\n    this._keys.forEach(key => {\n      fn(this.get(key), key);\n    });\n  }\n\n  each(keyFrom, keyTo, fn) {\n    const {\n      _keys: keys\n    } = this;\n    const {\n      length\n    } = keys;\n\n    if (!this._sorted) {\n      keys.sort((a, b) => {\n        if (a < b) {\n          return -1;\n        }\n\n        if (a > b) {\n          return 1;\n        }\n\n        return 0;\n      });\n      this._sorted = true;\n    }\n\n    for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n      const key = keys[i];\n\n      if (keyFrom <= key && key <= keyTo) {\n        fn(this.get(key), key);\n      } else if (keyTo < key) {\n        return;\n      }\n    }\n  }\n\n}\n\nmodule.exports = NumberMap;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(4);\n\nconst handler = new EventHandler();\nlet ratio;\n\nfunction setRatio() {\n  ratio = Math.ceil(window.devicePixelRatio || 1);\n\n  if (ratio > 1 && ratio % 2 !== 0) {\n    ratio += 1;\n  }\n}\n\nsetRatio();\nhandler.on(window, 'resize', setRatio);\nmodule.exports = {\n  transform(canvas) {\n    const ctx = canvas.getContext('2d');\n    const {\n      getAttribute,\n      setAttribute\n    } = canvas;\n\n    canvas.getAttribute = function (name, ...args) {\n      let result = getAttribute.call(this, name, ...args);\n\n      if (name === 'width' || name === 'height') {\n        result /= ratio;\n      }\n\n      return result;\n    };\n\n    canvas.setAttribute = function (name, val, ...args) {\n      const wh = name === 'width' || name === 'height';\n\n      if (wh) {\n        val *= ratio;\n      }\n\n      const result = setAttribute.call(this, name, val, ...args);\n\n      if (wh) {\n        ctx.scale(ratio, ratio);\n      }\n\n      return result;\n    };\n\n    Object.defineProperty(canvas, 'width', {\n      get() {\n        return canvas.getAttribute('width');\n      },\n\n      set: val => {\n        canvas.setAttribute('width', Math.floor(val));\n      },\n      configurable: true,\n      enumerable: true\n    });\n    Object.defineProperty(canvas, 'height', {\n      get() {\n        return canvas.getAttribute('height');\n      },\n\n      set: val => {\n        canvas.setAttribute('height', Math.floor(val));\n      },\n      configurable: true,\n      enumerable: true\n    });\n    const {\n      drawImage\n    } = ctx;\n\n    ctx.drawImage = function (img, ...args) {\n      if (img !== canvas || ratio === 1) {\n        return drawImage.call(this, img, ...args);\n      }\n\n      this.save();\n\n      try {\n        this.scale(1 / ratio, 1 / ratio);\n\n        if (args.length > 4) {\n          args[4] *= ratio;\n          args[5] *= ratio;\n        } else {\n          args[0] *= ratio;\n          args[1] *= ratio;\n        }\n\n        return drawImage.call(this, img, ...args);\n      } finally {\n        this.restore();\n      }\n    };\n\n    return canvas;\n  }\n\n};\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst canvashelper = __webpack_require__(31);\n/**\n * tools\n * @type {Object}\n * @namespace cheetahGrid.tools\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  canvashelper\n};\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseAction = __webpack_require__(19);\n\nconst Action = __webpack_require__(33);\n\nconst Editor = __webpack_require__(14);\n\nconst CheckEditor = __webpack_require__(70);\n\nconst ButtonAction = __webpack_require__(71);\n\nconst SmallDialogInputEditor = __webpack_require__(72);\n\nconst InlineInputEditor = __webpack_require__(76);\n\nconst InlineMenuEditor = __webpack_require__(80);\n\nclass ImmutableCheckEditor extends CheckEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n}\n\nclass ImmutableInputEditor extends SmallDialogInputEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n}\n/**\n * column actions\n * @type {Object}\n * @namespace cheetahGrid.columns.action\n * @memberof cheetahGrid.columns\n */\n\n\nconst action = {\n  ACTIONS: {\n    CHECK: new ImmutableCheckEditor(),\n    INPUT: new ImmutableInputEditor()\n  },\n\n  get BaseAction() {\n    return BaseAction;\n  },\n\n  get Editor() {\n    return Editor;\n  },\n\n  get Action() {\n    return Action;\n  },\n\n  get CheckEditor() {\n    return CheckEditor;\n  },\n\n  get ButtonAction() {\n    return ButtonAction;\n  },\n\n  get SmallDialogInputEditor() {\n    return SmallDialogInputEditor;\n  },\n\n  get InlineInputEditor() {\n    console.warn('InlineInputEditor is an experiment stage');\n    return InlineInputEditor;\n  },\n\n  get InlineMenuEditor() {\n    return InlineMenuEditor;\n  },\n\n  of(columnAction) {\n    if (!columnAction) {\n      return action.ACTIONS.DEFAULT;\n    } else if (typeof columnAction === 'string') {\n      return action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n    } else {\n      return columnAction;\n    }\n  }\n\n};\nmodule.exports = action;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    setReadonly\n  },\n  isPromise\n} = __webpack_require__(0);\n\nconst {\n  bindCellClickAction,\n  bindCellKeyAction\n} = __webpack_require__(34);\n\nconst animate = __webpack_require__(35);\n\nconst Editor = __webpack_require__(14);\n\nconst {\n  CHECK_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nfunction toggleValue(val) {\n  if (typeof val === 'number') {\n    if (val === 0) {\n      return 1;\n    } else {\n      return 0;\n    }\n  } else if (typeof val === 'string') {\n    if (val === 'false') {\n      return 'true';\n    } else if (val === 'off') {\n      return 'on';\n    } else if (val.match(/^0+$/)) {\n      return val.replace(/^(0*)0$/, '$11');\n    } else if (val === 'true') {\n      return 'false';\n    } else if (val === 'on') {\n      return 'off';\n    } else if (val.match(/^0*1$/)) {\n      return val.replace(/^(0*)1$/, '$10');\n    }\n  }\n\n  return !val;\n}\n\nclass CheckEditor extends Editor {\n  clone() {\n    return new CheckEditor(this);\n  }\n\n  bindGridEvent(grid, col, util) {\n    if (!grid[CHECK_COLUMN_STATE_ID]) {\n      setReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n    }\n\n    const state = grid[CHECK_COLUMN_STATE_ID];\n\n    const action = cell => {\n      const key = `${cell.col}:${cell.row}`;\n      const blockKey = `${key}::block`;\n\n      if (this.readOnly || this.disabled || state[blockKey]) {\n        return;\n      }\n\n      const ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\n      if (ret) {\n        const onChange = () => {\n          // checkbox animation\n          animate(200, point => {\n            if (point === 1) {\n              delete state[key];\n            } else {\n              state[key] = {\n                elapsed: point\n              };\n            }\n\n            grid.invalidateCell(cell.col, cell.row);\n          });\n        };\n\n        if (isPromise(ret)) {\n          state[blockKey] = true;\n          ret.then(() => {\n            delete state[blockKey];\n            onChange();\n          });\n        } else {\n          onChange();\n        }\n      }\n    };\n\n    return [...bindCellClickAction(grid, col, util, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        grid.invalidateCell(e.col, e.row);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        grid.invalidateCell(e.col, e.row);\n      }\n    }), ...bindCellKeyAction(grid, col, util, {\n      action: e => {\n        const selrange = grid.selection.range;\n        const {\n          col\n        } = grid.selection.select;\n\n        for (let {\n          row\n        } = selrange.start; row <= selrange.end.row; row++) {\n          if (!util.isTarget(col, row)) {\n            continue;\n          }\n\n          action({\n            col,\n            row\n          });\n        }\n      },\n      acceptKeys: [KEY_ENTER, KEY_SPACE]\n    })];\n  }\n\n}\n\nmodule.exports = CheckEditor;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst Action = __webpack_require__(33);\n\nconst {\n  BUTTON_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nclass ButtonAction extends Action {\n  getState(grid) {\n    if (!grid[BUTTON_COLUMN_STATE_ID]) {\n      setReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n    }\n\n    return grid[BUTTON_COLUMN_STATE_ID];\n  }\n\n}\n\nmodule.exports = ButtonAction;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst SmallDialogInputElement = __webpack_require__(73);\n\nconst {\n  SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _\n} = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachInput(grid, cell, editor, value) {\n  if (!grid[_]) {\n    setReadonly(grid, _, {});\n  }\n\n  if (!globalElement) {\n    globalElement = new SmallDialogInputElement();\n  }\n\n  const state = grid[_];\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement.dispose();\n          globalElement = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nconst BaseInputEditor = __webpack_require__(36);\n\nclass SmallDialogInputEditor extends BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._helperText = option.helperText;\n    this._inputValidator = option.inputValidator;\n    this._validator = option.validator;\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n\n  dispose() {\n    this._inputDialogManager.dispose();\n\n    this._inputDialogManager = null;\n  }\n\n  get classList() {\n    return this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(type) {\n    this._type = type;\n  }\n\n  get helperText() {\n    return this._helperText;\n  }\n\n  get inputValidator() {\n    return this._inputValidator;\n  }\n\n  get validator() {\n    return this._validator;\n  }\n\n  clone() {\n    return new SmallDialogInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n\n  onChangeSelectCellInternal(grid, cell, selected) {\n    // cancel input\n    detachInput();\n  }\n\n  onGridScrollInternal(grid) {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onSetInputAttrsInternal(grid, cell, input) {\n    SmallDialogInputElement.setInputAttrs(this, grid, input);\n  }\n\n}\n\nmodule.exports = SmallDialogInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  event: {\n    getKeyCode,\n    cancel: cancelEvent\n  },\n  then\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(4);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n  const focus = () => {\n    input.focus();\n    const end = input.value.length;\n\n    try {\n      if (typeof input.selectionStart !== 'undefined') {\n        input.selectionStart = end;\n        input.selectionEnd = end;\n        return;\n      }\n    } catch (e) {//ignore\n    }\n\n    if (document.selection) {\n      const range = input.createTextRange();\n      range.collapse();\n      range.moveEnd('character', end);\n      range.moveStart('character', end);\n      range.select();\n    }\n  };\n\n  handler.tryWithOffEvents(input, 'blur', () => {\n    focus();\n  });\n}\n\nfunction createDialogElement() {\n  __webpack_require__(74);\n\n  const element = createElement('div', {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const input = createElement('input', {\n    classList: INPUT_CLASSNAME\n  });\n  input.readonly = true;\n  input.tabIndex = -1;\n  element.appendChild(input);\n  return element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n  const {\n    classList,\n    helperText\n  } = editor;\n\n  if (classList) {\n    dialog.classList.add(...classList);\n  }\n\n  if (helperText && typeof helperText !== 'function') {\n    dialog.dataset.helperText = helperText;\n  }\n\n  setInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n  const {\n    classList\n  } = editor;\n\n  if (classList) {\n    dialog.classList.remove(...classList);\n  }\n\n  delete dialog.dataset.helperText;\n  input.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n  const {\n    type\n  } = editor;\n  input.type = type || '';\n}\n\nclass SmallDialogInputElement {\n  static setInputAttrs(...args) {\n    setInputAttrs(...args);\n  }\n\n  constructor() {\n    this._handler = new EventHandler();\n    this._dialog = createDialogElement();\n    this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\n    this._bindDialogEvents();\n  }\n\n  dispose() {\n    const dialog = this._dialog;\n    this.detach();\n\n    this._handler.dispose();\n\n    this._dialog = null;\n    this._input = null;\n    this._beforePropEditor = null;\n\n    if (dialog.parentElement) {\n      dialog.parentElement.removeChild(dialog);\n    }\n  }\n\n  attach(grid, editor, col, row, value) {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n\n    if (this._beforePropEditor) {\n      unbindProps(grid, dialog, input, this._beforePropEditor);\n    }\n\n    delete dialog.dataset.errorMessage;\n    dialog.classList.remove(SHOWN_CLASSNAME);\n    dialog.classList.add(HIDDEN_CLASSNAME);\n    input.readonly = false;\n    input.tabIndex = 0;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    dialog.style.top = `${rect.top.toFixed()}px`;\n    dialog.style.left = `${rect.left.toFixed()}px`;\n    dialog.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(dialog);\n    input.value = value;\n    input.style.font = grid.font || '16px sans-serif';\n    const activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n\n    this._onInputValue(input, activeData);\n\n    _focus(input, handler);\n\n    dialog.classList.add(SHOWN_CLASSNAME);\n    dialog.classList.remove(HIDDEN_CLASSNAME);\n    input.readonly = true;\n    bindProps(grid, dialog, input, editor);\n    this._activeData = activeData;\n    this._beforePropEditor = editor;\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const dialog = this._dialog;\n      const input = this._input;\n      dialog.classList.remove(SHOWN_CLASSNAME);\n      dialog.classList.add(HIDDEN_CLASSNAME);\n      input.readonly = false;\n      input.tabIndex = -1;\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      grid.invalidateCell(col, row);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n    this._beforeValue = null;\n  }\n\n  _doChangeValue() {\n    if (!this._isActive()) {\n      return false;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    return then(this._validate(value), res => {\n      if (res && value === input.value) {\n        const {\n          grid,\n          col,\n          row\n        } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  _isActive() {\n    const dialog = this._dialog;\n\n    if (!dialog || !dialog.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindDialogEvents() {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(dialog, 'click', stopPropagationOnly);\n    handler.on(dialog, 'dblclick', stopPropagationOnly);\n    handler.on(dialog, 'mousedown', stopPropagationOnly);\n    handler.on(dialog, 'touchstart', stopPropagationOnly);\n    handler.on(input, 'compositionstart', e => {\n      input.classList.add('composition');\n    });\n    handler.on(input, 'compositionend', e => {\n      input.classList.remove('composition');\n\n      this._onInputValue(input);\n    });\n\n    const onKeyupAndPress = e => {\n      if (input.classList.contains('composition')) {\n        return;\n      }\n\n      this._onInputValue(input);\n    };\n\n    handler.on(input, 'keyup', onKeyupAndPress);\n    handler.on(input, 'keypress', onKeyupAndPress);\n    handler.on(input, 'keydown', e => {\n      if (input.classList.contains('composition')) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_ESC) {\n        this.detach(true);\n        cancelEvent(e);\n      } else if (keyCode === KEY_ENTER && !this._attaching) {\n        const input = this._input;\n        const {\n          value\n        } = input;\n        then(this._doChangeValue(), r => {\n          if (r && value === input.value) {\n            this.detach(true);\n          }\n        });\n        cancelEvent(e);\n      } else {\n        this._onInputValue(input);\n      }\n    });\n  }\n\n  _onInputValue(input, activeData) {\n    const before = this._beforeValue;\n    const {\n      value\n    } = input;\n\n    if (before !== value) {\n      this._onInputValueChange(value, before, activeData);\n    }\n\n    this._beforeValue = value;\n  }\n\n  _onInputValueChange(after, before, activeData) {\n    activeData = activeData || this._activeData;\n    const dialog = this._dialog;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = activeData;\n\n    if (typeof editor.helperText === 'function') {\n      const helperText = editor.helperText(after, {\n        grid,\n        col,\n        row\n      });\n\n      if (helperText) {\n        dialog.dataset.helperText = helperText;\n      } else {\n        delete dialog.dataset.helperText;\n      }\n    }\n\n    if ('errorMessage' in dialog.dataset) {\n      this._validate(after, true);\n    }\n  }\n\n  _validate(value, inputOnly) {\n    const dialog = this._dialog;\n    const input = this._input;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = this._activeData;\n    let message = null;\n\n    if (editor.inputValidator) {\n      message = editor.inputValidator(value, {\n        grid,\n        col,\n        row\n      });\n    }\n\n    return then(message, message => {\n      if (!message && editor.validator && !inputOnly) {\n        message = editor.validator(value, {\n          grid,\n          col,\n          row\n        });\n      }\n\n      return then(message, message => {\n        if (message && value === input.value) {\n          dialog.dataset.errorMessage = message;\n        } else {\n          delete dialog.dataset.errorMessage;\n        }\n\n        return !message;\n      });\n    });\n  }\n\n}\n\nmodule.exports = SmallDialogInputElement;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(75);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*ms*/\\n.cheetah-grid__small-dialog-input__input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n@keyframes cheetah-grid__small-dialog-input--hidden-animation {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t99% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n.cheetah-grid__small-dialog-input {\\n\\tposition: absolute;\\n\\tbox-sizing: content-box;\\n\\tmargin : -1px auto auto -1px;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #fafafa;\\n\\n\\ttransition: padding 150ms ease-out, box-shadow 150ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input--hidden {\\n\\tbox-shadow: none;\\n\\tpadding: 0;\\n\\n\\tpointer-events: none;\\n\\tanimation: cheetah-grid__small-dialog-input--hidden-animation  150ms ease-out;\\n\\topacity: 0;\\n}\\n.cheetah-grid__small-dialog-input--shown {\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0px rgba(0, 0, 0, .14), 0 1px 5px 0px rgba(0, 0, 0, .12);\\n\\tpadding: 8px 24px;\\n}\\n.cheetah-grid__small-dialog-input__input {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\tpadding: 3px 2px 0 4px;\\n\\tborder: none;\\n\\tborder-bottom: solid 1px rgba(0, 0, 0, .87);\\n\\toutline: none;\\n\\tbackground-color: transparent;\\n\\ttransition: all 300ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input__input:focus {\\n\\tborder-bottom: solid 1px #2196f3;\\n\\tbox-shadow: 0 1px 0 0 #2196f3;\\n}\\n.cheetah-grid__small-dialog-input::after {\\n\\tcontent: '';\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tpadding-top: 8px;\\n}\\n.cheetah-grid__small-dialog-input.helper-text--right-justified::after {\\n\\ttext-align: right;\\n}\\n.cheetah-grid__small-dialog-input[data-helper-text]::after {\\n\\tcontent: attr(data-helper-text);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n.cheetah-grid__small-dialog-input[data-error-message] input {\\n\\tborder-bottom: solid 1px #ff1744;\\n\\tbox-shadow: 0 1px 0 0 #ff1744;\\n}\\n.cheetah-grid__small-dialog-input[data-error-message]::after {\\n\\tcontent: attr(data-error-message);\\n\\tcolor: #ff1744;\\n\\ttext-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst BaseInputEditor = __webpack_require__(36);\n\nconst InlineInputElement = __webpack_require__(77);\n\nconst {\n  INLINE_INPUT_EDITOR_STATE_ID: _\n} = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachInput(grid, cell, editor, value) {\n  if (!grid[_]) {\n    setReadonly(grid, _, {});\n  }\n\n  if (!globalElement) {\n    globalElement = new InlineInputElement();\n  }\n\n  const state = grid[_];\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement.dispose();\n          globalElement = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nfunction doChangeValue(grid) {\n  if (globalElement) {\n    globalElement.doChangeValue();\n  }\n}\n\nclass InlineInputEditor extends BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n\n  get classList() {\n    return this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(type) {\n    this._type = type;\n  }\n\n  clone() {\n    return new InlineInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n\n  onChangeSelectCellInternal(grid, cell, selected) {\n    doChangeValue(grid);\n    detachInput();\n  }\n\n  onGridScrollInternal(grid) {\n    doChangeValue(grid);\n    detachInput(true);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onSetInputAttrsInternal(grid, cell, input) {\n    InlineInputElement.setInputAttrs(this, grid, input);\n  }\n\n}\n\nmodule.exports = InlineInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  event: {\n    getKeyCode,\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(4);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst KEY_ENTER = 13;\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n  __webpack_require__(78);\n\n  return createElement('input', {\n    classList: CLASSNAME\n  });\n}\n\nfunction setInputAttrs(editor, grid, input) {\n  const {\n    classList,\n    type\n  } = editor;\n\n  if (classList) {\n    input.classList.add(...classList);\n  }\n\n  input.type = type || '';\n}\n\nclass InlineInputElement {\n  static setInputAttrs(...args) {\n    setInputAttrs(...args);\n  }\n\n  constructor() {\n    this._handler = new EventHandler();\n    this._input = createInputElement();\n\n    this._bindInputEvents();\n  }\n\n  dispose() {\n    this.detach();\n\n    this._handler.dispose();\n\n    this._input = null;\n    this._beforePropEditor = null;\n  }\n\n  attach(grid, editor, col, row, value) {\n    const input = this._input;\n    const handler = this._handler;\n\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n\n      if (classList) {\n        input.classList.remove(...classList);\n      }\n    }\n\n    input.style.font = grid.font || '16px sans-serif';\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    input.style.top = `${rect.top.toFixed()}px`;\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(input);\n    setInputAttrs(editor, grid, input);\n    input.value = value;\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._beforePropEditor = editor;\n\n    const focus = () => {\n      input.focus();\n      const end = input.value.length;\n\n      try {\n        if (typeof input.selectionStart !== 'undefined') {\n          input.selectionStart = end;\n          input.selectionEnd = end;\n          return;\n        }\n      } catch (e) {//ignore\n      }\n\n      if (document.selection) {\n        const range = input.createTextRange();\n        range.collapse();\n        range.moveEnd('character', end);\n        range.moveStart('character', end);\n        range.select();\n      }\n    };\n\n    handler.tryWithOffEvents(input, 'blur', () => {\n      focus();\n    });\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const input = this._input;\n\n      this._handler.tryWithOffEvents(input, 'blur', () => {\n        input.parentElement.removeChild(input);\n      });\n\n      grid.invalidateCell(col, row);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n  }\n\n  doChangeValue() {\n    if (!this._isActive()) {\n      return;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    const {\n      grid,\n      col,\n      row\n    } = this._activeData;\n    grid.doChangeValue(col, row, () => value);\n  }\n\n  _isActive() {\n    const input = this._input;\n\n    if (!input || !input.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindInputEvents() {\n    const handler = this._handler;\n    const input = this._input;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(input, 'click', stopPropagationOnly);\n    handler.on(input, 'mousedown', stopPropagationOnly);\n    handler.on(input, 'touchstart', stopPropagationOnly);\n    handler.on(input, 'dblclick', stopPropagationOnly);\n    handler.on(input, 'compositionstart', e => {\n      input.classList.add('composition');\n    });\n    handler.on(input, 'compositionend', e => {\n      input.classList.remove('composition');\n    });\n    handler.on(input, 'keydown', e => {\n      if (input.classList.contains('composition')) {\n        return;\n      }\n\n      if (getKeyCode(e) === KEY_ENTER) {\n        if (!this._isActive() || this._attaching) {\n          return;\n        }\n\n        const {\n          grid\n        } = this._activeData;\n        this.doChangeValue();\n\n        if (grid) {\n          grid.focus();\n        }\n\n        this.detach();\n        cancelEvent(e);\n      }\n    });\n    handler.on(input, 'blur', e => {\n      this.doChangeValue();\n      this.detach();\n    });\n  }\n\n}\n\nmodule.exports = InlineInputElement;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(79);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*ms*/\\n.cheetah-grid__inline-input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n\\n.cheetah-grid__inline-input {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst {\n  normalize\n} = __webpack_require__(37);\n\nconst Editor = __webpack_require__(14);\n\nconst {\n  EVENT_TYPE: {\n    SELECTED_CELL,\n    CLICK_CELL,\n    KEYDOWN,\n    SCROLL,\n    MOUSEOVER_CELL,\n    MOUSEOUT_CELL,\n    MOUSEMOVE_CELL\n  }\n} = __webpack_require__(7);\n\nconst InlineMenuElement = __webpack_require__(81);\n\nconst {\n  INLINE_MENU_EDITOR_STATE_ID: _\n} = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachMenu(grid, cell, editor, value) {\n  if (!grid[_]) {\n    setReadonly(grid, _, {});\n  }\n\n  if (!globalElement) {\n    globalElement = new InlineMenuElement();\n  }\n\n  const state = grid[_];\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement.dispose();\n          globalElement = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachMenu(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._options = normalize(option.options);\n  }\n\n  dispose() {}\n\n  get classList() {\n    return this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this._options = normalize(options);\n  }\n\n  clone() {\n    return new InlineMenuEditor(this);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n\n  bindGridEvent(grid, col, util) {\n    const open = cell => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      grid.doGetCellValue(cell.col, cell.row, value => {\n        attachMenu(grid, cell, this, value);\n      });\n    };\n\n    return [grid.listen(CLICK_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(KEYDOWN, (keyCode, e) => {\n      if (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n        return;\n      }\n\n      const sel = grid.selection.select;\n\n      if (!util.isTarget(sel.col, sel.row)) {\n        return;\n      }\n\n      open({\n        col: sel.col,\n        row: sel.row\n      });\n    }), grid.listen(SELECTED_CELL, e => {\n      detachMenu();\n    }), grid.listen(SCROLL, () => {\n      detachMenu(true);\n    }), // mouse move\n    grid.listen(MOUSEOVER_CELL, e => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = 'pointer';\n    }), grid.listen(MOUSEMOVE_CELL, e => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      if (!grid.getElement().style.cursor) {\n        grid.getElement().style.cursor = 'pointer';\n      }\n    }), grid.listen(MOUSEOUT_CELL, e => {\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = '';\n    })];\n  }\n\n}\n\nmodule.exports = InlineMenuEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef,\n  event: {\n    getKeyCode,\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(4);\n\nconst {\n  createElement,\n  appendHtml,\n  empty,\n  disableFocus,\n  isFocusable,\n  findPrevSiblingFocusable,\n  findNextSiblingFocusable\n} = __webpack_require__(10);\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n  let el = target;\n\n  while (!el.classList.contains(ITEM_CLASSNAME)) {\n    el = el.parentElement;\n\n    if (!el || el.classList.contains(CLASSNAME)) {\n      return undefined;\n    }\n  }\n\n  return el;\n}\n\nfunction createMenuElement() {\n  __webpack_require__(82);\n\n  return createElement('ul', {\n    classList: CLASSNAME\n  });\n}\n\nfunction attachElement(element, rect, menu) {\n  menu.style.top = `${rect.top.toFixed()}px`;\n  menu.style.left = `${rect.left.toFixed()}px`;\n  menu.style.width = `${rect.width.toFixed()}px`;\n  menu.style['line-height'] = `${rect.height.toFixed()}px`;\n  element.appendChild(menu);\n}\n\nfunction optionToLi({\n  classList,\n  caption,\n  value,\n  html\n}, index) {\n  const item = createElement('li', {\n    classList: ITEM_CLASSNAME\n  });\n  item.tabIndex = 0;\n  item.dataset.valueindex = index;\n\n  if (classList) {\n    item.classList.add(...(__webpack_provided_Array_dot_isArray(classList) ? classList : [classList]));\n  }\n\n  if (caption) {\n    const span = createElement('span', {\n      text: caption\n    });\n    item.appendChild(span);\n  } else if (html) {\n    appendHtml(item, html);\n  }\n\n  if (value === '' || !isDef(value)) {\n    item.classList.add(EMPTY_ITEM_CLASSNAME);\n  }\n\n  return item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n  const {\n    options,\n    classList\n  } = editor;\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  empty(menu);\n  menu.style.font = grid.font || '16px sans-serif';\n  let emptyItemEl = null;\n  let valueItemEl = null;\n  options.forEach((option, i) => {\n    const item = optionToLi(option, i);\n    menu.appendChild(item);\n\n    if (option.value === value) {\n      valueItemEl = item;\n      item.dataset.select = true;\n    }\n\n    if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n      emptyItemEl = item;\n    }\n  });\n  const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\n  if (classList) {\n    menu.classList.add(...classList);\n  }\n\n  const children = Array.prototype.slice.call(menu.children, 0);\n  const focusIndex = children.indexOf(focusEl);\n  const {\n    element,\n    rect\n  } = grid.getAttachCellArea(col, row); // Cover the right line\n\n  rect.width++; // append for calculation\n\n  attachElement(element, rect, menu); // Make the selection item at the middle\n\n  let offset = 0;\n  let allHeight = 0;\n\n  for (let i = 0; i < children.length; i++) {\n    const {\n      offsetHeight\n    } = children[i];\n\n    if (i < focusIndex) {\n      offset += offsetHeight;\n    }\n\n    allHeight += offsetHeight;\n  }\n\n  rect.offsetTop(-offset);\n  menu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n  attachElement(element, rect, menu); // Control not to overflow the screen range\n\n  const menuClientRect = menu.getBoundingClientRect();\n  const scaleDiff = (allHeight - menuClientRect.height) / 2;\n  const orgMenuTop = menuClientRect.top - scaleDiff;\n  let menuTop = orgMenuTop;\n  const menuBottom = menuTop + allHeight;\n  const winBottom = window.innerHeight;\n  const winMargin = 20;\n\n  if (menuBottom > winBottom - winMargin) {\n    const diff = menuBottom - winBottom + winMargin;\n    menuTop -= diff;\n  }\n\n  if (menuTop < 0\n  /*winTop*/\n  + winMargin) {\n    menuTop = winMargin;\n  }\n\n  if (menuTop !== orgMenuTop) {\n    rect.offsetTop(-(orgMenuTop - menuTop)); // re update\n\n    attachElement(element, rect, menu);\n  }\n\n  if (focusEl) {\n    focusEl.focus();\n  }\n\n  menu.classList.remove(HIDDEN_CLASSNAME);\n  menu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  disableFocus(menu);\n}\n\nclass InlineMenuElement {\n  constructor() {\n    this._handler = new EventHandler();\n    this._menu = createMenuElement();\n\n    this._bindMenuEvents();\n  }\n\n  dispose() {\n    const menu = this._menu;\n    this.detach();\n\n    this._handler.dispose();\n\n    this._menu = null;\n    this._beforePropEditor = null;\n\n    if (menu.parentElement) {\n      menu.parentElement.removeChild(menu);\n    }\n  }\n\n  attach(grid, editor, col, row, value) {\n    const menu = this._menu;\n\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n\n      if (classList) {\n        menu.classList.remove(...classList);\n      }\n    }\n\n    openMenu(grid, editor, col, row, value, menu);\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._beforePropEditor = editor;\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const menu = this._menu;\n      closeMenu(grid, col, row, menu);\n      grid.invalidateCell(col, row);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n  }\n\n  _doChangeValue(valueindex) {\n    if (!this._isActive()) {\n      return;\n    }\n\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = this._activeData;\n    const {\n      value\n    } = editor.options[valueindex];\n    grid.doChangeValue(col, row, () => value);\n  }\n\n  _isActive() {\n    const menu = this._menu;\n\n    if (!menu || !menu.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindMenuEvents() {\n    const handler = this._handler;\n    const menu = this._menu;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(menu, 'mousedown', stopPropagationOnly);\n    handler.on(menu, 'touchstart', stopPropagationOnly);\n    handler.on(menu, 'dblclick', stopPropagationOnly);\n    handler.on(menu, 'click', e => {\n      e.stopPropagation();\n      const item = findItemParents(e.target);\n\n      if (!item) {\n        return;\n      }\n\n      const {\n        valueindex\n      } = item.dataset;\n\n      this._doChangeValue(valueindex);\n\n      this.detach(true);\n    });\n    handler.on(menu, 'keydown', e => {\n      const item = findItemParents(e.target);\n\n      if (!item) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_ENTER) {\n        const {\n          valueindex\n        } = item.dataset;\n\n        this._doChangeValue(valueindex);\n\n        this.detach(true);\n        cancelEvent(e);\n      } else if (keyCode === KEY_ESC) {\n        this.detach(true);\n        cancelEvent(e);\n      } else if (keyCode === KEY_UP) {\n        const n = findPrevSiblingFocusable(item);\n\n        if (n) {\n          n.focus();\n          cancelEvent(e);\n        }\n      } else if (keyCode === KEY_DOWN) {\n        const n = findNextSiblingFocusable(item);\n\n        if (n) {\n          n.focus();\n          cancelEvent(e);\n        }\n      } else if (keyCode === KEY_TAB) {\n        if (!e.shiftKey) {\n          if (!findNextSiblingFocusable(item)) {\n            let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\n            if (!isFocusable(n)) {\n              n = findNextSiblingFocusable(n);\n            }\n\n            if (n) {\n              n.focus();\n              cancelEvent(e);\n            }\n          }\n        } else {\n          if (!findPrevSiblingFocusable(item)) {\n            const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n            let n = items[items.length - 1];\n\n            if (!isFocusable(n)) {\n              n = findPrevSiblingFocusable(n);\n            }\n\n            if (n) {\n              n.focus();\n              cancelEvent(e);\n            }\n          }\n        }\n      }\n    });\n  }\n\n}\n\nmodule.exports = InlineMenuElement;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(83);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-menu {\\n\\tposition: absolute;\\n\\tcolor: rgba(0, 0, 0, .87);\\n\\tbox-sizing: content-box;\\n\\tmargin: -1px auto auto -1px;\\n\\tpadding: 8px 0;\\n\\tbackground-color: #fafafa;\\n\\tlist-style-type: none;\\n\\tborder-radius: 2px;\\n\\tmax-height: calc(100vh - 40px);\\n\\toverflow-y: auto;\\n\\n}\\n.cheetah-grid__inline-menu--hidden {\\n\\ttransform: scale(.9);\\n\\tbox-shadow: none;\\n\\topacity: 0;\\n\\n\\tpointer-events: none;\\n\\n\\ttransition: all 50ms ease-out;\\n}\\n.cheetah-grid__inline-menu--hidden * {\\n\\tpointer-events: none;\\n}\\n.cheetah-grid__inline-menu--shown {\\n\\ttransform: translateY(-7px);\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0px rgba(0, 0, 0, 0.14), 0 1px 5px 0px rgba(0, 0, 0, 0.12);\\n\\topacity: 1;\\n\\n\\ttransition: all 150ms ease-out;\\n}\\n\\n.cheetah-grid__inline-menu__menu-item {\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: flex-start;\\n\\n\\toutline: none;\\n\\tcursor: pointer;\\n\\n\\tposition: relative;\\n\\toverflow: hidden;\\n\\n\\tpadding: 0 16px;\\n}\\n.cheetah-grid__inline-menu__menu-item--empty {\\n\\tcolor: rgba(0, 0, 0, .38);\\n}\\n\\n.cheetah-grid__inline-menu__menu-item::before {\\n\\tcontent: \\\"\\\";\\n\\tposition: absolute;\\n\\ttop: -50%;\\n\\tleft: -50%;\\n\\twidth: 200%;\\n\\theight: 200%;\\n\\tbackground-color: #000;\\n\\topacity: 0;\\n\\tpointer-events: none;\\n\\ttransition: opacity 15ms linear;\\n}\\n.cheetah-grid__inline-menu__menu-item:hover::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item[data-select]::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item:focus::before {\\n\\topacity: .12;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Column = __webpack_require__(11);\n\nconst NumberColumn = __webpack_require__(85);\n\nconst CheckColumn = __webpack_require__(86);\n\nconst ButtonColumn = __webpack_require__(87);\n\nconst ImageColumn = __webpack_require__(88);\n\nconst PercentCompleteBarColumn = __webpack_require__(90);\n\nconst IconColumn = __webpack_require__(91);\n\nconst BranchGraphColumn = __webpack_require__(92);\n\nconst MenuColumn = __webpack_require__(94);\n\nconst MultilineTextColumn = __webpack_require__(95);\n/**\n * column types\n * @type {Object}\n * @namespace cheetahGrid.columns.type\n * @memberof cheetahGrid.columns\n */\n\n\nconst type = {\n  TYPES: {\n    DEFAULT: new Column(),\n    NUMBER: new NumberColumn(),\n    CHECK: new CheckColumn(),\n    BUTTON: new ButtonColumn(),\n    IMAGE: new ImageColumn(),\n    MULTILINETEXT: new MultilineTextColumn()\n  },\n\n  get Column() {\n    return Column;\n  },\n\n  get NumberColumn() {\n    return NumberColumn;\n  },\n\n  get CheckColumn() {\n    return CheckColumn;\n  },\n\n  get ButtonColumn() {\n    return ButtonColumn;\n  },\n\n  get ImageColumn() {\n    return ImageColumn;\n  },\n\n  get PercentCompleteBarColumn() {\n    return PercentCompleteBarColumn;\n  },\n\n  get IconColumn() {\n    return IconColumn;\n  },\n\n  get BranchGraphColumn() {\n    return BranchGraphColumn;\n  },\n\n  get MenuColumn() {\n    return MenuColumn;\n  },\n\n  get MultilineTextColumn() {\n    return MultilineTextColumn;\n  },\n\n  of(columnType) {\n    if (!columnType) {\n      return type.TYPES.DEFAULT;\n    } else if (typeof columnType === 'string') {\n      return type.TYPES[columnType.toUpperCase()] || type.of(null);\n    } else {\n      return columnType;\n    }\n  }\n\n};\nmodule.exports = type;\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Column = __webpack_require__(11);\n\nconst NumberStyle = __webpack_require__(39);\n\nlet defaultFotmat;\n\nclass NumberColumn extends Column {\n  static get defaultFotmat() {\n    return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n  }\n\n  static set defaultFotmat(fmt) {\n    defaultFotmat = fmt;\n  }\n\n  constructor(option = {}) {\n    super(option);\n    this._format = option.format;\n  }\n\n  get StyleClass() {\n    return NumberStyle;\n  }\n\n  clone() {\n    return new NumberColumn(this);\n  }\n\n  get format() {\n    return this._format;\n  }\n\n  withFormat(format) {\n    const c = this.clone();\n    c._format = format;\n    return c;\n  }\n\n  convertInternal(value) {\n    if (isNaN(value - 0)) {\n      return value;\n    }\n\n    const format = this._format || NumberColumn.defaultFotmat;\n    return format.format(value - 0);\n  }\n\n}\n\nmodule.exports = NumberColumn;\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseColumn = __webpack_require__(9);\n\nconst CheckStyle = __webpack_require__(40);\n\nconst {\n  CHECK_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nfunction toBoolean(val) {\n  if (typeof val === 'string') {\n    if (val === 'false') {\n      return false;\n    } else if (val === 'off') {\n      return false;\n    } else if (val.match(/^0+$/)) {\n      return false;\n    }\n  }\n\n  return val;\n}\n\nclass CheckColumn extends BaseColumn {\n  get StyleClass() {\n    return CheckStyle;\n  }\n\n  clone() {\n    return new CheckColumn(this);\n  }\n\n  convertInternal(value) {\n    return toBoolean(value);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const {\n      col,\n      row\n    } = context;\n    const key = `${col}:${row}`;\n    const state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n\n    if (state) {\n      opt.animElapsedTime = state.elapsed;\n    }\n\n    helper.checkbox(value, context, opt);\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n}\n\nmodule.exports = CheckColumn;\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Column = __webpack_require__(11);\n\nconst ButtonStyle = __webpack_require__(41);\n\nconst {\n  BUTTON_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nconst utils = __webpack_require__(15);\n\nclass ButtonColumn extends Column {\n  constructor(option = {}) {\n    super(option);\n    this._caption = option.caption;\n  }\n\n  get StyleClass() {\n    return ButtonStyle;\n  }\n\n  get caption() {\n    return this._caption;\n  }\n\n  withCaption(caption) {\n    const c = this.clone();\n    c._caption = caption;\n    return c;\n  }\n\n  clone() {\n    return new ButtonColumn(this);\n  }\n\n  convertInternal(value) {\n    return this._caption || value;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      bgColor,\n      color,\n      buttonBgColor,\n      font,\n      padding,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.testFontLoad(font, value, context);\n    const {\n      col,\n      row\n    } = context;\n    let active = false;\n    const state = grid[BUTTON_COLUMN_STATE_ID];\n\n    if (state) {\n      if (state.mouseActiveCell && state.mouseActiveCell.col === col && state.mouseActiveCell.row === row) {\n        active = true;\n      } else if (context.getSelectState().selected) {\n        active = true;\n      }\n    }\n\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.button(value, context, {\n        textAlign,\n        textBaseline,\n        bgColor: buttonBgColor,\n        color,\n        font,\n        padding,\n        shadow: active ? {\n          color: 'rgba(0, 0, 0, 0.48)',\n          blur: 6,\n          offsetY: 3\n        } : true,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nmodule.exports = ButtonColumn;\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst ImageStyle = __webpack_require__(42);\n\nconst {\n  getCacheOrLoad\n} = __webpack_require__(47);\n\nconst {\n  calcStartPosition\n} = __webpack_require__(8);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst MAX_LRU_CACHE_SIZE = 50;\n\nfunction getImage(url) {\n  return getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n}\n\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n  let newWidth = width;\n  let newHeight = height;\n\n  if (newWidth > maxWidth) {\n    newWidth = maxWidth;\n    newHeight = newWidth * height / width;\n  }\n\n  if (newHeight > maxHeight) {\n    newHeight = maxHeight;\n    newWidth = newHeight * width / height;\n  }\n\n  return {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\nclass ImageColumn extends BaseColumn {\n  get StyleClass() {\n    return ImageStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    return super.onDrawCell(getImage(cellValue), info, context, grid);\n  }\n\n  clone() {\n    return new ImageColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    if (value) {\n      const {\n        textAlign,\n        textBaseline,\n        margin,\n        bgColor\n      } = style;\n\n      if (bgColor) {\n        drawCellBase({\n          bgColor\n        });\n      }\n\n      helper.drawWithClip(context, ctx => {\n        ctx.textAlign = textAlign;\n        ctx.textBaseline = textBaseline;\n        const rect = context.getRect();\n\n        if (style.imageSizing === 'keep-aspect-ratio') {\n          const {\n            width,\n            height\n          } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n          const pos = calcStartPosition(ctx, rect, width, height, {\n            offset: margin\n          });\n          ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n        } else {\n          ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n        }\n      });\n    }\n  }\n\n}\n\nmodule.exports = ImageColumn;\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass LRUCache {\n  constructor(cacheSize) {\n    this._list = [];\n    this._map = {};\n    this._cacheSize = cacheSize || 50;\n  }\n\n  get(key) {\n    const val = this._map[key];\n\n    if (val) {\n      const idx = this._list.indexOf(key);\n\n      this._list.splice(idx, 1);\n\n      this._list.push(key);\n    }\n\n    return val;\n  }\n\n  put(key, value) {\n    if (this._map[key]) {\n      const idx = this._list.indexOf(key);\n\n      this._list.splice(idx, 1);\n    }\n\n    this._map[key] = value;\n\n    this._list.push(key);\n\n    if (this._list.length > this._cacheSize) {\n      const remKey = this._list.shift();\n\n      delete this._map[remKey];\n    }\n  }\n\n}\n\nmodule.exports = LRUCache;\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PercentCompleteBarStyle = __webpack_require__(44);\n\nconst {\n  getOrApply,\n  str\n} = __webpack_require__(0);\n\nconst Column = __webpack_require__(11);\n\nconst MARGIN = 2;\n\nclass PercentCompleteBarColumn extends Column {\n  constructor(option = {}) {\n    super(option);\n    this._min = option.min || 0;\n    this._max = option.max || this._min + 100;\n\n    this._formatter = option.formatter || (v => v);\n  }\n\n  get StyleClass() {\n    return PercentCompleteBarStyle;\n  }\n\n  clone() {\n    return new PercentCompleteBarColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {\n    super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n    const {\n      barColor,\n      barBgColor,\n      barHeight\n    } = style;\n    let svalue = `${value}`;\n\n    if (str.endsWith(svalue, '%')) {\n      svalue = svalue.substr(0, svalue.length - 1);\n    }\n\n    const num = svalue - 0;\n    const rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n    helper.drawWithClip(context, ctx => {\n      const rect = context.getRect();\n      const barMaxWidth = rect.width - MARGIN * 2 - 1\n      /**/\n      ;\n      const barTop = rect.bottom - MARGIN - barHeight - 1\n      /**/\n      ;\n      const barLeft = rect.left + MARGIN;\n      ctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n      ctx.fill();\n      const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n      ctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barSize, barHeight);\n      ctx.fill();\n    });\n  }\n\n}\n\nmodule.exports = PercentCompleteBarColumn;\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst IconStyle = __webpack_require__(43);\n\nconst Column = __webpack_require__(11);\n\nconst icons = __webpack_require__(22);\n\nfunction repeatArray(val, count) {\n  if (count === Infinity) {\n    count = 0;\n  }\n\n  const a = [];\n\n  for (let i = 0; i < count; i++) {\n    a.push(val);\n  }\n\n  return a;\n}\n\nclass IconColumn extends Column {\n  constructor(option = {}) {\n    super(option);\n    this._tagName = option.tagName || 'i';\n    this._className = option.className;\n    this._content = option.content;\n    this._name = option.name;\n    this._iconWidth = option.iconWidth;\n  }\n\n  get StyleClass() {\n    return IconStyle;\n  }\n\n  clone() {\n    return new IconColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {\n    const num = value - 0;\n\n    if (!isNaN(num)) {\n      const icon = {};\n      icons.iconPropKeys.forEach(k => {\n        icon[k] = style[k];\n      });\n      icon.className = this._className;\n      icon.tagName = this._tagName;\n      icon.content = this._content;\n      icon.name = this._name;\n\n      if (this._iconWidth) {\n        icon.width = this._iconWidth;\n      }\n\n      info.getIcon = () => repeatArray(icon, num);\n    } else {\n      info.getIcon = () => null;\n    }\n\n    super.drawInternal('', context, style, helper, grid, info);\n  }\n\n}\n\nmodule.exports = IconColumn;\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef,\n  getOrApply,\n  isPromise,\n  obj: {\n    isObject\n  }\n} = __webpack_require__(0);\n\nconst BranchGraphStyle = __webpack_require__(93);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst {\n  BRANCH_GRAPH_COLUMN_STATE_ID: _\n} = __webpack_require__(1);\n\nfunction getAllColumnData(grid, col, callback) {\n  const {\n    dataSource\n  } = grid;\n  let field = grid.getField(col);\n\n  if (isObject(field) && field.get && field.set) {\n    field = field.get;\n  }\n\n  const allData = [];\n  let promise;\n\n  for (let index = 0; index < dataSource.length; index++) {\n    const data = dataSource.getField(index, field);\n\n    if (isPromise(data)) {\n      const dataIndex = allData.length;\n      allData.push(data);\n\n      if (!promise) {\n        promise = data.then(d => {\n          allData[dataIndex] = d;\n        });\n      } else {\n        promise = promise.then(() => data).then(d => {\n          allData[dataIndex] = d;\n        });\n      }\n    } else {\n      allData.push(data);\n    }\n  }\n\n  if (promise) {\n    promise.then(() => callback(allData));\n  } else {\n    callback(allData);\n  }\n}\n\nclass BranchLine {\n  constructor({\n    fromIndex,\n    toIndex,\n    colorIndex,\n    point\n  }) {\n    this.fromIndex = fromIndex;\n    this.toIndex = toIndex;\n    this.colorIndex = colorIndex;\n    this.point = point;\n  }\n\n}\n\nclass BranchPoint {\n  constructor({\n    index,\n    commit = false,\n    lines = [],\n    tag\n  }) {\n    this.index = index;\n    this.commit = commit;\n    this.lines = lines;\n    this.tag = tag;\n  }\n\n  static mergeLines(lines) {\n    const result = lines.filter(l => isDef(l.fromIndex) && isDef(l.toIndex));\n    const froms = lines.filter(l => isDef(l.fromIndex) && !isDef(l.toIndex));\n    const tos = lines.filter(l => !isDef(l.fromIndex) && isDef(l.toIndex));\n    froms.forEach(f => {\n      for (let i = 0; i < tos.length; i++) {\n        const t = tos[i];\n\n        if (t.point) {\n          continue;\n        }\n\n        if (f.colorIndex === t.colorIndex) {\n          f.toIndex = t.toIndex;\n          tos.splice(i, 1);\n          break;\n        }\n      }\n\n      result.push(f);\n    });\n    return result.concat(tos);\n  }\n\n  static merge(a, b) {\n    if (!a) {\n      return b;\n    }\n\n    return new BranchPoint({\n      index: a.index,\n      commit: a.commit || b.commit,\n      lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n      tag: a.tag || b.tag\n    });\n  }\n\n}\n\nfunction joinLine(timeline, branchIndex) {\n  const reverse = [...timeline].reverse();\n\n  for (let i = 0; i < reverse.length; i++) {\n    const f = reverse[i][branchIndex];\n\n    if (f) {\n      f.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n        toIndex: branchIndex,\n        colorIndex: branchIndex\n      })]));\n\n      for (let j = 0; j < i; j++) {\n        const tl = reverse[j];\n        tl[branchIndex] = new BranchPoint({\n          index: branchIndex,\n          lines: [new BranchLine({\n            fromIndex: branchIndex,\n            toIndex: branchIndex,\n            colorIndex: branchIndex\n          })]\n        });\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction branch({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = branches.indexOf(from);\n  let toIndex = branches.indexOf(to);\n\n  if (toIndex < 0) {\n    toIndex = branches.length;\n    branches.push(to);\n  }\n\n  function findBranchRootIndex() {\n    for (let index = timeline.length - 1; index >= 0; index--) {\n      const tl = timeline[index];\n      const from = tl[fromIndex];\n\n      if (from && from.commit) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  if (fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex\n    });\n  } else {\n    const fromTargetIndex = findBranchRootIndex();\n\n    if (fromTargetIndex === -1) {\n      return null;\n    }\n\n    const branchTargetFromIndex = fromTargetIndex + 1;\n    const branchPoint = new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        fromIndex,\n        colorIndex: toIndex\n      })]\n    });\n    let point;\n    let result;\n\n    if (branchTargetFromIndex < timeline.length) {\n      const targetLine = timeline[branchTargetFromIndex];\n      point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n    } else {\n      point = branchPoint;\n      result = branchPoint;\n    }\n\n    const from = timeline[fromTargetIndex][fromIndex];\n    from.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n      toIndex,\n      colorIndex: toIndex,\n      point\n    })]));\n    return result;\n  }\n}\n\nfunction commit({\n  timeline,\n  branches\n}, name) {\n  const index = branches.indexOf(name);\n\n  if (index < 0) {\n    return null;\n  }\n\n  const result = new BranchPoint({\n    index,\n    commit: true\n  });\n\n  if (joinLine(timeline, index)) {\n    result.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n      fromIndex: index,\n      colorIndex: index\n    })]));\n  }\n\n  return result;\n}\n\nfunction commitTag({\n  timeline,\n  branches\n}, name, tag) {\n  let index = branches.indexOf(name);\n\n  if (index < 0) {\n    index = branches.length;\n    branches.push(name);\n  }\n\n  return new BranchPoint({\n    index,\n    tag\n  });\n}\n\nfunction commitMerge({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = branches.indexOf(from);\n  const toIndex = branches.indexOf(to);\n\n  if (toIndex < 0 || fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex,\n      commit: true\n    });\n  }\n\n  const result = new BranchPoint({\n    index: toIndex,\n    commit: true,\n    lines: [new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    }), new BranchLine({\n      fromIndex: toIndex,\n      colorIndex: toIndex\n    })]\n  });\n  const froms = [...timeline];\n  const fromTargetLine = froms.pop();\n\n  if (fromTargetLine) {\n    fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        toIndex,\n        colorIndex: fromIndex\n      })]\n    }));\n  }\n\n  if (joinLine(froms, fromIndex) && fromTargetLine) {\n    fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    })]));\n  }\n\n  joinLine(timeline, toIndex);\n  return result;\n}\n\nfunction calcCommand(info, command) {\n  const {\n    timeline\n  } = info;\n  const timelineData = []; // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\n  const commands = __webpack_provided_Array_dot_isArray(command) ? command : [command];\n  commands.forEach(cmd => {\n    if (!cmd) {\n      return;\n    }\n\n    let point;\n\n    if (cmd.command === 'branch') {\n      const from = isObject(cmd.branch) ? cmd.branch.from : null;\n      const to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n      point = branch(info, from, to);\n    } else if (cmd.command === 'commit') {\n      const {\n        branch\n      } = cmd;\n      point = commit(info, branch);\n    } else if (cmd.command === 'merge') {\n      const {\n        from,\n        to\n      } = cmd.branch;\n      point = commitMerge(info, from, to);\n    } else if (cmd.command === 'tag') {\n      const {\n        branch,\n        tag\n      } = cmd;\n      point = commitTag(info, branch, tag);\n    }\n\n    if (point && point.index > -1) {\n      timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n    }\n  });\n  timeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n  const result = {\n    branches: [],\n    timeline: []\n  };\n  getAllColumnData(grid, col, data => {\n    if (start !== 'top') {\n      data = [...data].reverse();\n    }\n\n    data.forEach(command => {\n      calcCommand(result, command);\n    });\n  });\n  return result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n  let w = Math.max(width / branches.length + 1, 5);\n  timeline.forEach(tl => {\n    tl.forEach((p, index) => {\n      if (index <= 0) {\n        // \n        return;\n      }\n\n      if (p.tag) {\n        const textWidth = ctx.measureText(p.tag).width;\n\n        if (w * index + radius * 2 + 4 + textWidth > width) {\n          w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n        }\n      }\n    });\n  });\n  const result = [];\n  let x = left;\n  branches.forEach(() => {\n    result.push(Math.ceil(x + radius));\n    x += w;\n  });\n  return result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n  branchXPoints,\n  margin,\n  branchColors,\n  branchLineWidth,\n  mergeStyle\n}, {\n  width,\n  col,\n  row,\n  branches\n}) {\n  if (isDef(upLineIndex) || isDef(downLineIndex)) {\n    ctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n    ctx.lineWidth = branchLineWidth;\n    ctx.lineCap = 'round';\n    ctx.beginPath();\n\n    if (isDef(upLineIndex)) {\n      const upX = branchXPoints[upLineIndex];\n      const upRect = grid.getCellRelativeRect(col, row - 1);\n      const upY = upRect.top + upRect.height / 2;\n      ctx.moveTo(upX, upY);\n\n      if (mergeStyle === 'bezier') {\n        ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    } else {\n      ctx.moveTo(x, y);\n    }\n\n    if (isDef(downLineIndex)) {\n      const downX = branchXPoints[downLineIndex];\n      const downRect = grid.getCellRelativeRect(col, row + 1);\n      const downY = downRect.top + downRect.height / 2;\n\n      if (mergeStyle === 'bezier') {\n        ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n      } else {\n        ctx.lineTo(downX, downY);\n      }\n    }\n\n    ctx.stroke();\n  }\n}\n/**\n * BranchGraphColumn<br>\n * <br>\n * # Data command<br>\n * ## mastar branch or orphan branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * </code></pre>\n * ## commit<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * </code></pre>\n * ## branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * </code></pre>\n * ## merge<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * </code></pre>\n * ## tag<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * </code></pre>\n *\n *\n * @memberof cheetahGrid.columns.type\n */\n\n\nclass BranchGraphColumn extends BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._start = option.start || 'bottom';\n    this._cache = isDef(option.cache) ? option.cache : false;\n  }\n\n  get StyleClass() {\n    return BranchGraphStyle;\n  }\n\n  clearCache(grid) {\n    delete grid[_];\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    if (this._cache) {\n      const state = grid[_] || (grid[_] = {});\n      const {\n        col\n      } = context;\n\n      if (!state[col]) {\n        state[col] = calcBranchesInfo(this._start, grid, col);\n      }\n    }\n\n    return super.onDrawCell(cellValue, info, context, grid);\n  }\n\n  clone() {\n    return new BranchGraphColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      col,\n      row\n    } = context;\n    const {\n      timeline,\n      branches\n    } = this._cache && grid[_] ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n    const {\n      upLineIndexKey,\n      downLineIndexKey\n    } = this._start !== 'top' ? {\n      upLineIndexKey: 'toIndex',\n      downLineIndexKey: 'fromIndex'\n    } : {\n      upLineIndexKey: 'fromIndex',\n      downLineIndexKey: 'toIndex'\n    };\n    const data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n    const {\n      branchColors,\n      branchLineWidth,\n      circleSize,\n      mergeStyle,\n      margin,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const rect = context.getRect();\n    const radius = circleSize / 2;\n    const width = rect.width - margin * 2;\n    helper.drawWithClip(context, ctx => {\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n      const y = rect.top + rect.height / 2; // draw join lines\n\n      data.map((point, index) => point ? point.lines.map(line => ({\n        colorIndex: line.colorIndex,\n        upLineIndex: line[upLineIndexKey],\n        downLineIndex: line[downLineIndexKey],\n        pointIndex: index\n      })) : []).reduce((p, c) => p.concat(c), []). // flatMap\n      // order of overlap\n      sort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n        const x = branchXPoints[line.pointIndex];\n        renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n          margin,\n          branchXPoints,\n          branchLineWidth,\n          branchColors,\n          mergeStyle\n        }, {\n          width,\n          col,\n          row,\n          branches\n        });\n      }); // draw commit points\n\n      data.forEach((p, index) => {\n        if (p && p.commit) {\n          const x = branchXPoints[index];\n          ctx.fillStyle = getOrApply(branchColors, branches[index], index);\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n          ctx.fill();\n          ctx.closePath();\n        }\n      }); // draw tags\n\n      data.forEach((p, index) => {\n        if (p && p.tag) {\n          ctx.fillStyle = getOrApply(branchColors, branches[index], index);\n          ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n        }\n      });\n    });\n  }\n\n}\n\nmodule.exports = BranchGraphColumn;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(21);\n\nlet defaultStyle;\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n  switch (index % 3) {\n    case 0:\n      return '#979797';\n\n    case 1:\n      return '#008fb5';\n\n    case 2:\n      return '#f1c109';\n\n    default:\n  }\n\n  return '#979797';\n};\n\nclass BranchGraphStyle extends BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n    this._margin = style.margin || 4;\n    this._circleSize = style.circleSize || 16;\n    this._branchLineWidth = style.branchLineWidth || 4;\n    this._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n  }\n\n  get branchColors() {\n    return this._branchColors;\n  }\n\n  set branchColors(branchColors) {\n    this._branchColors = branchColors;\n    this.doChangeStyle();\n  }\n\n  get margin() {\n    return this._margin;\n  }\n\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n\n  get circleSize() {\n    return this._circleSize;\n  }\n\n  set circleSize(circleSize) {\n    this._circleSize = circleSize;\n    this.doChangeStyle();\n  }\n\n  get branchLineWidth() {\n    return this._branchLineWidth;\n  }\n\n  set branchLineWidth(branchLineWidth) {\n    this._branchLineWidth = branchLineWidth;\n    this.doChangeStyle();\n  }\n\n  get mergeStyle() {\n    return this._mergeStyle;\n  }\n\n  set mergeStyle(mergeStyle) {\n    this._mergeStyle = mergeStyle;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new BranchGraphStyle(this);\n  }\n\n}\n\nmodule.exports = BranchGraphStyle;\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  normalize\n} = __webpack_require__(37);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst MenuStyle = __webpack_require__(46);\n\nconst utils = __webpack_require__(15);\n\nclass MenuColumn extends BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._options = normalize(option.options);\n  }\n\n  get StyleClass() {\n    return MenuStyle;\n  }\n\n  clone() {\n    return new MenuColumn(this);\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  withOptions(options) {\n    const c = this.clone();\n    c._options = normalize(options);\n    return c;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      font,\n      bgColor,\n      padding,\n      textOverflow,\n      appearance\n    } = style;\n    let {\n      color\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const text = this._convertInternal(value);\n\n    helper.testFontLoad(font, text, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n      const textPadding = basePadding.slice(0);\n      textPadding[1] += 26; // icon padding\n\n      const iconPadding = basePadding.slice(0);\n      iconPadding[1] += 8;\n\n      if (!isDef(color) && (!isDef(value) || value === '')) {\n        color = 'rgba(0, 0, 0, .38)';\n      }\n\n      helper.text(text, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding: textPadding,\n        textOverflow,\n        icons\n      });\n\n      if (appearance === 'menulist-button') {\n        // draw dropdown arrow icon\n        helper.text('', context, {\n          textAlign: 'right',\n          textBaseline,\n          color,\n          font,\n          icons: [{\n            path: 'M0 2 5 7 10 2z',\n            width: 10,\n            color: 'rgba(0, 0, 0, .54)'\n          }],\n          padding: iconPadding\n        });\n      } else if (appearance !== 'none') {\n        console.warn(`unsupported appearance:${appearance}`);\n      }\n    });\n  }\n\n  convertInternal(value) {\n    return value;\n  }\n\n  _convertInternal(value) {\n    const options = this._options;\n\n    for (let i = 0; i < options.length; i++) {\n      const option = options[i];\n\n      if (option.value === value) {\n        value = option.caption;\n        break;\n      }\n    }\n\n    return super.convertInternal(value);\n  }\n\n}\n\nmodule.exports = MenuColumn;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MultilineTextStyle = __webpack_require__(45);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst utils = __webpack_require__(15);\n\nclass MultilineTextColumn extends BaseColumn {\n  constructor(option = {}) {\n    super(option);\n  }\n\n  get StyleClass() {\n    return MultilineTextStyle;\n  }\n\n  clone() {\n    return new MultilineTextColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n    helper.testFontLoad(font, value, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.multilineText(multilines, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nmodule.exports = MultilineTextColumn;\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nconst {\n  getChainSafe\n} = __webpack_require__(0); //private symbol\n\n\nconst _ = __webpack_require__(1).get();\n\nfunction getProp(obj, superObj, names, defNames) {\n  return getChainSafe(obj, ...names) || getChainSafe(superObj, ...names) || defNames && getChainSafe(obj, ...defNames) || defNames && getChainSafe(superObj, ...defNames);\n}\n\nclass Theme {\n  constructor(obj = {}, superTheme = {}) {\n    if (obj.hiliteBorderColor && !obj.highlightBorderColor) {\n      // https://github.com/future-architect/cheetah-grid/issues/83\n      console.warn('Please use highlightBorderColor instead of hiliteBorderColor. cheetah-grid@>=0.7');\n      obj.highlightBorderColor = obj.hiliteBorderColor;\n    }\n\n    this[_] = {\n      obj,\n      superTheme\n    };\n  }\n\n  get font() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['font']);\n  }\n\n  get underlayBackgroundColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['underlayBackgroundColor']);\n  } // color\n\n\n  get color() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['color']);\n  }\n\n  get frozenRowsColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n  } // background\n\n\n  get defaultBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['defaultBgColor']);\n  }\n\n  get frozenRowsBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n  }\n\n  get selectionBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n  } // border\n\n\n  get borderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['borderColor']);\n  }\n\n  get frozenRowsBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n  }\n\n  get highlightBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['highlightBorderColor'], ['borderColor']);\n  }\n\n  get checkbox() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n      },\n\n      get checkBgColor() {\n        return getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n      },\n\n      get borderColor() {\n        return getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n      }\n\n    });\n  }\n\n  get button() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._button || (this._button = {\n      get color() {\n        return getProp(obj, superTheme, ['button', 'color'], ['color']);\n      },\n\n      get bgColor() {\n        return getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n      }\n\n    });\n  }\n\n  get header() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getProp(obj, superTheme, ['header', 'sortArrowColor'], ['color']);\n      }\n\n    });\n  }\n\n  extends(obj) {\n    return new Theme(obj, this);\n  }\n\n}\n/**\n * theme object\n * @type {Object}\n * @namespace cheetahGrid.themes.theme\n * @memberof cheetahGrid.themes\n */\n\n\nmodule.exports = {\n  Theme\n};\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction DEFAULT_BG_COLOR(args) {\n  const {\n    row,\n    grid: {\n      frozenRowCount\n    }\n  } = args;\n\n  if (!(row - frozenRowCount & 1)) {\n    return '#FFF';\n  } else {\n    return '#F6F6F6';\n  }\n}\n\nconst cacheLinearGradient = {};\n\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n  let stop;\n  const stopsKey = [];\n\n  for (stop in colorStops) {\n    stopsKey.push(`${stop}@${colorStops[stop]}`);\n  }\n\n  const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n  const ret = cacheLinearGradient[key];\n\n  if (ret) {\n    return ret;\n  }\n\n  const grad = context.createLinearGradient(left, top, left, bottom);\n\n  for (stop in colorStops) {\n    grad.addColorStop(stop, colorStops[stop]);\n  }\n\n  return cacheLinearGradient[key] = grad;\n}\n\nfunction FROZEN_ROWS_BG_COLOR(args) {\n  const {\n    col,\n    grid,\n    grid: {\n      frozenRowCount\n    },\n    context\n  } = args;\n  const {\n    left,\n    top\n  } = grid.getCellRelativeRect(col, 0);\n  const {\n    bottom\n  } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n  return getLinearGradient(context, left, top, left, bottom, {\n    0: '#FFF',\n    1: '#D3D3D3'\n  });\n}\n/**\n * basic theme\n * @name BASIC\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\n\n\nmodule.exports = {\n  color: '#000',\n  // frozenRowsColor: '#000',\n  defaultBgColor: DEFAULT_BG_COLOR,\n  frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n  selectionBgColor: '#CCE0FF',\n  borderColor: '#000',\n  // frozenRowsBorderColor: '#000',\n  highlightBorderColor: '#5E9ED6',\n  checkbox: {\n    uncheckBgColor: '#FFF',\n    checkBgColor: 'rgb(76, 73, 72)' // borderColor: '#000',\n\n  },\n  button: {\n    color: '#FFF',\n    bgColor: '#2196F3'\n  },\n  header: {\n    sortArrowColor: 'rgba(0, 0, 0, 0.38)'\n  },\n  underlayBackgroundColor: '#F6F6F6'\n};\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n  const {\n    row,\n    grid: {\n      frozenRowCount\n    }\n  } = args;\n\n  if (frozenRowCount - 1 === row) {\n    return ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n  } else {\n    return ['#f2f2f2'];\n  }\n}\n\nfunction BORDER_COLOR(args) {\n  const {\n    col,\n    grid: {\n      colCount,\n      frozenColCount\n    }\n  } = args;\n\n  if (frozenColCount - 1 === col) {\n    return ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n  }\n\n  if (colCount - 1 === col) {\n    return ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n  }\n\n  return ['#ccc7c7', null];\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\n\n\nmodule.exports = {\n  color: 'rgba(0, 0, 0, 0.87)',\n  frozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n  defaultBgColor: '#FFF',\n  // frozenRowsBgColor: '#FFF',\n  selectionBgColor: '#CCE0FF',\n  borderColor: BORDER_COLOR,\n  frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n  highlightBorderColor: '#5E9ED6',\n  checkbox: {\n    // uncheckBgColor: '#FFF',\n    checkBgColor: 'rgb(76, 73, 72)',\n    borderColor: 'rgba(0, 0, 0, 0.26)'\n  },\n  button: {\n    color: '#FFF',\n    bgColor: '#2196F3'\n  },\n  header: {\n    sortArrowColor: 'rgba(0, 0, 0, 0.38)'\n  },\n  underlayBackgroundColor: '#FFF'\n};\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  getChainSafe\n} = __webpack_require__(0);\n\nconst DataSource = __webpack_require__(24);\n\nfunction _setFieldCache({\n  _fCache\n}, index, field, value) {\n  const recCache = _fCache[index] || (_fCache[index] = {});\n  recCache[field] = value;\n}\n/**\n\t * grid data source for caching Promise data\n\t *\n\t * @classdesc cheetahGrid.data.CachedDataSource\n\t * @extends cheetahGrid.data.DataSource\n\t * @memberof cheetahGrid.data\n\t */\n\n\nclass CachedDataSource extends DataSource {\n  static get EVENT_TYPE() {\n    return DataSource.EVENT_TYPE;\n  }\n\n  static ofArray(array) {\n    return new CachedDataSource({\n      get: index => array[index],\n      length: array.length\n    });\n  }\n\n  constructor(opt = {}) {\n    super(opt);\n    this._rCache = {};\n    this._fCache = {};\n  }\n\n  getOriginal(index) {\n    if (this._rCache && this._rCache[index]) {\n      return this._rCache[index];\n    }\n\n    return super.getOriginal(index);\n  }\n\n  getOriginalField(index, field) {\n    const cache = getChainSafe(this._fCache, index, field);\n\n    if (cache) {\n      return cache;\n    }\n\n    return super.getOriginalField(index, field);\n  }\n\n  setOriginalField(index, field, value) {\n    const fCache = this._fCache;\n\n    if (fCache && fCache[index]) {\n      delete fCache[index]; // clear row cache\n    }\n\n    return super.setOriginalField(index, field, value);\n  }\n\n  clearCache() {\n    if (this._rCache) {\n      this._rCache = {};\n    }\n\n    if (this._fCache) {\n      this._fCache = {};\n    }\n  }\n\n  fieldPromiseCallBackInternal(index, field, val) {\n    _setFieldCache(this, index, field, val);\n  }\n\n  recordPromiseCallBackInternal(index, val) {\n    this._rCache[index] = val;\n  }\n\n  dispose() {\n    super.dispose();\n  }\n\n}\n\nmodule.exports = CachedDataSource;\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nconst DataSource = __webpack_require__(24);\n\nclass DataSourceIterator {\n  constructor(dataSource) {\n    this._dataSource = dataSource;\n    this._curIndex = -1;\n    this._data = [];\n  }\n\n  hasNext() {\n    const next = this._curIndex + 1;\n    return this._dataSource.length > next;\n  }\n\n  next() {\n    const next = this._curIndex + 1;\n\n    const data = this._getIndexData(next);\n\n    this._curIndex = next;\n    return data;\n  }\n\n  movePrev() {\n    this._curIndex--;\n  }\n\n  _getIndexData(index, nest) {\n    const dataSource = this._dataSource;\n    const data = this._data;\n\n    if (index < data.length) {\n      return data[index];\n    }\n\n    if (dataSource.length <= index) {\n      return undefined;\n    }\n\n    const record = this._dataSource.get(index);\n\n    data[index] = record;\n\n    if (isPromise(record)) {\n      record.then(val => {\n        data[index] = val;\n      });\n\n      if (!nest) {\n        for (let i = 1; i <= 100; i++) {\n          this._getIndexData(index + i, true);\n        }\n      }\n    }\n\n    return record;\n  }\n\n}\n\nclass FilterData {\n  constructor(dc, original, filter) {\n    this._owner = dc;\n    this._dataSourceItr = new DataSourceIterator(original);\n    this._filter = filter;\n    this._filterdList = [];\n    this._queues = [];\n  }\n\n  get(index) {\n    if (this._cancel) {\n      return undefined;\n    }\n\n    const filterdList = this._filterdList;\n\n    if (index < filterdList.length) {\n      return filterdList[index];\n    }\n\n    const queues = this._queues;\n\n    if (queues[index]) {\n      return queues[index];\n    }\n\n    return queues[index] || this._findIndex(index);\n  }\n\n  cancel() {\n    this._cancel = true;\n  }\n\n  _findIndex(index) {\n    if (window.Promise) {\n      const timeout = Date.now() + 100;\n      let count = 0;\n      return this._findIndexWithTimeout(index, () => {\n        count++;\n\n        if (count >= 100) {\n          count = 0;\n          return timeout < Date.now();\n        }\n\n        return false;\n      });\n    }\n\n    return this._findIndexWithTimeout(index, () => false);\n  }\n\n  _findIndexWithTimeout(index, testTimeout) {\n    const filterdList = this._filterdList;\n    const filter = this._filter;\n    const dataSourceItr = this._dataSourceItr;\n    const queues = this._queues;\n\n    while (dataSourceItr.hasNext()) {\n      if (this._cancel) {\n        return undefined;\n      }\n\n      const record = dataSourceItr.next();\n\n      if (isPromise(record)) {\n        dataSourceItr.movePrev();\n        return queues[index] = record.then(value => {\n          queues[index] = null;\n          return this.get(index);\n        });\n      }\n\n      if (filter(record)) {\n        filterdList.push(record);\n\n        if (index < filterdList.length) {\n          return filterdList[index];\n        }\n      }\n\n      if (testTimeout()) {\n        const promise = new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n          }, 300);\n        });\n        queues[index] = promise.then(() => {\n          queues[index] = null;\n          return this.get(index);\n        });\n        return queues[index];\n      }\n    }\n\n    const dc = this._owner;\n    dc.length = filterdList.length;\n    return undefined;\n  }\n\n}\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @extends cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\n\n\nclass FilterDataSource extends DataSource {\n  static get EVENT_TYPE() {\n    return DataSource.EVENT_TYPE;\n  }\n\n  constructor(dataSource, filter) {\n    super(dataSource);\n    this._dataSource = dataSource;\n    this.filter = filter;\n  }\n\n  get filter() {\n    return this._filterData && this._filterData._filter || undefined;\n  }\n\n  set filter(filter) {\n    if (this._filterData) {\n      this._filterData.cancel();\n    }\n\n    this._filterData = filter ? new FilterData(this, this._dataSource, filter) : undefined;\n    this.length = this._dataSource.length;\n  }\n\n  getOriginal(index) {\n    if (!this._filterData) {\n      return super.getOriginal(index);\n    }\n\n    return this._filterData.get(index);\n  }\n\n}\n\nmodule.exports = FilterDataSource;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef,\n  isPromise,\n  then,\n  obj: {\n    isObject\n  }\n} = __webpack_require__(0);\n\nconst GridCanvasHelper = __webpack_require__(51);\n\nconst columns = __webpack_require__(32);\n\nconst {\n  BaseStyle\n} = columns.style;\n\nconst headerType = __webpack_require__(119);\n\nconst {\n  BaseStyle: HeaderBaseStyle\n} = __webpack_require__(16);\n\nconst DrawGrid = __webpack_require__(7);\n\nconst {\n  DataSource,\n  CachedDataSource\n} = __webpack_require__(49);\n\nconst themes = __webpack_require__(23);\n\nconst icons = __webpack_require__(22);\n\nconst MessageHandler = __webpack_require__(124);\n\nconst TooltipHandler = __webpack_require__(136);\n\nconst EVENT_TYPE = __webpack_require__(26); //protected symbol\n\n\nconst {\n  PROTECTED_SYMBOL: _\n} = __webpack_require__(1);\n\nlet headerId = 0; //private methods\n\nfunction _getHeaderCellRange(grid, col, row) {\n  return grid[_].headerMap.getHeaderCellRange(col, row);\n}\n\nfunction _updateRect(grid, col, row, context) {\n  const rect = context.getRect();\n\n  const {\n    startCol,\n    endCol,\n    startRow,\n    endRow\n  } = _getHeaderCellRange(grid, col, row);\n\n  for (let c = col - 1; c >= startCol; c--) {\n    rect.left -= grid.getColWidth(c);\n  }\n\n  for (let c = col + 1; c <= endCol; c++) {\n    rect.right += grid.getColWidth(c);\n  }\n\n  for (let r = row - 1; r >= startRow; r--) {\n    rect.top -= grid.getRowHeight(r);\n  }\n\n  for (let r = row + 1; r <= endRow; r++) {\n    rect.bottom += grid.getRowHeight(r);\n  }\n\n  context.setRect(rect);\n}\n\nfunction _getCellValue(grid, col, row) {\n  if (row < grid[_].headerMap.rowCount) {\n    return grid[_].headerMap.getCell(col, row).caption;\n  } else {\n    let {\n      field\n    } = grid[_].headerMap.columns[col];\n\n    if (isObject(field) && field.get && field.set) {\n      field = field.get;\n    }\n\n    return _getField(grid, field, row);\n  }\n}\n\nfunction _setCellValue(grid, col, row, value) {\n  if (row < grid[_].headerMap.rowCount) {\n    // nop\n    return false;\n  } else {\n    let {\n      field\n    } = grid[_].headerMap.columns[col];\n\n    if (isObject(field) && field.get && field.set) {\n      field = field.set;\n    }\n\n    const index = _getRowRecordIndex(grid, row);\n\n    const res = grid[_].dataSource.setField(index, field, value);\n\n    return isPromise(res) ? res : true;\n  }\n}\n\nfunction _getCellMessage(grid, col, row) {\n  if (row < grid[_].headerMap.rowCount) {\n    return null;\n  } else {\n    const {\n      message\n    } = grid[_].headerMap.columns[col];\n\n    if (!message) {\n      return null;\n    }\n\n    return _getField(grid, message, row);\n  }\n}\n\nfunction _getCellIcon0(grid, icon, row) {\n  if (!isDef(icon)) {\n    return null;\n  }\n\n  if (__webpack_provided_Array_dot_isArray(icon)) {\n    return icon.map(i => _getCellIcon0(grid, i, row));\n  }\n\n  if (!isObject(icon)) {\n    return _getField(grid, icon, row);\n  }\n\n  const retIcon = {};\n  icons.iconPropKeys.forEach(k => {\n    if (icon[k]) {\n      const f = _getField(grid, icon[k], row);\n\n      if (isDef(f)) {\n        retIcon[k] = f;\n      } else {\n        if (!_hasField(grid, icon[k], row)) {\n          retIcon[k] = icon[k];\n        }\n      }\n    }\n  });\n  return retIcon;\n}\n\nfunction _getCellIcon(grid, col, row) {\n  const {\n    icon\n  } = grid[_].headerMap.columns[col];\n  return _getCellIcon0(grid, icon, row);\n}\n\nfunction _getField(grid, field, row) {\n  if (!isDef(field)) {\n    return null;\n  }\n\n  if (row < grid[_].headerMap.rowCount) {\n    return null;\n  } else {\n    const index = _getRowRecordIndex(grid, row);\n\n    return grid[_].dataSource.getField(index, field);\n  }\n}\n\nfunction _hasField(grid, field, row) {\n  if (!isDef(field)) {\n    return false;\n  }\n\n  if (row < grid[_].headerMap.rowCount) {\n    return false;\n  } else {\n    const index = _getRowRecordIndex(grid, row);\n\n    return grid[_].dataSource.hasField(index, field);\n  }\n}\n\nfunction _onDrawValue(grid, cellValue, context, {\n  col,\n  row\n}, style, draw) {\n  const helper = grid[_].gridCanvasHelper;\n\n  const drawCellBg = ({\n    bgColor\n  } = {}) => {\n    const fillOpt = {\n      fillColor: bgColor\n    }; //cell\n\n    helper.fillCellWithState(context, fillOpt);\n  };\n\n  const drawCellBorder = () => {\n    if (context.col === grid.frozenColCount - 1) {\n      //\n      const rect = context.getRect();\n      helper.drawWithClip(context, ctx => {\n        const borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n        const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.right - 2.5, rect.top);\n          ctx.lineTo(rect.right - 2.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    }\n\n    if (context.row < grid[_].headerMap.rowCount) {\n      _headerBorderWithState(grid, helper, context);\n    } else {\n      helper.borderWithState(context);\n    }\n  };\n\n  const drawCellBase = ({\n    bgColor\n  } = {}) => {\n    drawCellBg({\n      bgColor\n    });\n    drawCellBorder();\n  };\n\n  const info = {\n    getRecord: () => grid.getRowRecord(row),\n    getIcon: () => _getCellIcon(grid, col, row),\n    getMessage: () => _getCellMessage(grid, col, row),\n    messageHandler: grid[_].messageHandler,\n    style,\n    drawCellBase,\n    drawCellBg,\n    drawCellBorder\n  };\n  return draw(cellValue, info, context, grid);\n}\n\nfunction _headerBorderWithState(grid, helper, context) {\n  const {\n    col,\n    row\n  } = context;\n  const sel = grid.selection.select;\n\n  if (sel.row >= grid[_].headerMap.rowCount) {\n    //\n    helper.borderWithState(context);\n    return;\n  }\n\n  const {\n    id\n  } = grid[_].headerMap.getCell(col, row);\n\n  const rect = context.getRect();\n  const option = {};\n\n  const {\n    id: selId\n  } = grid[_].headerMap.getCell(sel.col, sel.row); //\n\n\n  if (selId === id) {\n    option.borderColor = helper.theme.highlightBorderColor;\n    option.lineWidth = 2;\n    helper.border(context, option);\n  } else {\n    option.lineWidth = 1; // header color\n\n    const isFrozenCell = grid.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      option.borderColor = helper.theme.frozenRowsBorderColor;\n    }\n\n    helper.border(context, option); //\n\n    if (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    } else if (row > 0 && grid[_].headerMap.getCell(col, row - 1).id === selId) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n\n        if (borderColors[0]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0];\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        }\n      });\n    }\n  }\n}\n\nfunction _refreshHeader(grid) {\n  if (grid[_].headerEvents) {\n    grid[_].headerEvents.forEach(id => grid.unlisten(id));\n  }\n\n  grid[_].headerMap = new HeaderMap(grid[_].header);\n  grid[_].headerEvents = [];\n\n  grid[_].headerMap.headerObjects.forEach(cell => {\n    const ids = cell.headerType.bindGridEvent(grid);\n\n    grid[_].headerEvents.push(...ids);\n\n    if (cell.style) {\n      if (cell.style instanceof HeaderBaseStyle) {\n        const id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n\n        grid[_].headerEvents.push(id);\n      }\n    }\n  });\n\n  grid[_].headerMap.columns.forEach((col, index) => {\n    if (col.action) {\n      const ids = col.action.bindGridEvent(grid, index, {\n        isTarget(col, row) {\n          return index === col && grid.frozenRowCount <= row;\n        }\n\n      });\n\n      grid[_].headerEvents.push(...ids);\n    }\n\n    if (col.columnType) {\n      const ids = col.columnType.bindGridEvent(grid, index, {\n        isTarget(col, row) {\n          return index === col && grid.frozenRowCount <= row;\n        }\n\n      });\n\n      grid[_].headerEvents.push(...ids);\n    }\n\n    if (col.style) {\n      if (col.style instanceof BaseStyle) {\n        const id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n\n        grid[_].headerEvents.push(id);\n      }\n    }\n  });\n\n  grid.colCount = grid[_].headerMap.columns.length;\n\n  _refreshRowCount(grid);\n\n  grid.frozenRowCount = grid[_].headerMap.rowCount;\n\n  for (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n    const column = grid[_].headerMap.columns[col];\n    const {\n      width,\n      minWidth,\n      maxWidth\n    } = column;\n\n    if (width && (width > 0 || typeof width === 'string')) {\n      grid.setColWidth(col, width);\n    }\n\n    if (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n      grid.setMinColWidth(col, minWidth);\n    }\n\n    if (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n      grid.setMaxColWidth(col, maxWidth);\n    }\n  }\n\n  const isArrayHeaderRowHeight = __webpack_provided_Array_dot_isArray(grid[_].headerRowHeight);\n\n  for (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n    const height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\n    if (height && height > 0) {\n      grid.setRowHeight(row, height);\n    }\n  }\n}\n\nfunction _refreshRowCount(grid) {\n  grid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n}\n\nfunction _tryWithUpdateDataSource(grid, fn) {\n  if (grid[_].dataSourceEventIds) {\n    grid[_].dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n  }\n\n  fn(grid);\n  grid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n    _refreshRowCount(grid);\n\n    grid.invalidate();\n  }), grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n    grid.invalidate();\n  })];\n}\n\nfunction _setRecords(grid, records = []) {\n  _tryWithUpdateDataSource(grid, () => {\n    grid[_].records = records;\n    grid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n  });\n}\n\nfunction _setDataSource(grid, dataSource) {\n  _tryWithUpdateDataSource(grid, () => {\n    if (dataSource) {\n      if (dataSource instanceof DataSource) {\n        grid[_].dataSource = dataSource;\n      } else {\n        grid[_].dataSource = new CachedDataSource(dataSource);\n      }\n    } else {\n      grid[_].dataSource = DataSource.EMPTY;\n    }\n\n    grid[_].records = null;\n  });\n}\n\nfunction _getRowRecordIndex(grid, row) {\n  if (row < grid[_].headerMap.rowCount) {\n    return undefined;\n  } else {\n    return row - grid[_].headerMap.rowCount;\n  }\n} //end private methods\n//\n//\n//\n\n\nclass HeaderMap {\n  constructor(header) {\n    this._columns = [];\n    this._headerCells = [];\n    this._headerObjects = [];\n\n    this._addHeaders(0, header, []);\n\n    this._setupHeaderType();\n  }\n\n  get columns() {\n    return this._columns;\n  }\n\n  get rowCount() {\n    return this._headerCells.length;\n  }\n\n  get headerObjects() {\n    return this._headerObjects;\n  }\n\n  getCell(col, row) {\n    return this._headerCells[row][col];\n  }\n\n  getHeaderCellRangeById(id) {\n    for (let r = 0; r < this.rowCount; r++) {\n      for (let c = 0; c < this.columns.length; c++) {\n        if (id === this.getCell(c, r).id) {\n          return this.getHeaderCellRange(c, r);\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  getHeaderCellRange(col, row) {\n    const result = {\n      startCol: col,\n      startRow: row,\n      endCol: col,\n      endRow: row,\n\n      isCellInRange(col, row) {\n        return this.startCol <= col && col <= this.endCol && this.startRow <= row && row <= this.endRow;\n      }\n\n    };\n    const {\n      id\n    } = this.getCell(col, row);\n\n    for (let c = col - 1; c >= 0; c--) {\n      if (id !== this.getCell(c, row).id) {\n        break;\n      }\n\n      result.startCol = c;\n    }\n\n    for (let c = col + 1; c < this.columns.length; c++) {\n      if (id !== this.getCell(c, row).id) {\n        break;\n      }\n\n      result.endCol = c;\n    }\n\n    for (let r = row - 1; r >= 0; r--) {\n      if (id !== this.getCell(col, r).id) {\n        break;\n      }\n\n      result.startRow = r;\n    }\n\n    for (let r = row + 1; r < this.rowCount; r++) {\n      if (id !== this.getCell(col, r).id) {\n        break;\n      }\n\n      result.endRow = r;\n    }\n\n    return result;\n  }\n\n  _addHeaders(row, header, roots) {\n    const rowCells = this._headerCells[row] || this._newRow(row);\n\n    header.forEach(hd => {\n      const col = this._columns.length;\n      const cell = {\n        id: headerId++,\n        caption: hd.caption,\n        style: hd.headerStyle,\n        sort: hd.sort\n      };\n\n      this._headerObjects.push(cell);\n\n      rowCells[col] = cell;\n\n      for (let r = row - 1; r >= 0; r--) {\n        this._headerCells[r][col] = roots[r];\n      }\n\n      if (hd.columns) {\n        this._addHeaders(row + 1, hd.columns, [...roots, cell]);\n      } else {\n        this._columns.push({\n          width: hd.width,\n          minWidth: hd.minWidth,\n          maxWidth: hd.maxWidth,\n          field: hd.field,\n          icon: hd.icon,\n          message: hd.message,\n          columnType: columns.type.of(hd.columnType),\n          action: columns.action.of(hd.action),\n          style: hd.style,\n          define: hd\n        });\n\n        for (let r = row + 1; r < this._headerCells.length; r++) {\n          this._headerCells[r][col] = cell;\n        }\n      }\n    });\n  }\n\n  _setupHeaderType() {\n    this._headerObjects.forEach(cell => {\n      cell.range = this.getHeaderCellRangeById(cell.id);\n      cell.headerType = headerType.create(cell);\n    });\n  }\n\n  _newRow(row) {\n    const newRow = this._headerCells[row] = [];\n\n    if (!this._columns.length) {\n      return newRow;\n    }\n\n    const prev = this._headerCells[row - 1];\n\n    for (let col = 0; col < prev.length; col++) {\n      newRow[col] = prev[col];\n    }\n\n    return newRow;\n  }\n\n}\n\nfunction adjustListGridOption(options) {\n  if (options) {\n    delete options.frozenRowCount;\n    delete options.colCount;\n    delete options.rowCount;\n  }\n\n  return options;\n}\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @extends cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid\n */\n\n\nclass ListGrid extends DrawGrid {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n  /**\n   * constructor\n   *\n   * <pre>\n   * Constructor options\n   * -----\n   * header: see header property\n   * records {array}: records data\n   * dataSource {DataSource}: records data source\n   * frozenColCount {number}: default 0\n   * defaultRowHeight {number}: default grid row height. default 40\n   * defaultColWidth {number}: default grid col width. default 80\n   * borderColor: border color\n   * parentElement {Element}: canvas parentElement\n   * theme {object}: theme\n   * -----\n   * </pre>\n   *\n   * @constructor\n   * @param  {Object} options Constructor options\n   */\n\n\n  constructor(options = {}) {\n    super(adjustListGridOption(options));\n    this[_].header = options.header || [];\n    this[_].headerRowHeight = options.headerRowHeight || [];\n\n    if (options.dataSource) {\n      _setDataSource(this, options.dataSource);\n    } else {\n      _setRecords(this, options.records);\n    }\n\n    _refreshHeader(this);\n\n    this[_].sortState = {\n      col: -1,\n      order: undefined\n    };\n    this[_].gridCanvasHelper = new GridCanvasHelper(this);\n    this[_].theme = themes.of(options.theme);\n    this[_].messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n    this[_].tooltipHandler = new TooltipHandler(this);\n    this.invalidate();\n\n    this[_].handler.on(window, 'resize', () => {\n      this.updateSize();\n      this.updateScroll();\n      this.invalidate();\n    });\n  }\n  /**\n   * Dispose the grid instance.\n   * @returns {void}\n   */\n\n\n  dispose() {\n    this[_].messageHandler.dispose();\n\n    this[_].tooltipHandler.dispose();\n\n    super.dispose();\n  }\n  /**\n   * Gets the define of the header.\n   * @type {Array}\n   */\n\n\n  get header() {\n    return this[_].header;\n  }\n  /**\n   * Sets the define of the header with the given data.\n   * <pre>\n   * column options\n   * -----\n   * caption: header caption\n   * field: field name\n   * width: column width\n   * minWidth: column min width\n   * maxWidth: column max width\n   * icon: icon name\n   * message: message key name\n   * columnType: ColumnType\n   * action: ColumnAction\n   * style: ColumnStyle\n   * sort: define sort setting\n   * -----\n   *\n   * multiline header\n   * -----\n   * caption: header caption\n   * columns: columns define\n   * -----\n   * </pre>\n   *\n   * @param {Array} header the define of the header to set\n   * @type {Array}\n   */\n\n\n  set header(header) {\n    this[_].header = header;\n\n    _refreshHeader(this);\n  }\n  /**\n   * Get the records.\n   * @type {Array}\n   */\n\n\n  get records() {\n    return this[_].records;\n  }\n  /**\n   * Set the records from given\n   * @param {Array} records records to set\n   * @type {Array}\n   */\n\n\n  set records(records) {\n    _setRecords(this, records);\n\n    _refreshRowCount(this);\n\n    this.invalidate();\n  }\n  /**\n   * Get the data source.\n   * @type {DataSource}\n   */\n\n\n  get dataSource() {\n    return this[_].dataSource;\n  }\n  /**\n   * Set the data source from given\n   * @param {DataSource} dataSource data source to set\n   * @type {DataSource}\n   */\n\n\n  set dataSource(dataSource) {\n    _setDataSource(this, dataSource);\n\n    _refreshRowCount(this);\n\n    this.invalidate();\n  }\n  /**\n   * Get the theme.\n   * @type {object}\n   */\n\n\n  get theme() {\n    return this[_].theme;\n  }\n  /**\n   * Set the theme from given\n   * @param {object} theme theme to set\n   * @type {object}\n   */\n\n\n  set theme(theme) {\n    this[_].theme = themes.of(theme);\n    this.invalidate();\n  }\n  /**\n   * Get the font definition as a string.\n   * @override\n   * @type {string}\n   */\n\n\n  get font() {\n    return super.font || this[_].gridCanvasHelper.theme.font;\n  }\n  /**\n   * Set the font definition with the given string.\n   * @override\n   * @param {string} font the font definition to set\n   * @type {string}\n   */\n\n\n  set font(font) {\n    super.font = font;\n  }\n  /**\n   * Get the background color of the underlay.\n   * @override\n   * @type {*}\n   */\n\n\n  get underlayBackgroundColor() {\n    return super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n  }\n  /**\n   * Set the background color of the underlay.\n   * @override\n   * @param {*} underlayBackgroundColor the background color of the underlay to set\n   * @type {*}\n   */\n\n\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    super.underlayBackgroundColor = underlayBackgroundColor;\n  }\n  /**\n   * Get the sort state.\n   * @type {object}\n   */\n\n\n  get sortState() {\n    return this[_].sortState;\n  }\n  /**\n   * Sets the sort state.\n   * If `null` to set, the sort state is initialized.\n   *\n   * @param {object} sortState the sort state to set\n   * @type {object}\n   */\n\n\n  set sortState(sortState) {\n    this[_].sortState = isDef(sortState) ? sortState : {\n      col: -1,\n      order: undefined\n    };\n  }\n  /**\n   * Get the field of the given column index.\n   * @param  {number} col The column index.\n   * @return {*} The field object.\n   */\n\n\n  getField(col) {\n    return this[_].headerMap.columns[col].field;\n  }\n  /**\n   * Get the record of the given row index.\n   * @param  {number} row The row index.\n   * @return {object} The record.\n   */\n\n\n  getRowRecord(row) {\n    if (row < this[_].headerMap.rowCount) {\n      return undefined;\n    } else {\n      return this[_].dataSource.get(_getRowRecordIndex(this, row));\n    }\n  }\n  /**\n   * Get the column index of the given field.\n   * @param  {*} field The field.\n   * @return {number} The column index.\n   */\n\n\n  getColumnIndexByField(field) {\n    for (const columnIndex in this[_].headerMap.columns) {\n      if (this[_].headerMap.columns[columnIndex].field === field) {\n        return columnIndex - 0;\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Focus the cell.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {void}\n   */\n\n\n  focusGridCell(field, index) {\n    const {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    } = this.selection.range;\n    const newCol = this.getColumnIndexByField(field);\n    const newRow = index + this[_].headerMap.rowCount;\n    this.focusCell(newCol, newRow);\n    this.selection.select = {\n      col: newCol,\n      row: newRow\n    };\n    this.invalidateGridRect(startCol, startRow, endCol, endRow);\n    this.invalidateCell(newCol, newRow);\n  }\n  /**\n   * Scroll to where cell is visible.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {void}\n   */\n\n\n  makeVisibleGridCell(field, index) {\n    this.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n  }\n\n  getGridCanvasHelper() {\n    return this[_].gridCanvasHelper;\n  }\n\n  getCopyCellValue(col, row) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        startCol,\n        startRow\n      } = _getHeaderCellRange(this, col, row);\n\n      if (startCol !== col || startRow !== row) {\n        return '';\n      }\n    }\n\n    return _getCellValue(this, col, row);\n  }\n\n  onDrawCell(col, row, context) {\n    const column = this[_].headerMap.columns[col];\n    let draw;\n    let style;\n\n    if (row < this[_].headerMap.rowCount) {\n      const hd = this[_].headerMap.getCell(col, row);\n\n      draw = hd.headerType.onDrawCell;\n      ({\n        style\n      } = hd);\n\n      _updateRect(this, col, row, context);\n    } else {\n      draw = column.columnType.onDrawCell;\n      ({\n        style\n      } = column);\n    }\n\n    const cellValue = _getCellValue(this, col, row);\n\n    return _onDrawValue(this, cellValue, context, {\n      col,\n      row\n    }, style, draw);\n  }\n\n  doGetCellValue(col, row, valueCallback) {\n    if (row < this[_].headerMap.rowCount) {\n      // nop\n      return false;\n    } else {\n      const value = _getCellValue(this, col, row);\n\n      if (isPromise(value)) {\n        //\n        return false;\n      }\n\n      valueCallback(value);\n    }\n\n    return true;\n  }\n\n  doChangeValue(col, row, changeValueCallback) {\n    if (row < this[_].headerMap.rowCount) {\n      // nop\n      return false;\n    } else {\n      const before = _getCellValue(this, col, row);\n\n      if (isPromise(before)) {\n        //\n        return false;\n      }\n\n      const after = changeValueCallback(before);\n\n      if (after === undefined) {\n        return false;\n      }\n\n      return then(_setCellValue(this, col, row, after), ret => {\n        if (ret) {\n          const {\n            field\n          } = this[_].headerMap.columns[col];\n          const self = this;\n          this.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n            col,\n            row,\n\n            get record() {\n              return self.getRowRecord(row);\n            },\n\n            field,\n            value: after\n          });\n        }\n\n        return ret;\n      });\n    }\n  }\n\n  bindEventsInternal() {\n    this.listen(EVENT_TYPE.SELECTED_CELL, e => {\n      if (e.row < this[_].headerMap.rowCount) {\n        const {\n          startCol,\n          endCol,\n          startRow,\n          endRow\n        } = _getHeaderCellRange(this, e.col, e.row);\n\n        if (startCol !== endCol || startRow !== endRow) {\n          this.invalidateGridRect(startCol, startRow, endCol, endRow);\n        }\n      }\n    });\n  }\n\n  getMoveLeftColByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        startCol\n      } = _getHeaderCellRange(this, col, row);\n\n      col = startCol;\n    }\n\n    return super.getMoveLeftColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveRightColByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        endCol\n      } = _getHeaderCellRange(this, col, row);\n\n      col = endCol;\n    }\n\n    return super.getMoveRightColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveUpRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        startRow\n      } = _getHeaderCellRange(this, col, row);\n\n      row = startRow;\n    }\n\n    return super.getMoveUpRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveDownRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        endRow\n      } = _getHeaderCellRange(this, col, row);\n\n      row = endRow;\n    }\n\n    return super.getMoveDownRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getOffsetInvalidateCells() {\n    return 1;\n  }\n\n}\n\nmodule.exports = ListGrid;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst Inline = __webpack_require__(12);\n\nconst InlineIcon = __webpack_require__(103);\n\nconst InlineImage = __webpack_require__(53);\n\nconst InlineSvg = __webpack_require__(106);\n\nconst InlineDrawer = __webpack_require__(107);\n\nconst InlinePath2D = __webpack_require__(108);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst {\n  calcStartPosition\n} = __webpack_require__(8);\n\nconst icons = __webpack_require__(54);\n\nconst path2DManager = __webpack_require__(25);\n\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n      offset,\n      padding\n    });\n    path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n  } finally {\n    ctx.restore();\n  }\n}\n\nmodule.exports = {\n  iconOf(icon) {\n    if (icon instanceof Inline) {\n      return icon;\n    }\n\n    if (!icon) {\n      return null;\n    }\n\n    if (icon.font && icon.content) {\n      return new InlineIcon(icon);\n    }\n\n    if (icon.src) {\n      return new InlineImage({\n        src: icon.src,\n        width: icon.width,\n        height: icon.width\n      });\n    }\n\n    if (icon.svg) {\n      return new InlineSvg({\n        svg: icon.svg,\n        width: icon.width,\n        height: icon.width\n      });\n    }\n\n    if (icon.path) {\n      return new InlinePath2D({\n        path: icon.path,\n        width: icon.width,\n        height: icon.width,\n        color: icon.color\n      });\n    }\n\n    const regedIcons = icons.get();\n\n    if (icon.name && regedIcons[icon.name]) {\n      const regedIcon = regedIcons[icon.name];\n      const width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n      return new InlineDrawer({\n        draw({\n          ctx,\n          canvashelper,\n          rect,\n          offset,\n          offsetLeft,\n          offsetRight,\n          offsetTop,\n          offsetBottom\n        }) {\n          drawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n              left: offsetLeft,\n              right: offsetRight,\n              top: offsetTop,\n              bottom: offsetBottom\n            }\n          });\n        },\n\n        width,\n        height: width,\n        color: icon.color\n      });\n    }\n\n    return new InlineIcon(icon);\n  },\n\n  of(content) {\n    if (!isDef(content)) {\n      return null;\n    }\n\n    if (content instanceof Inline) {\n      return content;\n    }\n\n    return new Inline(content);\n  },\n\n  buildInlines(icons, inline) {\n    const result = [];\n\n    if (icons) {\n      result.push(...icons.map(icon => this.iconOf(icon)).filter(e => !!e));\n    }\n\n    if (__webpack_provided_Array_dot_isArray(inline) && inline.filter(il => il instanceof Inline).length) {\n      result.push(...inline.map(il => this.of(il)).filter(e => !!e));\n    } else {\n      const il = this.of(inline);\n\n      if (il) {\n        result.push(il);\n      }\n    }\n\n    return result;\n  },\n\n  string(inline) {\n    return this.buildInlines(undefined, inline).join('');\n  }\n\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\n\nconst fonts = __webpack_require__(52);\n\nclass InlineIcon extends Inline {\n  constructor(icon) {\n    super();\n    this._icon = icon || {};\n  }\n\n  width({\n    ctx\n  }) {\n    const icon = this._icon;\n\n    if (icon.width) {\n      return icon.width;\n    }\n\n    if (icon.font && fonts.check(icon.font, icon.content)) {\n      ctx.save();\n\n      try {\n        ctx.font = icon.font || ctx.font;\n        return ctx.measureText(icon.content).width;\n      } finally {\n        ctx.restore();\n      }\n    }\n\n    return null;\n  }\n\n  font() {\n    return this._icon.font;\n  }\n\n  color() {\n    return this._icon.color;\n  }\n\n  canDraw() {\n    const icon = this._icon;\n    return icon.font ? fonts.check(icon.font, icon.content) : true;\n  }\n\n  onReady(callback) {\n    const icon = this._icon;\n\n    if (icon.font && !fonts.check(icon.font, icon.content)) {\n      fonts.load(icon.font, icon.content, callback);\n    }\n  }\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const icon = this._icon;\n\n    if (icon.content) {\n      canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n        offset: offset + 1,\n        padding: {\n          left: offsetLeft,\n          right: offsetRight,\n          top: offsetTop,\n          bottom: offsetBottom\n        }\n      });\n    }\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineIcon;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n //see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\n\nconst FontRuler = __webpack_require__(105);\n\nconst LastResortFonts = {\n  SERIF: 'serif',\n  SANS_SERIF: 'sans-serif'\n};\nconst watchRunners = {};\n\nclass FontWatchRunner {\n  static load(font, testStr, activeCallback, inactiveCallback) {\n    const c = watchRunners[font] || (watchRunners[font] = {});\n    testStr += '';\n    let runner;\n\n    if (c[testStr]) {\n      runner = c[testStr];\n    } else {\n      runner = c[testStr] = new FontWatchRunner(font, testStr);\n    }\n\n    runner.then(activeCallback, inactiveCallback);\n  }\n\n  constructor(font, testStr) {\n    this.activeCallbacks = [];\n    this.inactiveCallbacks = [];\n    this.status = null;\n    this.lastResortWidths_ = {};\n    this.fontRulerA_ = new FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n    this.fontRulerB_ = new FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n    const lastResortRulerA = new FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n    const lastResortRulerB = new FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr); //start\n\n    this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n    this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n    lastResortRulerA.remove();\n    lastResortRulerB.remove();\n    this.started_ = Date.now();\n    this.check_();\n  }\n\n  then(activeCallback, inactiveCallback) {\n    if (this.status) {\n      if (this.status !== 'ng') {\n        activeCallback();\n      } else {\n        inactiveCallback();\n      }\n    } else {\n      this.activeCallbacks.push(activeCallback);\n      this.inactiveCallbacks.push(inactiveCallback);\n    }\n  }\n\n  check_() {\n    const widthA = this.fontRulerA_.getWidth();\n    const widthB = this.fontRulerB_.getWidth();\n\n    if (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n      if (Date.now() - this.started_ >= 3000) {\n        // timeout\n        if (this.isLastResortFont_(widthA, widthB)) {\n          this.finish_(this.activeCallbacks);\n          this.status = 'ok';\n        } else {\n          this.finish_(this.inactiveCallbacks);\n          this.status = 'ng';\n        }\n      } else {\n        setTimeout(() => {\n          this.check_();\n        }, 50);\n      }\n    } else {\n      this.finish_(this.activeCallbacks);\n      this.status = 'ok';\n    }\n  }\n\n  isFallbackFont_(a, b) {\n    return this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n  }\n\n  widthsMatchLastResortWidths_(a, b) {\n    for (const font in LastResortFonts) {\n      if (LastResortFonts.hasOwnProperty(font)) {\n        if (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  widthMatches_(width, lastResortFont) {\n    return width === this.lastResortWidths_[lastResortFont];\n  }\n\n  isLastResortFont_(a, b) {\n    return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n  }\n\n  finish_(callbacks) {\n    setTimeout(() => {\n      this.fontRulerA_.remove();\n      this.fontRulerB_.remove();\n      callbacks.forEach(cb => cb());\n    }, 0);\n  }\n\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\n\nfunction hasWebKitFallbackBug() {\n  if (HAS_WEBKIT_FALLBACK_BUG === null) {\n    const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n    HAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n  }\n\n  return HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n //see https://github.com/typekit/webfontloader\n\nfunction computeStyle(font) {\n  return [{\n    'display': 'block',\n    'position': 'absolute',\n    'top': '-9999px',\n    'left': '-9999px',\n    'width': 'auto',\n    'height': 'auto',\n    'margin': '0',\n    'padding': '0',\n    'white-space': 'nowrap',\n    font\n  }, {\n    'font-variant': 'normal',\n    'font-size': '300px',\n    'font-style': 'normal',\n    'font-weight': '400',\n    'line-height': 'normal'\n  }];\n}\n\nclass FontRuler {\n  constructor(font, testStr) {\n    const e = document.createElement('span');\n    e.setAttribute('aria-hidden', 'true');\n    e.textContent = testStr || 'BESbswy';\n    computeStyle(font).forEach(style => {\n      for (const key in style) {\n        e.style[key] = style[key];\n      }\n    });\n    document.body.appendChild(e);\n    this.el_ = e;\n  }\n\n  getWidth() {\n    return this.el_.offsetWidth;\n  }\n\n  remove() {\n    document.body.removeChild(this.el_);\n  }\n\n}\n\nmodule.exports = FontRuler;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst InlineImage = __webpack_require__(53);\n\nconst {\n  then\n} = __webpack_require__(0);\n\nfunction buildSvgDataUrl(svg) {\n  const data = typeof svg === 'string' ? svg : new XMLSerializer().serializeToString(svg);\n  const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\n  return url;\n}\n\nfunction getSvgElement(svg) {\n  if (typeof svg === 'string') {\n    const parser = new DOMParser();\n    return parser.parseFromString(svg, 'image/svg+xml');\n  } else {\n    return svg;\n  }\n}\n\nclass InlineSvg extends InlineImage {\n  constructor({\n    svg,\n    width,\n    height,\n    imageLeft,\n    imageTop,\n    imageWidth,\n    imageHeight\n  }) {\n    const svgElem = then(svg, getSvgElement);\n    const elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n    const elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n    super({\n      src: then(svg, buildSvgDataUrl),\n      width: width || elmWidth,\n      height: height || elmHeight,\n      imageWidth: elmWidth,\n      imageHeight: elmHeight\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineSvg;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\n\nclass InlineDrawer extends Inline {\n  constructor({\n    draw,\n    width,\n    height,\n    color\n  }) {\n    super();\n    this._draw = draw;\n    this._width = width;\n    this._height = height;\n    this._color = color;\n  }\n\n  width({\n    ctx\n  }) {\n    return this._width;\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return this._color;\n  }\n\n  canDraw() {\n    return true;\n  }\n\n  onReady(callback) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    this._draw({\n      ctx,\n      canvashelper,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineDrawer;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(12);\n\nconst {\n  calcStartPosition\n} = __webpack_require__(8);\n\nconst path2DManager = __webpack_require__(25);\n\nclass InlinePath2D extends Inline {\n  constructor({\n    path,\n    width,\n    height,\n    color\n  }) {\n    super(); // IEPath2Dpolyfill\n\n    this._path = new path2DManager.Path2D(path);\n    this._width = width;\n    this._height = height;\n    this._color = color;\n  }\n\n  width({\n    ctx\n  }) {\n    return this._width;\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return this._color;\n  }\n\n  canDraw() {\n    return true;\n  }\n\n  onReady(callback) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    offset++;\n    const padding = {\n      left: offsetLeft,\n      right: offsetRight,\n      top: offsetTop,\n      bottom: offsetBottom\n    };\n    ctx.save();\n\n    try {\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n      ctx.clip(); //\n\n      const pos = calcStartPosition(ctx, rect, this._width, this._height, {\n        offset,\n        padding\n      });\n      ctx.translate(pos.x, pos.y);\n      ctx.fill(this._path);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlinePath2D;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommandsParser = __webpack_require__(110);\n\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n  constructor(arg) {\n    this._ops = [];\n    ['closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'rect'].forEach(name => {\n      this[name] = (...args) => {\n        this._ops.push({\n          op: name,\n          args\n        });\n      };\n    });\n\n    if (arg === undefined) {\n      return;\n    }\n\n    if (typeof arg === 'string') {\n      try {\n        this._ops = parser.parse(arg);\n      } catch (e) {\n        throw e;\n      }\n    } else if (arg.hasOwnProperty('_ops')) {\n      this._ops = [...this._ops];\n    } else {\n      throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n    }\n  }\n\n}\n\nconst {\n  CanvasRenderingContext2D\n} = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n  if (args[0] instanceof Path2D) {\n    const path = args[0];\n    this.beginPath();\n\n    path._ops.forEach(op => {\n      this[op.op](...op.args);\n    });\n\n    originalFill.apply(this, Array.prototype.slice.call(args, 1));\n  } else {\n    originalFill.apply(this, args);\n  }\n};\n\nmodule.exports = Path2D;\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommands = __webpack_require__(111);\n\nfunction pathTokens(d) {\n  let idx = 0;\n  return {\n    next() {\n      let s = '';\n\n      while (d.length > idx) {\n        const c = d[idx];\n        idx++;\n\n        if (' ,\\n\\r\\t'.indexOf(c) > -1) {\n          if (s) {\n            return s;\n          }\n        } else {\n          const type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\n          if (type === 'str') {\n            if (s) {\n              idx--;\n              return s;\n            }\n\n            return c;\n          }\n\n          if ('-+'.indexOf(c) > -1) {\n            if (s) {\n              idx--;\n              return s;\n            }\n          }\n\n          if (c === '.') {\n            if (s.indexOf('.') > -1) {\n              idx--;\n              return s;\n            }\n          }\n\n          s += c;\n        }\n      }\n\n      return s || null;\n    }\n\n  };\n}\n\nfunction command(builder, cmd, argsProvider) {\n  if (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next());\n    return cmd === 'M' ? 'L' : cmd === 'm' ? 'l' : cmd;\n  } else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n    builder.command(cmd, argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === 'Z') {\n    builder.command(cmd);\n    return cmd;\n  } else if (cmd.toUpperCase() === 'C') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === 'A') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else {\n    // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n    console.warn(`unsupported:${cmd}`);\n  }\n\n  return null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : ['save', 'restore', 'beginPath', 'closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'arcTo', 'ellipse', 'rect', 'translate', 'rotate', 'scale'];\n\nclass PathCommandsParser {\n  constructor() {\n    this._commands = new PathCommands(this);\n    canvasOperations.forEach(op => {\n      this[op] = (...args) => {\n        this._ops.push({\n          op,\n          args\n        });\n      };\n    });\n  }\n\n  command(name, ...args) {\n    args = args || [];\n\n    for (let i = 0; i < args.length; i++) {\n      args[i] -= 0;\n    }\n\n    this._commands[name](...args);\n  }\n\n  parse(d) {\n    const ops = this._ops = [];\n    const tokens = pathTokens(d);\n\n    try {\n      let cmd;\n      let subsequentCommand;\n\n      while (cmd = tokens.next()) {\n        if (!isNaN(cmd - 0)) {\n          let fst = true;\n          const argsProvider = {\n            next() {\n              if (fst) {\n                fst = false;\n                return cmd;\n              }\n\n              return tokens.next();\n            }\n\n          };\n          subsequentCommand = command(this, subsequentCommand, argsProvider);\n        } else {\n          subsequentCommand = command(this, cmd, tokens);\n        }\n      }\n    } catch (e) {\n      console.log(`Error: ${d}`);\n      throw e;\n    }\n\n    return ops;\n  }\n\n}\n\nmodule.exports = PathCommandsParser;\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint new-cap: \"off\"*/\n\n\nfunction mag(v) {\n  return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n  return u[0] * v[0] + u[1] * v[1];\n}\n\nfunction ratio(u, v) {\n  return dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n  let sign = 1.0;\n\n  if (u[0] * v[1] - u[1] * v[0] < 0) {\n    sign = -1.0;\n  }\n\n  return sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n  return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n  return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n  return [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n  return [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n  return [u[0] + v[0], u[1] + v[1]];\n} // Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\n\n\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n  // Convert from endpoint to center parametrization, as detailed in:\n  //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n  if (rx === 0 || ry === 0) {\n    ctx.lineTo(x2, x1);\n    return;\n  }\n\n  phi *= Math.PI / 180.0;\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  const xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\n  const xPrime2 = pointMul(xPrime, xPrime);\n  let rx2 = Math.pow(rx, 2);\n  let ry2 = Math.pow(ry, 2);\n  const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\n  if (lambda > 1) {\n    rx *= lambda;\n    ry *= lambda;\n    rx2 = Math.pow(rx, 2);\n    ry2 = Math.pow(ry, 2);\n  }\n\n  let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\n  if (fA === fS) {\n    factor *= -1.0;\n  }\n\n  const cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\n  const c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\n  const x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n  const x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n  const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\n  const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\n  const start = theta;\n  const end = theta + deltaTheta;\n  ctx.save();\n  ctx.translate(c[0], c[1]);\n  ctx.rotate(phi);\n  ctx.scale(rx, ry);\n  ctx.arc(0, 0, 1, start, end, 1 - fS);\n  ctx.restore();\n}\n\nclass PathCommands {\n  constructor(ctx) {\n    let lMx;\n    let lMy;\n    let lx = 0;\n    let ly = 0;\n    let reflected;\n    let lastCommand = '';\n\n    function makeReflected() {\n      if ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n        return {\n          x: lx,\n          y: ly\n        };\n      }\n\n      return reflected;\n    }\n\n    this.M = (px, py) => {\n      ctx.moveTo(px, py);\n      lMx = px;\n      lMy = py;\n      lx = px;\n      ly = py;\n      lastCommand = 'M';\n      return this;\n    };\n\n    this.m = (px, py) => this.M(px + lx, py + ly);\n\n    this.L = (px, py) => {\n      ctx.lineTo(px, py);\n      lx = px;\n      ly = py;\n      lastCommand = 'L';\n      return this;\n    };\n\n    this.l = (px, py) => this.L(px + lx, py + ly);\n\n    this.H = px => this.L(px, ly);\n\n    this.h = px => this.H(px + lx);\n\n    this.V = py => this.L(lx, py);\n\n    this.v = py => this.V(py + ly);\n\n    this.Z = () => {\n      ctx.closePath();\n      lx = lMx;\n      ly = lMy;\n      lastCommand = 'Z';\n      return this;\n    };\n\n    this.z = () => this.Z(); //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\n\n    this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n      ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cp2x,\n        y: 2 * py - cp2y\n      };\n      lastCommand = 'C';\n      return this;\n    };\n\n    this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly); //S x2 y2, x y (or s dx2 dy2, dx dy)\n\n\n    this.S = (cpx, cpy, px, py) => {\n      const {\n        x: cp1x,\n        y: cp1y\n      } = makeReflected(lastCommand);\n      return this.C(cp1x, cp1y, cpx, cpy, px, py);\n    };\n\n    this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly); //Q x1 y1, x y (or q dx1 dy1, dx dy)\n\n\n    this.Q = (cpx, cpy, px, py) => {\n      ctx.quadraticCurveTo(cpx, cpy, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cpx,\n        y: 2 * py - cpy\n      };\n      lastCommand = 'Q';\n      return this;\n    };\n\n    this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly); //T x y (or t dx dy)\n\n\n    this.T = (px, py) => {\n      const {\n        x: cpx,\n        y: cpy\n      } = makeReflected();\n      return this.Q(cpx, cpy, px, py);\n    };\n\n    this.t = (px, py) => this.T(px + lx, py + ly); //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\n\n    this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n      const x1 = lx;\n      const y1 = ly;\n      ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n      lx = px;\n      ly = py;\n      lastCommand = 'A';\n      return this;\n    }; //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\n\n    this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n  }\n\n}\n\nmodule.exports = PathCommands;\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Header = __webpack_require__(120);\n\nconst SortHeader = __webpack_require__(123);\n\nconst type = {\n  create(headerCell) {\n    if (headerCell.sort) {\n      return new SortHeader(headerCell);\n    }\n\n    return new Header(headerCell);\n  }\n\n};\nmodule.exports = type;\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(16);\n\nconst {\n  Style\n} = styleContents;\n\nconst BaseHeader = __webpack_require__(59);\n\nclass Header extends BaseHeader {\n  get StyleClass() {\n    return Style;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.text(value, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow\n    });\n  }\n\n  bindGridEvent(grid) {\n    return [];\n  }\n\n}\n\nmodule.exports = Header;\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(57);\n\nlet defaultStyle;\n\nclass StdBaseStyle extends BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || 'left';\n    this._textBaseline = style.textBaseline || 'middle';\n  }\n\n  get textAlign() {\n    return this._textAlign;\n  }\n\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new StdBaseStyle(this);\n  }\n\n}\n\nmodule.exports = StdBaseStyle;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(58);\n\nlet defaultStyle;\n\nclass SortHeaderStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new SortHeaderStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._sortArrowColor = style.sortArrowColor;\n  }\n\n  get sortArrowColor() {\n    return this._sortArrowColor;\n  }\n\n  set sortArrowColor(sortArrowColor) {\n    this._sortArrowColor = sortArrowColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new SortHeaderStyle(this);\n  }\n\n}\n\nmodule.exports = SortHeaderStyle;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(16);\n\nconst {\n  SortHeaderStyle\n} = styleContents;\n\nconst BaseHeader = __webpack_require__(59);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst {\n  getFontSize\n} = __webpack_require__(8);\n\nconst {\n  EVENT_TYPE: {\n    CLICK_CELL,\n    MOUSEOVER_CELL,\n    MOUSEOUT_CELL,\n    MOUSEMOVE_CELL\n  }\n} = __webpack_require__(7);\n\nclass SortHeader extends BaseHeader {\n  constructor(headerCell) {\n    super(headerCell);\n    this._sort = headerCell.sort;\n    this._range = headerCell.range;\n  }\n\n  get StyleClass() {\n    return SortHeaderStyle;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline = 'middle',\n      color,\n      bgColor,\n      font,\n      textOverflow,\n      sortArrowColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const state = grid.sortState;\n    let order = undefined;\n\n    if (this._range.isCellInRange(state.col, this._range.startRow)) {\n      ({\n        order\n      } = state);\n    }\n\n    const ctx = context.getContext();\n    const {\n      col,\n      row\n    } = context;\n    const arrowSize = getFontSize(ctx, font).width * 1.2;\n    helper.text(value, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow,\n      icons: [{\n        name: isDef(order) ? order === 'asc' ? 'arrow_downward' : 'arrow_upward' : null,\n        width: arrowSize,\n        color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || 'rgba(0, 0, 0, 0.38)'\n      }]\n    });\n  }\n\n  _executeSort(newState, grid) {\n    if (typeof this._sort === 'function') {\n      this._sort(newState.order, newState.col, grid);\n    } else {\n      grid.dataSource.sort(grid.getField(newState.col), newState.order);\n    }\n  }\n\n  bindGridEvent(grid) {\n    return [grid.listen(CLICK_CELL, e => {\n      if (!this._range.isCellInRange(e.col, e.row)) {\n        return;\n      }\n\n      const state = grid.sortState;\n      let newState;\n\n      if (this._range.isCellInRange(state.col, e.row)) {\n        newState = {\n          col: this._range.startCol,\n          order: state.order === 'asc' ? 'desc' : 'asc'\n        };\n      } else {\n        newState = {\n          col: this._range.startCol,\n          order: 'asc'\n        };\n      }\n\n      grid.sortState = newState;\n\n      this._executeSort(newState, grid);\n\n      grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n    }), // mouse move\n    grid.listen(MOUSEOVER_CELL, e => {\n      if (!this._range.isCellInRange(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = 'pointer';\n    }), //MOUSEENTER'col-resize'move\n    grid.listen(MOUSEMOVE_CELL, e => {\n      if (!this._range.isCellInRange(e.col, e.row)) {\n        return;\n      }\n\n      if (!grid.getElement().style.cursor) {\n        grid.getElement().style.cursor = 'pointer';\n      }\n    }), grid.listen(MOUSEOUT_CELL, e => {\n      if (!this._range.isCellInRange(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = '';\n    })];\n  }\n\n}\n\nmodule.exports = SortHeader;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nconst {\n  SELECTED_CELL,\n  SCROLL,\n  CHANGED_VALUE\n} = __webpack_require__(26);\n\nconst ErrorMessage = __webpack_require__(125);\n\nconst WarningMessage = __webpack_require__(131);\n\nconst InfoMessage = __webpack_require__(135);\n\nconst EMPTY_MESSAGE = {\n  type: 'error',\n  message: undefined\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n  error(grid) {\n    return new ErrorMessage(grid);\n  },\n\n  info(grid) {\n    return new InfoMessage(grid);\n  },\n\n  warning(grid) {\n    return new WarningMessage(grid);\n  }\n\n};\n\nfunction normalizeMessage(message) {\n  if (!message || isPromise(message)) {\n    return EMPTY_MESSAGE;\n  }\n\n  if (typeof message === 'string') {\n    return {\n      type: 'error',\n      message,\n      original: message\n    };\n  }\n\n  const type = message.type || 'error';\n\n  if (type && type in MESSAGE_INSTANCE_FACTORY) {\n    return {\n      type: type.toLowerCase(),\n      message: `${message.message}`,\n      original: message\n    };\n  }\n\n  return {\n    type: 'error',\n    message: `${message}`,\n    original: message\n  };\n}\n\nfunction hasMessage(message) {\n  return !!normalizeMessage(message).message;\n}\n\nclass MessageHandler {\n  constructor(grid, getMessage) {\n    this._grid = grid;\n    this._messageInstances = {};\n\n    this._bindGridEvent(grid, getMessage);\n  }\n\n  dispose() {\n    const messageInstances = this._messageInstances;\n\n    for (const k in messageInstances) {\n      messageInstances[k].dispose();\n    }\n\n    this._messageInstances = null;\n  }\n\n  drawCellMessage(message, context, style, helper, info) {\n    if (!hasMessage(message)) {\n      return;\n    }\n\n    const instance = this._getMessageInstanceOfMessage(message);\n\n    instance.drawCellMessage(message, context, style, helper, info);\n  }\n\n  _attach(col, row, message) {\n    const info = this._attachInfo;\n\n    const instance = this._getMessageInstanceOfMessage(message);\n\n    if (info && info.instance !== instance) {\n      info.instance.detachMessageElement();\n    }\n\n    instance.attachMessageElement(col, row, normalizeMessage(message));\n    this._attachInfo = {\n      col,\n      row,\n      instance\n    };\n  }\n\n  _move(col, row) {\n    const info = this._attachInfo;\n\n    if (!info || info.col !== col || info.row !== row) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.moveMessageElement(col, row);\n  }\n\n  _detach() {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.detachMessageElement();\n    this._attachInfo = null;\n  }\n\n  _bindGridEvent(grid, getMessage) {\n    const onSelectMessage = sel => {\n      const message = getMessage(sel.col, sel.row);\n\n      if (!hasMessage(message)) {\n        this._detach();\n      } else {\n        this._attach(sel.col, sel.row, message);\n      }\n    };\n\n    grid.listen(SELECTED_CELL, e => {\n      if (!e.selected) {\n        return;\n      }\n\n      if (e.before.col === e.col && e.before.row === e.row) {\n        return;\n      }\n\n      onSelectMessage(e);\n    });\n    grid.listen(SCROLL, () => {\n      const sel = grid.selection.select;\n\n      this._move(sel.col, sel.row);\n    });\n    grid.listen(CHANGED_VALUE, e => {\n      const sel = grid.selection.select;\n\n      if (sel.col !== e.col || sel.row !== e.row) {\n        return;\n      }\n\n      onSelectMessage(e);\n    });\n  }\n\n  _getMessageInstanceOfMessage(message) {\n    const messageInstances = this._messageInstances;\n    const {\n      type\n    } = normalizeMessage(message);\n    return messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n  }\n\n}\n\nmodule.exports = MessageHandler;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(27);\n\nconst ErrorMessageElement = __webpack_require__(126);\n\nconst messageUtils = __webpack_require__(29);\n\nconst RED_A100 = '#ff8a80';\n\nclass ErrorMessage extends BaseMessage {\n  createMessageElementInternal() {\n    return new ErrorMessageElement();\n  }\n\n  drawCellMessageInternal(message, context, style, helper, info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      selected\n    } = context.getSelectState();\n    helper.drawBorderWithClip(context, ctx => {\n      if (!selected) {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: RED_A100,\n          color: bgColor\n        }, helper);\n      }\n    });\n  }\n\n}\n\nmodule.exports = ErrorMessage;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(28);\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass ErrorMessageElement extends MessageElement {\n  constructor() {\n    super();\n\n    __webpack_require__(129);\n\n    this._rootElement.classList.add(CLASSNAME);\n\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n\n}\n\nmodule.exports = ErrorMessageElement;\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(128);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__message-element {\\n\\tposition: absolute;\\n\\tmargin-top: -2px;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 0 0 3px 3px;\\n\\tbackground-color: rgba(250, 250, 250, 0.85);\\n\\tpadding: 8px 2px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__message-element--hidden {\\n\\tdisplay: none;\\n}\\n.cheetah-grid__message-element--shown {\\n\\tdisplay: block;\\n}\\n.cheetah-grid__message-element__message {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n}\\n.cheetah-grid__message-element {\\n\\tborder-top: solid 1px rgba(0, 0, 0, .87);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(130);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__error-message-element {\\n\\tborder-top: solid 1px #FF1744;\\n\\tcolor: #ff1744;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(27);\n\nconst WarningMessageElement = __webpack_require__(132);\n\nconst messageUtils = __webpack_require__(29);\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n  createMessageElementInternal() {\n    return new WarningMessageElement();\n  }\n\n  drawCellMessageInternal(message, context, style, helper, info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      selected\n    } = context.getSelectState();\n    helper.drawBorderWithClip(context, ctx => {\n      if (!selected) {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: DEEP_ORANGE_A100,\n          color: bgColor\n        }, helper);\n      }\n    });\n  }\n\n}\n\nmodule.exports = WarningMessage;\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(28);\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass WarningMessageElement extends MessageElement {\n  constructor() {\n    super();\n\n    __webpack_require__(133);\n\n    this._rootElement.classList.add(CLASSNAME);\n\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n\n}\n\nmodule.exports = WarningMessageElement;\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(134);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__warning-message-element {\\n\\tborder-top: solid 1px #dd2c00;\\n\\tcolor: #dd2c00;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(27);\n\nconst MessageElement = __webpack_require__(28);\n\nconst messageUtils = __webpack_require__(29);\n\nconst GREY_L2 = '#e0e0e0';\n\nclass InfoMessage extends BaseMessage {\n  createMessageElementInternal() {\n    return new MessageElement();\n  }\n\n  drawCellMessageInternal(message, context, style, helper, info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      selected\n    } = context.getSelectState();\n    helper.drawBorderWithClip(context, ctx => {\n      if (!selected) {\n        messageUtils.drawInfomationMarkBox(context, {\n          bgColor: GREY_L2,\n          color: bgColor\n        }, helper);\n      }\n    });\n  }\n\n}\n\nmodule.exports = InfoMessage;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  SELECTED_CELL,\n  SCROLL,\n  CHANGED_VALUE,\n  MOUSEOVER_CELL,\n  MOUSEOUT_CELL\n} = __webpack_require__(26);\n\nconst Tooltip = __webpack_require__(137);\n\nconst TOOLTIP_INSTANCE_FACTORY = {\n  'overflow-text'(grid) {\n    return new Tooltip(grid);\n  }\n\n};\n\nfunction getTooltipInstanceInfo(grid, col, row) {\n  //\n  // overflow text tooltip\n  const overflowText = grid.getCellOverflowText(col, row);\n\n  if (overflowText) {\n    return {\n      type: 'overflow-text',\n      content: overflowText\n    };\n  }\n\n  return null;\n}\n\nclass TooltipHandler {\n  constructor(grid) {\n    this._grid = grid;\n    this._tooltipInstances = {};\n\n    this._bindGridEvent(grid);\n  }\n\n  dispose() {\n    const tooltipInstances = this._tooltipInstances;\n\n    for (const k in tooltipInstances) {\n      tooltipInstances[k].dispose();\n    }\n\n    this._tooltipInstances = null;\n  }\n\n  _attach(col, row) {\n    const info = this._attachInfo;\n\n    const instanceInfo = this._getTooltipInstanceInfo(col, row);\n\n    if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n      info.instance.detachTooltipElement();\n      this._attachInfo = null;\n    }\n\n    if (!instanceInfo) {\n      return;\n    }\n\n    const {\n      instance\n    } = instanceInfo;\n    instance.attachTooltipElement(col, row, instanceInfo.content);\n    this._attachInfo = {\n      col,\n      row,\n      instance\n    };\n  }\n\n  _move(col, row) {\n    const info = this._attachInfo;\n\n    if (!info || info.col !== col || info.row !== row) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.moveTooltipElement(col, row);\n  }\n\n  _detach() {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.detachTooltipElement();\n    this._attachInfo = null;\n  }\n\n  _isAttachCell(col, row) {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return false;\n    }\n\n    return info.col === col && info.row === row;\n  }\n\n  _bindGridEvent(grid) {\n    grid.listen(MOUSEOVER_CELL, e => {\n      this._attach(e.col, e.row);\n    });\n    grid.listen(MOUSEOUT_CELL, e => {\n      this._detach();\n    });\n    grid.listen(SELECTED_CELL, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach(e);\n      }\n    });\n    grid.listen(SCROLL, () => {\n      const info = this._attachInfo;\n\n      if (!info) {\n        return;\n      }\n\n      this._move(info.col, info.row);\n    });\n    grid.listen(CHANGED_VALUE, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach();\n\n        this._attach(e.col, e.row);\n      }\n    });\n  }\n\n  _getTooltipInstanceInfo(col, row) {\n    const grid = this._grid;\n    const tooltipInstances = this._tooltipInstances;\n    const info = getTooltipInstanceInfo(grid, col, row);\n\n    if (!info) {\n      return null;\n    }\n\n    const {\n      type\n    } = info;\n    const instance = tooltipInstances[type] || (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n    return {\n      instance,\n      type,\n      content: info.content\n    };\n  }\n\n}\n\nmodule.exports = TooltipHandler;\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseTooltip = __webpack_require__(138);\n\nconst TooltipElement = __webpack_require__(139);\n\nclass Tooltip extends BaseTooltip {\n  createTooltipElementInternal() {\n    return new TooltipElement();\n  }\n\n}\n\nmodule.exports = Tooltip;\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseTooltip {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  dispose() {\n    this.detachTooltipElement();\n\n    if (this._tooltipElement) {\n      this._tooltipElement.dispose();\n    }\n\n    this._tooltipElement = null;\n  }\n\n  _getTooltipElement() {\n    return this._tooltipElement || (this._tooltipElement = this.createTooltipElementInternal());\n  }\n\n  createTooltipElementInternal() {}\n\n  attachTooltipElement(col, row, content) {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement.attach(this._grid, col, row, content);\n  }\n\n  moveTooltipElement(col, row) {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement.move(this._grid, col, row);\n  }\n\n  detachTooltipElement() {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement._detach();\n  }\n\n}\n\nmodule.exports = BaseTooltip;\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(4);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst CLASSNAME = 'cheetah-grid__tooltip-element';\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createTooltipDomElement() {\n  __webpack_require__(140);\n\n  const rootElement = createElement('div', {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = createElement('pre', {\n    classList: [CONTENT_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\n\nclass TooltipElement {\n  constructor() {\n    this._handler = new EventHandler();\n    const rootElement = this._rootElement = createTooltipDomElement();\n    this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n  }\n\n  dispose() {\n    this.detach();\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n    }\n\n    this._handler.dispose();\n\n    this._rootElement = null;\n    this._messageElement = null;\n  }\n\n  attach(grid, col, row, content) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = content;\n    } else {\n      this._detach();\n    }\n  }\n\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  _detach() {\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      // rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(col, frozenRowCount - 1);\n\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(frozenColCount - 1, row);\n\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${(left + width / 2).toFixed()}px`;\n    rootElement.style['min-width'] = `${width.toFixed()}px`;\n\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n\n    return true;\n  }\n\n}\n\nmodule.exports = TooltipElement;\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(141);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(6)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes cheetah-grid__tooltip-element--shown-animation {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t\\ttransform: scale(.8) translateX(-60%);\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\ttransform: scale(1) translateX(-50%);\\n\\t}\\n}\\n\\n.cheetah-grid__tooltip-element {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #232F34;\\n\\tpadding: 8px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__tooltip-element--hidden {\\n\\topacity: 0;\\n\\ttransform: translateX(-50%);\\n\\ttransition: opacity 75ms linear;\\n}\\n.cheetah-grid__tooltip-element--shown {\\n\\topacity: 1;\\n\\ttransform: translateX(-50%);\\n\\tanimation: cheetah-grid__tooltip-element--shown-animation 150ms ease-out;\\n}\\n.cheetah-grid__tooltip-element__content {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\twidth: 100%;\\n\\tdisplay: block;\\n\\twhite-space: pre-wrap;\\n\\tmargin: 0;\\n}\\n.cheetah-grid__tooltip-element {\\n\\tcolor: #FFFFFF;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst themePlugins = __webpack_require__(48);\n\nconst iconPlugins = __webpack_require__(55);\n\nfunction register(obj, name, value) {\n  if (value) {\n    const old = obj[name];\n    obj[name] = value;\n    return old;\n  } else {\n    return obj[name];\n  }\n}\n\nfunction registers(obj, values) {\n  for (const k in values) {\n    obj[k] = values[k];\n  }\n}\n\nmodule.exports = {\n  theme(name, theme) {\n    return register(themePlugins, name, theme);\n  },\n\n  icon(name, icon) {\n    return register(iconPlugins, name, icon);\n  },\n\n  icons(icons) {\n    registers(iconPlugins, icons);\n  }\n\n};\n\n/***/ })\n/******/ ]);\n});\n}).call(typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 60);\n","'use strict';\n\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n\tget find() {\n\t\tif (arrayFind) {\n\t\t\treturn arrayFind;\n\t\t}\n\t\tif (Array.prototype.find) {\n\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n\t\t} else {\n\t\t\tarrayFind = (arr, predicate) => {\n\t\t\t\tconst index = array.findIndex(arr, predicate);\n\t\t\t\treturn index >= 0 ? arr[index] : undefined;\n\t\t\t};\n\t\t}\n\t\treturn arrayFind;\n\t},\n\tget findIndex() {\n\t\tif (arrayFindIndex) {\n\t\t\treturn arrayFindIndex;\n\t\t}\n\t\tif (Array.prototype.findIndex) {\n\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n\t\t} else {\n\t\t\tarrayFindIndex = (arr, predicate) => {\n\t\t\t\tconst {length} = arr;\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tconst value = arr[i];\n\t\t\t\t\tif (predicate(value, i, arr)) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t};\n\t\t}\n\t\treturn arrayFindIndex;\n\t},\n};\n\nfunction isDef(data) {\n\treturn data !== null && typeof data !== 'undefined';\n}\nconst ua = window.navigator.userAgent.toLowerCase();\nconst IE = (ua.match(/(msie)/) || ua.match(/trident/));\nconst Chrome = (ua.indexOf('chrome') > -1) && (ua.indexOf('edge') === -1);\nconst Firefox = (ua.indexOf('firefox') > -1);\n\nfunction setReadonly(obj, name, value) {\n\tObject.defineProperty(obj, name, {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue,\n\t});\n}\n\nfunction each(obj, fn) {\n\tfor (const key in obj) {\n\t\tfn(obj[key], key, obj);\n\t}\n}\n\nfunction isObject(obj) {\n\treturn obj === Object(obj);\n}\n\nfunction extend(...args) {\n\tconst result = {};\n\targs.forEach((source) => {\n\t\tfor (const key in source) {\n\t\t\tObject.defineProperty(result, key, {\n\t\t\t\tget() {\n\t\t\t\t\treturn source[key];\n\t\t\t\t},\n\t\t\t\tset(val) {\n\t\t\t\t\tsource[key] = val;\n\t\t\t\t},\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t});\n\t\t}\n\t});\n\treturn result;\n}\nfunction isDescendantElement(root, target) {\n\twhile (target.parentElement) {\n\t\tconst p = target.parentElement;\n\t\tif (root === p) {\n\t\t\treturn true;\n\t\t}\n\t\ttarget = p;\n\t}\n\treturn false;\n}\nfunction applyChainSafe(obj, fn, ...names) {\n\tlet value = obj;\n\tfor (let i = 0; i < names.length && isDef(value); i++) {\n\t\tvalue = fn(value, names[i]);\n\t}\n\treturn value;\n}\nfunction getChainSafe(obj, ...names) {\n\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\n}\nfunction getOrApply(value, ...args) {\n\tif (typeof value === 'function') {\n\t\treturn value(...args);\n\t} else {\n\t\treturn value;\n\t}\n}\nfunction endsWith(str, searchString, position) {\n\tconst subjectString = str.toString();\n\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n\t\tposition = subjectString.length;\n\t}\n\tposition -= searchString.length;\n\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\n\treturn lastIndex !== -1 && lastIndex === position;\n}\nfunction genChars(s) {\n\t// Surrogate Code Point\n\t// [\\uD800-\\uDBFF]\n\t// Variation Selectors\n\t// FVS [\\u180B-\\u180D]\n\t// VS1VS16 [\\uFE00-\\uFE0F]\n\t// VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n\tconst re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n\treturn {\n\t\tnext() {\n\t\t\tconst res = re.exec(s);\n\t\t\treturn res !== null ? res[0] : null;\n\t\t}\n\t};\n}\nfunction genWords(s) {\n\tconst re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n\treturn {\n\t\tnext() {\n\t\t\tconst res = re.exec(s);\n\t\t\treturn res !== null ? res[0] : null;\n\t\t}\n\t};\n}\nconst isPromise = (data) => data && typeof data.then === 'function';\nconst then = (result, callback) => isPromise(result) ? result.then((r) => callback(r)) : callback(result);\nfunction getMouseButtons(e) {\n\tif (isDef(e.buttons)) {\n\t\treturn e.buttons;\n\t}\n\t/*for legacy*/\n\tif (isDef(e.which)) {\n\t\tif (e.which === 3) { //right?\n\t\t\treturn 4;\n\t\t}\n\t\tif (e.which === 2) { //middle?\n\t\t\treturn 4;\n\t\t}\n\t\treturn e.which;//left or no\n\t}\n\n\tif (e.button === 0 || e.button === 1) {\n\t\treturn 1;//candidate left\n\t}\n\tif (e.button === 2) {\n\t\treturn 2;// right\n\t}\n\treturn 0;//no or middle?\n}\nfunction getKeyCode(e) {\n\treturn e.keyCode || e.which;\n}\nfunction isTouchEvent(e) {\n\treturn !!e.changedTouches;\n}\nfunction getIgnoreCase(obj, name) {\n\tif (obj[name]) {\n\t\treturn obj[name];\n\t}\n\tconst l = name.toLowerCase();\n\tif (obj[l]) {\n\t\treturn obj[l];\n\t}\n\tconst u = name.toLowerCase();\n\tif (obj[u]) {\n\t\treturn obj[u];\n\t}\n\tfor (const k in obj) {\n\t\tif (k.toLowerCase() === l) {\n\t\t\treturn obj[k];\n\t\t}\n\t}\n\treturn undefined;\n}\nfunction cancel(e) {\n\te.preventDefault();\n\te.stopPropagation();\n}\n\n\nfunction toBoxArray(obj) {\n\tif (!Array.isArray(obj)) {\n\t\treturn [obj/*top*/, obj/*right*/, obj/*bottom*/, obj/*left*/];\n\t}\n\tif (obj.length === 3) {\n\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[2]/*bottom*/, obj[1]/*left*/];\n\t}\n\tif (obj.length === 2) {\n\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[0]/*bottom*/, obj[1]/*left*/];\n\t}\n\tif (obj.length === 1) {\n\t\treturn [obj[0]/*top*/, obj[0]/*right*/, obj[0]/*bottom*/, obj[0]/*left*/];\n\t}\n\treturn obj;\n}\n\n// Chrome 33554431\n// FireFox 17895588\n// IE 10737433\nmodule.exports = {\n\tisDef,\n\tbrowser: {\n\t\tIE,\n\t\tChrome,\n\t\tFirefox,\n\t\theightLimit: Chrome ? 33554431\n\t\t: Firefox ? 17895588\n\t\t: 10737433 // default IE limit\n\t},\n\textend,\n\tisDescendantElement,\n\tgetChainSafe,\n\tapplyChainSafe,\n\tgetOrApply,\n\tgetIgnoreCase,\n\tisPromise,\n\tthen,\n\tarray,\n\tobj: {\n\t\tsetReadonly,\n\t\teach,\n\t\tisObject,\n\t},\n\tstr: {\n\t\tendsWith,\n\t\tgenChars,\n\t\tgenWords\n\t},\n\tevent: {\n\t\tgetMouseButtons,\n\t\tgetKeyCode,\n\t\tisTouchEvent,\n\t\tcancel,\n\t},\n\tstyle: {\n\t\ttoBoxArray,\n\t},\n\temptyFn() {},\n};\n","'use strict';\n\nconst Symbol = window.Symbol ? window.Symbol : (() => {\n\tfunction random() {\n\t\tconst c = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\t\tconst cl = c.length;\n\t\tlet r = '';\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tr += c[Math.floor(Math.random() * cl)];\n\t\t}\n\t\treturn r;\n\t}\n\treturn (name) => {\n\t\tif (name) {\n\t\t\treturn `#${name}_${random()}`;\n\t\t} else {\n\t\t\treturn `#_${random()}`;\n\t\t}\n\t};\n})();\nconst mem = {};\n\nmodule.exports = {\n\tget(name) {\n\t\tif (name) {\n\t\t\treturn mem[name] ? mem[name] : (mem[name] = Symbol(name));\n\t\t} else {\n\t\t\treturn Symbol();\n\t\t}\n\t},\n\tget PROTECTED_SYMBOL() {\n\t\treturn this.get('protected');\n\t},\n\tget CHECK_COLUMN_STATE_ID() {\n\t\treturn this.get('chkcol.stateID');\n\t},\n\tget BUTTON_COLUMN_STATE_ID() {\n\t\treturn this.get('btncol.stateID');\n\t},\n\tget COLUMN_FADEIN_STATE_ID() {\n\t\treturn this.get('col.fadein_stateID');\n\t},\n\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\n\t\treturn this.get('branch_graph_col.stateID');\n\t},\n\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n\t\treturn this.get('small_dialog_input_editor.stateID');\n\t},\n\tget INLINE_INPUT_EDITOR_STATE_ID() {\n\t\treturn this.get('inline_input_editor.stateID');\n\t},\n\tget INLINE_MENU_EDITOR_STATE_ID() {\n\t\treturn this.get('inline_menu_editor.stateID');\n\t}\n};\n\n","'use strict';\n\nmodule.exports = {\n\t'Array_isArray': window.Array.isArray\n};","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\nlet defaultStyle;\nclass Style extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._color = style.color;\n\t\tthis._font = style.font;\n\t\tthis._padding = style.padding;\n\t\tthis._textOverflow = style.textOverflow || 'clip';\n\t}\n\tget color() {\n\t\treturn this._color;\n\t}\n\tset color(color) {\n\t\tthis._color = color;\n\t\tthis.doChangeStyle();\n\t}\n\tget font() {\n\t\treturn this._font;\n\t}\n\tset font(font) {\n\t\tthis._font = font;\n\t\tthis.doChangeStyle();\n\t}\n\tget padding() {\n\t\treturn this._padding;\n\t}\n\tset padding(padding) {\n\t\tthis._padding = padding;\n\t\tthis.doChangeStyle();\n\t}\n\tget textOverflow() {\n\t\treturn this._textOverflow;\n\t}\n\tset textOverflow(textOverflow) {\n\t\tthis._textOverflow = textOverflow;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new Style(this);\n\t}\n}\nmodule.exports = Style;\n","'use strict';\n\nconst {obj: {each}} = require('./utils');\nlet nextId = 1;\n\nclass EventHandler {\n\tconstructor() {\n\t\tthis._listeners = {};\n\t}\n\ton(target, type, listener, ...options) {\n\t\tif (target.addEventListener) {\n\t\t\ttarget.addEventListener(type, listener, ...options);\n\t\t}\n\t\tconst obj = {\n\t\t\ttarget, type, listener, options\n\t\t};\n\t\tconst id = nextId++;\n\t\tthis._listeners[id] = obj;\n\t\treturn id;\n\t}\n\ttryWithOffEvents(target, type, call) {\n\t\tconst list = [];\n\t\ttry {\n\t\t\teach(this._listeners, (obj) => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(obj);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcall();\n\t\t} finally {\n\t\t\tlist.forEach((obj) => {\n\t\t\t\tif (obj.target.addEventListener) {\n\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\toff(id) {\n\t\tif (!id) {\n\t\t\treturn;\n\t\t}\n\t\tconst obj = this._listeners[id];\n\t\tif (!obj) {\n\t\t\treturn;\n\t\t}\n\t\tdelete this._listeners[id];\n\t\tif (obj.target.removeEventListener) {\n\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t}\n\t}\n\tfire(target, type, ...args) {\n\t\teach(this._listeners, (obj) => {\n\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\tobj.listener.call(obj.target, ...args);\n\t\t\t}\n\t\t});\n\t}\n\thasListener(target, type) {\n\t\tlet result = false;\n\t\teach(this._listeners, (obj) => {\n\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tclear() {\n\t\teach(this._listeners, (obj) => {\n\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t}\n\t\t});\n\t\tthis._listeners = {};\n\t}\n\tdispose() {\n\t\tthis.clear();\n\t\tthis._listeners = null;\n\t}\n}\n\nmodule.exports = EventHandler;\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","'use strict';\n\nconst {\n\tisDef,\n\tbrowser,\n\tisDescendantElement,\n\tarray,\n\tisPromise,\n\tevent: {\n\t\tisTouchEvent,\n\t\tgetMouseButtons,\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t}\n} = require('../internal/utils');\n\nconst EventTarget = require('./EventTarget');\nconst Rect = require('../internal/Rect');\nconst Scrollable = require('../internal/Scrollable');\nconst EventHandler = require('../internal/EventHandler');\nconst NumberMap = require('../internal/NumberMap');\nconst style = require('../internal/style');\nconst calc = require('../internal/calc');\nconst {getFontSize} = require('../internal/canvases');\nconst hiDPI = require('../internal/hiDPI');\n//protected symbol\nconst {PROTECTED_SYMBOL: _} = require('../internal/symbolManager');\n\nfunction createRootElement() {\n\tconst element = document.createElement('div');\n\telement.classList.add('cheetah-grid');\n\treturn element;\n}\n\nconst KEY_END = 35;\nconst KEY_HOME = 36;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_ALPHA_C = 67;\n\nconst EVENT_TYPE = {\n\tCLICK_CELL: 'click_cell',\n\tDBLCLICK_CELL: 'dblclick_cell',\n\tDBLTAP_CELL: 'dbltap_cell',\n\tMOUSEDOWN_CELL: 'mousedown_cell',\n\tMOUSEUP_CELL: 'mouseup_cell',\n\tSELECTED_CELL: 'selected_cell',\n\tKEYDOWN: 'keydown',\n\tMOUSEMOVE_CELL: 'mousemove_cell',\n\tMOUSEENTER_CELL: 'mouseenter_cell',\n\tMOUSELEAVE_CELL: 'mouseleave_cell',\n\tMOUSEOVER_CELL: 'mouseover_cell',\n\tMOUSEOUT_CELL: 'mouseout_cell',\n\tINPUT_CELL: 'input_cell',\n\tEDITABLEINPUT_CELL: 'editableinput_cell',\n\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\n\tRESIZE_COLUMN: 'resize_column',\n\tSCROLL: 'scroll',\n};\n\n//private methods\nfunction _vibrate(e) {\n\tif (navigator.vibrate && isTouchEvent(e)) {\n\t\tnavigator.vibrate(50);\n\t}\n}\nfunction _getTargetRowAt(grid, absoluteY) {\n\tconst internal = grid.getTargetRowAtInternal(absoluteY);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tconst findBefore = (startRow, startBottom) => {\n\t\tlet bottom = startBottom;\n\t\tfor (let row = startRow; row >= 0; row--) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst top = bottom - height;\n\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow,\n\t\t\t\t};\n\t\t\t}\n\t\t\tbottom = top;\n\t\t}\n\t\treturn null;\n\t};\n\tconst findAfter = (startRow, startBottom) => {\n\t\tlet top = startBottom - _getRowHeight(grid, startRow);\n\t\tconst {rowCount} = grid[_];\n\t\tfor (let row = startRow; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst bottom = top + height;\n\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow,\n\t\t\t\t};\n\t\t\t}\n\t\t\ttop = bottom;\n\t\t}\n\t\treturn null;\n\t};\n\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\tconst bottom = _getRowsHeight(grid, 0, candRow);\n\tif (absoluteY >= bottom) {\n\t\treturn findAfter(candRow, bottom);\n\t} else {\n\t\treturn findBefore(candRow, bottom);\n\t}\n}\nfunction _getTargetColAt(grid, absoluteX) {\n\tlet left = 0;\n\tconst {colCount} = grid[_];\n\tfor (let col = 0; col < colCount; col++) {\n\t\tconst width = _getColWidth(grid, col);\n\t\tconst right = left + width;\n\t\tif (right > absoluteX) {\n\t\t\treturn {\n\t\t\t\tleft,\n\t\t\t\tcol,\n\t\t\t};\n\t\t}\n\t\tleft = right;\n\t}\n\treturn null;\n}\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n\tif (!grid[_].frozenRowCount) {\n\t\treturn null;\n\t}\n\tlet {top} = grid[_].scroll;\n\tconst rowCount = grid[_].frozenRowCount;\n\tfor (let row = 0; row < rowCount; row++) {\n\t\tconst height = _getRowHeight(grid, row);\n\t\tconst bottom = top + height;\n\t\tif (bottom > absoluteY) {\n\t\t\treturn {\n\t\t\t\ttop,\n\t\t\t\trow,\n\t\t\t};\n\t\t}\n\t\ttop = bottom;\n\t}\n\treturn null;\n}\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n\tif (!grid[_].frozenColCount) {\n\t\treturn null;\n\t}\n\tlet {left} = grid[_].scroll;\n\tconst colCount = grid[_].frozenColCount;\n\tfor (let col = 0; col < colCount; col++) {\n\t\tconst width = _getColWidth(grid, col);\n\t\tconst right = left + width;\n\t\tif (right > absoluteX) {\n\t\t\treturn {\n\t\t\t\tleft,\n\t\t\t\tcol,\n\t\t\t};\n\t\t}\n\t\tleft = right;\n\t}\n\treturn null;\n}\nfunction _getFrozenRowsRect(grid) {\n\tif (!grid[_].frozenRowCount) {\n\t\treturn null;\n\t}\n\tconst {top} = grid[_].scroll;\n\tlet height = 0;\n\tconst rowCount = grid[_].frozenRowCount;\n\tfor (let row = 0; row < rowCount; row++) {\n\t\theight += _getRowHeight(grid, row);\n\t}\n\treturn new Rect(\n\t\t\tgrid[_].scroll.left,\n\t\t\ttop,\n\t\t\tgrid[_].canvas.width,\n\t\t\theight\n\t);\n}\nfunction _getFrozenColsRect(grid) {\n\tif (!grid[_].frozenColCount) {\n\t\treturn null;\n\t}\n\tconst {left} = grid[_].scroll;\n\tlet width = 0;\n\tconst colCount = grid[_].frozenColCount;\n\tfor (let col = 0; col < colCount; col++) {\n\t\twidth += _getColWidth(grid, col);\n\t}\n\treturn new Rect(\n\t\t\tleft,\n\t\t\tgrid[_].scroll.top,\n\t\t\twidth,\n\t\t\tgrid[_].canvas.height\n\t);\n}\nfunction _getCellDrawing(grid, col, row) {\n\tif (!grid[_].drawCells[row]) {\n\t\treturn null;\n\t}\n\treturn grid[_].drawCells[row][col];\n}\nfunction _putCellDrawing(grid, col, row, context) {\n\tif (!grid[_].drawCells[row]) {\n\t\tgrid[_].drawCells[row] = {};\n\t}\n\tgrid[_].drawCells[row][col] = context;\n}\nfunction _removeCellDrawing(grid, col, row) {\n\tif (!grid[_].drawCells[row]) {\n\t\treturn;\n\t}\n\tdelete grid[_].drawCells[row][col];\n\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\n\t\tdelete grid[_].drawCells[row];\n\t}\n}\nfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\tskipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n\tconst rect = new Rect(\n\t\t\tabsoluteLeft - visibleRect.left,\n\t\t\tabsoluteTop - visibleRect.top,\n\t\t\twidth,\n\t\t\theight\n\t);\n\n\tconst drawRect = Rect.bounds(\n\t\t\tMath.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left,\n\t\t\tMath.max(absoluteTop, skipAbsoluteTop) - visibleRect.top,\n\t\t\trect.right,\n\t\t\trect.bottom\n\t);\n\n\tif (drawRect.height > 0 && drawRect.width > 0) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst cellDrawing = _getCellDrawing(grid, col, row);\n\t\t\tif (cellDrawing) {\n\t\t\t\tcellDrawing.cancel();\n\t\t\t}\n\t\t\tconst dcContext = new DrawCellContext(\n\t\t\t\t\tcol, row,\n\t\t\t\t\tctx, rect, drawRect,\n\t\t\t\t\t!!cellDrawing,\n\t\t\t\t\tgrid[_].selection,\n\t\t\t\t\tdrawLayers\n\t\t\t);\n\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\n\t\t\tif (isPromise(p)) {\n\t\t\t\t//\n\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\n\n\t\t\t\tconst pCol = col;\n\t\t\t\tdcContext._delayMode(grid, () => {\n\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\n\t\t\t\t});\n\t\t\t\tp.then(() => {\n\t\t\t\t\tdcContext.terminate();\n\t\t\t\t});\n\t\t\t}\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n}\n\nfunction _drawRow(grid, ctx, initFrozenCol, initCol,\n\t\tdrawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n\tconst {colCount} = grid[_];\n\tconst drawOuter = (col, absoluteLeft) => {\n\t\t//\n\t\tif (col >= (colCount - 1) && grid[_].canvas.width > (absoluteLeft - visibleRect.left)) {\n\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n\t\t\tctx.fill();\n\t\t\tctx.restore();\n\t\t}\n\t};\n\n\tlet skipAbsoluteLeft = 0;\n\tif (initFrozenCol) {\n\t\tlet absoluteLeft = initFrozenCol.left;\n\t\tconst count = grid[_].frozenColCount;\n\t\tfor (let {col} = initFrozenCol; col < count; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\t\t\tskipAbsoluteTop, 0,\n\t\t\t\t\tdrawLayers);\n\n\t\t\tabsoluteLeft += width;\n\t\t\tif (drawRight <= absoluteLeft) { //\n\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tskipAbsoluteLeft = absoluteLeft;\n\t}\n\n\tlet absoluteLeft = initCol.left;\n\tfor (let {col} = initCol; col < colCount; col++) {\n\t\tconst width = _getColWidth(grid, col);\n\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\t\tskipAbsoluteTop, skipAbsoluteLeft,\n\t\t\t\tdrawLayers);\n\n\t\tabsoluteLeft += width;\n\t\tif (drawRight <= absoluteLeft) { //\n\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\treturn;\n\t\t}\n\t}\n\tdrawOuter(colCount - 1, absoluteLeft);\n\n}\nfunction _invalidateRect(grid, drawRect) {\n\tconst visibleRect = _getVisibleRect(grid);\n\tconst {rowCount} = grid[_];\n\tconst ctx = grid._getInitContext();\n\n\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\n\t\trow: rowCount\n\t};\n\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\n\t\tcol: grid[_].colCount\n\t};\n\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\n\n\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n\tconst drawLayers = new DrawLayers();\n\n\tconst drawOuter = (row, absoluteTop) => {\n\t\t//\n\t\tif (row >= (rowCount - 1) && grid[_].canvas.height > (absoluteTop - visibleRect.top)) {\n\t\t\tconst outerTop = absoluteTop - visibleRect.top;\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n\t\t\tctx.fill();\n\t\t\tctx.restore();\n\t\t}\n\t};\n\n\tlet skipAbsoluteTop = 0;\n\tif (initFrozenRow) {\n\t\tlet absoluteTop = initFrozenRow.top;\n\t\tconst count = grid[_].frozenRowCount;\n\t\tfor (let {row} = initFrozenRow; row < count; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t_drawRow(grid,\n\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\n\t\t\t\t\trow, absoluteTop, height, visibleRect, 0,\n\t\t\t\t\tdrawLayers\n\t\t\t);\n\t\t\tabsoluteTop += height;\n\t\t\tif (drawBottom <= absoluteTop) { //\n\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tskipAbsoluteTop = absoluteTop;\n\t}\n\n\tlet absoluteTop = initRow.top;\n\tfor (let {row} = initRow; row < rowCount; row++) {\n\t\tconst height = _getRowHeight(grid, row);\n\n\t\t//\n\t\t_drawRow(grid,\n\t\t\t\tctx, initFrozenCol, initCol, drawRight,\n\t\t\t\trow, absoluteTop, height, visibleRect, skipAbsoluteTop,\n\t\t\t\tdrawLayers\n\t\t);\n\n\t\tabsoluteTop += height;\n\t\tif (drawBottom <= absoluteTop) { //\n\t\t\tdrawOuter(row, absoluteTop);\n\t\t\tdrawLayers.draw(ctx);\n\t\t\treturn;\n\t\t}\n\t}\n\tdrawOuter(rowCount - 1, absoluteTop);\n\n\tdrawLayers.draw(ctx);\n}\n\nfunction _toPxWidth(grid, width) {\n\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n\nfunction _getDefaultColPxWidth(grid) {\n\treturn _toPxWidth(grid, grid.defaultColWidth);\n}\n\nfunction _adjustColWidth(grid, col, orgWidth) {\n\tconst limit = grid[_].colWidthsLimit[col];\n\tif (!limit) {\n\t\treturn orgWidth;\n\t}\n\n\tif (limit.min) {\n\t\tconst min = _toPxWidth(grid, limit.min);\n\t\tif (min > orgWidth) {\n\t\t\treturn min;\n\t\t}\n\t}\n\tif (limit.max) {\n\t\tconst max = _toPxWidth(grid, limit.max);\n\t\tif (max < orgWidth) {\n\t\t\treturn max;\n\t\t}\n\t}\n\treturn orgWidth;\n}\n\nfunction _getColWidth(grid, col) {\n\tconst width = grid[_].colWidthsMap.get(col);\n\tif (width) {\n\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\n\t}\n\treturn _getDefaultColPxWidth(grid);\n}\nfunction _setColWidth(grid, col, width) {\n\tgrid[_].colWidthsMap.put(col, width);\n}\nfunction _getColsWidth(grid, startCol, endCol) {\n\tconst colCount = endCol - startCol + 1;\n\tlet w = _getDefaultColPxWidth(grid) * colCount;\n\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t});\n\treturn w;\n}\n\nfunction _getRowHeight(grid, row) {\n\tconst internal = grid.getRowHeightInternal(row);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tconst height = grid[_].rowHeightsMap.get(row);\n\tif (height) {\n\t\treturn height;\n\t}\n\treturn grid[_].defaultRowHeight;\n}\nfunction _setRowHeight(grid, row, height) {\n\tgrid[_].rowHeightsMap.put(row, height);\n}\nfunction _getRowsHeight(grid, startRow, endRow) {\n\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tconst rowCount = endRow - startRow + 1;\n\tlet h = grid[_].defaultRowHeight * rowCount;\n\tgrid[_].rowHeightsMap.each(startRow, endRow, (height) => {\n\t\th += height - grid[_].defaultRowHeight;\n\t});\n\treturn h;\n}\n\nfunction _getScrollWidth(grid) {\n\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\tgrid[_].colWidthsMap.eachAll((width, col) => {\n\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t});\n\treturn w;\n}\nfunction _getScrollHeight(grid, row) {\n\tconst internal = grid.getScrollHeightInternal(row);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\n\tgrid[_].rowHeightsMap.eachAll((height) => {\n\t\th += height - grid[_].defaultRowHeight;\n\t});\n\treturn h;\n}\nfunction _onScroll(grid, e) {\n\tconst lastLeft = grid[_].scroll.left;\n\tconst lastTop = grid[_].scroll.top;\n\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\n\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\n\n\t//\n\tgrid[_].scroll = {\n\t\tleft: grid[_].scrollable.scrollLeft,\n\t\ttop: grid[_].scrollable.scrollTop,\n\t};\n\tconst visibleRect = _getVisibleRect(grid);\n\tif ((Math.abs(moveX) >= visibleRect.width) || (Math.abs(moveY) >= visibleRect.height)) {\n\t\t//\n\t\t_invalidateRect(grid, visibleRect);\n\t} else {\n\t\t//\n\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n\n\t\tif (moveX !== 0) {\n\t\t\t//\n\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\tif (moveX < 0) {\n\t\t\t\tredrawRect.width = -moveX;\n\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\t\t\tredrawRect.width += frozenRect.width;\n\t\t\t\t}\n\t\t\t} else if (moveX > 0) {\n\t\t\t\tredrawRect.left = redrawRect.right - moveX;\n\t\t\t}\n\n\t\t\t//\n\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\tif (moveX > 0) {\n\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (moveY !== 0) {\n\t\t\t//\n\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\tif (moveY < 0) {\n\t\t\t\tredrawRect.height = -moveY;\n\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\t\t\tredrawRect.height += frozenRect.height;\n\t\t\t\t}\n\t\t\t} else if (moveY > 0) {\n\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\n\t\t\t}\n\n\t\t\t//\n\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\tif (moveY > 0) {\n\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _onKeyDownMove(grid, e) {\n\tconst {shiftKey} = e;\n\tconst keyCode = getKeyCode(e);\n\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\tif (keyCode === KEY_LEFT) {\n\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\t\tif (col < 0) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_UP) {\n\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\t\tif (row < 0) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_RIGHT) {\n\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\t\tif (grid.colCount <= col) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_DOWN) {\n\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\t\tif (grid.rowCount <= row) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_HOME) {\n\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\n\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_END) {\n\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\t\tcancelEvent(e);\n\t}\n}\nfunction _moveFocusCell(grid, col, row, shiftKey) {\n\tconst offset = grid.getOffsetInvalidateCells();\n\n\tfunction extendRange(range) {\n\t\tif (offset > 0) {\n\t\t\trange.start.col -= offset;\n\t\t\trange.start.row -= offset;\n\t\t\trange.end.col += offset;\n\t\t\trange.end.row += offset;\n\t\t}\n\t\treturn range;\n\t}\n\n\tconst beforeRange = extendRange(grid.selection.range);\n\tconst beforeRect = grid.getCellsRect(\n\t\t\tbeforeRange.start.col, beforeRange.start.row,\n\t\t\tbeforeRange.end.col, beforeRange.end.row\n\t);\n\n\tgrid.selection._setFocusCell(col, row, shiftKey);\n\tgrid.makeVisibleCell(col, row);\n\tgrid.focusCell(col, row);\n\n\tconst afterRange = extendRange(grid.selection.range);\n\tconst afterRect = grid.getCellsRect(\n\t\t\tafterRange.start.col, afterRange.start.row,\n\t\t\tafterRange.end.col, afterRange.end.row\n\t);\n\n\tif (afterRect.intersection(beforeRect)) {\n\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\n\t\t_invalidateRect(grid, invalidateRect);\n\t} else {\n\t\t_invalidateRect(grid, beforeRect);\n\t\t_invalidateRect(grid, afterRect);\n\t}\n}\nfunction _getMouseAbstractPoint(grid, e) {\n\tif (isTouchEvent(e)) {\n\t\te = e.changedTouches[0];\n\t}\n\tconst clientX = e.clientX || (e.pageX + window.scrollX);\n\tconst clientY = e.clientY || (e.pageY + window.scrollY);\n\tconst rect = grid[_].canvas.getBoundingClientRect();\n\tif (rect.right <= clientX) {\n\t\treturn null;\n\t}\n\tif (rect.bottom <= clientY) {\n\t\treturn null;\n\t}\n\tconst x = clientX - rect.left + grid[_].scroll.left;\n\tconst y = clientY - rect.top + grid[_].scroll.top;\n\treturn {x, y};\n}\n\nfunction _bindEvents(grid) {\n\tconst getCellEventArgsSet = (e) => {\n\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\tif (!abstractPos) {\n\t\t\treturn {};\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\treturn {\n\t\t\t\tabstractPos,\n\t\t\t\tcell\n\t\t\t};\n\t\t}\n\t\tconst eventArgs = {\n\t\t\tcol: cell.col,\n\t\t\trow: cell.row,\n\t\t\tevent: e,\n\t\t};\n\t\treturn {\n\t\t\tabstractPos,\n\t\t\tcell,\n\t\t\teventArgs\n\t\t};\n\t};\n\tconst canResizeColumn = (col) => {\n\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\tif (!limit || !limit.min || !limit.max) {\n\t\t\treturn true;\n\t\t}\n\t\treturn limit.max !== limit.min;\n\t};\n\tgrid[_].handler.on(grid[_].element, 'mousedown', (e) => {\n\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\tconst {abstractPos, eventArgs} = eventArgsSet;\n\t\tif (!abstractPos) {\n\t\t\treturn;\n\t\t}\n\t\tif (eventArgs) {\n\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (getMouseButtons(e) !== 1) {\n\t\t\treturn;\n\t\t}\n\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t//\n\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t} else {\n\t\t\t//\n\t\t\tgrid[_].cellSelector.start(e);\n\t\t}\n\t});\n\tlet doubleTapBefore = null;\n\tlet longTouchId = null;\n\tgrid[_].handler.on(grid[_].element, 'touchstart', (e) => {\n\n\t\tif (!doubleTapBefore) {\n\t\t\tdoubleTapBefore = getCellEventArgsSet(e).eventArgs;\n\t\t\tsetTimeout(() => {\n\t\t\t\tdoubleTapBefore = null;\n\t\t\t}, 350);\n\t\t} else {\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\t\tif (eventArgs &&\n\t\t\t\t\teventArgs.col === doubleTapBefore.col &&\n\t\t\t\t\teventArgs.row === doubleTapBefore.row) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, eventArgs);\n\t\t\t}\n\n\t\t\tdoubleTapBefore = null;\n\n\t\t\tif (e.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tlongTouchId = setTimeout(() => {\n\t\t\t//\n\t\t\tlongTouchId = null;\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t//\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t}\n\t\t}, 500);\n\t});\n\n\tfunction cancel(e) {\n\t\tif (longTouchId) {\n\t\t\tclearTimeout(longTouchId);\n\t\t\tlongTouchId = null;\n\t\t}\n\t}\n\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\n\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\n\tgrid[_].handler.on(grid[_].element, 'touchend', (e) => {\n\t\tif (longTouchId) {\n\t\t\tclearTimeout(longTouchId);\n\t\t\tgrid[_].cellSelector.select(e);\n\t\t\tlongTouchId = null;\n\t\t}\n\t});\n\n\tlet isMouseover = false;\n\tlet mouseEnterCell = null;\n\tlet mouseOverCell = null;\n\tfunction onMouseenterCell(cell) {\n\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\n\t\tmouseEnterCell = cell;\n\t}\n\tfunction onMouseleaveCell() {\n\t\tconst beforeMouseCell = mouseEnterCell;\n\t\tmouseEnterCell = null;\n\t\tif (beforeMouseCell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\n\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\trow: beforeMouseCell.row,\n\t\t\t});\n\t\t}\n\t}\n\tfunction onMouseoverCell(cell) {\n\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\n\t\tmouseOverCell = cell;\n\t}\n\tfunction onMouseoutCell() {\n\t\tconst beforeMouseCell = mouseOverCell;\n\t\tmouseOverCell = null;\n\t\tif (beforeMouseCell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\n\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\trow: beforeMouseCell.row,\n\t\t\t});\n\t\t}\n\t}\n\tconst scrollElement = grid[_].scrollable.getElement();\n\tgrid[_].handler.on(scrollElement, 'mouseover', (e) => {\n\t\tisMouseover = true;\n\t});\n\tgrid[_].handler.on(scrollElement, 'mouseout', (e) => {\n\t\tisMouseover = false;\n\t\tonMouseoutCell();\n\t});\n\n\tgrid[_].handler.on(grid[_].element, 'mouseleave', (e) => {\n\t\tonMouseleaveCell();\n\t});\n\n\tgrid[_].handler.on(grid[_].element, 'mousemove', (e) => {\n\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\tconst {abstractPos, eventArgs} = eventArgsSet;\n\t\tif (eventArgs) {\n\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n\t\t\t\t\tonMouseoutCell();\n\t\t\t\t\tonMouseleaveCell();\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t};\n\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t}\n\t\t\t\t} else if (isMouseover && !mouseOverCell) {\n\t\t\t\t\tonMouseoverCell({\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst cell = {\n\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t};\n\t\t\t\tonMouseenterCell(cell);\n\t\t\t\tif (isMouseover) {\n\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t}\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t}\n\t\t} else {\n\t\t\tonMouseoutCell();\n\t\t\tonMouseleaveCell();\n\t\t}\n\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {style} = grid[_].element;\n\t\tif (!abstractPos) {\n\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\tstyle.cursor = '';\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\tstyle.cursor = 'col-resize';\n\t\t} else {\n\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\tstyle.cursor = '';\n\t\t\t}\n\t\t}\n\t});\n\tgrid[_].handler.on(grid[_].element, 'click', (e) => {\n\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n\t\t\treturn;\n\t\t}\n\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\tif (!eventArgs) {\n\t\t\treturn;\n\t\t}\n\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\n\t});\n\tgrid[_].handler.on(grid[_].element, 'dblclick', (e) => {\n\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\tif (!eventArgs) {\n\t\t\treturn;\n\t\t}\n\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n\t});\n\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\n\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\n\t});\n\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, (data) => {\n\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, data, data.selected);\n\t});\n\n\tgrid[_].scrollable.onScroll((e) => {\n\t\t_onScroll(grid, e);\n\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, {event: e});\n\t});\n\tgrid[_].focusControl.onKeyDownMove((e) => {\n\t\t_onKeyDownMove(grid, e);\n\t});\n\tgrid.listen('copydata', (range) => {\n\t\tlet copyValue = '';\n\t\tfor (let {row} = range.start; row <= range.end.row; row++) {\n\t\t\tfor (let {col} = range.start; col <= range.end.col; col++) {\n\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\n\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\n\t\t\t\t\t//\n\t\t\t\t} else {\n\t\t\t\t\tconst strCellValue = `${copyCellValue}`;\n\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\n\t\t\t\t\t\t//object \n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopyValue += strCellValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (col < range.end.col) {\n\t\t\t\t\tcopyValue += '\\t';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcopyValue += '\\n';\n\t\t}\n\t\treturn copyValue;\n\t});\n\tgrid[_].focusControl.onCopy((e) => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\tgrid[_].focusControl.onInput((value) => {\n\t\tconst {col, row} = grid[_].selection.select;\n\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, {col, row, value});\n\t});\n\tgrid.bindEventsInternal();\n}\n\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n\tif (grid[_].frozenRowCount <= 0) {\n\t\treturn -1;\n\t}\n\tconst frozenRect = _getFrozenRowsRect(grid);\n\tif (!frozenRect.inPoint(abstractX, abstractY)) {\n\t\treturn -1;\n\t}\n\tconst cell = grid.getCellAt(abstractX, abstractY);\n\tconst cellRect = grid.getCellRect(cell.col, cell.row);\n\tif (abstractX < cellRect.left + offset) {\n\t\treturn cell.col - 1;\n\t}\n\tif (cellRect.right - offset < abstractX) {\n\t\treturn cell.col;\n\t}\n\treturn -1;\n}\nfunction _getVisibleRect(grid) {\n\treturn new Rect(\n\t\t\tgrid[_].scroll.left,\n\t\t\tgrid[_].scroll.top,\n\t\t\tgrid[_].canvas.width,\n\t\t\tgrid[_].canvas.height\n\t);\n}\nfunction _getScrollableVisibleRect(grid) {\n\tlet frozenColsWidth = 0;\n\tif (grid[_].frozenColCount > 0) {\n\t\t//\n\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\tfrozenColsWidth = frozenRect.width;\n\t}\n\tlet frozenRowsHeight = 0;\n\tif (grid[_].frozenRowCount > 0) {\n\t\t//\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\tfrozenRowsHeight = frozenRect.height;\n\t}\n\treturn new Rect(\n\t\t\tgrid[_].scroll.left + frozenColsWidth,\n\t\t\tgrid[_].scroll.top + frozenRowsHeight,\n\t\t\tgrid[_].canvas.width - frozenColsWidth,\n\t\t\tgrid[_].canvas.height - frozenRowsHeight\n\t);\n}\n\nfunction _toRelativeRect(grid, absoluteRect) {\n\tconst rect = absoluteRect.copy();\n\tconst visibleRect = _getVisibleRect(grid);\n\trect.offsetLeft(-visibleRect.left);\n\trect.offsetTop(-visibleRect.top);\n\n\treturn rect;\n}\n//end private methods\n//\n//\n//\n//\n\n/**\n * managing mouse down moving\n * @private\n */\nclass BaseMouseDownMover {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t\tthis._handler = new EventHandler();\n\t\tthis._events = {};\n\t\tthis._started = false;\n\t\tthis._moved = false;\n\t}\n\tmoving(e) {\n\t\treturn !!this._started;\n\t}\n\tlastMoving(e) {\n\t\t// mouseupclick\n\t\tif (this.moving(e)) {\n\t\t\treturn true;\n\t\t}\n\t\tconst last = this._mouseEndPoint;\n\t\tif (!last) {\n\t\t\treturn false;\n\t\t}\n\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\n\t\treturn pt.x === last.x && pt.y === last.y;\n\t}\n\t_bindMoveAndUp(e) {\n\t\tif (!isTouchEvent(e)) {\n\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', (e) => this._mouseMove(e));\n\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', (e) => this._mouseUp(e));\n\t\t} else {\n\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', (e) => this._mouseMove(e), {passive: false});\n\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', (e) => this._mouseUp(e));\n\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', (e) => this._mouseUp(e));\n\t\t}\n\t\tthis._started = true;\n\t\tthis._moved = false;\n\t}\n\t_mouseMove(e) {\n\t\tif (!isTouchEvent(e)) {\n\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\tthis._mouseUp(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis._moved = this._moveInternal(e) || this._moved/*calculation on after*/;\n\n\t\tcancelEvent(e);\n\t}\n\t_moveInternal(e) {\n\t\t//protected\n\t}\n\t_mouseUp(e) {\n\t\tthis._handler.off(this._events.mousemove);\n\t\tthis._handler.off(this._events.touchmove);\n\t\tthis._handler.off(this._events.mouseup);\n\t\tthis._handler.off(this._events.touchend);\n\t\t// this._handler.off(this._events.mouseleave);\n\t\tthis._handler.off(this._events.touchcancel);\n\n\t\tthis._started = false;\n\n\t\tthis._upInternal(e);\n\n\t\t// mouseupclick\n\t\tif (this._moved) { //\n\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._mouseEndPoint = null;\n\t\t\t}, 10);\n\t\t}\n\t}\n\t_upInternal(e) {\n\t\t//protected\n\t}\n\tdispose() {\n\t\tthis._handler.dispose();\n\t}\n}\n\n/**\n * managing cell selection operation with mouse\n * @private\n */\nclass CellSelector extends BaseMouseDownMover {\n\tstart(e) {\n\t\tconst cell = this._getTargetCell(e);\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n\t\tthis._bindMoveAndUp(e);\n\n\t\tthis._cell = cell;\n\n\t\tcancelEvent(e);\n\t\t_vibrate(e);\n\t}\n\tselect(e) {\n\t\tconst cell = this._getTargetCell(e);\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\t\tthis._cell = cell;\n\t}\n\t_moveInternal(e) {\n\t\tconst cell = this._getTargetCell(e);\n\t\tif (!cell || (this._cell.col === cell.col && this._cell.row === cell.row)) {\n\t\t\treturn false;\n\t\t}\n\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\n\n\t\t//make visible\n\t\tconst makeVisibleCol = (() => {\n\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\n\t\t\t\t// move left\n\t\t\t\treturn cell.col - 1;\n\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\n\t\t\t\t// move right\n\t\t\t\treturn cell.col + 1;\n\t\t\t}\n\t\t\treturn cell.col;\n\t\t})();\n\t\tconst makeVisibleRow = (() => {\n\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\n\t\t\t\t// move up\n\t\t\t\treturn cell.row - 1;\n\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\n\t\t\t\t// move down\n\t\t\t\treturn cell.row + 1;\n\t\t\t}\n\t\t\treturn cell.row;\n\t\t})();\n\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\n\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n\t\t}\n\t\tthis._cell = cell;\n\t\treturn true;\n\t}\n\t_getTargetCell(e) {\n\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\n\t\tif (!abstractPos) {\n\t\t\treturn null;\n\t\t}\n\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn cell;\n\t}\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\nclass ColumnResizer extends BaseMouseDownMover {\n\tconstructor(grid) {\n\t\tsuper(grid);\n\t\tthis._targetCol = -1;\n\t}\n\tstart(col, e) {\n\t\tlet pageX;\n\t\tif (!isTouchEvent(e)) {\n\t\t\t({pageX} = e);\n\t\t} else {\n\t\t\t({pageX} = e.changedTouches[0]);\n\t\t}\n\n\t\tthis._x = pageX;\n\t\tthis._preX = 0;\n\n\t\tthis._bindMoveAndUp(e);\n\n\t\tthis._targetCol = col;\n\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n\n\t\tcancelEvent(e);\n\t\t_vibrate(e);\n\t}\n\t_moveInternal(e) {\n\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n\n\t\tconst x = pageX - this._x;\n\t\tconst moveX = x - this._preX;\n\t\tthis._preX = x;\n\t\tconst pre = this._grid.getColWidth(this._targetCol);\n\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\t\tif (afterSize < 10 && moveX < 0) {\n\t\t\tafterSize = 10;\n\t\t}\n\t\t_setColWidth(this._grid, this._targetCol, afterSize);\n\n\t\tconst rect = _getVisibleRect(this._grid);\n\t\trect.left = this._invalidateAbsoluteLeft;\n\t\t_invalidateRect(this._grid, rect);\n\n\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, {col: this._targetCol});\n\n\t\treturn true;\n\t}\n\t_upInternal(e) {\n\t\tconst grid = this._grid;\n\t\tif (grid.updateScroll()) {\n\t\t\tgrid.invalidate();\n\t\t}\n\t}\n}\n\nfunction setSafeInputValue(input, value) {\n\tconst {type} = input;\n\tinput.type = '';\n\tinput.value = value;\n\tif (type) {\n\t\tinput.type = type;\n\t}\n}\n\n/**\n * Manage focus\n * @private\n */\nclass FocusControl extends EventTarget {\n\tconstructor(grid, parentElement, scrollable) {\n\t\tsuper();\n\t\tthis._grid = grid;\n\t\tthis._scrollable = scrollable;\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = document.createElement('input');\n\t\tthis._input.classList.add('grid-focus-control');\n\t\tthis._input.readOnly = true;\n\t\tparentElement.appendChild(this._input);\n\n\t\tthis._handler.on(this._input, 'compositionstart', (e) => {\n\t\t\tthis._input.classList.add('composition');\n\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\n\t\t\tthis._isComposition = true;\n\t\t\tif (this._compositionEnd) {\n\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\tdelete this._compositionEnd;\n\t\t\t}\n\t\t\tgrid.focus();\n\t\t});\n\n\t\tconst handleCompositionEnd = () => {\n\t\t\tthis._isComposition = false;\n\t\t\tthis._input.classList.remove('composition');\n\t\t\tthis._input.style.font = '';\n\t\t\tconst {value} = this._input;\n\n\t\t\tsetSafeInputValue(this._input, '');\n\n\t\t\tif (!this._input.readOnly) {\n\t\t\t\tthis.fireListeners('input', value);\n\t\t\t}\n\n\t\t\tif (this._compositionEnd) {\n\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\tdelete this._compositionEnd;\n\t\t\t}\n\t\t};\n\t\tthis._handler.on(this._input, 'compositionend', (e) => {\n\t\t\tthis._compositionEnd = setTimeout(handleCompositionEnd);\n\t\t});\n\t\tthis._handler.on(this._input, 'keypress', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\n\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t//copy! for Firefox\n\t\t\t\t} else {\n\t\t\t\t\tthis.fireListeners('input', e.key);\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetSafeInputValue(this._input, '');\n\t\t});\n\t\tthis._handler.on(this._input, 'keydown', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tthis.fireListeners('keydown', keyCode, e);\n\n\t\t\tif (!this._input.readOnly && this._input.value) {\n\t\t\t\t// for Safari\n\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t}\n\n\t\t\tsetSafeInputValue(this._input, '');\n\t\t});\n\t\tconst inputClear = (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetSafeInputValue(this._input, '');\n\t\t};\n\t\tthis._handler.on(this._input, 'keyup', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t}\n\t\t\t}\n\t\t\tinputClear(e);\n\t\t});\n\n\t\tthis._handler.on(this._input, 'input', inputClear);\n\t\tthis._handler.on(document, 'keydown', (e) => {\n\t\t\tif (!browser.IE) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.target !== this._input) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n\t\t\t\tsetSafeInputValue(this._input, 'dummy');\n\t\t\t\tthis._input.select();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t});\n\t\tthis._handler.on(document, 'copy', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetSafeInputValue(this._input, '');\n\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\n\t\t\tif (isDef(data)) {\n\t\t\t\tcancelEvent(e);\n\t\t\t\tif (browser.IE) {\n\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\n\t\t\t\t} else {\n\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tonKeyDownMove(fn) {\n\t\tthis._handler.on(this._input, 'keydown', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_LEFT ||\n\t\t\t\t\tkeyCode === KEY_UP ||\n\t\t\t\t\tkeyCode === KEY_RIGHT ||\n\t\t\t\t\tkeyCode === KEY_DOWN ||\n\t\t\t\t\tkeyCode === KEY_HOME ||\n\t\t\t\t\tkeyCode === KEY_END\n\t\t\t) {\n\t\t\t\tfn(e);\n\t\t\t}\n\t\t});\n\t}\n\tonInput(fn) {\n\t\treturn this.listen('input', fn);\n\t}\n\tonCopy(fn) {\n\t\treturn this.listen('copy', fn);\n\t}\n\tfocus() {\n\t\t// this._input.value = '';\n\t\tthis._input.focus();\n\t}\n\tsetFocusRect(rect) {\n\t\tconst top = this._scrollable.calcTop(rect.top);\n\t\tthis._input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`;//position:relative IE position:relative\n\t\tthis._input.style.left = `${rect.left.toFixed()}px`;\n\t\tthis._input.style.width = `${rect.width.toFixed()}px`;\n\t\tthis._input.style.height = `${rect.height.toFixed()}px`;\n\t}\n\tset editMode(editMode) {\n\t\tthis._input.readOnly = !editMode;\n\t}\n\tresetInputStatus() {\n\t\tconst el = this._input;\n\t\tconst composition = el.classList.contains('composition');\n\n\t\tconst atts = el.attributes;\n\t\tconst removeNames = [];\n\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\tconst att = atts[i];\n\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n\t\t\t\tremoveNames.push(att.name);\n\t\t\t}\n\t\t}\n\t\tremoveNames.forEach((removeName) => {\n\t\t\tel.removeAttribute(removeName);\n\t\t});\n\t\tfor (const name in this._inputStatus) {\n\t\t\tel.setAttribute(name, this._inputStatus[name]);\n\t\t}\n\t\tif (composition) {\n\t\t\tel.classList.add('composition');\n\t\t\tel.style.font = this._grid.font || '16px sans-serif';\n\t\t} else {\n\t\t\tel.classList.remove('composition');\n\t\t}\n\t}\n\tstoreInputStatus() {\n\t\tconst el = this._input;\n\t\tthis._inputStatus = {};\n\t\tconst atts = el.attributes;\n\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\tconst att = atts[i];\n\t\t\tthis._inputStatus[att.name] = att.value;\n\t\t}\n\t}\n\tsetDefaultInputStatus() {\n\t\t// \n\t\t// this._input.style.font = this._grid.font || '16px sans-serif';\n\t}\n\tget editMode() {\n\t\treturn !this._input.readOnly;\n\t}\n\tget input() {\n\t\treturn this._input;\n\t}\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._handler.dispose();\n\t}\n}\n\n/**\n * Selected area management\n */\nclass Selection extends EventTarget {\n\tconstructor(grid) {\n\t\tsuper();\n\t\tthis._grid = grid;\n\n\t\tthis._sel = {col: 0, row: 0};\n\t\tthis._focus = {col: 0, row: 0};\n\n\t\tthis._start = {col: 0, row: 0};\n\t\tthis._end = {col: 0, row: 0};\n\t}\n\tget range() {\n\t\tconst startCol = Math.min(this._start.col, this._end.col);\n\t\tconst startRow = Math.min(this._start.row, this._end.row);\n\t\tconst endCol = Math.max(this._start.col, this._end.col);\n\t\tconst endRow = Math.max(this._start.row, this._end.row);\n\t\treturn {\n\t\t\tstart: {\n\t\t\t\tcol: startCol,\n\t\t\t\trow: startRow,\n\t\t\t},\n\t\t\tend: {\n\t\t\t\tcol: endCol,\n\t\t\t\trow: endRow,\n\t\t\t},\n\t\t\tinCell(col, row) {\n\t\t\t\treturn startCol <= col && col <= endCol &&\n\t\t\t\t\t\tstartRow <= row && row <= endRow;\n\t\t\t},\n\t\t};\n\t}\n\tget focus() {\n\t\tconst {col, row} = this._focus;\n\t\treturn {col, row};\n\t}\n\tget select() {\n\t\tconst {col, row} = this._sel;\n\t\treturn {col, row};\n\t}\n\tset select(cell = {}) {\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tconst {\n\t\t\t\tcol = 0,\n\t\t\t\trow = 0\n\t\t\t} = cell;\n\t\t\tthis._setSelectCell(col, row);\n\t\t\tthis._setFocusCell(col, row, true);\n\t\t});\n\t}\n\t_setSelectCell(col, row) {\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tthis._sel = {col, row};\n\t\t\tthis._start = {col, row};\n\t\t});\n\t}\n\t_setFocusCell(col, row, keepSelect) {\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tif (!keepSelect) {\n\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t}\n\t\t\tthis._focus = {col, row};\n\t\t\tthis._end = {col, row};\n\t\t});\n\t}\n\t_wrapFireSelectedEvent(callback) {\n\t\tif (this._isWraped) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tthis._isWraped = true;\n\t\t\ttry {\n\t\t\t\tconst before = {\n\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\tselected: false,\n\t\t\t\t};\n\t\t\t\tcallback();\n\t\t\t\tconst after = {\n\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\tselected: true,\n\t\t\t\t\tbefore: {\n\t\t\t\t\t\tcol: before.col,\n\t\t\t\t\t\trow: before.row,\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tbefore.after = {\n\t\t\t\t\tcol: after.col,\n\t\t\t\t\trow: after.row,\n\t\t\t\t};\n\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\n\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, after);\n\t\t\t} finally {\n\t\t\t\tthis._isWraped = false;\n\t\t\t}\n\t\t}\n\t}\n\t_updateGridRange() {\n\t\tconst {rowCount, colCount} = this._grid;\n\t\tconst points = [this._sel, this._focus, this._start, this._end];\n\t\tlet needChange = false;\n\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\tif (colCount <= points[i].col || rowCount <= points[i].row) {\n\t\t\t\tneedChange = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!needChange) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tpoints.forEach((p) => {\n\t\t\t\tp.col = Math.min(colCount - 1, p.col);\n\t\t\t\tp.row = Math.min(rowCount - 1, p.row);\n\t\t\t});\n\t\t});\n\t\treturn true;\n\t}\n}\n\n/**\n * This class manages the drawing process for each layer\n */\nclass DrawLayers {\n\tconstructor() {\n\t\tthis._layers = {};\n\t}\n\taddDraw(level, fn) {\n\t\tconst l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n\t\tl.addDraw(fn);\n\t}\n\tdraw(ctx) {\n\t\tconst list = [];\n\t\tfor (const k in this._layers) {\n\t\t\tlist.push(this._layers[k]);\n\t\t}\n\t\tlist.sort((a, b) => a.level - b.level);\n\t\tlist.forEach((l) => l.draw(ctx));\n\t}\n}\nclass DrawLayer {\n\tconstructor(level) {\n\t\tthis._level = level;\n\t\tthis._list = [];\n\t}\n\tget level() {\n\t\treturn this._level;\n\t}\n\taddDraw(fn) {\n\t\tthis._list.push(fn);\n\t}\n\tdraw(ctx) {\n\t\tthis._list.forEach((fn) => {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tfn(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t});\n\t}\n}\n/**\n * Context of cell drawing\n */\nclass DrawCellContext {\n\t/**\n\t * constructor\n\t * @param {number} col index of column\n\t * @param {number} row index of row\n\t * @param {CanvasRenderingContext2D} ctx context\n\t * @param {Rect} rect rect of cell area\n\t * @param {Rect} drawRect rect of drawing area\n\t * @param {boolean} drawing `true` if drawing is in progress\n\t * @param {object} selection the selection\n\t * @param {Array} drawLayers array of draw layers\n\t * @private\n\t */\n\tconstructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n\t\tthis._col = col;\n\t\tthis._row = row;\n\t\tthis._mode = 0;\n\t\tthis._ctx = ctx;\n\t\tthis._rect = rect;\n\t\tthis._drawRect = drawRect;\n\t\tthis._drawing = drawing;\n\t\tthis._selection = selection;\n\t\tthis._drawLayers = drawLayers;\n\t\tthis._childContexts = [];\n\t}\n\tget drawing() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this._drawing;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\tget row() {\n\t\treturn this._row;\n\t}\n\tget col() {\n\t\treturn this._col;\n\t}\n\tcancel() {\n\t\tthis._cancel = true;\n\t\tthis._childContexts.forEach((ctx) => { ctx.cancel(); });\n\t}\n\t/**\n\t * select status.\n\t * @return {object} select status\n\t */\n\tgetSelectState() {\n\t\tconst sel = this._selection.select;\n\t\treturn {\n\t\t\tselected: sel.col === this._col && sel.row === this._row,\n\t\t\tselection: this._selection.range.inCell(this._col, this._row),\n\t\t};\n\t}\n\t/**\n\t * Canvas context.\n\t * @return {CanvasRenderingContext2D} Canvas context.\n\t */\n\tgetContext() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this._ctx;\n\t\t} else {\n\t\t\treturn this._grid._getInitContext();\n\t\t}\n\t}\n\t/**\n\t * Rectangle of cell.\n\t * @return {Rect} rect Rectangle of cell.\n\t */\n\tgetRect() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this._rect;\n\t\t} else {\n\t\t\tif (this._rect) {\n\t\t\t\treturn this._rect;\n\t\t\t}\n\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\n\t\t}\n\t}\n\tsetRect(rect) {\n\t\tthis._rect = rect;\n\t}\n\t/**\n\t * Rectangle of Drawing range.\n\t * @return {Rect} Rectangle of Drawing range.\n\t */\n\tgetDrawRect() {\n\t\tif (this._cancel) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._mode === 0) {\n\t\t\treturn this._drawRect;\n\t\t} else {\n\t\t\tif (this._isOutOfRange()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\treturn this._toRelativeDrawRect(absoluteRect);\n\t\t}\n\t}\n\t_isOutOfRange() {\n\t\tconst {colCount, rowCount} = this._grid;\n\t\treturn colCount <= this._col || rowCount <= this._row;\n\t}\n\t/**\n\t * get Context of current state\n\t * @return {DrawCellContext} current DrawCellContext.\n\t */\n\ttoCurrentContext() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\n\t\t\tconst drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n\t\t\tconst context = new DrawCellContext(\n\t\t\t\t\tthis._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection,\n\t\t\t\t\tthis._drawLayers\n\t\t\t);\n\t\t\t\t// toCurrentContext  toCurrentContext\n\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\n\t\t\tthis._childContexts.push(context);\n\t\t\tif (this._cancel) {\n\t\t\t\tcontext.cancel();\n\t\t\t}\n\t\t\treturn context;\n\t\t}\n\t}\n\taddLayerDraw(level, fn) {\n\t\tthis._drawLayers.addDraw(level, fn);\n\t}\n\t_toRelativeDrawRect(absoluteRect) {\n\t\tconst visibleRect = _getVisibleRect(this._grid);\n\t\tlet rect = absoluteRect.copy();\n\t\tif (!rect.intersection(visibleRect)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\t\t\trect = Rect.bounds(\n\t\t\t\t\tMath.max(rect.left, fRect.right),\n\t\t\t\t\trect.top,\n\t\t\t\t\trect.right,\n\t\t\t\t\trect.bottom\n\t\t\t);\n\t\t}\n\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\t\t\trect = Rect.bounds(\n\t\t\t\t\trect.left,\n\t\t\t\t\tMath.max(rect.top, fRect.bottom),\n\t\t\t\t\trect.right,\n\t\t\t\t\trect.bottom\n\t\t\t);\n\t\t}\n\n\n\t\tif (!rect.intersection(visibleRect)) {\n\t\t\treturn null;\n\t\t}\n\t\trect.offsetLeft(-visibleRect.left);\n\t\trect.offsetTop(-visibleRect.top);\n\n\t\treturn rect;\n\t}\n\t_delayMode(grid, onTerminate) {\n\t\tthis._mode = 1;\n\t\tthis._ctx = null;\n\t\tthis._rect = null;\n\t\tthis._drawRect = null;\n\t\tthis._grid = grid;\n\t\tthis._onTerminate = onTerminate;\n\t}\n\t/**\n\t * terminate\n\t * @return {void}\n\t */\n\tterminate() {\n\t\tif (this._mode !== 0) {\n\t\t\tthis._onTerminate();\n\t\t}\n\t}\n}\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @extends EventTarget\n * @memberof cheetahGrid.core\n */\nclass DrawGrid extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\t/**\n\t * constructor\n\t *\n\t * <pre>\n\t * Constructor options\n\t * -----\n\t * rowCount: grid row count.default 10\n\t * colCount: grid col count.default 10\n\t * frozenColCount: default 0\n\t * frozenRowCount: default 0\n\t * defaultRowHeight: default grid row height. default 40\n\t * defaultColWidth: default grid col width. default 80\n\t * parentElement: canvas parentElement\n\t * font: default font\n\t * underlayBackgroundColor: underlay background color\n\t * -----\n\t * </pre>\n\t *\n\t * @constructor\n\t * @param  {Object} options Constructor options\n\t */\n\tconstructor(\n\t\t\t{\n\t\t\t\trowCount = 10,\n\t\t\t\tcolCount = 10,\n\t\t\t\tfrozenColCount = 0,\n\t\t\t\tfrozenRowCount = 0,\n\t\t\t\tdefaultRowHeight = 40,\n\t\t\t\tdefaultColWidth = 80,\n\t\t\t\tfont,\n\t\t\t\tunderlayBackgroundColor,\n\t\t\t\tparentElement,\n\t\t\t} = {}) {\n\t\tsuper();\n\t\tthis[_] = {};\n\t\tstyle.initDocument();\n\t\tthis[_].element = createRootElement();\n\t\tthis[_].scrollable = new Scrollable();\n\t\tthis[_].handler = new EventHandler();\n\t\tthis[_].selection = new Selection(this);\n\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\n\n\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\n\t\tthis[_].context = this[_].canvas.getContext('2d', {alpha: false});\n\n\t\tthis[_].rowCount = rowCount;\n\t\tthis[_].colCount = colCount;\n\t\tthis[_].frozenColCount = frozenColCount;\n\t\tthis[_].frozenRowCount = frozenRowCount;\n\n\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\tthis[_].defaultColWidth = defaultColWidth;\n\n\t\tthis[_].font = font;\n\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\n\t\t/////\n\t\tthis[_].rowHeightsMap = new NumberMap();\n\t\tthis[_].colWidthsMap = new NumberMap();\n\t\tthis[_].colWidthsLimit = {};\n\t\tthis[_].calcWidthContext = {\n\t\t\t_: this[_],\n\t\t\tget full() {\n\t\t\t\treturn this._.canvas.width;\n\t\t\t},\n\t\t\tget em() {\n\t\t\t\treturn getFontSize(this._.context, this._.font).width;\n\t\t\t}\n\t\t};\n\n\t\tthis[_].columnResizer = new ColumnResizer(this);\n\t\tthis[_].cellSelector = new CellSelector(this);\n\n\t\tthis[_].drawCells = {};\n\t\tthis[_].cellTextOverflows = {};\n\n\t\tthis[_].element.appendChild(this[_].canvas);\n\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\n\t\tthis.updateScroll();\n\t\tif (parentElement) {\n\t\t\tparentElement.appendChild(this[_].element);\n\t\t\tthis.updateSize();\n\t\t} else {\n\t\t\tthis.updateSize();\n\t\t}\n\t\t_bindEvents(this);\n\t}\n\t/**\n\t * Get root element.\n\t * @returns {HTMLElement} root element\n\t */\n\tgetElement() {\n\t\treturn this[_].element;\n\t}\n\t/**\n\t * Get canvas element.\n\t * @type {HTMLCanvasElement}\n\t */\n\tget canvas() {\n\t\treturn this[_].canvas;\n\t}\n\t/**\n\t * Focus the grid.\n\t * @return {void}\n\t */\n\tfocus() {\n\t\tconst {col, row} = this[_].selection.select;\n\t\tthis.focusCell(col, row);\n\t}\n\t/**\n\t * Get the selection instance.\n\t * @type {Selection}\n\t */\n\tget selection() {\n\t\treturn this[_].selection;\n\t}\n\t/**\n\t * Get the number of rows.\n\t * @type {number}\n\t */\n\tget rowCount() {\n\t\treturn this[_].rowCount;\n\t}\n\t/**\n\t * Set the number of rows.\n\t * @param {number} rowCount the number of rows to set\n\t * @type {number}\n\t */\n\tset rowCount(rowCount) {\n\t\tthis[_].rowCount = rowCount;\n\t\tthis.updateScroll();\n\t\tif (this[_].selection._updateGridRange()) {\n\t\t\tconst {col, row} = this[_].selection.focus;\n\t\t\tthis.makeVisibleCell(col, row);\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t}\n\t/**\n\t * Get the number of columns.\n\t * @type {number}\n\t */\n\tget colCount() {\n\t\treturn this[_].colCount;\n\t}\n\t/**\n\t * Set the number of columns.\n\t * @param {number} colCount the number of columns to set\n\t * @type {number}\n\t */\n\tset colCount(colCount) {\n\t\tthis[_].colCount = colCount;\n\t\tthis.updateScroll();\n\t\tif (this[_].selection._updateGridRange()) {\n\t\t\tconst {col, row} = this[_].selection.focus;\n\t\t\tthis.makeVisibleCell(col, row);\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t}\n\t/**\n\t * Get the number of frozen columns.\n\t * @type {number}\n\t */\n\tget frozenColCount() {\n\t\treturn this[_].frozenColCount;\n\t}\n\t/**\n\t * Set the number of frozen columns.\n\t * @param {number} frozenColCount the number of frozen columns to set\n\t * @type {number}\n\t */\n\tset frozenColCount(frozenColCount) {\n\t\tthis[_].frozenColCount = frozenColCount;\n\t}\n\t/**\n\t * Get the number of frozen rows.\n\t * @type {number}\n\t */\n\tget frozenRowCount() {\n\t\treturn this[_].frozenRowCount;\n\t}\n\t/**\n\t * Set the number of frozen rows.\n\t * @param {number} frozenRowCount the number of frozen rows to set\n\t * @type {number}\n\t */\n\tset frozenRowCount(frozenRowCount) {\n\t\tthis[_].frozenRowCount = frozenRowCount;\n\t}\n\t/**\n\t * Get the default row height.\n\t * @type {number}\n\t *\n\t */\n\tget defaultRowHeight() {\n\t\treturn this[_].rowCount;\n\t}\n\t/**\n\t * Set the default row height.\n\t * @param {number} defaultRowHeight the default row height to set\n\t * @type {number}\n\t */\n\tset defaultRowHeight(defaultRowHeight) {\n\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the default column width.\n\t * @type {number}\n\t */\n\tget defaultColWidth() {\n\t\treturn this[_].defaultColWidth;\n\t}\n\t/**\n\t * Set the default column width.\n\t * @param {number} defaultColWidth the default column width to set\n\t * @type {number}\n\t */\n\tset defaultColWidth(defaultColWidth) {\n\t\tthis[_].defaultColWidth = defaultColWidth;\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the font definition as a string.\n\t * @type {string}\n\t */\n\tget font() {\n\t\treturn this[_].font;\n\t}\n\t/**\n\t * Set the font definition with the given string.\n\t * @param {string} font the font definition to set\n\t * @type {string}\n\t */\n\tset font(font) {\n\t\tthis[_].font = font;\n\t}\n\t/**\n\t * Get the background color of the underlay.\n\t * @type {*}\n\t */\n\tget underlayBackgroundColor() {\n\t\treturn this[_].underlayBackgroundColor;\n\t}\n\t/**\n\t * Set the background color of the underlay.\n\t * @param {*} underlayBackgroundColor the background color of the underlay to set\n\t * @type {*}\n\t */\n\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\t}\n\tconfigure(name, value) {\n\t\tconst cfg = this[_].config || (this[_].config = {});\n\t\tif (isDef(value)) {\n\t\t\tcfg[name] = value;\n\t\t}\n\t\treturn cfg[name];\n\t}\n\t/**\n\t * Apply the changed size.\n\t * @return {void}\n\t */\n\tupdateSize() {\n\t\t//\n\t\tthis[_].canvas.style.width = '';\n\t\tthis[_].canvas.style.height = '';\n\t\tconst width = Math.floor(this[_].canvas.offsetWidth ||\n\t\t\t\t\tthis[_].canvas.parentElement.offsetWidth - style.getScrollBarSize()/*for legacy*/\n\t\t);\n\t\tconst height = Math.floor(this[_].canvas.offsetHeight ||\n\t\t\t\t\tthis[_].canvas.parentElement.offsetHeight - style.getScrollBarSize()/*for legacy*/\n\t\t);\n\n\t\tthis[_].canvas.width = width;\n\t\tthis[_].canvas.height = height;\n\n\t\t//style\n\t\tthis[_].canvas.style.width = `${width}px`;\n\t\tthis[_].canvas.style.height = `${height}px`;\n\n\t\tconst sel = this[_].selection.select;\n\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n\t}\n\t/**\n\t * Apply the changed scroll size.\n\t * @return {boolean} `true` if there was a change in the scroll size\n\t */\n\tupdateScroll() {\n\t\tconst {scrollable} = this[_];\n\t\tconst newHeight = _getScrollHeight(this);\n\t\tconst newWidth = _getScrollWidth(this);\n\t\tif (newHeight === scrollable.scrollHeight && newWidth === scrollable.scrollWidth) {\n\t\t\treturn false;\n\t\t}\n\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\t\tthis[_].scroll = {\n\t\t\tleft: this[_].scrollable.scrollLeft,\n\t\t\ttop: this[_].scrollable.scrollTop,\n\t\t};\n\t\treturn true;\n\t}\n\t/**\n\t * Get the row height of the given the row index.\n\t * @param  {number} row The row index\n\t * @return {number} The row height\n\t */\n\tgetRowHeight(row) {\n\t\treturn _getRowHeight(this, row);\n\t}\n\t/**\n\t * Set the row height of the given the row index.\n\t * @param  {number} row The row index\n\t * @param  {number} height The row height\n\t * @return {void}\n\t */\n\tsetRowHeight(row, height) {\n\t\t_setRowHeight(this, row, height);\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the column width of the given the column index.\n\t * @param  {number} col The column index\n\t * @return {number} The column width\n\t */\n\tgetColWidth(col) {\n\t\treturn _getColWidth(this, col);\n\t}\n\t/**\n\t * Set the column widtht of the given the column index.\n\t * @param  {number} col The column index\n\t * @param  {number} width The column width\n\t * @return {void}\n\t */\n\tsetColWidth(col, width) {\n\t\t_setColWidth(this, col, width);\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the column max width of the given the column index.\n\t * @param  {number} col The column index\n\t * @return {number} The column max width\n\t */\n\tgetMaxColWidth(col) {\n\t\tconst obj = this[_].colWidthsLimit[col];\n\t\treturn obj && obj.max || undefined;\n\t}\n\t/**\n\t * Set the column max widtht of the given the column index.\n\t * @param  {number} col The column index\n\t * @param  {number} maxwidth The column max width\n\t * @return {void}\n\t */\n\tsetMaxColWidth(col, maxwidth) {\n\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\tobj.max = maxwidth;\n\t}\n\t/**\n\t * Get the column min width of the given the column index.\n\t * @param  {number} col The column index\n\t * @return {number} The column min width\n\t */\n\tgetMinColWidth(col) {\n\t\tconst obj = this[_].colWidthsLimit[col];\n\t\treturn obj && obj.min || undefined;\n\t}\n\t/**\n\t * Set the column min widtht of the given the column index.\n\t * @param  {number} col The column index\n\t * @param  {number} minwidth The column min width\n\t * @return {void}\n\t */\n\tsetMinColWidth(col, minwidth) {\n\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\tobj.min = minwidth;\n\t}\n\t/**\n\t * Get the rect of the cell.\n\t * @param {number} col index of column, of the cell\n\t * @param {number} row index of row, of the cell\n\t * @returns {Rect} the rect of the cell.\n\t */\n\tgetCellRect(col, row) {\n\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\n\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\n\t\tconst width = _getColWidth(this, col);\n\t\tif (isFrozenCell && isFrozenCell.col) {\n\t\t\tabsoluteLeft += this[_].scroll.left;\n\t\t}\n\n\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\n\t\tconst height = _getRowHeight(this, row);\n\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\tabsoluteTop += this[_].scroll.top;\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tabsoluteLeft,\n\t\t\t\tabsoluteTop,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t);\n\t}\n\t/**\n\t * Get the relative rectangle of the cell.\n\t * @param {number} col index of column, of the cell\n\t * @param {number} row index of row, of the cell\n\t * @returns {Rect} the rect of the cell.\n\t */\n\tgetCellRelativeRect(col, row) {\n\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\n\t}\n\t/**\n\t * Get the rectangle of the cells area.\n\t * @param {number} startCol index of the starting column, of the cell\n\t * @param {number} startRow index of the starting row, of the cell\n\t * @param {number} endCol index of the ending column, of the cell\n\t * @param {number} endRow index of the ending row, of the cell\n\t * @returns {Rect} the rect of the cells.\n\t */\n\tgetCellsRect(startCol, startRow, endCol, endRow) {\n\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\t\tlet width = _getColsWidth(this, startCol, endCol);\n\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\n\t\t\tconst scrollLeft = this[_].scroll.left;\n\t\t\tabsoluteLeft += scrollLeft;\n\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\n\t\t\t\twidth -= scrollLeft;\n\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n\t\t\t}\n\t\t}\n\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\t\tlet height = _getRowsHeight(this, startRow, endRow);\n\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\n\t\t\tconst scrollTop = this[_].scroll.top;\n\t\t\tabsoluteTop += scrollTop;\n\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\n\t\t\t\theight -= scrollTop;\n\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n\t\t\t}\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tabsoluteLeft,\n\t\t\t\tabsoluteTop,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t);\n\t}\n\tisFrozenCell(col, row) {\n\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\n\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\n\t\tif (isFrozenRow || isFrozenCol) {\n\t\t\treturn {\n\t\t\t\trow: isFrozenRow,\n\t\t\t\tcol: isFrozenCol,\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\tgetRowAt(absoluteY) {\n\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\n\t\tif (frozen) {\n\t\t\treturn frozen.row;\n\t\t}\n\t\tconst row = _getTargetRowAt(this, absoluteY);\n\t\treturn row ? row.row : -1;\n\n\t}\n\tgetColAt(absoluteX) {\n\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\n\t\tif (frozen) {\n\t\t\treturn frozen.col;\n\t\t}\n\t\tconst col = _getTargetColAt(this, absoluteX);\n\t\treturn col ? col.col : -1;\n\t}\n\tgetCellAt(absoluteX, absoluteY) {\n\t\treturn {\n\t\t\trow: this.getRowAt(absoluteY),\n\t\t\tcol: this.getColAt(absoluteX),\n\t\t};\n\t}\n\t/**\n\t * Scroll to where cell is visible.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @return {void}\n\t */\n\tmakeVisibleCell(col, row) {\n\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n\t\t\treturn;\n\t\t}\n\t\tconst rect = this.getCellRect(col, row);\n\t\tconst visibleRect = _getScrollableVisibleRect(this);\n\t\tif (visibleRect.contains(rect)) {\n\t\t\treturn;\n\t\t}\n\t\tif (!isFrozenCell || !isFrozenCell.col) {\n\t\t\tif (rect.left < visibleRect.left) {\n\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\n\t\t\t} else if (visibleRect.right < rect.right) {\n\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\n\t\t\t}\n\t\t}\n\t\tif (!isFrozenCell || !isFrozenCell.row) {\n\t\t\tif (rect.top < visibleRect.top) {\n\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\n\t\t\t} else if (visibleRect.bottom < rect.bottom) {\n\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Focus the cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @return {void}\n\t */\n\tfocusCell(col, row) {\n\t\tconst oldEditMode = this[_].focusControl.editMode;\n\t\tif (oldEditMode) {\n\t\t\tthis[_].focusControl.resetInputStatus();\n\t\t}\n\n\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\n\n\t\tconst {col: selCol, row: selRow} = this[_].selection.select;\n\t\tconst results = this.fireListeners(\n\t\t\t\tEVENT_TYPE.EDITABLEINPUT_CELL,\n\t\t\t\t{col: selCol, row: selRow}\n\t\t);\n\n\t\tconst editMode = (array.findIndex(results, (v) => !!v) >= 0);\n\t\tthis[_].focusControl.editMode = editMode;\n\n\t\tif (editMode) {\n\t\t\tthis[_].focusControl.storeInputStatus();\n\t\t\tthis[_].focusControl.setDefaultInputStatus();\n\t\t\tthis.fireListeners(\n\t\t\t\t\tEVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\t\t\t\t{col: selCol, row: selRow, input: this[_].focusControl.input}\n\t\t\t);\n\t\t}\n\n\t\t// Failure occurs in IE if focus is not last\n\t\tthis[_].focusControl.focus();\n\t}\n\t/**\n\t * Redraws the range of the given cell.\n\t * @param  {number} col The column index of cell.\n\t * @param  {number} row The row index of cell.\n\t * @return {void}\n\t */\n\tinvalidateCell(col, row) {\n\t\tthis.invalidateGridRect(col, row);\n\t}\n\t/**\n\t * Redraws the range of the given cells.\n\t * @param {number} startCol index of the starting column, of the cell\n\t * @param {number} startRow index of the starting row, of the cell\n\t * @param {number} endCol index of the ending column, of the cell\n\t * @param {number} endRow index of the ending row, of the cell\n\t * @return {void}\n\t */\n\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n\t\tconst offset = this.getOffsetInvalidateCells();\n\t\tif (offset > 0) {\n\t\t\tstartCol -= offset;\n\t\t\tstartRow -= offset;\n\t\t\tendCol += offset;\n\t\t\tendRow += offset;\n\t\t}\n\n\t\tconst visibleRect = _getVisibleRect(this);\n\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\n\t\tif (invalidateTarget) {\n\n\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\n\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\n\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\n\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\n\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_invalidateRect(this, invalidateTarget);\n\t\t}\n\t}\n\t/**\n\t * Redraws the whole grid.\n\t * @return {void}\n\t */\n\tinvalidate() {\n\t\tconst visibleRect = _getVisibleRect(this);\n\t\t_invalidateRect(this, visibleRect);\n\t}\n\t/**\n\t * Get the value of cell with the copy action.\n\t * <p>\n\t * Please implement\n\t * </p>\n\t *\n\t * @protected\n\t * @param  {number} col Column index of cell.\n\t * @param  {number} row Row index of cell.\n\t * @return {string} the value of cell\n\t */\n\tgetCopyCellValue(col, row) {\n\t\t//Please implement get cell value!!\n\t}\n\t/**\n\t * Draw a cell\n\t * <p>\n\t * Please implement cell drawing.\n\t * </p>\n\t *\n\t * @protected\n\t * @param  {number} col Column index of cell.\n\t * @param  {number} row Row index of cell.\n\t * @param  {DrawCellContext} context context of cell drawing.\n\t * @return {void}\n\t */\n\tonDrawCell(col, row, context) {\n\t\t//Please implement cell drawing!!\n\t}\n\t/**\n\t * Get the overflowed text in the cell rectangle, from the given cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @return {string | null} The text overflowing the cell rect.\n\t */\n\tgetCellOverflowText(col, row) {\n\t\tconst key = `${col}:${row}`;\n\t\treturn this[_].cellTextOverflows[key] || null;\n\t}\n\t/**\n\t * Set the overflowed text in the cell rectangle, to the given cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @param  {boolean} overflowText The overflowed text in the cell rectangle.\n\t * @return {void}\n\t */\n\tsetCellOverflowText(col, row, overflowText) {\n\t\tconst key = `${col}:${row}`;\n\t\tif (overflowText) {\n\t\t\tthis[_].cellTextOverflows[key] = typeof overflowText === 'string' ? overflowText.trim() : overflowText;\n\t\t} else {\n\t\t\tdelete this[_].cellTextOverflows[key];\n\t\t}\n\t}\n\taddDisposable(disposable) {\n\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n\t\t\tthrow new Error('not disposable!');\n\t\t}\n\t\tconst disposables = this[_].disposables = this[_].disposables || [];\n\t\tdisposables.push(disposable);\n\t}\n\t/**\n\t * Dispose the grid instance.\n\t * @returns {void}\n\t */\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis[_].handler.dispose();\n\t\tthis[_].scrollable.dispose();\n\t\tthis[_].focusControl.dispose();\n\t\tthis[_].columnResizer.dispose();\n\t\tthis[_].cellSelector.dispose();\n\t\tif (this[_].disposables) {\n\t\t\tthis[_].disposables.forEach((disposable) => disposable.dispose());\n\t\t\tthis[_].disposables = null;\n\t\t}\n\n\t\tconst {parentElement} = this[_].element;\n\t\tif (parentElement) {\n\t\t\tparentElement.removeChild(this[_].element);\n\t\t}\n\t}\n\tgetAttachCellArea(col, row) {\n\t\treturn {\n\t\t\telement: this.getElement(),\n\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row)),\n\t\t};\n\t}\n\tbindEventsInternal() {\n\t\t//nop\n\t}\n\tgetTargetRowAtInternal(absoluteY) {\n\t\t// \n\t}\n\tgetRowsHeightInternal(startRow, endRow) {\n\t\t// \n\t}\n\tgetRowHeightInternal(row) {\n\t\t// \n\t}\n\tgetScrollHeightInternal(row) {\n\t\t// \n\t}\n\tgetMoveLeftColByKeyDownInternal({col, row}) {\n\t\treturn col - 1;\n\t}\n\tgetMoveRightColByKeyDownInternal({col, row}) {\n\t\treturn col + 1;\n\t}\n\tgetMoveUpRowByKeyDownInternal({col, row}) {\n\t\treturn row - 1;\n\t}\n\tgetMoveDownRowByKeyDownInternal({col, row}) {\n\t\treturn row + 1;\n\t}\n\tgetOffsetInvalidateCells() {\n\t\treturn 0;\n\t}\n\t_getInitContext() {\n\t\tconst ctx = this[_].context;\n\t\t//\n\t\tctx.fillStyle = 'white';\n\t\tctx.strokeStyle = 'black';\n\t\tctx.textAlign = 'left';\n\t\tctx.textBaseline = 'top';\n\t\tctx.lineWidth = 1;\n\t\tctx.font = this.font || '16px sans-serif';\n\t\treturn ctx;\n\t}\n}\n\nmodule.exports = DrawGrid;\n","'use strict';\n\nconst fontSizeCache = {};\nfunction getFontSize(ctx, font) {\n\tif (fontSizeCache[font]) {\n\t\treturn fontSizeCache[font];\n\t}\n\tconst bk = ctx.font;\n\ttry {\n\t\tctx.font = font || ctx.font;\n\t\tconst em = ctx.measureText('').width;\n\t\treturn (fontSizeCache[font] = {\n\t\t\twidth: em,\n\t\t\theight: em\n\t\t});\n\t} finally {\n\t\tctx.font = bk;\n\t}\n}\n\nfunction calcBasePosition(ctx, rect,\n\t\t{\n\t\t\toffset = 0,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft = 0,\n\t\t\t\tright: paddingRight = 0,\n\t\t\t\ttop: paddingTop = 0,\n\t\t\t\tbottom: paddingBottom = 0,\n\t\t\t} = {},\n\t\t} = {}) {\n\treturn calcStartPosition(ctx, rect, 0, 0, {\n\t\toffset,\n\t\tpadding: {\n\t\t\tleft: paddingLeft,\n\t\t\tright: paddingRight,\n\t\t\ttop: paddingTop,\n\t\t\tbottom: paddingBottom,\n\t\t}\n\t});\n}\nfunction calcStartPosition(ctx, rect, width, height,\n\t\t{\n\t\t\toffset = 0,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft = 0,\n\t\t\t\tright: paddingRight = 0,\n\t\t\t\ttop: paddingTop = 0,\n\t\t\t\tbottom: paddingBottom = 0,\n\t\t\t} = {},\n\t\t} = {}) {\n\tconst textAlign = ctx.textAlign || 'left';\n\tconst textBaseline = ctx.textBaseline || 'middle';\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\n\tlet x = rect.left + offset + paddingLeft;\n\tif (textAlign === 'right' || textAlign === 'end') {\n\t\tx = rect.right - width - offset - paddingRight;\n\t} else if (textAlign === 'center') {\n\t\tx = rect.left + ((rect.width - width + paddingLeft - paddingRight) / 2);\n\t}\n\tlet y = rect.top + offset + paddingTop;\n\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\ty = rect.bottom - height - offset - paddingBottom;\n\t} else if (textBaseline === 'middle') {\n\t\ty = rect.top + ((rect.height - height + paddingTop - paddingBottom) / 2);\n\t}\n\treturn {x, y};\n}\n\nmodule.exports = {\n\tcalcBasePosition,\n\tcalcStartPosition,\n\tgetFontSize,\n};\n","'use strict';\n\nconst styleContents = require('../style');\nconst {isPromise, isDef, obj: {setReadonly}} = require('../../internal/utils');\nconst animate = require('../../internal/animate');\nconst BaseStyle = require('../style/Style');\nconst {COLUMN_FADEIN_STATE_ID} = require('../../internal/symbolManager');\n\n\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n\tif (isDef(column._fadeinWhenCallbackInPromise)) {\n\t\treturn column._fadeinWhenCallbackInPromise;\n\t}\n\treturn !!grid.configure('fadeinWhenCallbackInPromise');\n}\n\nfunction getFadinState(grid) {\n\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\n\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n\t}\n\treturn grid[COLUMN_FADEIN_STATE_ID];\n}\nfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n\treturn (point) => {\n\t\tconst state = getFadinState(grid);\n\t\tconst stateKey = `${col}:${row}`;\n\t\tif (point === 1) {\n\t\t\tdelete state[stateKey];\n\t\t} else {\n\t\t\tstate[stateKey] = {\n\t\t\t\topacity: point,\n\t\t\t};\n\t\t}\n\t\tdrawCellBase();\n\n\t\tdrawInternal();\n\n\t\tconst cellState = state[stateKey];\n\t\tif (cellState) {\n\t\t\t//\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\ttry {\n\t\t\t\tdrawCellBase();\n\t\t\t} finally {\n\t\t\t\tctx.globalAlpha = 1;\n\t\t\t}\n\t\t}\n\t};\n}\nconst fadinMgr = {\n\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t// fadein animation\n\t\tconst state = getFadinState(grid);\n\n\t\tconst activeFadeins = [\n\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase),\n\t\t];\n\t\tstate.activeFadeins = activeFadeins;\n\n\t\tanimate(500, (point) => {\n\t\t\tactiveFadeins.forEach((f) => f(point));\n\t\t\tif (point === 1) {\n\t\t\t\tdelete state.activeFadeins;\n\t\t\t}\n\t\t});\n\t},\n\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\tconst state = getFadinState(grid);\n\t\tif (state.activeFadeins) {\n\t\t\tstate.activeFadeins.push(\n\t\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)\n\t\t\t);\n\t\t} else {\n\t\t\tdrawInternal();\n\t\t}\n\t},\n\n};\n\nclass BaseColumn {\n\tconstructor(option = {}) {\n\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\n\n\t\t//Promisecallback\n\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n\t}\n\tget StyleClass() {\n\t\treturn BaseStyle;\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tconst {style, getRecord, drawCellBase} = info;\n\t\tconst helper = grid.getGridCanvasHelper();\n\t\tdrawCellBase();\n\n\n\t\tconst record = getRecord();\n\t\tlet promise;\n\t\tif (isPromise(record)) {\n\t\t\tpromise = record.then(() => cellValue);\n\t\t} else if (isPromise(cellValue)) {\n\t\t\tpromise = cellValue;\n\t\t}\n\t\t//\n\t\tif (promise) {\n\t\t\tconst start = Date.now();\n\t\t\treturn promise.then((val) => {\n\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\tif (!drawRect) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst time = Date.now() - start;\n\n\t\t\t\tconst drawInternal = () => {\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst record = getRecord();\n\t\t\t\t\tif (isPromise(record)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\t\t\tthis.drawInternal(\n\t\t\t\t\t\t\tthis.convertInternal(val),\n\t\t\t\t\t\t\tcurrentContext,\n\t\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\t\thelper,\n\t\t\t\t\t\t\tgrid,\n\t\t\t\t\t\t\tinfo\n\t\t\t\t\t);\n\t\t\t\t\tthis.drawMessageInternal(\n\t\t\t\t\t\t\tinfo.getMessage(),\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\t\thelper,\n\t\t\t\t\t\t\tgrid,\n\t\t\t\t\t\t\tinfo\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\n\t\t\t\t\tdrawInternal();//\n\t\t\t\t} else {\n\t\t\t\t\tconst {col, row} = context;\n\t\t\t\t\tif (time < 80) {\n\t\t\t\t\t\t//80msPromiseCallback\n\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\tthis.drawInternal(\n\t\t\t\t\tthis.convertInternal(cellValue),\n\t\t\t\t\tcontext,\n\t\t\t\t\tactStyle,\n\t\t\t\t\thelper,\n\t\t\t\t\tgrid,\n\t\t\t\t\tinfo\n\t\t\t);\n\t\t\tthis.drawMessageInternal(\n\t\t\t\t\tinfo.getMessage(),\n\t\t\t\t\tcontext,\n\t\t\t\t\tactStyle,\n\t\t\t\t\thelper,\n\t\t\t\t\tgrid,\n\t\t\t\t\tinfo\n\t\t\t);\n\t\t\t//\n\t\t\tconst {col, row} = context;\n\t\t\tconst stateKey = `${col}:${row}`;\n\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\t\t\tif (cellState) {\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\ttry {\n\t\t\t\t\tdrawCellBase();\n\t\t\t\t} finally {\n\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\tclone() {\n\t\treturn new BaseColumn(this);\n\t}\n\tconvertInternal(value) {\n\t\treturn isDef(value) ? value : '';\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\n\t}\n\tdrawMessageInternal(message, context, style, helper, grid, info) {\n\t\tinfo.messageHandler.drawCellMessage(message, context, style, helper, info);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n}\nmodule.exports = BaseColumn;\n","'use strict';\n\nconst {isDef} = require('./utils');\n\nfunction createElement(tagName, {classList, text, html} = {}) {\n\tconst element = document.createElement(tagName);\n\tif (classList) {\n\t\tif (Array.isArray(classList)) {\n\t\t\telement.classList.add(...classList);\n\t\t} else {\n\t\t\telement.classList.add(classList);\n\t\t}\n\t}\n\tif (text) {\n\t\telement.textContent = text;\n\t} else if (html) {\n\t\telement.innerHTML = html;\n\t}\n\treturn element;\n}\n\nfunction empty(dom) {\n\tlet c;\n\twhile ((c = dom.firstChild)) {\n\t\tdom.removeChild(c);\n\t}\n}\nfunction isNode(arg) {\n\treturn !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n\tif (isNode(arg)) {\n\t\treturn arg;\n\t}\n\tconst dom = createElement('div', {html: arg});\n\treturn Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n\tif ((window.jQuery && arg instanceof window.jQuery)) {\n\t\treturn Array.prototype.map.call(arg, (a) => a);\n\t}\n\tif (Array.isArray(arg)) {\n\t\treturn arg.map(toNode);\n\t}\n\tconst node = toNode(arg);\n\treturn Array.isArray(node) ? node : [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n\ttoNodeList(inner).forEach((node) => {\n\t\tdom.appendChild(node);\n\t});\n}\n\nfunction disableFocus(el) {\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\n\tel.tabIndex = -1;\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nfunction enableFocus(el) {\n\tif ('disableBeforeTabIndex' in el.dataset) {\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\n\t}\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\n}\nfunction findPrevSiblingFocusable(el) {\n\tlet n = el.previousSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.previousSibling;\n\t}\n\treturn n;\n}\nfunction findNextSiblingFocusable(el) {\n\tlet n = el.nextSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.nextSibling;\n\t}\n\treturn n;\n}\n\nmodule.exports = {\n\tcreateElement,\n\tempty,\n\tisNode,\n\ttoNode,\n\ttoNodeList,\n\tappendHtml,\n\tdisableFocus,\n\tenableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable,\n};","'use strict';\n\nconst Style = require('../style/Style');\nconst BaseColumn = require('./BaseColumn');\nconst utils = require('./columnUtils');\n\nclass Column extends BaseColumn {\n\tget StyleClass() {\n\t\treturn Style;\n\t}\n\tclone() {\n\t\treturn new Column(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\tpadding,\n\t\t\ttextOverflow,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\thelper.testFontLoad(font, value, context);\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = Column;\n","'use strict';\n\nconst {isDef, str: {genChars, genWords}} = require('../internal/utils');\n\nfunction getWidth(ctx, content) {\n\treturn ctx.measureText(content).width;\n}\n\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n\tconst chars = [];\n\tlet ret = itr.next();\n\tfor (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n\t\tchars.push(ret);\n\t}\n\tlet beforeWidth = getWidth(ctx, chars.join(''));\n\tif (beforeWidth > width) {\n\t\twhile (chars.length) {\n\t\t\tconst c = chars.pop();\n\t\t\tbeforeWidth -= getWidth(ctx, c);\n\t\t\tif (beforeWidth <= width) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else if (beforeWidth < width) {\n\t\twhile (ret !== null) {\n\t\t\tconst charWidth = getWidth(ctx, ret);\n\t\t\tif (beforeWidth + charWidth > width) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tchars.push(ret);\n\t\t\tbeforeWidth += charWidth;\n\t\t\tret = itr.next();\n\t\t}\n\t}\n\tconst beforeContent = chars.join('').replace(/\\s+$/, '');\n\tconst afterContent = content.slice(beforeContent.length).replace(/^\\s+/, '');\n\treturn {\n\t\tbefore: beforeContent ? new Inline(beforeContent) : null,\n\t\tafter: afterContent ? new Inline(afterContent) : null,\n\t};\n}\n\nclass Inline {\n\tconstructor(content) {\n\t\tthis._content = isDef(content) ? content : '';\n\t}\n\twidth({ctx}) {\n\t\treturn getWidth(ctx, this._content);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(fn) {\n\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom,\n\t}) {\n\t\tcanvashelper.fillTextRect(ctx, this._content,\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t{\n\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\tpadding: {\n\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t}\n\t\t\t\t});\n\t}\n\tcanBreak() {\n\t\treturn !!this._content;\n\t}\n\tsplitIndex(index) {\n\t\tconst content = this._content;\n\t\tconst itr = genChars(content);\n\t\tconst chars = [];\n\t\tlet ret = itr.next();\n\t\tfor (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n\t\t\tchars.push(ret);\n\t\t}\n\t\tconst beforeContent = chars.join('');\n\t\tconst afterContent = content.slice(beforeContent.length);\n\t\treturn {\n\t\t\tbefore: beforeContent ? new Inline(beforeContent) : null,\n\t\t\tafter: afterContent ? new Inline(afterContent) : null,\n\t\t};\n\t}\n\tbreakWord(ctx, width) {\n\t\tconst content = this._content;\n\t\tconst allWidth = this.width({ctx});\n\t\tconst candidate = Math.floor(this._content.length * width / allWidth);\n\t\tconst itr = genWords(content);\n\t\treturn breakWidth(ctx, content, itr, candidate, width);\n\t}\n\tbreakAll(ctx, width) {\n\t\tconst content = this._content;\n\t\tconst allWidth = this.width({ctx});\n\t\tconst candidate = Math.floor(this._content.length * width / allWidth);\n\t\tconst itr = genChars(content);\n\t\treturn breakWidth(ctx, content, itr, candidate, width);\n\t}\n\ttoString() {\n\t\treturn this._content;\n\t}\n}\nmodule.exports = Inline;","'use strict';\n\nconst {isDef, obj: {each}} = require('../internal/utils');\n//private symbol\nconst _ = require('../internal/symbolManager').get();\n\nlet nextId = 1;\n/**\n\t * event target.\n\t */\nclass EventTarget {\n\tconstructor() {\n\t\tthis[_] = {};\n\t\tthis[_].listeners = {};\n\t\tthis[_].listenerData = {};\n\t}\n\t/**\n\t\t * Adds an event listener.\n\t\t * @param  {string} type The event type id.\n\t\t * @param  {function} listener Callback method.\n\t\t * @return {number} unique id for the listener.\n\t\t */\n\tlisten(type, listener) {\n\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\n\t\tlist.push(listener);\n\n\t\tconst id = nextId++;\n\t\tthis[_].listenerData[id] = {\n\t\t\ttype,\n\t\t\tlistener,\n\t\t\tremove: () => {\n\t\t\t\tdelete this[_].listenerData[id];\n\t\t\t\tconst index = list.indexOf(listener);\n\t\t\t\tlist.splice(index, 1);\n\t\t\t\tif (!this[_].listeners[type].length) {\n\t\t\t\t\tdelete this[_].listeners[type];\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t\treturn id;\n\n\t}\n\t/**\n\t\t * Removes an event listener which was added with listen() by the id returned by listen().\n\t\t * @param  {number} id the id returned by listen().\n\t\t * @return {void}\n\t\t */\n\tunlisten(id) {\n\t\tthis[_].listenerData[id].remove();\n\t}\n\taddEventListener(type, listener) {\n\t\tthis.listen(type, listener);\n\t}\n\tremoveEventListener(type, listener) {\n\t\teach(this[_].listenerData, (obj, id) => {\n\t\t\tif (obj.type === type && obj.listener === listener) {\n\t\t\t\tthis.unlisten(id);\n\t\t\t}\n\t\t});\n\t}\n\thasListeners(type) {\n\t\treturn !!this[_].listeners[type];\n\t}\n\t/**\n\t\t * Fires all registered listeners\n\t\t * @param  {string}    type The type of the listeners to fire.\n\t\t * @param  {...*} args fire arguments\n\t\t * @return {*} the result of the last listener\n\t\t */\n\tfireListeners(type, ...args) {\n\t\tconst list = this[_].listeners[type];\n\t\tif (!list) {\n\t\t\treturn [];\n\t\t}\n\t\treturn list.\n\t\t\tmap((listener) => listener.call(this, ...args)).\n\t\t\tfilter(isDef);\n\t}\n\tdispose() {\n\t\tdelete this[_];\n\t}\n}\n\nmodule.exports = EventTarget;\n","'use strict';\n\n\nconst BaseAction = require('./BaseAction');\nclass Editor extends BaseAction {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._readOnly = option.readOnly;\n\t}\n\tget readOnly() {\n\t\treturn this._readOnly;\n\t}\n\tset readOnly(readOnly) {\n\t\tthis._readOnly = !!readOnly;\n\t\tthis.onChangeReadOnlyInternal();\n\t}\n\tclone() {\n\t\treturn new Editor(this);\n\t}\n\tonChangeReadOnlyInternal() {}\n}\nmodule.exports = Editor;\n","'use strict';\n\nconst {isPromise} = require('../../internal/utils');\nconst icons = require('../../internal/icons');\nmodule.exports = {\n\tloadIcons(icon, context, helper, callback) {\n\t\tif (icon) {\n\t\t\tif (isPromise(icon)) {\n\t\t\t\ticon.then((i) => {\n\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\n\t\t\t\t});\n\t\t\t\ticon = null;\n\t\t\t} else {\n\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\n\t\t\t\ticonList.forEach((i) => {\n\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\n\t\t\t\t});\n\t\t\t\ticon = iconList;\n\t\t\t}\n\t\t}\n\t\tcallback(icon, context);\n\t},\n};\n","'use strict';\n\nconst BaseStyle = require('./style/BaseStyle');\nconst Style = require('./style/Style');\nconst SortHeaderStyle = require('./style/SortHeaderStyle');\n\nconst style = {\n\tget BaseStyle() {\n\t\treturn BaseStyle;\n\t},\n\tget Style() {\n\t\treturn Style;\n\t},\n\tget SortHeaderStyle() {\n\t\treturn SortHeaderStyle;\n\t},\n\tof(columnStyle, StyleClass) {\n\t\tif (columnStyle) {\n\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\treturn columnStyle;\n\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\treturn style.of(columnStyle(), StyleClass);\n\t\t\t}\n\t\t\treturn new StyleClass(columnStyle);\n\t\t} else {\n\t\t\treturn StyleClass.DEFAULT;\n\t\t}\n\t}\n};\nmodule.exports = style;\n","'use strict';\n\nclass Rect {\n\tconstructor(left, top, width, height) {\n\t\tthis._left = left;\n\t\tthis._top = top;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t}\n\tstatic bounds(left, top, right, bottom) {\n\t\treturn new Rect(left, top, right - left, bottom - top);\n\t}\n\tstatic max(rect1, rect2) {\n\t\treturn Rect.bounds(\n\t\t\t\tMath.min(rect1.left, rect2.left),\n\t\t\t\tMath.min(rect1.top, rect2.top),\n\t\t\t\tMath.max(rect1.right, rect2.right),\n\t\t\t\tMath.max(rect1.bottom, rect2.bottom)\n\t\t);\n\t}\n\tget left() {\n\t\treturn this._left;\n\t}\n\tset left(left) {\n\t\tconst {right} = this;\n\t\tthis._left = left;\n\t\tthis.right = right;\n\t}\n\tget top() {\n\t\treturn this._top;\n\t}\n\tset top(top) {\n\t\tconst {bottom} = this;\n\t\tthis._top = top;\n\t\tthis.bottom = bottom;\n\t}\n\tget width() {\n\t\treturn this._width;\n\t}\n\tset width(width) {\n\t\tthis._width = width;\n\t\tthis._right = undefined;\n\t}\n\tget height() {\n\t\treturn this._height;\n\t}\n\tset height(height) {\n\t\tthis._height = height;\n\t\tthis._bottom = undefined;\n\t}\n\tget right() {\n\t\treturn this._right !== undefined ? this._right : (this._right = this.left + this.width);\n\t}\n\tset right(right) {\n\t\tthis._right = right;\n\t\tthis.width = right - this.left;\n\t}\n\tget bottom() {\n\t\treturn this._bottom !== undefined ? this._bottom : (this._bottom = this.top + this.height);\n\t}\n\tset bottom(bottom) {\n\t\tthis._bottom = bottom;\n\t\tthis.height = bottom - this.top;\n\t}\n\toffsetLeft(offset) {\n\t\tthis._left += offset;\n\t\tthis._right = undefined;\n\t}\n\toffsetTop(offset) {\n\t\tthis._top += offset;\n\t\tthis._bottom = undefined;\n\t}\n\tcopy() {\n\t\treturn new Rect(this.left, this.top, this.width, this.height);\n\t}\n\tintersection(rect) {\n\t\tconst x0 = Math.max(this.left, rect.left);\n\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\t\tif (x0 <= x1) {\n\t\t\tconst y0 = Math.max(this.top, rect.top);\n\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\t\t\tif (y0 <= y1) {\n\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tcontains(another) {\n\t\treturn this.left <= another.left &&\n\t\t\t\t\tthis.left + this.width >= another.left + another.width &&\n\t\t\t\t\tthis.top <= another.top &&\n\t\t\t\t\tthis.top + this.height >= another.top + another.height;\n\t}\n\tinPoint(x, y) {\n\t\treturn this.left <= x &&\n\t\t\t\t\tthis.left + this.width >= x &&\n\t\t\t\t\tthis.top <= y &&\n\t\t\t\t\tthis.top + this.height >= y;\n\t}\n}\nmodule.exports = Rect;\n","'use strict';\n\nfunction parse(calcStr) {\n\tfunction replacer(match, num, unit) {\n\t\tswitch (unit) {\n\t\tcase '%':\n\t\t\treturn `(${num} * this.full / 100)`;\n\t\tcase 'em':\n\t\t\treturn `(${num} * this.em)`;\n\t\tcase 'px':\n\t\t\treturn `(${num})`;\n\t\tdefault:\n\t\t\tthrow new Error('calc error');\n\t\t}\n\t}\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').\n\t\treplace(/(\\d+)([A-Za-z%]+)/g, replacer).\n\t\treplace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\n\treturn {\n\t\teval(context) {\n\t\t\tfunction fn() {\n\t\t\t\tfunction calc(v) { // eslint-disable-line no-unused-vars\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\treturn eval(script);// eslint-disable-line no-eval\n\t\t\t}\n\t\t\treturn fn.call(context);\n\t\t}\n\t};\n}\nfunction toPx(value, context) {\n\tif (/^calc\\(.*\\)$/.test(value)) {\n\t\treturn parse(value).eval(context);\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\n\t\treturn value.substr(0, value.length - 2) - 0;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\n\t}\n\treturn value - 0;\n}\n\nmodule.exports = {\n\tparse,\n\ttoPx(value, context) {\n\t\tif (typeof value === 'string') {\n\t\t\treturn toPx(value.trim(), context);\n\t\t}\n\t\treturn value - 0;\n\t}\n};","'use strict';\n\n\nclass BaseAction {\n\tconstructor(option = {}) {\n\t\tthis._disabled = option.disabled;\n\t}\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tset disabled(disabled) {\n\t\tthis._disabled = !!disabled;\n\t\tthis.onChangeDisabledInternal();\n\t}\n\tclone() {\n\t\treturn new BaseAction(this);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n\tonChangeDisabledInternal() {}\n}\nmodule.exports = BaseAction;\n","'use strict';\n\nconst BaseStyle = require('./BaseStyle');\n\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._textAlign = style.textAlign || 'left';\n\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t}\n\tget textAlign() {\n\t\treturn this._textAlign;\n\t}\n\tset textAlign(textAlign) {\n\t\tthis._textAlign = textAlign;\n\t\tthis.doChangeStyle();\n\t}\n\tget textBaseline() {\n\t\treturn this._textBaseline;\n\t}\n\tset textBaseline(textBaseline) {\n\t\tthis._textBaseline = textBaseline;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new StdBaseStyle(this);\n\t}\n}\nmodule.exports = StdBaseStyle;\n","'use strict';\n\nconst EventTarget = require('../../core/EventTarget');\n\nconst EVENT_TYPE = {\n\tCHANGE_STYLE: 'change_style',\n};\n\nlet defaultStyle;\nclass BaseStyle extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n\t}\n\tconstructor(\n\t\t\t{\n\t\t\t\tbgColor\n\t\t\t} = {}) {\n\t\tsuper();\n\t\tthis._bgColor = bgColor;\n\t}\n\tget bgColor() {\n\t\treturn this._bgColor;\n\t}\n\tset bgColor(bgColor) {\n\t\tthis._bgColor = bgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tdoChangeStyle() {\n\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t}\n\tclone() {\n\t\treturn new BaseStyle(this);\n\t}\n}\nmodule.exports = BaseStyle;\n","'use strict';\n\nconst {isDef} = require('./utils');\n\nconst ICON_PROP_KEYS = [\n\t'content',\n\t'font',\n\t'color',\n\t'className',\n\t'isLiga',\n\t'width',\n\t'src',\n\t'svg',\n\t'name',\n\t'path'\n];\n\nfunction quote(name) {\n\tconst quoted = [];\n\tconst split = name.split(/,\\s*/);\n\tfor (let i = 0; i < split.length; i++) {\n\t\tconst part = split[i].replace(/['\"]/g, '');\n\t\tif (part.indexOf(' ') === -1 && !(/^\\d/.test(part))) {\n\t\t\tquoted.push(part);\n\t\t} else {\n\t\t\tquoted.push(`'${part}'`);\n\t\t}\n\t}\n\treturn quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n\tconst tagProps = props[tagName] || (props[tagName] = {});\n\tif (tagProps[className]) {\n\t\treturn tagProps[className];\n\t}\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n\tdom.className = className;\n\tdocument.body.appendChild(dom);\n\ttry {\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n\t\tlet content = beforeStyle.getPropertyValue('content');\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n\t\t\tif (content[0] === content[content.length - 1]) {\n\t\t\t\tcontent = content.substr(1, content.length - 2);\n\t\t\t}\n\t\t}\n\t\tlet font = beforeStyle.getPropertyValue('font');\n\t\tif (!font) {\n\t\t\tfont = `${beforeStyle.getPropertyValue('font-style')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-variant')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-weight')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-size')}/${\n\t\t\t\tbeforeStyle.getPropertyValue('line-height')} ${\n\t\t\t\tquote(beforeStyle.getPropertyValue('font-family'))}`;\n\t\t}\n\t\tconst color = beforeStyle.getPropertyValue('color');\n\t\tconst width = dom.clientWidth;\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n\n\t\treturn (tagProps[className] = {\n\t\t\tcontent,\n\t\t\tfont,\n\t\t\tcolor,\n\t\t\twidth,\n\t\t\tisLiga,\n\t\t});\n\t} finally {\n\t\tdocument.body.removeChild(dom);\n\t}\n}\n\nfunction toPropArray(prop, count) {\n\tconst result = [];\n\tif (Array.isArray(prop)) {\n\t\tresult.push(...prop);\n\t\tfor (let i = prop.length; i < count; i++) {\n\t\t\tresult.push(null);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tresult.push(prop);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction toSimpleArray(iconProps) {\n\tif (!iconProps) {\n\t\treturn iconProps;\n\t} else if (Array.isArray(iconProps)) {\n\t\treturn iconProps;\n\t}\n\n\tconst workData = {};\n\n\tlet count = 0;\n\tICON_PROP_KEYS.forEach((k) => {\n\t\tif (iconProps[k]) {\n\t\t\tif (Array.isArray(iconProps[k])) {\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\n\t\t\t} else {\n\t\t\t\tcount = Math.max(count, 1);\n\t\t\t}\n\t\t}\n\t});\n\n\tICON_PROP_KEYS.forEach((k) => {\n\t\tworkData[k] = toPropArray(iconProps[k], count);\n\t});\n\n\tconst result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tconst data = {};\n\t\tICON_PROP_KEYS.forEach((k) => {\n\t\t\tdata[k] = workData[k][i];\n\t\t});\n\t\tresult.push(data);\n\t}\n\treturn result;\n}\n\nfunction normarize(iconProps) {\n\tconst data = {};\n\tfor (const k in iconProps) {\n\t\tif (k === 'className') {\n\t\t\tcontinue;\n\t\t}\n\t\tdata[k] = iconProps[k];\n\t}\n\tif (iconProps.className) {\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\t\tfor (const k in prop) {\n\t\t\tif (!isDef(iconProps[k])) {\n\t\t\t\tdata[k] = prop[k];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nmodule.exports = {\n\ttoNormarizeArray(iconProps) {\n\t\tconst icons = toSimpleArray(iconProps);\n\t\tif (!icons) {\n\t\t\treturn icons;\n\t\t}\n\t\treturn icons.map((icon) => normarize(icon));\n\t},\n\tget iconPropKeys() {\n\t\treturn ICON_PROP_KEYS;\n\t},\n\tgetIconProps,\n};\n\n\n","'use strict';\n\nconst {extend, getIgnoreCase} = require('./internal/utils');\nconst theme = require('./themes/theme');\nconst {Theme} = theme;\nconst plugins = require('./plugins/themes');\nconst BASIC = new Theme(require('./themes/BASIC'));\nconst MATERIAL_DESIGN = new Theme(require('./themes/MATERIAL_DESIGN'));\n\nconst builtin = {\n\tBASIC,\n\tMATERIAL_DESIGN,\n};\nlet defTheme = MATERIAL_DESIGN;\n/**\n * themes\n * @type {Object}\n * @namespace cheetahGrid.themes\n * @memberof cheetahGrid\n */\nconst themes = {\n\tget default() {\n\t\treturn defTheme;\n\t},\n\tset default(defaultTheme) {\n\t\tdefTheme = themes.of(defaultTheme) || defTheme;\n\t},\n\tget MATERIAL_DESIGN() {\n\t\treturn MATERIAL_DESIGN;\n\t},\n\tget BASIC() {\n\t\treturn BASIC;\n\t},\n\ttheme,\n\tof(value) {\n\t\tif (!value) {\n\t\t\treturn null;\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tconst t = getIgnoreCase(themes.choices, value);\n\t\t\tif (t) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tif (value instanceof Theme) {\n\t\t\treturn value;\n\t\t}\n\t\treturn new Theme(value);\n\t},\n\t/**\n\t * @namespace cheetahGrid.themes.choices\n\t */\n\tget choices() {\n\t\treturn extend(builtin, plugins);\n\t},\n};\nmodule.exports = themes;\n","'use strict';\n\nconst {array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn} = require('../internal/utils');\nconst sort = require('../internal/sort');\nconst EventTarget = require('../core/EventTarget');\n\nconst EVENT_TYPE = {\n\tUPDATE_LENGTH: 'update_length',\n\tUPDATED_LENGTH: 'updated_length',\n\tUPDATED_ORDER: 'updated_order',\n};\n\nfunction getValue(value, setPromiseBack) {\n\tvalue = getOrApply(value);\n\tif (isPromise(value)) {\n\t\tvalue = value.then((r) => {\n\t\t\tif (!isPromise(r)) {\n\t\t\t\tsetPromiseBack(r);\n\t\t\t}\n\t\t\treturn getValue(r, setPromiseBack);\n\t\t});\n\t\t//\n\t\tsetPromiseBack(value);\n\t}\n\treturn value;\n}\n\nfunction getField(record, field, setPromiseBack) {\n\tif (!isDef(record)) {\n\t\treturn undefined;\n\t}\n\tif (isPromise(record)) {\n\t\treturn record.then((r) => getField(r, field, setPromiseBack));\n\t}\n\tif (field in record) {\n\t\treturn getValue(record[field], setPromiseBack);\n\t}\n\tif (typeof field === 'function') {\n\t\treturn getValue(field(record), setPromiseBack);\n\t}\n\n\tconst ss = (`${field}`).split('.');\n\tif (ss.length <= 1) {\n\t\treturn getValue(record[field], setPromiseBack);\n\t}\n\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n}\nfunction setField(record, field, value) {\n\tif (field in record) {\n\t\trecord[field] = value;\n\t} else if (typeof field === 'function') {\n\t\treturn field(record, value);\n\t} else if (typeof field === 'string') {\n\t\tconst ss = (`${field}`).split('.');\n\t\tlet obj = record;\n\t\tconst {length} = ss;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst f = ss[i];\n\t\t\tif (i === length - 1) {\n\t\t\t\tobj[f] = value;\n\t\t\t} else {\n\t\t\t\tobj = obj[f] || (obj[f] = {});\n\t\t\t}\n\t\t}\n\t} else {\n\t\trecord[field] = value;\n\t}\n\treturn true;\n}\nfunction _getIndex(dataSource, index) {\n\tif (!dataSource._sortedIndexMap) {\n\t\treturn index;\n\t}\n\tconst mapIndex = dataSource._sortedIndexMap[index];\n\treturn isDef(mapIndex) ? mapIndex : index;\n}\n\n/**\n\t * grid data source\n\t *\n\t * @classdesc cheetahGrid.data.DataSource\n\t * @extends EventTarget\n\t * @memberof cheetahGrid.data\n\t */\nclass DataSource extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tstatic ofArray(array) {\n\t\treturn new DataSource({\n\t\t\tget: (index) => array[index],\n\t\t\tlength: array.length\n\t\t});\n\t}\n\tconstructor(obj = {}) {\n\t\tsuper();\n\t\tthis._get = obj.get && obj.get.bind(obj) || undefined;\n\t\tthis._length = obj.length || 0;\n\t\tthis._sortedIndexMap = false;\n\t}\n\tget(index) {\n\t\treturn this.getOriginal(_getIndex(this, index));\n\t}\n\tgetField(index, field) {\n\t\treturn this.getOriginalField(_getIndex(this, index), field);\n\t}\n\thasField(index, field) {\n\t\treturn this.hasOriginalField(_getIndex(this, index), field);\n\t}\n\tsetField(index, field, value) {\n\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\n\t}\n\tsort(field, order) {\n\t\tconst sortedIndexMap = new Array(this._length);\n\n\t\tconst orderFn = order !== 'desc'\n\t\t\t? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1\n\t\t\t: (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n\n\t\treturn sort.sortPromise(\n\t\t\t\t(index) => isDef(sortedIndexMap[index])\n\t\t\t\t\t? sortedIndexMap[index]\n\t\t\t\t\t: (sortedIndexMap[index] = index),\n\t\t\t\t(index, rel) => {\n\t\t\t\t\tsortedIndexMap[index] = rel;\n\t\t\t\t},\n\t\t\t\tthis._length,\n\t\t\t\torderFn,\n\t\t\t\t(index) => this.getOriginalField(index, field)\n\t\t).then(() => {\n\t\t\tthis._sortedIndexMap = sortedIndexMap;\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n\t\t});\n\t}\n\tget length() {\n\t\treturn this._length;\n\t}\n\tset length(length) {\n\t\tif (this._length === length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\t\tif (array.findIndex(results, (v) => !v) >= 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis._length = length;\n\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n\t}\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n\tgetOriginal(index) {\n\t\treturn getValue(this._get(index), (val) => {\n\t\t\tthis.recordPromiseCallBackInternal(index, val);\n\t\t});\n\t}\n\tgetOriginalField(index, field) {\n\t\tif (!isDef(field)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this.getOriginal(index);\n\t\treturn getField(record, field, (val) => {\n\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\n\t\t});\n\t}\n\thasOriginalField(index, field) {\n\t\tif (!isDef(field)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof field === 'function') {\n\t\t\treturn true;\n\t\t}\n\t\tconst record = this.getOriginal(index);\n\t\treturn field in record;\n\t}\n\tsetOriginalField(index, field, value) {\n\t\tif (!isDef(field)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this.getOriginal(index);\n\t\treturn setField(record, field, value);\n\t}\n\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t//\n\t}\n\trecordPromiseCallBackInternal(index, val) {\n\t\t//\n\t}\n}\nDataSource.EMPTY = new DataSource({\n\tlength: 0,\n});\n\nmodule.exports = DataSource;\n","'use strict';\n\nfunction getPath2D() {\n\t//return require('./legacy/canvas/Path2D');\n\treturn window.Path2D || require('./legacy/canvas/Path2D');\n}\n\nmodule.exports = {\n\tfill(module, ctx, x, y, w, h) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst {width, height} = module;\n\t\t\tconst {ud: upsideDown, x: offsetX = 0, y: offsetY = 0} = module;\n\t\t\tw = w || width;\n\t\t\th = h || height;\n\t\t\tconst xrate = w / width;\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\n\t\t\tx = x || 0;\n\t\t\ty = upsideDown ? ((y || 0) + (-height * yrate)) : (y || 0);\n\n\t\t\tctx.translate(x, y);\n\t\t\tctx.scale(xrate, yrate);\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\n\t\t\t\tctx.translate(offsetX, offsetY);\n\t\t\t}\n\t\t\tconst Path2D = getPath2D();\n\t\t\tmodule.path2d = module.path2d || (new Path2D(module.d));\n\t\t\tctx.fill(module.path2d);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t},\n\tget Path2D() {\n\t\treturn getPath2D();\n\t},\n};\n","'use strict';\n\nconst {extend} = require('../internal/utils');\nconst DrawGrid = require('../core/DrawGrid');\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n\tCHANGED_VALUE: 'changed_value',\n});\nmodule.exports = EVENT_TYPE;","'use strict';\n\nclass BaseMessage {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachMessageElement();\n\t\tif (this._messageElement) {\n\t\t\tthis._messageElement.dispose();\n\t\t}\n\t\tthis._messageElement = null;\n\t}\n\t_getMessageElement() {\n\t\treturn this._messageElement || (this._messageElement = this.createMessageElementInternal());\n\t}\n\tcreateMessageElementInternal() {\n\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\n\t}\n\tattachMessageElement(col, row, message) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.attach(this._grid, col, row, message);\n\t}\n\tmoveMessageElement(col, row) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.move(this._grid, col, row);\n\t}\n\tdetachMessageElement() {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement._detach();\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\t\tthis.drawCellMessageInternal(message, context, style, helper, info);\n\t}\n}\n\nmodule.exports = BaseMessage;","'use strict';\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n\trequire('./MessageElement.css');\n\tconst rootElement = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst messageElement = createElement('span', {classList: [MESSAGE_CLASSNAME]});\n\trootElement.appendChild(messageElement);\n\treturn rootElement;\n}\n\n\nclass MessageElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createMessageDomElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, message) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = message.message;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t\tconst {bottom: top, left, width} = rect;\n\t\tconst {frozenRowCount, frozenColCount} = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tconst {offsetHeight, offsetWidth} = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false;//\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false;//\n\t\t}\n\n\t\trootElement.style.top = `${top.toFixed()}px`;\n\t\trootElement.style.left = `${left.toFixed()}px`;\n\t\trootElement.style.width = `${width.toFixed()}px`;\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = MessageElement;","'use strict';\n\nconst Rect = require('../../internal/Rect');\nmodule.exports = {\n\tdrawExclamationMarkBox(context, style, helper) {\n\n\t\tconst {bgColor, color} = style;\n\t\tconst ctx = context.getContext();\n\t\tconst rect = context.getRect();\n\t\t// draw box\n\t\tctx.fillStyle = bgColor;\n\t\tconst boxRect = rect.copy();\n\t\tboxRect.left = boxRect.right - 24;\n\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t// draw exclamation mark\n\t\tconst fillColor = color;\n\t\tconst height = 20;\n\t\tconst width = height / 5;\n\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3),\n\t\t\t\tcontext, {fillColor});\n\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5),\n\t\t\t\tcontext, {fillColor});\n\t},\n\tdrawInfomationMarkBox(context, style, helper) {\n\n\t\tconst {bgColor, color} = style;\n\t\tconst ctx = context.getContext();\n\t\tconst rect = context.getRect();\n\t\t// draw box\n\t\tctx.fillStyle = bgColor;\n\t\tconst boxRect = rect.copy();\n\t\tboxRect.left = boxRect.right - 24;\n\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t// draw i mark\n\t\tconst fillColor = color;\n\t\tconst height = 20;\n\t\tconst width = height / 5;\n\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5),\n\t\t\t\tcontext, {fillColor});\n\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3),\n\t\t\t\tcontext, {fillColor});\n\t},\n};\n","'use strict';\n\nfunction getScrollBarWidth() {\n\tconst dummy = document.createElement('div');\n\tconst {style} = dummy;\n\tstyle.position = 'absolute';\n\tstyle.height = '9999px';\n\tstyle.width = 'calc(100vw - 100%)';\n\tstyle.opacity = 0;\n\tdummy.textContent = 'x';\n\tdocument.body.appendChild(dummy);\n\tconst {width} = document.defaultView.getComputedStyle(dummy, '');\n\tdocument.body.removeChild(dummy);\n\treturn parseInt(width, 10);\n}\n\nlet SCROLLBAR_SIZE;\nconst initDocument = () => {\n\trequire('./style.css');\n\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\n\tconst style = document.createElement('style');\n\tstyle.setAttribute('type', 'text/css');\n\tstyle.setAttribute('data-name', 'cheetah-grid');\n\tstyle.innerHTML =\n\t\t`\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n\n\tdocument.head.appendChild(style);\n};\n\nconst style = {\n\tinitDocument() {\n\t\tstyle.initDocument = () => {};\n\t\tinitDocument();\n\t},\n\tgetScrollBarSize() {\n\t\treturn SCROLLBAR_SIZE;\n\t}\n};\n\nmodule.exports = style;\n","'use strict';\n\nconst {calcBasePosition, calcStartPosition, getFontSize} = require('../internal/canvases');\nconst {ceil, PI} = Math;\n\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n\tfunction strokeRectLines(positions) {\n\t\tfor (let i = 0; i < borderColors.length; i++) {\n\t\t\tconst color = borderColors[i];\n\t\t\tconst preColor = borderColors[i - 1];\n\t\t\tif (color) {\n\t\t\t\tif (preColor !== color) {\n\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t\tconst pos1 = positions[i];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\n\t\t\t\t}\n\t\t\t\tconst pos2 = positions[i + 1];\n\t\t\t\tctx.lineTo(pos2.x, pos2.y);\n\t\t\t} else {\n\t\t\t\tif (preColor) {\n\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst preColor = borderColors[borderColors.length - 1];\n\t\tif (preColor) {\n\t\t\tctx.strokeStyle = preColor;\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\tif (borderColors[0] === borderColors[1] &&\n\t\t\tborderColors[0] === borderColors[2] &&\n\t\t\tborderColors[0] === borderColors[3]) {\n\t\tif (borderColors[0]) {\n\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\tctx.strokeRect(left, top, width, height);\n\t\t}\n\t} else {\n\t\tstrokeRectLines([\n\t\t\t{x: left, y: top},\n\t\t\t{x: left + width, y: top},\n\t\t\t{x: left + width, y: top + height},\n\t\t\t{x: left, y: top + height},\n\t\t\t{x: left, y: top},\n\t\t]);\n\t}\n}\nfunction roundRect(ctx, left, top, width, height, radius) {\n\tctx.beginPath();\n\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n\tctx.closePath();\n}\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n\troundRect(ctx, left, top, width, height, radius);\n\tctx.fill();\n}\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n\troundRect(ctx, left, top, width, height, radius);\n\tctx.stroke();\n}\nfunction fillTextRect(ctx, text, left, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcBasePosition(ctx, rect, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\n\t\tctx.fillText(text, pos.x, pos.y);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\nfunction drawInlineImageRect(ctx, image,\n\t\tsrcLeft, srcTop, srcWidth, srcHeight,\n\t\tdestWidth, destHeight,\n\t\tleft, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\n\t\tctx.drawImage(image,\n\t\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\n\t\t\t\tpos.x, pos.y, destWidth, destHeight\n\t\t);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n/**\n\t * Returns an object containing the width of the checkbox.\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @return {Object} Object containing the width of the checkbox\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\nfunction measureCheckbox(ctx) {\n\treturn {\n\t\twidth: getFontSize(ctx, null).width\n\t};\n}\n\n/**\n\t * draw Checkbox\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {boolean|number} check checkbox check status\n\t * @param  {object} option option\n\t * @return {void}\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\nfunction drawCheckbox(ctx, x, y, check,\n\t\t{\n\t\t\tuncheckBgColor = '#FFF',\n\t\t\tcheckBgColor = 'rgb(76, 73, 72)',\n\t\t\tborderColor = '#000',\n\t\t\tboxSize = measureCheckbox(ctx).width,\n\t\t} = {}) {\n\tconst checkPoint = typeof check === 'number' ? (check > 1 ? 1 : check) : 1;\n\n\tctx.save();\n\ttry {\n\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n\n\t\tfillRoundRect(\n\t\t\t\tctx,\n\t\t\t\tceil(x) - 1,\n\t\t\t\tceil(y) - 1,\n\t\t\t\tceil(boxSize + 1),\n\t\t\t\tceil(boxSize + 1),\n\t\t\t\tboxSize / 5\n\t\t);\n\t\tctx.lineWidth = 1;\n\t\tctx.strokeStyle = borderColor;\n\t\tstrokeRoundRect(\n\t\t\t\tctx,\n\t\t\t\tceil(x) - 0.5,\n\t\t\t\tceil(y) - 0.5,\n\t\t\t\tceil(boxSize),\n\t\t\t\tceil(boxSize),\n\t\t\t\tboxSize / 5\n\t\t);\n\t\tif (check) {\n\t\t\tctx.lineWidth = ceil(boxSize / 10);\n\t\t\tctx.strokeStyle = uncheckBgColor;\n\t\t\tlet leftWidth = boxSize / 4;\n\t\t\tlet rightWidth = boxSize / 2 * 0.9;\n\t\t\tconst leftLeftPos = x + boxSize * 0.2;\n\t\t\tconst leftTopPos = y + boxSize / 2;\n\n\t\t\tif (checkPoint < 0.5) {\n\t\t\t\tleftWidth *= (checkPoint * 2);\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\n\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\t\t\tif (checkPoint > 0.5) {\n\t\t\t\tif (checkPoint < 1) {\n\t\t\t\t\trightWidth *= ((checkPoint - 0.5) * 2);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n\t\t\t}\n\t\t\tctx.stroke();\n\t\t}\n\t} finally {\n\t\tctx.restore();\n\t}\n}\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n\tconst {\n\t\tbackgroundColor = '#FFF',\n\t\tbgColor = backgroundColor,\n\t\tradius = 4,\n\t\tshadow = {},\n\t} = option;\n\tctx.save();\n\ttry {\n\t\tctx.fillStyle = bgColor;\n\n\t\tif (shadow) {\n\t\t\tconst {\n\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\n\t\t\t\tblur = 1,\n\t\t\t\toffsetX = 0,\n\t\t\t\toffsetY = 2,\n\t\t\t\toffset: {\n\t\t\t\t\tx: ox = offsetX,\n\t\t\t\t\ty: oy = offsetY\n\t\t\t\t} = {},\n\t\t\t} = shadow;\n\t\t\tctx.shadowColor = color;\n\t\t\tctx.shadowBlur = blur; //\n\t\t\tctx.shadowOffsetX = ox;\n\t\t\tctx.shadowOffsetY = oy;\n\t\t}\n\n\t\tfillRoundRect(\n\t\t\t\tctx,\n\t\t\t\tceil(left),\n\t\t\t\tceil(top),\n\t\t\t\tceil(width),\n\t\t\t\tceil(height),\n\t\t\t\tradius\n\t\t);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n/**\n\t * canvashelper\n\t * @type {Object}\n\t * @namespace cheetahGrid.tools.canvashelper\n\t * @memberof cheetahGrid.tools\n\t */\nconst canvashelper = {\n\troundRect,\n\tfillRoundRect,\n\tstrokeRoundRect,\n\tdrawCheckbox,\n\tmeasureCheckbox,\n\tfillTextRect,\n\tdrawButton,\n\tdrawInlineImageRect,\n\tstrokeColorsRect,\n};\n\n\nmodule.exports = canvashelper;\n","'use strict';\n\nconst action = require('./columns/action');\nconst type = require('./columns/type');\nconst style = require('./columns/style');\n\n/**\n * columns\n * @type {Object}\n * @namespace cheetahGrid.columns\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\taction,\n\ttype,\n\tstyle,\n};\n","'use strict';\n\nconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\n\nconst BaseAction = require('./BaseAction');\n\nclass Action extends BaseAction {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._action = option.action;\n\t}\n\tget action() {\n\t\treturn this._action;\n\t}\n\tset action(action) {\n\t\tthis._action = action;\n\t}\n\tclone() {\n\t\treturn new Action(this);\n\t}\n\tgetState(grid) {\n\t\treturn {};\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst state = this.getState(grid);\n\t\tconst action = (cell) => {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst record = grid.getRowRecord(cell.row);\n\t\t\tthis._action(record);\n\t\t};\n\n\t\treturn [\n\t\t\t...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction\n\t\t\t})\n\t\t];\n\t}\n}\n\nmodule.exports = Action;\n","'use strict';\n\nconst {isPromise, event: {cancel}} = require('../../internal/utils');\nconst {EVENT_TYPE: {\n\tCLICK_CELL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tKEYDOWN,\n}} = require('../../core/DrawGrid');\nconst KEY_ENTER = 13;\nfunction bindCellClickAction(grid, col, util, {\n\taction,\n\tmouseOver,\n\tmouseOut\n}) {\n\treturn [\n\t\t// click\n\t\tgrid.listen(CLICK_CELL, (e) => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: e.col,\n\t\t\t\trow: e.row\n\t\t\t});\n\t\t}),\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOver) {\n\t\t\t\tif (!mouseOver({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t})) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}),\n\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOut) {\n\t\t\t\tmouseOut({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t}),\n\t];\n}\nfunction bindCellKeyAction(grid, col, util, {action, acceptKeys = []}) {\n\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\treturn [\n\t\t// enter key down\n\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t\tcancel(e);\n\t\t}),\n\n\t];\n}\n\nmodule.exports = {\n\tbindCellClickAction,\n\tbindCellKeyAction,\n};\n","'use strict';\n\nfunction cubicBezier(x2, y2, x3, y3) {\n\tlet step;\n\tconst err = 0.0001;\n\n\tx2 *= 3;\n\ty2 *= 3;\n\tx3 *= 3;\n\ty3 *= 3;\n\n\treturn function(t) {\n\t\tlet p,\n\t\t\ta,\n\t\t\tb,\n\t\t\tc,\n\t\t\td,\n\t\t\tx,\n\t\t\ts;\n\t\tif (t < 0 || 1 < t) {\n\t\t\tthrow new Error(t);\n\t\t}\n\n\t\tp = step || t;\n\n\t\tdo {\n\t\t\ta = 1 - p;\n\t\t\tb = a * a;\n\t\t\tc = p * p;\n\t\t\td = c * p;\n\n\t\t\tx = x2 * b * p + x3 * a * c + d;\n\t\t\ts = t - x;\n\t\t\tp += s * 0.5;\n\t\t} while (err < Math.abs(s));\n\n\t\tstep = p;\n\t\treturn\ty2 * b * p + y3 * a * c + d;\n\t};\n}\nconst EASINGS = {\n\tlinear(p) {\n\t\treturn p;\n\t},\n\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000),\n};\n\nconst raf = window.requestAnimationFrame || setTimeout;\n\nfunction now() {\n\treturn Date.now();\n}\n/**\n\t * <pre>\n\t * Animates.\n\t * </pre>\n\t * @function\n\t * @param {number} duration animation time.\n\t * @param {function} step step\n\t * @param {function|string} easing easing\n\t * @returns {object} Deferred object.\n\t */\nmodule.exports = (duration, step, easing) => {\n\tconst startedAt = now();\n\n\tif (!easing) {\n\t\teasing = EASINGS.easeInOut;\n\t} else if (typeof easing === 'string') {\n\t\teasing = EASINGS[easing];\n\t}\n\n\tlet canceledFlg = false;\n\tconst createAnim = (resolve, reject) => {\n\t\tconst anim = () => {\n\t\t\tconst point = now() - startedAt;\n\t\t\tif (canceledFlg) {\n\t\t\t\t//cancel\n\t\t\t\tif (reject) { reject(); }\n\t\t\t} else if (point >= duration) {\n\t\t\t\t//end\n\t\t\t\tstep(1);\n\t\t\t\tif (resolve) { resolve(); }\n\t\t\t} else {\n\t\t\t\tstep(easing(point / duration));\n\n\t\t\t\traf(anim, 1);\n\t\t\t}\n\t\t};\n\t\treturn anim;\n\t};\n\tconst cancel = () => {\n\t\tcanceledFlg = true;\n\t};\n\tif (window.Promise) {\n\t\tconst result = new window.Promise((resolve, reject) => {\n\t\t\tconst anim = createAnim(resolve, reject);\n\t\t\tstep(0);\n\t\t\tanim();\n\t\t});\n\t\tresult.cancel = cancel;\n\t\treturn result;\n\t} else {\n\t\tconst anim = createAnim(() => {}, () => {});\n\t\tstep(0);\n\t\tanim();\n\t\treturn {\n\t\t\tcancel,\n\t\t};\n\t}\n};\n","'use strict';\n\nconst Editor = require('./Editor');\nconst {EVENT_TYPE: {\n\tINPUT_CELL,\n\tEDITABLEINPUT_CELL,\n\tSELECTED_CELL,\n\tDBLCLICK_CELL,\n\tDBLTAP_CELL,\n\tKEYDOWN,\n\tMODIFY_STATUS_EDITABLEINPUT_CELL,\n\tSCROLL\n}} = require('../../core/DrawGrid');\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass BaseInputEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t}\n\tclone() {\n\t\treturn new BaseInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tthrow new Error();\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tthrow new Error();\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tthrow new Error();\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tthrow new Error();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tthrow new Error();\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = (cell) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onOpenCellInternal(grid, cell);\n\t\t};\n\n\t\tconst input = (cell, value) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onInputCellInternal(grid, cell, value);\n\t\t};\n\t\treturn [\n\t\t\tgrid.listen(INPUT_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t}, e.value);\n\t\t\t}),\n\t\t\tgrid.listen(DBLCLICK_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(DBLTAP_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\n\t\t\t\te.event.preventDefault();\n\t\t\t\te.event.stopPropagation();\n\t\t\t}),\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\t\tthis.onChangeSelectCellInternal(grid, {col: e.col, row: e.row}, e.selected);\n\t\t\t}),\n\t\t\tgrid.listen(SCROLL, () => {\n\t\t\t\tthis.onGridScrollInternal(grid);\n\t\t\t}),\n\t\t\tgrid.listen(EDITABLEINPUT_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}),\n\t\t\tgrid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onSetInputAttrsInternal(grid, {\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t}, cell.input);\n\t\t\t}),\n\n\t\t];\n\t}\n}\n\nmodule.exports = BaseInputEditor;\n","'use strict';\n\nfunction normalize(options) {\n\tif (!options) {\n\t\treturn [];\n\t}\n\tif (Array.isArray(options)) {\n\t\treturn options;\n\t}\n\tif (typeof options === 'string') {\n\t\treturn normalize(JSON.parse(options));\n\t}\n\tconst result = [];\n\tfor (const k in options) {\n\t\tresult.push({\n\t\t\tvalue: k,\n\t\t\tcaption: options[k]\n\t\t});\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tnormalize,\n};\n","'use strict';\n\nconst BaseStyle = require('./style/BaseStyle');\nconst Style = require('./style/Style');\nconst NumberStyle = require('./style/NumberStyle');\nconst CheckStyle = require('./style/CheckStyle');\nconst ButtonStyle = require('./style/ButtonStyle');\nconst ImageStyle = require('./style/ImageStyle');\nconst IconStyle = require('./style/IconStyle');\nconst PercentCompleteBarStyle = require('./style/PercentCompleteBarStyle');\nconst MultilineTextStyle = require('./style/MultilineTextStyle');\nconst MenuStyle = require('./style/MenuStyle');\n\n/**\n * column styles\n * @type {Object}\n * @namespace cheetahGrid.columns.style\n * @memberof cheetahGrid.columns\n */\nconst style = {\n\tget EVENT_TYPE() {\n\t\treturn BaseStyle.EVENT_TYPE;\n\t},\n\tget BaseStyle() {\n\t\treturn BaseStyle;\n\t},\n\tget Style() {\n\t\treturn Style;\n\t},\n\tget NumberStyle() {\n\t\treturn NumberStyle;\n\t},\n\tget CheckStyle() {\n\t\treturn CheckStyle;\n\t},\n\tget ButtonStyle() {\n\t\treturn ButtonStyle;\n\t},\n\tget ImageStyle() {\n\t\treturn ImageStyle;\n\t},\n\tget IconStyle() {\n\t\treturn IconStyle;\n\t},\n\tget PercentCompleteBarStyle() {\n\t\treturn PercentCompleteBarStyle;\n\t},\n\tget MultilineTextStyle() {\n\t\treturn MultilineTextStyle;\n\t},\n\tget MenuStyle() {\n\t\treturn MenuStyle;\n\t},\n\tof(columnStyle, record, StyleClass) {\n\t\tif (columnStyle) {\n\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\treturn columnStyle;\n\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\n\t\t\t} else if (record && columnStyle in record) {\n\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\n\t\t\t}\n\t\t\treturn new StyleClass(columnStyle);\n\t\t} else {\n\t\t\treturn StyleClass.DEFAULT;\n\t\t}\n\t}\n};\nmodule.exports = style;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'right'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass NumberStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t}\n\tclone() {\n\t\treturn new NumberStyle(this);\n\t}\n}\n\n\nmodule.exports = NumberStyle;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass CheckStyle extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tconst {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor,\n\t\t} = style;\n\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\tthis._checkBgColor = checkBgColor;\n\t\tthis._borderColor = borderColor;\n\t}\n\tget uncheckBgColor() {\n\t\treturn this._uncheckBgColor;\n\t}\n\tset uncheckBgColor(uncheckBgColor) {\n\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget checkBgColor() {\n\t\treturn this._checkBgColor;\n\t}\n\tset checkBgColor(checkBgColor) {\n\t\tthis._checkBgColor = checkBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget borderColor() {\n\t\treturn this._borderColor;\n\t}\n\tset borderColor(borderColor) {\n\t\tthis._borderColor = borderColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new CheckStyle(this);\n\t}\n}\n\n\nmodule.exports = CheckStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass ButtonStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tconst {\n\t\t\tbuttonBgColor,\n\t\t} = style;\n\t\tthis._buttonBgColor = buttonBgColor;\n\t}\n\tget buttonBgColor() {\n\t\treturn this._buttonBgColor;\n\t}\n\tset buttonBgColor(buttonBgColor) {\n\t\tthis._buttonBgColor = buttonBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new ButtonStyle(this);\n\t}\n}\n\n\nmodule.exports = ButtonStyle;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\nlet defaultStyle;\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nclass ImageStyle extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._imageSizing = style.imageSizing;\n\t\tthis._margin = style.margin || 4;\n\t}\n\tget imageSizing() {\n\t\treturn this._imageSizing;\n\t}\n\tset imageSizing(imageSizing) {\n\t\tthis._imageSizing = imageSizing;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new ImageStyle(this);\n\t}\n}\nmodule.exports = ImageStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass IconStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t}\n\tclone() {\n\t\treturn new IconStyle(this);\n\t}\n}\n\n\nmodule.exports = IconStyle;\n","'use strict';\n\nconst Style = require('./Style');\nlet defaultStyle;\nconst DEFAULT_BAR_COLOR = (num) => {\n\tif (num > 80) {\n\t\treturn '#20a8d8';\n\t}\n\tif (num > 50) {\n\t\treturn '#4dbd74';\n\t}\n\tif (num > 20) {\n\t\treturn '#ffc107';\n\t}\n\treturn '#f86c6b';\n};\nclass PercentCompleteBarStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new PercentCompleteBarStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\n\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\n\t\tthis._barHeight = style.barHeight || 3;\n\t}\n\tget barColor() {\n\t\treturn this._barColor;\n\t}\n\tset barColor(barColor) {\n\t\tthis._barColor = barColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget barBgColor() {\n\t\treturn this._barBgColor;\n\t}\n\tset barBgColor(barBgColor) {\n\t\tthis._barBgColor = barBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget barHeight() {\n\t\treturn this._barHeight;\n\t}\n\tset barHeight(barHeight) {\n\t\tthis._barHeight = barHeight;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new PercentCompleteBarStyle(this);\n\t}\n}\nmodule.exports = PercentCompleteBarStyle;\n","'use strict';\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textBaseline = 'top'} = style;\n\tstyle.textBaseline = textBaseline;\n\treturn style;\n}\nlet defaultStyle;\nclass MultilineTextStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new MultilineTextStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._lineHeight = style.lineHeight || '1em';\n\t\tthis._autoWrapText = style.autoWrapText || false;\n\t\tthis._lineClamp = style.lineClamp;\n\t}\n\tclone() {\n\t\treturn new MultilineTextStyle(this);\n\t}\n\tget lineHeight() {\n\t\treturn this._lineHeight;\n\t}\n\tset lineHeight(lineHeight) {\n\t\tthis._lineHeight = lineHeight;\n\t\tthis.doChangeStyle();\n\t}\n\tget lineClamp() {\n\t\treturn this._lineClamp;\n\t}\n\tset lineClamp(lineClamp) {\n\t\tthis._lineClamp = lineClamp;\n\t\tthis.doChangeStyle();\n\t}\n\tget autoWrapText() {\n\t\treturn this._autoWrapText;\n\t}\n\tset autoWrapText(autoWrapText) {\n\t\tthis._autoWrapText = autoWrapText;\n\t\tthis.doChangeStyle();\n\t}\n}\nmodule.exports = MultilineTextStyle;","'use strict';\n\nconst Style = require('./Style');\n\nlet defaultStyle;\nclass MenuStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tconst {\n\t\t\tappearance,\n\t\t} = style;\n\t\tthis._appearance = appearance;\n\t}\n\tget appearance() {\n\t\treturn this._appearance || 'menulist-button';\n\t}\n\tset appearance(appearance) {\n\t\tthis._appearance = appearance;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new MenuStyle(this);\n\t}\n}\n\n\nmodule.exports = MenuStyle;\n","'use strict';\n\nconst {then} = require('./utils');\nconst LRUCache = require('./LRUCache');\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n\treturn url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n\tif (!window.Promise) {\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\n\t\treturn {\n\t\t\tthen() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t}\n\tconst img = new Image();\n\tconst result = new window.Promise((resolve) => {\n\t\timg.onload = () => {\n\t\t\tresolve(img);\n\t\t};\n\t});\n\timg.onerror = (e) => {\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n\t\tconsole.warn(`cannot load: ${url}`);\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\n\t};\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n\treturn result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n\treturn then(src, (src) => {\n\t\tconst c = cache.get(src);\n\t\tif (c) {\n\t\t\treturn c;\n\t\t}\n\t\tconst result = loadImage(src).then((img) => {\n\t\t\tcache.put(src, img);\n\t\t\treturn img;\n\t\t});\n\t\tcache.put(src, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n\treturn getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n\tloadImage,\n\tgetCacheOrLoad,\n};\n","'use strict';\n\nmodule.exports = {};","'use strict';\n\nconst DataSource = require('./data/DataSource');\nconst CachedDataSource = require('./data/CachedDataSource');\nconst FilterDataSource = require('./data/FilterDataSource');\n\n\n/**\n * data modules\n * @type {Object}\n * @namespace cheetahGrid.data\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\tDataSource,\n\tCachedDataSource,\n\tFilterDataSource\n};\n","'use strict';\n\nconst {isPromise} = require('./utils');\n\nfunction wait(val) {\n\treturn val.then((v) => {\n\t\tif (isPromise(v)) {\n\t\t\treturn wait(v);\n\t\t} else {\n\t\t\treturn v;\n\t\t}\n\t});\n}\nfunction createArray(get, length) {\n\tconst array = new Array(length);\n\tfor (let i = 0; i < length; i++) {\n\t\tarray[i] = get(i);\n\t}\n\treturn array;\n}\nfunction createArrayPromise(get, getField, length) {\n\treturn new Promise((resolve) => {\n\t\tconst plist = [];\n\t\tconst array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst data = get(i);\n\t\t\tconst record = {\n\t\t\t\tv: data,\n\t\t\t\tf: data\n\t\t\t};\n\t\t\tarray[i] = record;\n\t\t\tif (isPromise(data)) {\n\t\t\t\tplist.push(wait(data).then((v) => {\n\t\t\t\t\trecord.v = v;\n\t\t\t\t\trecord.f = v;\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tPromise.all(plist).then(\n\t\t\t\t() => setArrayField(array, getField)\n\t\t).then(resolve);\n\t});\n}\nfunction setArrayField(array, getField) {\n\tif (!getField) {\n\t\treturn Promise.resolve(array);\n\t}\n\treturn new Promise((resolve) => {\n\t\tconst {length} = array;\n\t\tconst plist = [];\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst record = array[i];\n\t\t\trecord.f = getField(record.v);\n\t\t\tif (isPromise(record.f)) {\n\t\t\t\tplist.push(wait(record.f).then((v) => {\n\t\t\t\t\trecord.f = v;\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tPromise.all(plist).then(() => resolve(array));\n\t});\n}\nconst sort = {\n\tsort(get, set, length, compare, getField) {\n\t\tconst old = createArray(get, length);\n\t\tif (getField) {\n\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\n\t\t} else {\n\t\t\told.sort(compare);\n\t\t}\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tset(i, old[i]);\n\t\t}\n\t},\n\tsortArray(array, compare) {\n\t\tArray.prototype.sort.call(array, compare);\n\t},\n\tsortPromise(get, set, length, compare, getField) {\n\t\tif (window.Promise) {\n\t\t\treturn createArrayPromise(get, getField, length).then((array) => {\n\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tset(i, array[i].v);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsort.sort(get, set, length, compare, getField);\n\t\t\tconst dummyPromise = {\n\t\t\t\tthen(fn) {\n\t\t\t\t\tfn();\n\t\t\t\t\treturn dummyPromise;\n\t\t\t\t},\n\t\t\t\tcatch() {\n\t\t\t\t\treturn dummyPromise;\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn dummyPromise;\n\t\t}\n\t}\n};\nmodule.exports = sort;\n","/*eslint no-bitwise:0*/\n'use strict';\n\nconst {calcStartPosition, getFontSize} = require('./internal/canvases');\nconst inlineUtils = require('./element/inlines');\nconst canvashelper = require('./tools/canvashelper');\nconst themes = require('./themes');\nconst {colorToRGB} = require('./internal/color');\nconst Rect = require('./internal/Rect');\nconst {getChainSafe, getOrApply, style: {toBoxArray}, isDef} = require('./internal/utils');\nconst fonts = require('./internal/fonts');\nconst calc = require('./internal/calc');\n\n\nconst INLINE_ELLIPSIS = inlineUtils.of('\\u2026');\n\nfunction invalidateCell(context, grid) {\n\tconst {col, row} = context;\n\tgrid.invalidateCell(col, row);\n}\nfunction getColor(color, col, row, grid, context) {\n\treturn getOrApply(color, {\n\t\tcol,\n\t\trow,\n\t\tgrid,\n\t\tcontext,\n\t});\n}\nfunction getThemeColor(grid, ...names) {\n\tconst gridThemeColor = getChainSafe(grid.theme, ...names);\n\tif (!isDef(gridThemeColor)) {\n\t\t// use default theme\n\t\treturn getChainSafe(themes.default, ...names);\n\t}\n\tif (typeof gridThemeColor !== 'function') {\n\t\treturn gridThemeColor;\n\t}\n\tlet defaultThemeColor;\n\treturn (...args) => {\n\t\tconst color = gridThemeColor(...args);\n\t\tif (isDef(color)) {\n\t\t\t// use grid theme\n\t\t\treturn color;\n\t\t}\n\t\t// use default theme\n\t\tdefaultThemeColor = (defaultThemeColor || getChainSafe(themes.default, ...names));\n\t\treturn\tgetOrApply(defaultThemeColor, ...args);\n\t};\n}\nfunction testFontLoad(font, value, context, grid) {\n\tif (font) {\n\t\tif (!fonts.check(font, value)) {\n\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n\tfunction drawInline(inline, offsetLeft, offsetRight) {\n\t\tif (inline.canDraw()) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n\t\t\t\tctx.font = inline.font() || ctx.font;\n\t\t\t\tinline.draw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom,\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t} else {\n\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\n\t\t\t//noop\n\t\t}\n\t}\n\tif (inlines.length === 1) {\n\t\t//1\n\t\tconst inline = inlines[0];\n\t\tdrawInline(inline, 0, 0);\n\t} else {\n\t\tconst inlineWidths = inlines.map((inline) => (inline.width({ctx}) || 0) - 0);\n\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\n\n\t\tlet offsetLeft = 0;\n\t\tinlines.forEach((inline, index) => {\n\t\t\tconst inlineWidth = inlineWidths[index];\n\t\t\toffsetRight -= inlineWidth;\n\t\t\tdrawInline(inline, offsetLeft, offsetRight);\n\t\t\toffsetLeft += inlineWidth;\n\t\t});\n\t}\n}\n\nfunction buildInlines(icons, inline) {\n\treturn inlineUtils.buildInlines(icons, inline);\n}\n\nfunction inlineToString(inline) {\n\treturn inlineUtils.string(inline);\n}\n\nfunction getOverflowInline(textOverflow) {\n\tif (!isAllowOverflow(textOverflow) || textOverflow === 'ellipsis') {\n\t\treturn INLINE_ELLIPSIS;\n\t}\n\ttextOverflow = textOverflow.trim();\n\tif (textOverflow.length === 1) {\n\t\treturn inlineUtils.of(textOverflow[0]);\n\t}\n\treturn INLINE_ELLIPSIS;\n}\n\nfunction isAllowOverflow(textOverflow) {\n\treturn textOverflow && textOverflow !== 'clip' && typeof textOverflow === 'string';\n}\n\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n\tconst maxWidth = width - 3/*buffer*/;\n\tlet lineWidth = 0;\n\tfor (let i = 0; i < inlines.length; i++) {\n\t\tconst inline = inlines[i];\n\t\tconst inlineWidth = (inline.width({ctx}) || 0) - 0;\n\t\tif (lineWidth + inlineWidth > maxWidth) {\n\t\t\treturn {\n\t\t\t\tindex: i,\n\t\t\t\tlineWidth,\n\t\t\t\tremWidth: maxWidth - lineWidth\n\t\t\t};\n\t\t}\n\t\tlineWidth += inlineWidth;\n\t}\n\treturn null;\n}\n\nfunction isOverflowInlines(ctx, inlines, width) {\n\treturn !!getOverflowInlinesIndex(ctx, inlines, width);\n}\n\nfunction breakWidthInlines(ctx, inlines, width) {\n\tconst indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\tif (!indexData) {\n\t\treturn {\n\t\t\tbeforeInlines: inlines,\n\t\t\toverflow: false,\n\t\t\tafterInlines: [],\n\t\t};\n\t}\n\tconst {index, remWidth} = indexData;\n\tconst inline = inlines[index];\n\tconst beforeInlines = inlines.slice(0, index);\n\tconst afterInlines = [];\n\tif (inline.canBreak()) {\n\t\tlet {before, after} = inline.breakWord(ctx, remWidth);\n\t\tif (!before && !beforeInlines.length) {\n\t\t\t({before, after} = inline.breakAll(ctx, remWidth));\n\t\t}\n\t\tif (!before && !beforeInlines.length) { // Always return one char\n\t\t\t({before, after} = inline.splitIndex(1));\n\t\t}\n\t\tif (before) {\n\t\t\tbeforeInlines.push(before);\n\t\t}\n\t\tif (after) {\n\t\t\tafterInlines.push(after);\n\t\t}\n\t\tafterInlines.push(...inlines.slice(index + 1));\n\t} else {\n\t\tif (!beforeInlines.length) { // Always return one char\n\t\t\tbeforeInlines.push(inline);\n\t\t}\n\t\tafterInlines.push(...inlines.slice(beforeInlines.length));\n\t}\n\treturn {\n\t\tbeforeInlines,\n\t\toverflow: true,\n\t\tafterInlines,\n\t};\n}\n\n\nfunction truncateInlines(ctx, inlines, width, option) {\n\tconst indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\tif (!indexData) {\n\t\treturn {\n\t\t\tinlines,\n\t\t\toverflow: false,\n\t\t};\n\t}\n\tconst {index, lineWidth} = indexData;\n\tconst inline = inlines[index];\n\tconst overflowInline = getOverflowInline(option);\n\tconst ellipsisWidth = overflowInline.width({ctx});\n\tconst remWidth = width - lineWidth - ellipsisWidth;\n\tconst result = inlines.slice(0, index);\n\tif (inline.canBreak()) {\n\t\tconst {before} = inline.breakAll(ctx, remWidth);\n\t\tif (before) {\n\t\t\tresult.push(before);\n\t\t}\n\t}\n\tresult.push(overflowInline);\n\treturn {\n\t\tinlines: result,\n\t\toverflow: true,\n\t};\n}\n\nfunction _inlineRect(grid, ctx, inline, rect, col, row,\n\t\t{\n\t\t\toffset,\n\t\t\tcolor,\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t\ticons,\n\t\t} = {}) {\n\n\t//style\n\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\tctx.font = font || ctx.font;\n\n\tlet inlines = buildInlines(icons, inline);\n\tif (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, rect.width)) {\n\t\tconst {inlines: truncInlines, overflow} = truncateInlines(\n\t\t\t\tctx,\n\t\t\t\tinlines,\n\t\t\t\trect.width,\n\t\t\t\ttextOverflow\n\t\t);\n\t\tinlines = truncInlines;\n\t\tgrid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n\t} else {\n\t\tgrid.setCellOverflowText(col, row, false);\n\t}\n\n\tdrawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row,\n\t\t{\n\t\t\toffset,\n\t\t\tcolor,\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tfont,\n\t\t\tlineHeight,\n\t\t\tautoWrapText,\n\t\t\tlineClamp,\n\t\t\ttextOverflow,\n\t\t\ticons,\n\t\t} = {}) {\n\t//style\n\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\tctx.font = font || ctx.font;\n\n\tif (lineClamp === 'auto') {\n\t\tconst rectHeight = rect.height - offset * 2 - 2/*offset added by Inline#draw*/;\n\t\tlineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n\t}\n\n\tlet buildedMultiInlines;\n\tif (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n\t\tconst {width} = rect;\n\t\tbuildedMultiInlines = [];\n\t\tconst procLineClamp = lineClamp > 0 ? (inlines, hasNext) => {\n\t\t\tif (buildedMultiInlines.length + 1 >= lineClamp) {\n\t\t\t\tif (inlines.length === 0 && hasNext) {\n\t\t\t\t\tbuildedMultiInlines.push([getOverflowInline(textOverflow)]);\n\t\t\t\t\tgrid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n\t\t\t\t} else {\n\t\t\t\t\tconst {inlines: truncInlines, overflow} = truncateInlines(ctx, inlines, width, textOverflow);\n\t\t\t\t\tbuildedMultiInlines.push(hasNext && !overflow\n\t\t\t\t\t\t? truncInlines.concat([getOverflowInline(textOverflow)])\n\t\t\t\t\t\t: truncInlines);\n\t\t\t\t\tif (overflow || hasNext) {\n\t\t\t\t\t\tgrid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} : () => true;\n\t\tconst procLine =\n\t\t\t\tautoWrapText ? (inlines, hasNext) => {\n\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\twhile (inlines.length) {\n\t\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst {beforeInlines, afterInlines} = breakWidthInlines(ctx, inlines, width);\n\t\t\t\t\t\tbuildedMultiInlines.push(beforeInlines);\n\t\t\t\t\t\tinlines = afterInlines;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t: isAllowOverflow(textOverflow) ? (inlines, hasNext) => {\n\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst {inlines: truncInlines, overflow} = truncateInlines(\n\t\t\t\t\t\t\tctx,\n\t\t\t\t\t\t\tinlines,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\ttextOverflow\n\t\t\t\t\t);\n\t\t\t\t\tbuildedMultiInlines.push(truncInlines);\n\t\t\t\t\tif (overflow) {\n\t\t\t\t\t\tgrid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t: (inlines, hasNext) => {\n\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tbuildedMultiInlines.push(inlines);\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\tgrid.setCellOverflowText(col, row, false);\n\t\tfor (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n\t\t\tconst inline = multiInlines[lineRow];\n\t\t\tconst buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n\t\t\tif (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tgrid.setCellOverflowText(col, row, false);\n\t\tbuildedMultiInlines = multiInlines.\n\t\t\tmap((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n\t}\n\n\n\tlet paddingTop = 0;\n\tlet paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n\n\tif (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\tconst pad = (lineHeight - em) / 2;\n\t\tpaddingTop += pad;\n\t\tpaddingBottom -= pad;\n\t} else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\tconst pad = (lineHeight - em) / 2;\n\t\tpaddingTop -= pad;\n\t\tpaddingBottom += pad;\n\t}\n\tbuildedMultiInlines.forEach((buildedInline) => {\n\t\tdrawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\tpaddingTop += lineHeight;\n\t\tpaddingBottom -= lineHeight;\n\t});\n}\n\n\nfunction drawCheckbox(ctx, rect, col, row, check, helper,\n\t\t{\n\t\t\tanimElapsedTime = 1,\n\t\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n\t\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\n\t\t\tborderColor = helper.theme.checkbox.borderColor,\n\t\t\ttextAlign = 'center',\n\t\t\ttextBaseline = 'middle',\n\t\t} = {}\n) {\n\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1/*+1*/, boxWidth + 1/*+1*/);\n\tuncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n\tcheckBgColor = helper.getColor(checkBgColor, col, row, ctx);\n\tborderColor = helper.getColor(borderColor, col, row, ctx);\n\tif (0 < animElapsedTime && animElapsedTime < 1) {\n\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\n\t\tconst checkBgRGB = colorToRGB(checkBgColor);\n\t\tconst checkRGB = (colorName) => {\n\t\t\tconst start = uncheckBgRGB[colorName];\n\t\t\tconst end = checkBgRGB[colorName];\n\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\treturn end;\n\t\t\t}\n\t\t\tconst diff = start - end;\n\t\t\treturn Math.ceil(start - diff * animElapsedTime);\n\t\t};\n\t\tconst uncheckRGB = (colorName) => {\n\t\t\tconst end = uncheckBgRGB[colorName];\n\t\t\tconst start = checkBgRGB[colorName];\n\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\treturn end;\n\t\t\t}\n\t\t\tconst diff = end - start;\n\t\t\treturn Math.ceil(start + diff * animElapsedTime);\n\t\t};\n\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n\t}\n\n\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n\t\tuncheckBgColor,\n\t\tcheckBgColor,\n\t\tborderColor,\n\t});\n}\n\nclass ThemeResolver {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tgetThemeColor(...name) {\n\t\treturn getThemeColor(this._grid, ...name);\n\t}\n\tget font() {\n\t\treturn getThemeColor(this._grid, 'font');\n\t}\n\tget underlayBackgroundColor() {\n\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\n\t}\n\t// color\n\tget color() {\n\t\treturn getThemeColor(this._grid, 'color');\n\t}\n\tget frozenRowsColor() {\n\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\n\t}\n\t// background\n\tget defaultBgColor() {\n\t\treturn getThemeColor(this._grid, 'defaultBgColor');\n\t}\n\tget frozenRowsBgColor() {\n\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\n\t}\n\tget selectionBgColor() {\n\t\treturn getThemeColor(this._grid, 'selectionBgColor');\n\t}\n\t// border\n\tget borderColor() {\n\t\treturn getThemeColor(this._grid, 'borderColor');\n\t}\n\tget frozenRowsBorderColor() {\n\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\n\t}\n\tget highlightBorderColor() {\n\t\treturn getThemeColor(this._grid, 'highlightBorderColor');\n\t}\n\tget checkbox() {\n\t\tconst grid = this._grid;\n\t\treturn this._checkbox || (this._checkbox = {\n\t\t\tget uncheckBgColor() {\n\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n\t\t\t},\n\t\t\tget checkBgColor() {\n\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\n\t\t\t},\n\t\t\tget borderColor() {\n\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\n\t\t\t}\n\t\t});\n\t}\n\tget button() {\n\t\tconst grid = this._grid;\n\t\treturn this._button || (this._button = {\n\t\t\tget color() {\n\t\t\t\treturn getThemeColor(grid, 'button', 'color');\n\t\t\t},\n\t\t\tget bgColor() {\n\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\n\t\t\t},\n\t\t});\n\t}\n\tget header() {\n\t\tconst grid = this._grid;\n\t\treturn this._header || (this._header = {\n\t\t\tget sortArrowColor() {\n\t\t\t\treturn getThemeColor(grid, 'header', 'sortArrowColor');\n\t\t\t},\n\t\t});\n\t}\n}\n\n\nfunction strokeRect(ctx, color, left, top, width, height) {\n\tif (!Array.isArray(color)) {\n\t\tif (color) {\n\t\t\tctx.strokeStyle = color;\n\t\t\tctx.strokeRect(left, top, width, height);\n\t\t}\n\t} else {\n\t\tconst borderColors = toBoxArray(color);\n\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n\t}\n}\n\nclass GridCanvasHelper {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t\tthis._theme = new ThemeResolver(grid);\n\t}\n\tcreateCalculator(context, font) {\n\t\treturn {\n\t\t\tcalcWidth(width) {\n\t\t\t\treturn calc.toPx(width, {\n\t\t\t\t\tget full() {\n\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\treturn rect.width;\n\t\t\t\t\t},\n\t\t\t\t\tget em() {\n\t\t\t\t\t\treturn getFontSize(context.getContext(), font).width;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tcalcHeight(height) {\n\t\t\t\treturn calc.toPx(height, {\n\t\t\t\t\tget full() {\n\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\treturn rect.height;\n\t\t\t\t\t},\n\t\t\t\t\tget em() {\n\t\t\t\t\t\treturn getFontSize(context.getContext(), font).height;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\tgetColor(color, col, row, ctx) {\n\t\treturn getColor(color, col, row, this._grid, ctx);\n\t}\n\ttoBoxArray(obj) {\n\t\treturn toBoxArray(obj);\n\t}\n\ttoBoxPixelArray(value, context, font) {\n\t\tif (typeof value === 'string' || Array.isArray(value)) {\n\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\tconst box = toBoxArray(value);\n\t\t\treturn [\n\t\t\t\tcalculator.calcHeight(box[0]),\n\t\t\t\tcalculator.calcWidth(box[1]),\n\t\t\t\tcalculator.calcHeight(box[2]),\n\t\t\t\tcalculator.calcWidth(box[3]),\n\t\t\t];\n\t\t}\n\t\treturn toBoxArray(value);\n\t}\n\tget theme() {\n\t\treturn this._theme;\n\t}\n\tdrawWithClip(context, draw) {\n\t\tconst drawRect = context.getDrawRect();\n\t\tif (!drawRect) {\n\t\t\treturn;\n\t\t}\n\t\tconst ctx = context.getContext();\n\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\tdraw(ctx);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tdrawBorderWithClip(context, draw) {\n\t\tconst drawRect = context.getDrawRect();\n\t\tif (!drawRect) {\n\t\t\treturn;\n\t\t}\n\t\tconst rect = context.getRect();\n\t\tconst ctx = context.getContext();\n\t\tctx.save();\n\t\ttry {\n\t\t\t//clip\n\t\t\tctx.beginPath();\n\t\t\tlet clipLeft = drawRect.left;\n\t\t\tlet clipWidth = drawRect.width;\n\t\t\tif (drawRect.left === rect.left) {\n\t\t\t\tclipLeft += -1;\n\t\t\t\tclipWidth += 1;\n\t\t\t}\n\t\t\tlet clipTop = drawRect.top;\n\t\t\tlet clipHeight = drawRect.height;\n\t\t\tif (drawRect.top === rect.top) {\n\t\t\t\tclipTop += -1;\n\t\t\t\tclipHeight += 1;\n\t\t\t}\n\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n\t\t\tctx.clip();\n\n\t\t\tdraw(ctx);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\ttext(text, context,\n\t\t\t{\n\t\t\t\tpadding,\n\t\t\t\toffset = 2,\n\t\t\t\tcolor,\n\t\t\t\ttextAlign = 'left',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tfont,\n\t\t\t\ttextOverflow = 'clip',\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\tlet rect = context.getRect();\n\n\t\tconst {col, row} = context;\n\n\t\tif (!color) {\n\t\t\t({color} = this.theme);\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t}\n\t\t}\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tif (padding) {\n\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t}\n\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\ttextOverflow,\n\t\t\t\t\t\ticons,\n\t\t\t\t\t});\n\t\t});\n\t}\n\tmultilineText(multilines, context,\n\t\t\t{\n\t\t\t\tpadding,\n\t\t\t\toffset = 2,\n\t\t\t\tcolor,\n\t\t\t\ttextAlign = 'left',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tfont,\n\t\t\t\tlineHeight = '1em',\n\t\t\t\tautoWrapText = false,\n\t\t\t\tlineClamp = 0,\n\t\t\t\ttextOverflow = 'clip',\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\tlet rect = context.getRect();\n\n\t\tconst {col, row} = context;\n\n\t\tif (!color) {\n\t\t\t({color} = this.theme);\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t}\n\t\t}\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tif (padding) {\n\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t}\n\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\tlineHeight = calculator.calcHeight(lineHeight);\n\t\t\t_multiInlineRect(this._grid, ctx, multilines, rect, col, row,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\tlineHeight,\n\t\t\t\t\t\tautoWrapText,\n\t\t\t\t\t\tlineClamp,\n\t\t\t\t\t\ttextOverflow,\n\t\t\t\t\t\ticons,\n\t\t\t\t\t});\n\t\t});\n\t}\n\tfillText(text, x, y, context,\n\t\t\t{\n\t\t\t\tcolor,\n\t\t\t\ttextAlign = 'left',\n\t\t\t\ttextBaseline = 'top',\n\t\t\t\tfont,\n\t\t\t} = {}) {\n\n\t\tconst {col, row} = context;\n\n\t\tif (!color) {\n\t\t\t({color} = this.theme);\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t}\n\t\t}\n\t\tconst ctx = context.getContext();\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n\t\t\tctx.textAlign = textAlign;\n\t\t\tctx.textBaseline = textBaseline;\n\t\t\tctx.font = font || ctx.font;\n\t\t\tctx.fillText(text, x, y);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfillCell(context,\n\t\t\t{\n\t\t\t\tfillColor = this.theme.defaultBgColor,\n\t\t\t} = {}) {\n\t\tconst rect = context.getRect();\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\tctx.fill();\n\t\t});\n\t}\n\tfillCellWithState(context, option = {}) {\n\t\toption.fillColor = this.getFillColorState(context, option);\n\t\tthis.fillCell(context, option);\n\t}\n\tfillRect(rect, context,\n\t\t\t{\n\t\t\t\tfillColor = this.theme.defaultBgColor,\n\t\t\t} = {}) {\n\n\t\tconst ctx = context.getContext();\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst {col, row} = context;\n\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\tctx.fill();\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfillRectWithState(rect, context, option = {}) {\n\t\toption.fillColor = this.getFillColorState(context, option);\n\n\t\tthis.fillRect(rect, context, option);\n\t}\n\tgetFillColorState(context, option = {}) {\n\t\tconst state = context.getSelectState();\n\t\tconst {col, row} = context;\n\t\tif (!state.selected && state.selection) {\n\t\t\treturn this.theme.selectionBgColor;\n\t\t}\n\t\tif (option.fillColor) {\n\t\t\treturn option.fillColor;\n\t\t}\n\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\treturn this.theme.frozenRowsBgColor;\n\t\t}\n\t\treturn this.theme.defaultBgColor;\n\t}\n\tborder(context,\n\t\t\t{\n\t\t\t\tborderColor = this.theme.borderColor,\n\t\t\t\tlineWidth = 1,\n\t\t\t} = {}) {\n\t\tconst rect = context.getRect();\n\n\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n\t\t\tif (lineWidth === 1) {\n\t\t\t\tctx.lineWidth = 1;\n\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n\t\t\t} else if (lineWidth === 2) {\n\t\t\t\tctx.lineWidth = 2;\n\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n\t\t\t} else {\n\t\t\t\tctx.lineWidth = lineWidth;\n\t\t\t\tconst startOffset = (lineWidth / 2) - 1;\n\t\t\t\tstrokeRect(ctx, borderColors,\n\t\t\t\t\t\trect.left + startOffset,\n\t\t\t\t\t\trect.top + startOffset,\n\t\t\t\t\t\trect.width - lineWidth + 1,\n\t\t\t\t\t\trect.height - lineWidth + 1\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\tborderWithState(context, option = {}) {\n\t\tconst rect = context.getRect();\n\t\tconst state = context.getSelectState();\n\t\tconst {col, row} = context;\n\n\t\t//\n\t\tif (state.selected) {\n\t\t\toption.borderColor = this.theme.highlightBorderColor;\n\t\t\toption.lineWidth = 2;\n\t\t\tthis.border(context, option);\n\t\t} else {\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\n\t\t\t}\n\n\t\t\toption.lineWidth = 1;\n\t\t\tthis.border(context, option);\n\n\t\t\t//\n\t\t\tconst sel = this._grid.selection.select;\n\t\t\tif (sel.col + 1 === col && sel.row === row) {\n\t\t\t\t//\n\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColors = toBoxArray(\n\t\t\t\t\t\t\tgetColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t});\n\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\n\t\t\t\t//\n\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColors = toBoxArray(\n\t\t\t\t\t\t\tgetColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tcheckbox(check, context, option = {}) {\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tdrawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n\t\t});\n\t}\n\tbutton(caption, context,\n\t\t\t{\n\t\t\t\tbgColor = this.theme.button.bgColor,\n\t\t\t\tpadding,\n\t\t\t\toffset = 2,\n\t\t\t\tcolor = this.theme.button.color,\n\t\t\t\ttextAlign = 'center',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tshadow,\n\t\t\t\tfont,\n\t\t\t\ttextOverflow = 'clip',\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\tconst rect = context.getRect();\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n\t\t\tconst left = rect.left + padding[3];\n\t\t\tconst top = rect.top + padding[0];\n\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\tconst height = rect.height - padding[0] - padding[2];\n\n\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\n\t\t\t\tbgColor,\n\t\t\t\tradius: rect.height / 8,\n\t\t\t\toffset,\n\t\t\t\tshadow,\n\t\t\t});\n\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height),\n\t\t\t\t\tcol, row,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\ttextOverflow,\n\t\t\t\t\t\ticons,\n\t\t\t\t\t});\n\t\t});\n\t}\n\ttestFontLoad(font, value, context) {\n\t\treturn testFontLoad(font, value, context, this._grid);\n\t}\n}\n\nmodule.exports = GridCanvasHelper;","'use strict';\n\nconst loads = {};\nconst legacy = !document.fonts;\nconst load = legacy ? function(font, testStr, callback) {\n\t//for legacy(IE)\n\tif (loads[`${font} @ ${testStr}`]) {\n\t\tcallback();\n\t\treturn;\n\t}\n\trequire('./legacy/fontwatch/FontWatchRunner').load(font, testStr, () => {\n\t\tloads[`${font} @ ${testStr}`] = true;\n\t\tcallback();\n\t}, () => {\n\t\tloads[`${font} @ ${testStr}`] = true;\n\t\tcallback();\n\t});\n} : function(font, testStr, callback) {\n\tif (loads.all || loads[font]) {\n\t\tcallback();\n\t\treturn;\n\t}\n\tdocument.fonts.ready.then(() => {\n\t\tloads.all = true;\n\t});\n\tdocument.fonts.load(font).then(() => {\n\t\tloads[font] = true;\n\t\tcallback();\n\t});\n};\nconst check = legacy ? function(font, testStr) {\n\t//for legacy(IE)\n\tif (loads[`${font} @ ${testStr}`]) {\n\t\treturn true;\n\t}\n\tload(font, testStr, () => {});\n\treturn false;\n} : function(font, testStr) {\n\tif (loads.all || loads[font]) {\n\t\treturn true;\n\t}\n\tif (!document.fonts.check(font)) {\n\t\tload(font, testStr, () => {});\n\t\treturn false;\n\t}\n\treturn true;\n};\n\n\nmodule.exports = {\n\tcheck,\n\tload\n};\n","'use strict';\n\nconst Inline = require('./Inline');\nconst {getCacheOrLoad} = require('../internal/imgs');\nconst {isPromise} = require('../internal/utils');\n\nclass InlineImage extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tsrc,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\timageLeft,\n\t\t\t\timageTop,\n\t\t\t\timageWidth,\n\t\t\t\timageHeight,\n\t\t\t}) {\n\t\tsuper();\n\t\tthis._src = src;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._imageLeft = imageLeft;\n\t\tthis._imageTop = imageTop;\n\t\tthis._imageWidth = imageWidth;\n\t\tthis._imageHeight = imageHeight;\n\n\t\tthis._onloaded = [];\n\n\n\t\tthis._loaded = false;\n\t\tif (isPromise(src)) {\n\t\t\tsrc.then((s) => {\n\t\t\t\tthis._src = s;\n\t\t\t\tthis._loadImage(s);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loadImage(src);\n\t\t}\n\n\t}\n\t_loadImage(src) {\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\t\tif (isPromise(img)) {\n\t\t\timg.then((i) => {\n\t\t\t\tthis._loaded = true;\n\t\t\t\tthis._inlineImg = i;\n\n\t\t\t\tthis._onloaded.forEach((fn) => fn());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loaded = true;\n\t\t}\n\t}\n\twidth({ctx}) {\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn this._loaded;\n\t}\n\tonReady(callback) {\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\n\t\t\tthis._onloaded.push(() => callback());\n\t\t}\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tconst img = this._inlineImg;\n\t\tcanvashelper.drawInlineImageRect(ctx, img,\n\t\t\t\tthis._imageLeft || 0, this._imageTop || 0,\n\t\t\t\tthis._imageWidth || img.width, this._imageHeight || img.height,\n\t\t\t\tthis._width || img.width, this._height || img.height,\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t{\n\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\tpadding: {\n\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineImage;","/*eslint-disable camelcase*/\n'use strict';\n\nconst {extend} = require('./internal/utils');\nconst plugins = require('./plugins/icons');\nconst builtins = {\n\tget arrow_upward() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg');\n\t},\n\tget arrow_downward() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg');\n\t},\n\tget edit() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/image/svg/production/ic_edit_48px.svg');\n\t},\n\tget add() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/content/svg/production/ic_add_48px.svg');\n\t},\n\tget star() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg');\n\t},\n\tget star_border() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg');\n\t},\n\tget star_half() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg');\n\t},\n};\n\nmodule.exports = {\n\tget() {\n\t\treturn extend(builtins, plugins);\n\t}\n};","'use strict';\n\nmodule.exports = {};","'use strict';\n\nconst rgbMap = {};\nfunction styleColorToRGB(color) {\n\tconst dummy = document.createElement('div');\n\tconst {style} = dummy;\n\tstyle.color = color;\n\tstyle.position = 'fixed';\n\tstyle.height = '1px';\n\tstyle.width = '1px';\n\tstyle.opacity = 0;\n\tdocument.body.appendChild(dummy);\n\tconst {color: styleColor} = document.defaultView.getComputedStyle(dummy, '');\n\tdocument.body.removeChild(dummy);\n\treturn colorToRGB0(styleColor);\n}\n\nfunction hexToNum(hex) {\n\treturn parseInt(hex, 16);\n}\nfunction createRGB(r, g, b, a = 1) {\n\treturn {r, g, b, a};\n}\nfunction tripleHexToRGB({1: r, 2: g, 3: b}) {\n\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\nfunction sextupleHexToRGB({1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2}) {\n\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\n\nfunction testRGB({r, g, b, a}) {\n\treturn 0 <= r && r <= 255 &&\n\t\t0 <= g && g <= 255 &&\n\t\t0 <= b && b <= 255 &&\n\t\t0 <= a && a <= 1;\n}\nfunction rateToByte(r) {\n\treturn Math.ceil(r * 255 / 100);\n}\nfunction colorToRGB0(color) {\n\tif (color.match(/^#[0-9a-f]{3}$/i)) {\n\t\treturn tripleHexToRGB(color);\n\t}\n\tif (color.match(/^#[0-9a-f]{6}$/i)) {\n\t\treturn sextupleHexToRGB(color);\n\t}\n\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\treturn null;\n}\nfunction colorToRGB(color) {\n\tif (typeof color !== 'string') {\n\t\treturn createRGB(0, 0, 0, 0);\n\t}\n\tcolor = color.toLowerCase().trim();\n\tif (rgbMap[color]) {\n\t\treturn rgbMap[color];\n\t}\n\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\n\nmodule.exports = {\n\tcolorToRGB\n};\n","'use strict';\n\nconst EventTarget = require('../../core/EventTarget');\n\nconst EVENT_TYPE = {\n\tCHANGE_STYLE: 'change_style',\n};\n\nlet defaultStyle;\nclass BaseStyle extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n\t}\n\tconstructor(\n\t\t\t{\n\t\t\t\tbgColor\n\t\t\t} = {}) {\n\t\tsuper();\n\t\tthis._bgColor = bgColor;\n\t}\n\tget bgColor() {\n\t\treturn this._bgColor;\n\t}\n\tset bgColor(bgColor) {\n\t\tthis._bgColor = bgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tdoChangeStyle() {\n\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t}\n\tclone() {\n\t\treturn new BaseStyle(this);\n\t}\n}\nmodule.exports = BaseStyle;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\nlet defaultStyle;\nclass Style extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._color = style.color;\n\t\tthis._font = style.font;\n\t\tthis._textOverflow = style.textOverflow || 'ellipsis';\n\t}\n\tget color() {\n\t\treturn this._color;\n\t}\n\tset color(color) {\n\t\tthis._color = color;\n\t\tthis.doChangeStyle();\n\t}\n\tget font() {\n\t\treturn this._font;\n\t}\n\tset font(font) {\n\t\tthis._font = font;\n\t\tthis.doChangeStyle();\n\t}\n\tget textOverflow() {\n\t\treturn this._textOverflow;\n\t}\n\tset textOverflow(textOverflow) {\n\t\tthis._textOverflow = textOverflow;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new Style(this);\n\t}\n}\nmodule.exports = Style;\n","'use strict';\n\nconst styleContents = require('../style');\nconst {isDef} = require('../../internal/utils');\nconst {Style} = styleContents;\n\nclass BaseHeader {\n\tconstructor(headerCell) {\n\t\tthis._headerCell = headerCell;\n\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\n\t}\n\tget StyleClass() {\n\t\treturn Style;\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tconst {style, drawCellBase} = info;\n\t\tdelete info.getRecord;\n\t\tdelete info.style;\n\t\tconst helper = grid.getGridCanvasHelper();\n\t\tdrawCellBase();\n\t\t//\n\t\tthis.drawInternal(\n\t\t\t\tthis.convertInternal(cellValue),\n\t\t\t\tcontext,\n\t\t\t\tstyleContents.of(style, this.StyleClass),\n\t\t\t\thelper,\n\t\t\t\tgrid,\n\t\t\t\tinfo\n\t\t);\n\t}\n\tconvertInternal(value) {\n\t\treturn isDef(value) ? value : '';\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\n\t}\n\tbindGridEvent(grid) {\n\t\treturn [];\n\t}\n}\nmodule.exports = BaseHeader;\n","'use strict';\n\n\nconst core = require('./core');\nconst tools = require('./tools');\nconst columns = require('./columns');\nconst themes = require('./themes');\nconst data = require('./data');\n\nconst ListGrid = require('./ListGrid');\nconst GridCanvasHelper = require('./GridCanvasHelper');\n\nconst icons = require('./icons');\nconst register = require('./register');\n\n/**\n * Cheetah Grid\n * @type {Object}\n * @namespace cheetahGrid\n */\nmodule.exports = {\n\tcore,\n\ttools,\n\n\t// impl Grids\n\tListGrid,\n\n\t// objects\n\tcolumns,\n\tthemes,\n\tdata,\n\n\t// helper\n\tGridCanvasHelper,\n\tget icons() {\n\t\treturn icons.get();\n\t},\n\n\t//plugin registers\n\tregister,\n\n\tget _internal() {\n\t\tconsole.warn('use internal!!');\n\t\treturn {\n\t\t\tcolor: require('./internal/color'),\n\t\t\tsort: require('./internal/sort'),\n\t\t\tcalc: require('./internal/calc'),\n\t\t\tsymbolManager: require('./internal/symbolManager'),\n\t\t\tpath2DManager: require('./internal/path2DManager'),\n\t\t};\n\t}\n};\n","'use strict';\n\nconst DrawGrid = require('./core/DrawGrid');\n\n/**\n * core modules\n * @type {Object}\n * @namespace cheetahGrid.core\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\tDrawGrid\n};\n","'use strict';\n\nconst EventHandler = require('./EventHandler');\nconst style = require('./style');\nconst {browser} = require('./utils');\n\nconst MAX_SCROLL = browser.heightLimit - 1000;\n\nfunction _update(scrollable) {\n\tlet domHeight;\n\tif (scrollable._height > MAX_SCROLL) {\n\t\tconst sbSize = style.getScrollBarSize();\n\t\tconst {offsetHeight} = scrollable._scrollable;\n\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\n\t\tscrollable._p = vScrollRange / rScrollRange;\n\t\tdomHeight = MAX_SCROLL;\n\t} else {\n\t\tscrollable._p = 1;\n\t\tdomHeight = scrollable._height;\n\t}\n\n\tscrollable._endPointElement.style.top = `${domHeight.toFixed()}px`;\n\tscrollable._endPointElement.style.left = `${scrollable._width.toFixed()}px`;\n\n}\n\nclass Scrollable {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\n\t\tthis._scrollable = document.createElement('div');\n\t\tthis._scrollable.classList.add('grid-scrollable');\n\t\tthis._height = 0;\n\t\tthis._width = 0;\n\n\t\tthis._endPointElement = document.createElement('div');\n\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\n\t\t_update(this);\n\t\tthis._scrollable.appendChild(this._endPointElement);\n\n\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n\t\t// this.scrollTop += delta < 0 ? point : -point;\n\t\t// });\n\t}\n\tcalcTop(top) {\n\t\tconst relativeTop = top - this.scrollTop;\n\t\treturn this._scrollable.scrollTop + relativeTop;\n\t}\n\tgetElement() {\n\t\treturn this._scrollable;\n\t}\n\tsetScrollSize(width, height) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\t_update(this);\n\t}\n\tget scrollWidth() {\n\t\treturn this._width;\n\t}\n\tset scrollWidth(width) {\n\t\tthis._width = width;\n\t\t_update(this);\n\t}\n\tget scrollHeight() {\n\t\treturn this._height;\n\t}\n\tset scrollHeight(height) {\n\t\tthis._height = height;\n\t\t_update(this);\n\t}\n\tget scrollLeft() {\n\t\treturn Math.ceil(this._scrollable.scrollLeft);\n\t}\n\tset scrollLeft(scrollLeft) {\n\t\tthis._scrollable.scrollLeft = scrollLeft;\n\t}\n\tget scrollTop() {\n\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\n\t}\n\tset scrollTop(scrollTop) {\n\t\tthis._scrollable.scrollTop = scrollTop * this._p;\n\t}\n\tonScroll(fn) {\n\t\tthis._handler.on(this._scrollable, 'scroll', fn);\n\t}\n\tdispose() {\n\t\tthis._handler.dispose();\n\t}\n}\n\n\nmodule.exports = Scrollable;\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * core styles \\n */\\n.cheetah-grid .grid-scrollable {\\n\\theight: 100%;\\n\\twidth: 100%;\\n\\tposition: absolute;\\n\\toverflow: scroll;\\n}\\n.cheetah-grid .grid-scroll-end-point {\\n\\topacity: 0;\\n\\tposition: relative;\\n}\\n.cheetah-grid {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n.cheetah-grid > canvas {\\n\\tposition: absolute;\\n\\twidth: 0;\\n\\theight: 0;\\n}\\n.cheetah-grid .grid-focus-control {\\n\\tposition: relative !important;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\topacity: 0;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tbox-sizing: border-box;\\n\\tpointer-events: none;\\n\\tmax-width: 0;\\n\\tmax-height: 0;\\n\\tfloat: none !important;\\n}\\n.cheetah-grid input.grid-focus-control::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n.cheetah-grid input.grid-focus-control.composition {\\n\\topacity: 1;\\n\\tmax-width: none;\\n\\tmax-height: none;\\n}\", \"\"]);\n\n// exports\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict';\n\nconst indexFirst = (ary, elm) => {\n\tlet low = 0;\n\tlet high = ary.length - 1;\n\twhile (low <= high) {\n\t\tconst i = Math.floor((low + high) / 2);\n\t\tif (ary[i] === elm) {\n\t\t\treturn i;\n\t\t} else if (ary[i] > elm) {\n\t\t\thigh = i - 1;\n\t\t} else {\n\t\t\tlow = i + 1;\n\t\t}\n\t}\n\treturn high < 0 ? 0 : high;\n};\n\n\nclass NumberMap {\n\tconstructor() {\n\t\tthis._keys = [];\n\t\tthis._vals = {};\n\t\tthis._sorted = false;\n\t}\n\tput(key, value) {\n\t\tif (!(key in this._vals)) {\n\t\t\tthis._keys.push(key);\n\t\t\tthis._sorted = false;\n\t\t}\n\t\tthis._vals[key] = value;\n\t}\n\tget(key) {\n\t\treturn this._vals[key];\n\t}\n\teachAll(fn) {\n\t\tthis._keys.forEach((key) => {\n\t\t\tfn(this.get(key), key);\n\t\t});\n\t}\n\teach(keyFrom, keyTo, fn) {\n\t\tconst {_keys: keys} = this;\n\t\tconst {length} = keys;\n\t\tif (!this._sorted) {\n\t\t\tkeys.sort((a, b) => {\n\t\t\t\tif (a < b) { return -1; }\n\t\t\t\tif (a > b) { return 1; }\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\tthis._sorted = true;\n\t\t}\n\n\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\n\t\t\tconst key = keys[i];\n\t\t\tif (keyFrom <= key && key <= keyTo) {\n\t\t\t\tfn(this.get(key), key);\n\t\t\t} else if (keyTo < key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n}\n\nmodule.exports = NumberMap;\n","'use strict';\n\nconst EventHandler = require('./EventHandler');\nconst handler = new EventHandler();\n\nlet ratio;\nfunction setRatio() {\n\tratio = Math.ceil(window.devicePixelRatio || 1);\n\tif (ratio > 1 && (ratio % 2) !== 0) {\n\t\tratio += 1;\n\t}\n}\nsetRatio();\nhandler.on(window, 'resize', setRatio);\n\nmodule.exports = {\n\ttransform(canvas) {\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\tconst {getAttribute, setAttribute} = canvas;\n\t\tcanvas.getAttribute = function(name, ...args) {\n\t\t\tlet result = getAttribute.call(this, name, ...args);\n\t\t\tif (name === 'width' || name === 'height') {\n\t\t\t\tresult /= ratio;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tcanvas.setAttribute = function(name, val, ...args) {\n\t\t\tconst wh = name === 'width' || name === 'height';\n\t\t\tif (wh) {\n\t\t\t\tval *= ratio;\n\t\t\t}\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\n\t\t\tif (wh) {\n\t\t\t\tctx.scale(ratio, ratio);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tObject.defineProperty(canvas, 'width', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('width');\n\t\t\t},\n\t\t\tset: (val) => {\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t\tObject.defineProperty(canvas, 'height', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('height');\n\t\t\t},\n\t\t\tset: (val) => {\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t\tconst {drawImage} = ctx;\n\t\tctx.drawImage = function(img, ...args) {\n\t\t\tif (img !== canvas || ratio === 1) {\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t}\n\t\t\tthis.save();\n\t\t\ttry {\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\n\t\t\t\tif (args.length > 4) {\n\t\t\t\t\targs[4] *= ratio;\n\t\t\t\t\targs[5] *= ratio;\n\t\t\t\t} else {\n\t\t\t\t\targs[0] *= ratio;\n\t\t\t\t\targs[1] *= ratio;\n\t\t\t\t}\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t} finally {\n\t\t\t\tthis.restore();\n\t\t\t}\n\t\t};\n\n\t\treturn canvas;\n\t}\n};","'use strict';\n\nconst canvashelper = require('./tools/canvashelper');\n\n/**\n * tools\n * @type {Object}\n * @namespace cheetahGrid.tools\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\tcanvashelper,\n};","'use strict';\n\nconst BaseAction = require('./action/BaseAction');\nconst Action = require('./action/Action');\nconst Editor = require('./action/Editor');\nconst CheckEditor = require('./action/CheckEditor');\nconst ButtonAction = require('./action/ButtonAction');\nconst SmallDialogInputEditor = require('./action/SmallDialogInputEditor');\nconst InlineInputEditor = require('./action/InlineInputEditor');\nconst InlineMenuEditor = require('./action/InlineMenuEditor');\n\nclass ImmutableCheckEditor extends CheckEditor {\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tget readOnly() {\n\t\treturn this._readOnly;\n\t}\n}\nclass ImmutableInputEditor extends SmallDialogInputEditor {\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tget readOnly() {\n\t\treturn this._readOnly;\n\t}\n}\n\n/**\n * column actions\n * @type {Object}\n * @namespace cheetahGrid.columns.action\n * @memberof cheetahGrid.columns\n */\nconst action = {\n\tACTIONS: {\n\t\tCHECK: new ImmutableCheckEditor(),\n\t\tINPUT: new ImmutableInputEditor(),\n\t},\n\tget BaseAction() {\n\t\treturn BaseAction;\n\t},\n\tget Editor() {\n\t\treturn Editor;\n\t},\n\tget Action() {\n\t\treturn Action;\n\t},\n\tget CheckEditor() {\n\t\treturn CheckEditor;\n\t},\n\tget ButtonAction() {\n\t\treturn ButtonAction;\n\t},\n\tget SmallDialogInputEditor() {\n\t\treturn SmallDialogInputEditor;\n\t},\n\tget InlineInputEditor() {\n\t\tconsole.warn('InlineInputEditor is an experiment stage');\n\t\treturn InlineInputEditor;\n\t},\n\tget InlineMenuEditor() {\n\t\treturn InlineMenuEditor;\n\t},\n\tof(columnAction) {\n\t\tif (!columnAction) {\n\t\t\treturn action.ACTIONS.DEFAULT;\n\t\t} else if (typeof columnAction === 'string') {\n\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n\t\t} else {\n\t\t\treturn columnAction;\n\t\t}\n\t},\n};\nmodule.exports = action;\n","'use strict';\n\nconst {obj: {setReadonly}, isPromise} = require('../../internal/utils');\nconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\nconst animate = require('../../internal/animate');\n\nconst Editor = require('./Editor');\nconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nfunction toggleValue(val) {\n\tif (typeof val === 'number') {\n\t\tif (val === 0) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t} else if (typeof val === 'string') {\n\t\tif (val === 'false') {\n\t\t\treturn 'true';\n\t\t} else if (val === 'off') {\n\t\t\treturn 'on';\n\t\t} else if (val.match(/^0+$/)) {\n\t\t\treturn val.replace(/^(0*)0$/, '$11');\n\t\t} else if (val === 'true') {\n\t\t\treturn 'false';\n\t\t} else if (val === 'on') {\n\t\t\treturn 'off';\n\t\t} else if (val.match(/^0*1$/)) {\n\t\t\treturn val.replace(/^(0*)1$/, '$10');\n\t\t}\n\t}\n\treturn !val;\n}\n\nclass CheckEditor extends Editor {\n\tclone() {\n\t\treturn new CheckEditor(this);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\n\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n\t\t}\n\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\n\n\t\tconst action = (cell) => {\n\t\t\tconst key = `${cell.col}:${cell.row}`;\n\t\t\tconst blockKey = `${key}::block`;\n\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\t\t\tif (ret) {\n\n\t\t\t\tconst onChange = () => {\n\t\t\t\t\t// checkbox animation\n\t\t\t\t\tanimate(200, (point) => {\n\t\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\t\tdelete state[key];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate[key] = {\n\t\t\t\t\t\t\t\telapsed: point,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tif (isPromise(ret)) {\n\t\t\t\t\tstate[blockKey] = true;\n\t\t\t\t\tret.then(() => {\n\t\t\t\t\t\tdelete state[blockKey];\n\t\t\t\t\t\tonChange();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tonChange();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn [\n\t\t\t...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction: (e) => {\n\t\t\t\t\tconst selrange = grid.selection.range;\n\t\t\t\t\tconst {col} = grid.selection.select;\n\t\t\t\t\tfor (let {row} = selrange.start; row <= selrange.end.row; row++) {\n\t\t\t\t\t\tif (!util.isTarget(col, row)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction({\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE],\n\t\t\t})\n\t\t];\n\t}\n}\n\nmodule.exports = CheckEditor;\n","'use strict';\n\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst Action = require('./Action');\nconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\nclass ButtonAction extends Action {\n\tgetState(grid) {\n\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\n\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n\t\t}\n\t\treturn grid[BUTTON_COLUMN_STATE_ID];\n\t}\n}\n\nmodule.exports = ButtonAction;\n","'use strict';\nconst {obj: {setReadonly}} = require('../../internal/utils');\n\nconst SmallDialogInputElement = require('./internal/SmallDialogInputElement');\nconst {SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new SmallDialogInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nconst BaseInputEditor = require('./BaseInputEditor');\nclass SmallDialogInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._helperText = option.helperText;\n\t\tthis._inputValidator = option.inputValidator;\n\t\tthis._validator = option.validator;\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tdispose() {\n\t\tthis._inputDialogManager.dispose();\n\t\tthis._inputDialogManager = null;\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tget helperText() {\n\t\treturn this._helperText;\n\t}\n\tget inputValidator() {\n\t\treturn this._inputValidator;\n\t}\n\tget validator() {\n\t\treturn this._validator;\n\t}\n\tclone() {\n\t\treturn new SmallDialogInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = SmallDialogInputEditor;","'use strict';\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t},\n\tthen,\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n\tconst focus = () => {\n\t\tinput.focus();\n\n\t\tconst end = input.value.length;\n\t\ttry {\n\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\n\t\t\t\tinput.selectionStart = end;\n\t\t\t\tinput.selectionEnd = end;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t//ignore\n\t\t}\n\t\tif (document.selection) {\n\t\t\tconst range = input.createTextRange();\n\t\t\trange.collapse();\n\t\t\trange.moveEnd('character', end);\n\t\t\trange.moveStart('character', end);\n\t\t\trange.select();\n\t\t}\n\t};\n\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\tfocus();\n\t});\n}\n\nfunction createDialogElement() {\n\trequire('./SmallDialogInputElement.css');\n\tconst element = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst input = createElement('input', {classList: INPUT_CLASSNAME});\n\tinput.readonly = true;\n\tinput.tabIndex = -1;\n\telement.appendChild(input);\n\treturn element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n\tconst {classList, helperText} = editor;\n\tif (classList) {\n\t\tdialog.classList.add(...classList);\n\t}\n\tif (helperText && typeof helperText !== 'function') {\n\t\tdialog.dataset.helperText = helperText;\n\t}\n\tsetInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n\tconst {classList} = editor;\n\tif (classList) {\n\t\tdialog.classList.remove(...classList);\n\t}\n\tdelete dialog.dataset.helperText;\n\tinput.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst {type} = editor;\n\tinput.type = type || '';\n}\n\nclass SmallDialogInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._dialog = createDialogElement();\n\t\tthis._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\t\tthis._bindDialogEvents();\n\t}\n\tdispose() {\n\t\tconst dialog = this._dialog;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._dialog = null;\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (dialog.parentElement) {\n\t\t\tdialog.parentElement.removeChild(dialog);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\n\t\t}\n\n\t\tdelete dialog.dataset.errorMessage;\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\tinput.readonly = false;\n\t\tinput.tabIndex = 0;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\t\tdialog.style.top = `${rect.top.toFixed()}px`;\n\t\tdialog.style.left = `${rect.left.toFixed()}px`;\n\t\tdialog.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(dialog);\n\n\t\tinput.value = value;\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\tconst activeData = {grid, col, row, editor};\n\t\tthis._onInputValue(input, activeData);\n\t\t_focus(input, handler);\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\n\t\tinput.readonly = true;\n\n\n\t\tbindProps(grid, dialog, input, editor);\n\n\t\tthis._activeData = activeData;\n\t\tthis._beforePropEditor = editor;\n\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst dialog = this._dialog;\n\t\t\tconst input = this._input;\n\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\t\tinput.readonly = false;\n\t\t\tinput.tabIndex = -1;\n\n\t\t\tconst {grid, col, row} = this._activeData;\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t\tthis._beforeValue = null;\n\t}\n\t_doChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst {value} = input;\n\t\treturn then(this._validate(value), (res) => {\n\t\t\tif (res && value === input.value) {\n\t\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\t\tgrid.doChangeValue(col, row, () => value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t}\n\t_isActive() {\n\t\tconst dialog = this._dialog;\n\t\tif (!dialog || !dialog.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindDialogEvents() {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tinput.classList.remove('composition');\n\t\t\tthis._onInputValue(input);\n\t\t});\n\t\tconst onKeyupAndPress = (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onInputValue(input);\n\t\t};\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ENTER && !this._attaching) {\n\t\t\t\tconst input = this._input;\n\t\t\t\tconst {value} = input;\n\t\t\t\tthen(this._doChangeValue(), (r) => {\n\t\t\t\t\tif (r && value === input.value) {\n\t\t\t\t\t\tthis.detach(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcancelEvent(e);\n\t\t\t} else {\n\t\t\t\tthis._onInputValue(input);\n\t\t\t}\n\t\t});\n\t}\n\t_onInputValue(input, activeData) {\n\t\tconst before = this._beforeValue;\n\t\tconst {value} = input;\n\t\tif (before !== value) {\n\t\t\tthis._onInputValueChange(value, before, activeData);\n\t\t}\n\t\tthis._beforeValue = value;\n\t}\n\t_onInputValueChange(after, before, activeData) {\n\t\tactiveData = activeData || this._activeData;\n\t\tconst dialog = this._dialog;\n\t\tconst {grid, col, row, editor} = activeData;\n\t\tif (typeof editor.helperText === 'function') {\n\t\t\tconst helperText = editor.helperText(after, {grid, col, row});\n\t\t\tif (helperText) {\n\t\t\t\tdialog.dataset.helperText = helperText;\n\t\t\t} else {\n\t\t\t\tdelete dialog.dataset.helperText;\n\t\t\t}\n\t\t}\n\t\tif ('errorMessage' in dialog.dataset) {\n\t\t\tthis._validate(after, true);\n\t\t}\n\t}\n\t_validate(value, inputOnly) {\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst {grid, col, row, editor} = this._activeData;\n\t\tlet message = null;\n\t\tif (editor.inputValidator) {\n\t\t\tmessage = editor.inputValidator(value, {grid, col, row});\n\t\t}\n\t\treturn then(message, (message) => {\n\t\t\tif (!message && editor.validator && !inputOnly) {\n\t\t\t\tmessage = editor.validator(value, {grid, col, row});\n\t\t\t}\n\t\t\treturn then(message, (message) => {\n\t\t\t\tif (message && value === input.value) {\n\t\t\t\t\tdialog.dataset.errorMessage = message;\n\t\t\t\t} else {\n\t\t\t\t\tdelete dialog.dataset.errorMessage;\n\t\t\t\t}\n\t\t\t\treturn !message;\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = SmallDialogInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*ms*/\\n.cheetah-grid__small-dialog-input__input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n@keyframes cheetah-grid__small-dialog-input--hidden-animation {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t99% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n.cheetah-grid__small-dialog-input {\\n\\tposition: absolute;\\n\\tbox-sizing: content-box;\\n\\tmargin : -1px auto auto -1px;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #fafafa;\\n\\n\\ttransition: padding 150ms ease-out, box-shadow 150ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input--hidden {\\n\\tbox-shadow: none;\\n\\tpadding: 0;\\n\\n\\tpointer-events: none;\\n\\tanimation: cheetah-grid__small-dialog-input--hidden-animation  150ms ease-out;\\n\\topacity: 0;\\n}\\n.cheetah-grid__small-dialog-input--shown {\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0px rgba(0, 0, 0, .14), 0 1px 5px 0px rgba(0, 0, 0, .12);\\n\\tpadding: 8px 24px;\\n}\\n.cheetah-grid__small-dialog-input__input {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\tpadding: 3px 2px 0 4px;\\n\\tborder: none;\\n\\tborder-bottom: solid 1px rgba(0, 0, 0, .87);\\n\\toutline: none;\\n\\tbackground-color: transparent;\\n\\ttransition: all 300ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input__input:focus {\\n\\tborder-bottom: solid 1px #2196f3;\\n\\tbox-shadow: 0 1px 0 0 #2196f3;\\n}\\n.cheetah-grid__small-dialog-input::after {\\n\\tcontent: '';\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tpadding-top: 8px;\\n}\\n.cheetah-grid__small-dialog-input.helper-text--right-justified::after {\\n\\ttext-align: right;\\n}\\n.cheetah-grid__small-dialog-input[data-helper-text]::after {\\n\\tcontent: attr(data-helper-text);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n.cheetah-grid__small-dialog-input[data-error-message] input {\\n\\tborder-bottom: solid 1px #ff1744;\\n\\tbox-shadow: 0 1px 0 0 #ff1744;\\n}\\n.cheetah-grid__small-dialog-input[data-error-message]::after {\\n\\tcontent: attr(data-error-message);\\n\\tcolor: #ff1744;\\n\\ttext-align: left;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst BaseInputEditor = require('./BaseInputEditor');\nconst InlineInputElement = require('./internal/InlineInputElement');\nconst {INLINE_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nfunction doChangeValue(grid) {\n\tif (globalElement) {\n\t\tglobalElement.doChangeValue();\n\t}\n}\n\n\nclass InlineInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tclone() {\n\t\treturn new InlineInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = InlineInputEditor;","'use strict';\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t},\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\nconst KEY_ENTER = 13;\n\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n\trequire('./InlineInputElement.css');\n\treturn createElement('input', {classList: CLASSNAME});\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst {classList, type} = editor;\n\tif (classList) {\n\t\tinput.classList.add(...classList);\n\t}\n\tinput.type = type || '';\n}\n\nclass InlineInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = createInputElement();\n\t\tthis._bindInputEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst input = this._input;\n\t\tconst handler = this._handler;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst {classList} = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tinput.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\t\tinput.style.top = `${rect.top.toFixed()}px`;\n\t\tinput.style.left = `${rect.left.toFixed()}px`;\n\t\tinput.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(input);\n\n\t\tsetInputAttrs(editor, grid, input);\n\t\tinput.value = value;\n\n\t\tthis._activeData = {grid, col, row, editor};\n\t\tthis._beforePropEditor = editor;\n\n\t\tconst focus = () => {\n\t\t\tinput.focus();\n\n\t\t\tconst end = input.value.length;\n\t\t\ttry {\n\t\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\n\t\t\t\t\tinput.selectionStart = end;\n\t\t\t\t\tinput.selectionEnd = end;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t//ignore\n\t\t\t}\n\t\t\tif (document.selection) {\n\t\t\t\tconst range = input.createTextRange();\n\t\t\t\trange.collapse();\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', end);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t};\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\t\tfocus();\n\t\t});\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\tconst input = this._input;\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\n\t\t\t\tinput.parentElement.removeChild(input);\n\t\t\t});\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\tdoChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst {value} = input;\n\t\tconst {grid, col, row} = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst input = this._input;\n\t\tif (!input || !input.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindInputEvents() {\n\t\tconst handler = this._handler;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\t\thandler.on(input, 'click', stopPropagationOnly);\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tinput.classList.remove('composition');\n\t\t});\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\n\t\t\t\tif (!this._isActive() || this._attaching) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst {grid} = this._activeData;\n\n\t\t\t\tthis.doChangeValue();\n\t\t\t\tif (grid) {\n\t\t\t\t\tgrid.focus();\n\t\t\t\t}\n\t\t\t\tthis.detach();\n\t\t\t\tcancelEvent(e);\n\t\t\t}\n\t\t});\n\t\thandler.on(input, 'blur', (e) => {\n\t\t\tthis.doChangeValue();\n\t\t\tthis.detach();\n\t\t});\n\t}\n}\n\nmodule.exports = InlineInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*ms*/\\n.cheetah-grid__inline-input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n\\n.cheetah-grid__inline-input {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst {normalize} = require('../../internal/menu-items');\n\nconst Editor = require('./Editor');\nconst {EVENT_TYPE: {\n\tSELECTED_CELL,\n\tCLICK_CELL,\n\tKEYDOWN,\n\tSCROLL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tMOUSEMOVE_CELL,\n}} = require('../../core/DrawGrid');\nconst InlineMenuElement = require('./internal/InlineMenuElement');\nconst {INLINE_MENU_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineMenuElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachMenu(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._options = normalize(option.options);\n\t}\n\tdispose() {\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\tset options(options) {\n\t\tthis._options = normalize(options);\n\t}\n\tclone() {\n\t\treturn new InlineMenuEditor(this);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = (cell) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\t\tattachMenu(grid, cell, this, value);\n\t\t\t});\n\t\t};\n\n\t\treturn [\n\t\t\tgrid.listen(CLICK_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\t\tdetachMenu();\n\t\t\t}),\n\t\t\tgrid.listen(SCROLL, () => {\n\t\t\t\tdetachMenu(true);\n\t\t\t}),\n\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t}),\n\t\t];\n\t}\n}\n\nmodule.exports = InlineMenuEditor;","'use strict';\nconst {\n\tisDef,\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t}\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n\tappendHtml,\n\tempty,\n\tdisableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable,\n} = require('../../../internal/dom');\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\n\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n\tlet el = target;\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\n\t\tel = el.parentElement;\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn el;\n}\n\nfunction createMenuElement() {\n\trequire('./InlineMenuElement.css');\n\treturn createElement('ul', {classList: CLASSNAME});\n}\nfunction attachElement(element, rect, menu) {\n\tmenu.style.top = `${rect.top.toFixed()}px`;\n\tmenu.style.left = `${rect.left.toFixed()}px`;\n\tmenu.style.width = `${rect.width.toFixed()}px`;\n\tmenu.style['line-height'] = `${rect.height.toFixed()}px`;\n\telement.appendChild(menu);\n}\n\nfunction optionToLi({classList, caption, value, html}, index) {\n\tconst item = createElement('li', {classList: ITEM_CLASSNAME});\n\titem.tabIndex = 0;\n\titem.dataset.valueindex = index;\n\tif (classList) {\n\t\titem.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n\t}\n\n\tif (caption) {\n\t\tconst span = createElement('span', {text: caption});\n\t\titem.appendChild(span);\n\t} else if (html) {\n\t\tappendHtml(item, html);\n\t}\n\n\tif (value === '' || !isDef(value)) {\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\n\t}\n\n\treturn item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n\tconst {options, classList} = editor;\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tempty(menu);\n\tmenu.style.font = grid.font || '16px sans-serif';\n\tlet emptyItemEl = null;\n\tlet valueItemEl = null;\n\n\toptions.forEach((option, i) => {\n\t\tconst item = optionToLi(option, i);\n\t\tmenu.appendChild(item);\n\t\tif (option.value === value) {\n\t\t\tvalueItemEl = item;\n\t\t\titem.dataset.select = true;\n\t\t}\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n\t\t\temptyItemEl = item;\n\t\t}\n\t});\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\tif (classList) {\n\t\tmenu.classList.add(...classList);\n\t}\n\tconst children = Array.prototype.slice.call(menu.children, 0);\n\tconst focusIndex = children.indexOf(focusEl);\n\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t// Cover the right line\n\trect.width++;\n\n\t// append for calculation\n\tattachElement(element, rect, menu);\n\n\t// Make the selection item at the middle\n\tlet offset = 0;\n\tlet allHeight = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst {offsetHeight} = children[i];\n\t\tif (i < focusIndex) {\n\t\t\toffset += offsetHeight;\n\t\t}\n\t\tallHeight += offsetHeight;\n\t}\n\trect.offsetTop(-offset);\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n\tattachElement(element, rect, menu);\n\n\t// Control not to overflow the screen range\n\tconst menuClientRect = menu.getBoundingClientRect();\n\tconst scaleDiff = ((allHeight - menuClientRect.height) / 2);\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\n\tlet menuTop = orgMenuTop;\n\tconst menuBottom = menuTop + allHeight;\n\tconst winBottom = window.innerHeight;\n\tconst winMargin = 20;\n\tif (menuBottom > (winBottom - winMargin)) {\n\t\tconst diff = menuBottom - winBottom + winMargin;\n\t\tmenuTop -= diff;\n\t}\n\tif (menuTop < 0/*winTop*/ + winMargin) {\n\t\tmenuTop = winMargin;\n\t}\n\tif (menuTop !== orgMenuTop) {\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\n\t\t// re update\n\t\tattachElement(element, rect, menu);\n\t}\n\n\tif (focusEl) {\n\t\tfocusEl.focus();\n\t}\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\n\tmenu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tdisableFocus(menu);\n}\n\nclass InlineMenuElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._menu = createMenuElement();\n\t\tthis._bindMenuEvents();\n\t}\n\tdispose() {\n\t\tconst menu = this._menu;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._menu = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (menu.parentElement) {\n\t\t\tmenu.parentElement.removeChild(menu);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst menu = this._menu;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst {classList} = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tmenu.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\topenMenu(grid, editor, col, row, value, menu);\n\t\tthis._activeData = {grid, col, row, editor};\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\tconst menu = this._menu;\n\t\t\tcloseMenu(grid, col, row, menu);\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\t_doChangeValue(valueindex) {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst {grid, col, row, editor} = this._activeData;\n\t\tconst {value} = editor.options[valueindex];\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst menu = this._menu;\n\t\tif (!menu || !menu.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindMenuEvents() {\n\t\tconst handler = this._handler;\n\t\tconst menu = this._menu;\n\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(menu, 'click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {valueindex} = item.dataset;\n\t\t\tthis._doChangeValue(valueindex);\n\t\t\tthis.detach(true);\n\t\t});\n\t\thandler.on(menu, 'keydown', (e) => {\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ENTER) {\n\t\t\t\tconst {valueindex} = item.dataset;\n\t\t\t\tthis._doChangeValue(valueindex);\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_UP) {\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\t\tconst n = findNextSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_TAB) {\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\n\t\t\t\t\t\tlet n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\n\t\t\t\t\t\tconst items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tlet n = items[items.length - 1];\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineMenuElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-menu {\\n\\tposition: absolute;\\n\\tcolor: rgba(0, 0, 0, .87);\\n\\tbox-sizing: content-box;\\n\\tmargin: -1px auto auto -1px;\\n\\tpadding: 8px 0;\\n\\tbackground-color: #fafafa;\\n\\tlist-style-type: none;\\n\\tborder-radius: 2px;\\n\\tmax-height: calc(100vh - 40px);\\n\\toverflow-y: auto;\\n\\n}\\n.cheetah-grid__inline-menu--hidden {\\n\\ttransform: scale(.9);\\n\\tbox-shadow: none;\\n\\topacity: 0;\\n\\n\\tpointer-events: none;\\n\\n\\ttransition: all 50ms ease-out;\\n}\\n.cheetah-grid__inline-menu--hidden * {\\n\\tpointer-events: none;\\n}\\n.cheetah-grid__inline-menu--shown {\\n\\ttransform: translateY(-7px);\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0px rgba(0, 0, 0, 0.14), 0 1px 5px 0px rgba(0, 0, 0, 0.12);\\n\\topacity: 1;\\n\\n\\ttransition: all 150ms ease-out;\\n}\\n\\n.cheetah-grid__inline-menu__menu-item {\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: flex-start;\\n\\n\\toutline: none;\\n\\tcursor: pointer;\\n\\n\\tposition: relative;\\n\\toverflow: hidden;\\n\\n\\tpadding: 0 16px;\\n}\\n.cheetah-grid__inline-menu__menu-item--empty {\\n\\tcolor: rgba(0, 0, 0, .38);\\n}\\n\\n.cheetah-grid__inline-menu__menu-item::before {\\n\\tcontent: \\\"\\\";\\n\\tposition: absolute;\\n\\ttop: -50%;\\n\\tleft: -50%;\\n\\twidth: 200%;\\n\\theight: 200%;\\n\\tbackground-color: #000;\\n\\topacity: 0;\\n\\tpointer-events: none;\\n\\ttransition: opacity 15ms linear;\\n}\\n.cheetah-grid__inline-menu__menu-item:hover::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item[data-select]::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item:focus::before {\\n\\topacity: .12;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst Column = require('./type/Column');\nconst NumberColumn = require('./type/NumberColumn');\nconst CheckColumn = require('./type/CheckColumn');\nconst ButtonColumn = require('./type/ButtonColumn');\nconst ImageColumn = require('./type/ImageColumn');\nconst PercentCompleteBarColumn = require('./type/PercentCompleteBarColumn');\nconst IconColumn = require('./type/IconColumn');\nconst BranchGraphColumn = require('./type/BranchGraphColumn');\nconst MenuColumn = require('./type/MenuColumn');\nconst MultilineTextColumn = require('./type/MultilineTextColumn');\n\n/**\n * column types\n * @type {Object}\n * @namespace cheetahGrid.columns.type\n * @memberof cheetahGrid.columns\n */\nconst type = {\n\tTYPES: {\n\t\tDEFAULT: new Column(),\n\t\tNUMBER: new NumberColumn(),\n\t\tCHECK: new CheckColumn(),\n\t\tBUTTON: new ButtonColumn(),\n\t\tIMAGE: new ImageColumn(),\n\t\tMULTILINETEXT: new MultilineTextColumn(),\n\t},\n\tget Column() {\n\t\treturn Column;\n\t},\n\tget NumberColumn() {\n\t\treturn NumberColumn;\n\t},\n\tget CheckColumn() {\n\t\treturn CheckColumn;\n\t},\n\tget ButtonColumn() {\n\t\treturn ButtonColumn;\n\t},\n\tget ImageColumn() {\n\t\treturn ImageColumn;\n\t},\n\tget PercentCompleteBarColumn() {\n\t\treturn PercentCompleteBarColumn;\n\t},\n\tget IconColumn() {\n\t\treturn IconColumn;\n\t},\n\tget BranchGraphColumn() {\n\t\treturn BranchGraphColumn;\n\t},\n\tget MenuColumn() {\n\t\treturn MenuColumn;\n\t},\n\tget MultilineTextColumn() {\n\t\treturn MultilineTextColumn;\n\t},\n\tof(columnType) {\n\t\tif (!columnType) {\n\t\t\treturn type.TYPES.DEFAULT;\n\t\t} else if (typeof columnType === 'string') {\n\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\n\t\t} else {\n\t\t\treturn columnType;\n\t\t}\n\t}\n};\nmodule.exports = type;\n","'use strict';\n\nconst Column = require('./Column');\nconst NumberStyle = require('../style/NumberStyle');\nlet defaultFotmat;\nclass NumberColumn extends Column {\n\tstatic get defaultFotmat() {\n\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n\t}\n\tstatic set defaultFotmat(fmt) {\n\t\tdefaultFotmat = fmt;\n\t}\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._format = option.format;\n\t}\n\tget StyleClass() {\n\t\treturn NumberStyle;\n\t}\n\tclone() {\n\t\treturn new NumberColumn(this);\n\t}\n\tget format() {\n\t\treturn this._format;\n\t}\n\twithFormat(format) {\n\t\tconst c = this.clone();\n\t\tc._format = format;\n\t\treturn c;\n\t}\n\tconvertInternal(value) {\n\t\tif (isNaN(value - 0)) {\n\t\t\treturn value;\n\t\t}\n\t\tconst format = this._format || NumberColumn.defaultFotmat;\n\t\treturn format.format(value - 0);\n\t}\n}\n\nmodule.exports = NumberColumn;\n","'use strict';\n\nconst BaseColumn = require('./BaseColumn');\nconst CheckStyle = require('../style/CheckStyle');\nconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\n\nfunction toBoolean(val) {\n\tif (typeof val === 'string') {\n\t\tif (val === 'false') {\n\t\t\treturn false;\n\t\t} else if (val === 'off') {\n\t\t\treturn false;\n\t\t} else if (val.match(/^0+$/)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn val;\n}\n\nclass CheckColumn extends BaseColumn {\n\tget StyleClass() {\n\t\treturn CheckStyle;\n\t}\n\tclone() {\n\t\treturn new CheckColumn(this);\n\t}\n\tconvertInternal(value) {\n\t\treturn toBoolean(value);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tborderColor,\n\t\t\tcheckBgColor,\n\t\t\tuncheckBgColor,\n\t\t\tbgColor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst {col, row} = context;\n\t\tconst key = `${col}:${row}`;\n\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\n\n\t\tconst opt = {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tborderColor,\n\t\t\tcheckBgColor,\n\t\t\tuncheckBgColor,\n\t\t};\n\t\tif (state) {\n\t\t\topt.animElapsedTime = state.elapsed;\n\t\t}\n\t\thelper.checkbox(value, context, opt);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n}\n\nmodule.exports = CheckColumn;\n","'use strict';\n\nconst Column = require('./Column');\nconst ButtonStyle = require('../style/ButtonStyle');\nconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\nconst utils = require('./columnUtils');\n\n\nclass ButtonColumn extends Column {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._caption = option.caption;\n\t}\n\tget StyleClass() {\n\t\treturn ButtonStyle;\n\t}\n\tget caption() {\n\t\treturn this._caption;\n\t}\n\twithCaption(caption) {\n\t\tconst c = this.clone();\n\t\tc._caption = caption;\n\t\treturn c;\n\t}\n\tclone() {\n\t\treturn new ButtonColumn(this);\n\t}\n\tconvertInternal(value) {\n\t\treturn this._caption || value;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tbgColor,\n\t\t\tcolor,\n\t\t\tbuttonBgColor,\n\t\t\tfont,\n\t\t\tpadding,\n\t\t\ttextOverflow\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\thelper.testFontLoad(font, value, context);\n\t\tconst {col, row} = context;\n\t\tlet active = false;\n\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\n\t\tif (state) {\n\t\t\tif (state.mouseActiveCell &&\n\t\t\t\t\tstate.mouseActiveCell.col === col &&\n\t\t\t\t\tstate.mouseActiveCell.row === row) {\n\t\t\t\tactive = true;\n\t\t\t} else if (context.getSelectState().selected) {\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t}\n\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\thelper.button(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tbgColor: buttonBgColor,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding,\n\t\t\t\tshadow: active ? {\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\n\t\t\t\t\tblur: 6,\n\t\t\t\t\toffsetY: 3,\n\t\t\t\t} : true,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = ButtonColumn;\n","'use strict';\n\nconst ImageStyle = require('../style/ImageStyle');\nconst {getCacheOrLoad} = require('../../internal/imgs');\nconst {calcStartPosition} = require('../../internal/canvases');\nconst BaseColumn = require('./BaseColumn');\n\nconst MAX_LRU_CACHE_SIZE = 50;\nfunction getImage(url) {\n\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n}\n\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n\tlet newWidth = width;\n\tlet newHeight = height;\n\tif (newWidth > maxWidth) {\n\t\tnewWidth = maxWidth;\n\t\tnewHeight = (newWidth * height) / width;\n\t}\n\tif (newHeight > maxHeight) {\n\t\tnewHeight = maxHeight;\n\t\tnewWidth = (newHeight * width) / height;\n\t}\n\treturn {\n\t\twidth: newWidth,\n\t\theight: newHeight,\n\t};\n}\n\nclass ImageColumn extends BaseColumn {\n\tget StyleClass() {\n\t\treturn ImageStyle;\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\n\t}\n\tclone() {\n\t\treturn new ImageColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tif (value) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tmargin,\n\t\t\t\tbgColor,\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.drawWithClip(context, (ctx) => {\n\n\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\n\t\t\t\t\tconst {width, height} = calcKeepAspectRatioSize(\n\t\t\t\t\t\t\tvalue.width, value.height,\n\t\t\t\t\t\t\trect.width - margin * 2, rect.height - margin * 2\n\t\t\t\t\t);\n\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\n\t\t\t\t\t\toffset: margin,\n\t\t\t\t\t});\n\t\t\t\t\tctx.drawImage(value,\n\t\t\t\t\t\t\t0, 0, value.width, value.height,\n\t\t\t\t\t\t\tpos.x, pos.y, width, height\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tctx.drawImage(value,\n\t\t\t\t\t\t\t0, 0, value.width, value.height,\n\t\t\t\t\t\t\trect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\nmodule.exports = ImageColumn;\n","'use strict';\n\nclass LRUCache {\n\tconstructor(cacheSize) {\n\t\tthis._list = [];\n\t\tthis._map = {};\n\t\tthis._cacheSize = cacheSize || 50;\n\t}\n\tget(key) {\n\t\tconst val = this._map[key];\n\t\tif (val) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t\tthis._list.push(key);\n\t\t}\n\t\treturn val;\n\t}\n\tput(key, value) {\n\t\tif (this._map[key]) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t}\n\t\tthis._map[key] = value;\n\t\tthis._list.push(key);\n\t\tif (this._list.length > this._cacheSize) {\n\t\t\tconst remKey = this._list.shift();\n\t\t\tdelete this._map[remKey];\n\t\t}\n\t}\n}\nmodule.exports = LRUCache;","'use strict';\n\nconst PercentCompleteBarStyle = require('../style/PercentCompleteBarStyle');\nconst {getOrApply, str} = require('../../internal/utils');\nconst Column = require('./Column');\n\n\nconst MARGIN = 2;\n\nclass PercentCompleteBarColumn extends Column {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._min = option.min || 0;\n\t\tthis._max = option.max || (this._min + 100);\n\t\tthis._formatter = option.formatter || ((v) => v);\n\t}\n\tget StyleClass() {\n\t\treturn PercentCompleteBarStyle;\n\t}\n\tclone() {\n\t\treturn new PercentCompleteBarColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\n\t\tconst {\n\t\t\tbarColor,\n\t\t\tbarBgColor,\n\t\t\tbarHeight,\n\t\t} = style;\n\n\t\tlet svalue = `${value}`;\n\t\tif (str.endsWith(svalue, '%')) {\n\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\n\t\t}\n\t\tconst num = svalue - 0;\n\t\tconst rate = num < this._min ? 0\n\t\t\t: num > this._max ? 1\n\t\t\t: (num - this._min) / (this._max - this._min);\n\n\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1/**/;\n\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1/**/;\n\t\t\tconst barLeft = rect.left + MARGIN;\n\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n\t\t\tctx.fill();\n\n\n\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\n\t\t\tctx.fill();\n\t\t});\n\t}\n}\nmodule.exports = PercentCompleteBarColumn;\n","'use strict';\n\nconst IconStyle = require('../style/IconStyle');\nconst Column = require('./Column');\nconst icons = require('../../internal/icons');\n\nfunction repeatArray(val, count) {\n\tif (count === Infinity) {\n\t\tcount = 0;\n\t}\n\tconst a = [];\n\tfor (let i = 0; i < count; i++) {\n\t\ta.push(val);\n\t}\n\treturn a;\n}\n\nclass IconColumn extends Column {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._tagName = option.tagName || 'i';\n\t\tthis._className = option.className;\n\t\tthis._content = option.content;\n\t\tthis._name = option.name;\n\t\tthis._iconWidth = option.iconWidth;\n\t}\n\tget StyleClass() {\n\t\treturn IconStyle;\n\t}\n\tclone() {\n\t\treturn new IconColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\t\tconst num = value - 0;\n\t\tif (!isNaN(num)) {\n\t\t\tconst icon = {};\n\t\t\ticons.iconPropKeys.forEach((k) => {\n\t\t\t\ticon[k] = style[k];\n\t\t\t});\n\t\t\ticon.className = this._className;\n\t\t\ticon.tagName = this._tagName;\n\t\t\ticon.content = this._content;\n\t\t\ticon.name = this._name;\n\t\t\tif (this._iconWidth) {\n\t\t\t\ticon.width = this._iconWidth;\n\t\t\t}\n\n\t\t\tinfo.getIcon = () => repeatArray(icon, num);\n\t\t} else {\n\t\t\tinfo.getIcon = () => null;\n\t\t}\n\t\tsuper.drawInternal('', context, style, helper, grid, info);\n\t}\n}\nmodule.exports = IconColumn;\n","'use strict';\nconst {isDef, getOrApply, isPromise, obj: {isObject}} = require('../../internal/utils');\nconst BranchGraphStyle = require('../style/BranchGraphStyle');\nconst BaseColumn = require('./BaseColumn');\nconst {BRANCH_GRAPH_COLUMN_STATE_ID: _} = require('../../internal/symbolManager');\n\nfunction getAllColumnData(grid, col, callback) {\n\tconst {dataSource} = grid;\n\tlet field = grid.getField(col);\n\tif (isObject(field) && field.get && field.set) {\n\t\tfield = field.get;\n\t}\n\tconst allData = [];\n\tlet promise;\n\tfor (let index = 0; index < dataSource.length; index++) {\n\t\tconst data = dataSource.getField(index, field);\n\t\tif (isPromise(data)) {\n\t\t\tconst dataIndex = allData.length;\n\t\t\tallData.push(data);\n\t\t\tif (!promise) {\n\t\t\t\tpromise = data.then((d) => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = promise.then(() => data).then((d) => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tallData.push(data);\n\t\t}\n\t}\n\n\tif (promise) {\n\t\tpromise.then(() => callback(allData));\n\t} else {\n\t\tcallback(allData);\n\t}\n}\n\nclass BranchLine {\n\tconstructor({fromIndex, toIndex, colorIndex, point}) {\n\t\tthis.fromIndex = fromIndex;\n\t\tthis.toIndex = toIndex;\n\t\tthis.colorIndex = colorIndex;\n\t\tthis.point = point;\n\t}\n}\nclass BranchPoint {\n\tconstructor({index, commit = false, lines = [], tag}) {\n\t\tthis.index = index;\n\t\tthis.commit = commit;\n\t\tthis.lines = lines;\n\t\tthis.tag = tag;\n\t}\n\tstatic mergeLines(lines) {\n\t\tconst result = lines.filter(((l) => isDef(l.fromIndex) && isDef(l.toIndex)));\n\n\t\tconst froms = lines.filter(((l) => isDef(l.fromIndex) && !isDef(l.toIndex)));\n\t\tconst tos = lines.filter(((l) => !isDef(l.fromIndex) && isDef(l.toIndex)));\n\n\t\tfroms.forEach((f) => {\n\t\t\tfor (let i = 0; i < tos.length; i++) {\n\t\t\t\tconst t = tos[i];\n\t\t\t\tif (t.point) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\n\t\t\t\t\tf.toIndex = t.toIndex;\n\t\t\t\t\ttos.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(f);\n\t\t});\n\n\t\treturn result.concat(tos);\n\t}\n\tstatic merge(a, b) {\n\t\tif (!a) {\n\t\t\treturn b;\n\t\t}\n\t\treturn new BranchPoint({\n\t\t\tindex: a.index,\n\t\t\tcommit: a.commit || b.commit,\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n\t\t\ttag: a.tag || b.tag\n\t\t});\n\t}\n}\n\nfunction joinLine(timeline, branchIndex) {\n\tconst reverse = [...timeline].reverse();\n\tfor (let i = 0; i < reverse.length; i++) {\n\t\tconst f = reverse[i][branchIndex];\n\t\tif (f) {\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n\t\t\t\ttoIndex: branchIndex,\n\t\t\t\tcolorIndex: branchIndex,\n\t\t\t})]));\n\n\t\t\tfor (let j = 0; j < i; j++) {\n\t\t\t\tconst tl = reverse[j];\n\t\t\t\ttl[branchIndex] = new BranchPoint({\n\t\t\t\t\tindex: branchIndex,\n\t\t\t\t\tlines: [new BranchLine({\n\t\t\t\t\t\tfromIndex: branchIndex,\n\t\t\t\t\t\ttoIndex: branchIndex,\n\t\t\t\t\t\tcolorIndex: branchIndex\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction branch({timeline, branches}, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tlet toIndex = branches.indexOf(to);\n\tif (toIndex < 0) {\n\t\ttoIndex = branches.length;\n\t\tbranches.push(to);\n\t}\n\n\tfunction findBranchRootIndex() {\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\n\t\t\tconst tl = timeline[index];\n\t\t\tconst from = tl[fromIndex];\n\t\t\tif (from && from.commit) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tif (fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t});\n\t} else {\n\t\tconst fromTargetIndex = findBranchRootIndex();\n\t\tif (fromTargetIndex === -1) {\n\t\t\treturn null;\n\t\t}\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\n\t\tconst branchPoint = new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})]\n\t\t});\n\t\tlet point;\n\t\tlet result;\n\t\tif (branchTargetFromIndex < timeline.length) {\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n\t\t} else {\n\t\t\tpoint = branchPoint;\n\t\t\tresult = branchPoint;\n\t\t}\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n\t\t\ttoIndex,\n\t\t\tcolorIndex: toIndex,\n\t\t\tpoint,\n\t\t})]));\n\t\treturn result;\n\t}\n\n}\n\nfunction commit({timeline, branches}, name) {\n\tconst index = branches.indexOf(name);\n\tif (index < 0) {\n\t\treturn null;\n\t}\n\tconst result = new BranchPoint({\n\t\tindex,\n\t\tcommit: true,\n\t});\n\n\tif (joinLine(timeline, index)) {\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n\t\t\tfromIndex: index,\n\t\t\tcolorIndex: index\n\t\t})]));\n\t}\n\treturn result;\n}\n\nfunction commitTag({timeline, branches}, name, tag) {\n\tlet index = branches.indexOf(name);\n\tif (index < 0) {\n\t\tindex = branches.length;\n\t\tbranches.push(name);\n\t}\n\treturn new BranchPoint({\n\t\tindex,\n\t\ttag\n\t});\n}\n\nfunction commitMerge({timeline, branches}, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tconst toIndex = branches.indexOf(to);\n\tif (toIndex < 0 || fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tcommit: true,\n\t\t});\n\t}\n\tconst result = new BranchPoint({\n\t\tindex: toIndex,\n\t\tcommit: true,\n\t\tlines: [\n\t\t\tnew BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t}),\n\t\t\tnew BranchLine({\n\t\t\t\tfromIndex: toIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})],\n\t});\n\tconst froms = [...timeline];\n\tconst fromTargetLine = froms.pop();\n\tif (fromTargetLine) {\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\ttoIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t})]\n\t\t}));\n\t}\n\n\n\tif (joinLine(froms, fromIndex) && fromTargetLine) {\n\t\tfromTargetLine[fromIndex].lines = BranchPoint.mergeLines(\n\t\t\t\tfromTargetLine[fromIndex].lines.concat([new BranchLine({\n\t\t\t\t\tfromIndex,\n\t\t\t\t\tcolorIndex: fromIndex\n\t\t\t\t})]));\n\t}\n\tjoinLine(timeline, toIndex);\n\n\treturn result;\n}\n\nfunction calcCommand(info, command) {\n\tconst {timeline} = info;\n\tconst timelineData = [];\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\tconst commands = Array.isArray(command) ? command : [command];\n\tcommands.forEach((cmd) => {\n\t\tif (!cmd) {\n\t\t\treturn;\n\t\t}\n\t\tlet point;\n\t\tif (cmd.command === 'branch') {\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n\t\t\tpoint = branch(info, from, to);\n\t\t} else if (cmd.command === 'commit') {\n\t\t\tconst {branch} = cmd;\n\t\t\tpoint = commit(info, branch);\n\t\t} else if (cmd.command === 'merge') {\n\t\t\tconst {from, to} = cmd.branch;\n\t\t\tpoint = commitMerge(info, from, to);\n\t\t} else if (cmd.command === 'tag') {\n\t\t\tconst {branch, tag} = cmd;\n\t\t\tpoint = commitTag(info, branch, tag);\n\t\t}\n\t\tif (point && point.index > -1) {\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n\t\t}\n\t});\n\ttimeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n\tconst result = {\n\t\tbranches: [],\n\t\ttimeline: []\n\t};\n\tgetAllColumnData(grid, col, (data) => {\n\t\tif (start !== 'top') {\n\t\t\tdata = [...data].reverse();\n\t\t}\n\t\tdata.forEach((command) => {\n\t\t\tcalcCommand(result, command);\n\t\t});\n\n\t});\n\treturn result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n\tlet w = Math.max(width / branches.length + 1, 5);\n\ttimeline.forEach((tl) => {\n\t\ttl.forEach((p, index) => {\n\t\t\tif (index <= 0) {\n\t\t\t\t// \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.tag) {\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\n\t\t\t\tif (((w * index) + (radius * 2) + 4 + textWidth) > width) {\n\t\t\t\t\tw = Math.max((width - (radius * 2) - 4 - textWidth) / index, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tconst result = [];\n\tlet x = left;\n\tbranches.forEach(() => {\n\t\tresult.push(Math.ceil(x + radius));\n\t\tx += w;\n\t});\n\treturn result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\n}, {\n\twidth, col, row, branches\n}) {\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n\t\tctx.lineWidth = branchLineWidth;\n\t\tctx.lineCap = 'round';\n\t\tctx.beginPath();\n\n\n\t\tif (isDef(upLineIndex)) {\n\t\t\tconst upX = branchXPoints[upLineIndex];\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\n\t\t\tconst upY = upRect.top + upRect.height / 2;\n\t\t\tctx.moveTo(upX, upY);\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tupX, (y + upY) / 2,\n\t\t\t\t\t\tx, (y + upY) / 2,\n\t\t\t\t\t\tx, y\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t} else {\n\t\t\tctx.moveTo(x, y);\n\t\t}\n\n\t\tif (isDef(downLineIndex)) {\n\t\t\tconst downX = branchXPoints[downLineIndex];\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\n\t\t\tconst downY = downRect.top + downRect.height / 2;\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tx, (y + downY) / 2,\n\t\t\t\t\t\tdownX, (y + downY) / 2,\n\t\t\t\t\t\tdownX, downY\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(downX, downY);\n\t\t\t}\n\t\t}\n\n\t\tctx.stroke();\n\t}\n}\n\n/**\n * BranchGraphColumn<br>\n * <br>\n * # Data command<br>\n * ## mastar branch or orphan branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * </code></pre>\n * ## commit<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * </code></pre>\n * ## branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * </code></pre>\n * ## merge<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * </code></pre>\n * ## tag<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * </code></pre>\n *\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._start = option.start || 'bottom';\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\n\t}\n\tget StyleClass() {\n\t\treturn BranchGraphStyle;\n\t}\n\tclearCache(grid) {\n\t\tdelete grid[_];\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tif (this._cache) {\n\t\t\tconst state = grid[_] || (grid[_] = {});\n\t\t\tconst {col} = context;\n\t\t\tif (!state[col]) {\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\n\t\t\t}\n\t\t}\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\n\t}\n\tclone() {\n\t\treturn new BranchGraphColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {col, row} = context;\n\t\tconst {timeline, branches} = (this._cache && grid[_]) ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n\n\t\tconst {upLineIndexKey, downLineIndexKey} = this._start !== 'top' ? {upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex'} : {upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex'};\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n\n\t\tconst {\n\t\t\tbranchColors,\n\t\t\tbranchLineWidth,\n\t\t\tcircleSize,\n\t\t\tmergeStyle,\n\t\t\tmargin,\n\t\t\tbgColor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst rect = context.getRect();\n\t\tconst radius = circleSize / 2;\n\t\tconst width = rect.width - margin * 2;\n\n\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n\n\t\t\tconst y = rect.top + rect.height / 2;\n\n\t\t\t// draw join lines\n\t\t\tdata.\n\t\t\t\tmap((point, index) => point ? point.lines.map((line) => ({\n\t\t\t\t\tcolorIndex: line.colorIndex,\n\t\t\t\t\tupLineIndex: line[upLineIndexKey],\n\t\t\t\t\tdownLineIndex: line[downLineIndexKey],\n\t\t\t\t\tpointIndex: index,\n\t\t\t\t})) : []).\n\t\t\t\treduce((p, c) => p.concat(c), []).// flatMap\n\t\t\t\t// order of overlap\n\t\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).\n\t\t\t\tforEach((line) => {\n\t\t\t\t\tconst x = branchXPoints[line.pointIndex];\n\t\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n\t\t\t\t\t\tmargin,\n\t\t\t\t\t\tbranchXPoints,\n\t\t\t\t\t\tbranchLineWidth,\n\t\t\t\t\t\tbranchColors,\n\t\t\t\t\t\tmergeStyle,\n\t\t\t\t\t}, {\n\t\t\t\t\t\twidth, col, row, branches\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t// draw commit points\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.commit) {\n\t\t\t\t\tconst x = branchXPoints[index];\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// draw tags\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.tag) {\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = BranchGraphColumn;","'use strict';\nconst BaseStyle = require('./BaseStyle');\nlet defaultStyle;\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n\tswitch (index % 3) {\n\tcase 0:\n\t\treturn '#979797';\n\tcase 1:\n\t\treturn '#008fb5';\n\tcase 2:\n\t\treturn '#f1c109';\n\tdefault:\n\t}\n\treturn '#979797';\n};\nclass BranchGraphStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BranchGraphStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n\t\tthis._margin = style.margin || 4;\n\t\tthis._circleSize = style.circleSize || 16;\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n\t}\n\tget branchColors() {\n\t\treturn this._branchColors;\n\t}\n\tset branchColors(branchColors) {\n\t\tthis._branchColors = branchColors;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tget circleSize() {\n\t\treturn this._circleSize;\n\t}\n\tset circleSize(circleSize) {\n\t\tthis._circleSize = circleSize;\n\t\tthis.doChangeStyle();\n\t}\n\tget branchLineWidth() {\n\t\treturn this._branchLineWidth;\n\t}\n\tset branchLineWidth(branchLineWidth) {\n\t\tthis._branchLineWidth = branchLineWidth;\n\t\tthis.doChangeStyle();\n\t}\n\tget mergeStyle() {\n\t\treturn this._mergeStyle;\n\t}\n\tset mergeStyle(mergeStyle) {\n\t\tthis._mergeStyle = mergeStyle;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new BranchGraphStyle(this);\n\t}\n}\nmodule.exports = BranchGraphStyle;","'use strict';\n\nconst {normalize} = require('../../internal/menu-items');\nconst {isDef} = require('../../internal/utils');\nconst BaseColumn = require('./BaseColumn');\nconst MenuStyle = require('../style/MenuStyle');\nconst utils = require('./columnUtils');\n\nclass MenuColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._options = normalize(option.options);\n\t}\n\tget StyleClass() {\n\t\treturn MenuStyle;\n\t}\n\tclone() {\n\t\treturn new MenuColumn(this);\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\twithOptions(options) {\n\t\tconst c = this.clone();\n\t\tc._options = normalize(options);\n\t\treturn c;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\tpadding,\n\t\t\ttextOverflow,\n\t\t\tappearance,\n\t\t} = style;\n\t\tlet {\n\t\t\tcolor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\tconst text = this._convertInternal(value);\n\t\thelper.testFontLoad(font, text, context);\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n\t\t\tconst textPadding = basePadding.slice(0);\n\t\t\ttextPadding[1] += 26;// icon padding\n\t\t\tconst iconPadding = basePadding.slice(0);\n\t\t\ticonPadding[1] += 8;\n\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\n\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\n\t\t\t}\n\t\t\thelper.text(text, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding: textPadding,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\n\t\t\tif (appearance === 'menulist-button') {\n\t\t\t\t// draw dropdown arrow icon\n\t\t\t\thelper.text('', context, {\n\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons: [{\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\n\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)',\n\t\t\t\t\t}],\n\t\t\t\t\tpadding: iconPadding,\n\t\t\t\t});\n\t\t\t} else if (appearance !== 'none') {\n\t\t\t\tconsole.warn(`unsupported appearance:${appearance}`);\n\t\t\t}\n\t\t});\n\t}\n\tconvertInternal(value) {\n\t\treturn value;\n\t}\n\t_convertInternal(value) {\n\t\tconst options = this._options;\n\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\tconst option = options[i];\n\t\t\tif (option.value === value) {\n\t\t\t\tvalue = option.caption;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn super.convertInternal(value);\n\t}\n}\n\nmodule.exports = MenuColumn;\n","'use strict';\nconst MultilineTextStyle = require('../style/MultilineTextStyle');\nconst BaseColumn = require('./BaseColumn');\nconst utils = require('./columnUtils');\nclass MultilineTextColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t}\n\tget StyleClass() {\n\t\treturn MultilineTextStyle;\n\t}\n\tclone() {\n\t\treturn new MultilineTextColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\tpadding,\n\t\t\tlineHeight,\n\t\t\tautoWrapText,\n\t\t\tlineClamp,\n\t\t\ttextOverflow\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\tconst multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n\t\thelper.testFontLoad(font, value, context);\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\thelper.multilineText(multilines, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding,\n\t\t\t\tlineHeight,\n\t\t\t\tautoWrapText,\n\t\t\t\tlineClamp,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = MultilineTextColumn;","/*eslint no-bitwise:0*/\n'use strict';\n\nconst {getChainSafe} = require('../internal/utils');\n//private symbol\nconst _ = require('../internal/symbolManager').get();\n\nfunction getProp(obj, superObj, names, defNames) {\n\treturn getChainSafe(obj, ...names) ||\n\t\tgetChainSafe(superObj, ...names) ||\n\t\t(defNames && getChainSafe(obj, ...defNames)) ||\n\t\t(defNames && getChainSafe(superObj, ...defNames));\n}\n\nclass Theme {\n\tconstructor(obj = {}, superTheme = {}) {\n\t\tif (obj.hiliteBorderColor && !obj.highlightBorderColor) {\n\t\t\t// https://github.com/future-architect/cheetah-grid/issues/83\n\t\t\tconsole.warn('Please use highlightBorderColor instead of hiliteBorderColor. cheetah-grid@>=0.7');\n\t\t\tobj.highlightBorderColor = obj.hiliteBorderColor;\n\t\t}\n\t\tthis[_] = {\n\t\t\tobj,\n\t\t\tsuperTheme\n\t\t};\n\t}\n\tget font() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['font']);\n\t}\n\tget underlayBackgroundColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\n\t}\n\t// color\n\tget color() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['color']);\n\t}\n\tget frozenRowsColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n\t}\n\t// background\n\tget defaultBgColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\n\t}\n\tget frozenRowsBgColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n\t}\n\tget selectionBgColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n\t}\n\t// border\n\tget borderColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['borderColor']);\n\t}\n\tget frozenRowsBorderColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n\t}\n\tget highlightBorderColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['highlightBorderColor'], ['borderColor']);\n\t}\n\tget checkbox() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn this._checkbox || (this._checkbox = {\n\t\t\tget uncheckBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget checkBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget borderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n\t\t\t}\n\t\t});\n\t}\n\tget button() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn this._button || (this._button = {\n\t\t\tget color() {\n\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\n\t\t\t},\n\t\t\tget bgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t});\n\t}\n\tget header() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn this._header || (this._header = {\n\t\t\tget sortArrowColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['header', 'sortArrowColor'], ['color']);\n\t\t\t},\n\t\t});\n\t}\n\textends(obj) {\n\t\treturn new Theme(obj, this);\n\t}\n}\n\n\n/**\n * theme object\n * @type {Object}\n * @namespace cheetahGrid.themes.theme\n * @memberof cheetahGrid.themes\n */\nmodule.exports = {\n\tTheme\n};\n","/*eslint no-bitwise:0*/\n'use strict';\nfunction DEFAULT_BG_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: {frozenRowCount}\n\t} = args;\n\tif (!((row - frozenRowCount) & 1)) {\n\t\treturn '#FFF';\n\t} else {\n\t\treturn '#F6F6F6';\n\t}\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n\tlet stop;\n\tconst stopsKey = [];\n\tfor (stop in colorStops) {\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\n\t}\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n\tconst ret = cacheLinearGradient[key];\n\tif (ret) {\n\t\treturn ret;\n\t}\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\n\tfor (stop in colorStops) {\n\t\tgrad.addColorStop(stop, colorStops[stop]);\n\t}\n\treturn (cacheLinearGradient[key] = grad);\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid,\n\t\tgrid: {frozenRowCount},\n\t\tcontext\n\t} = args;\n\tconst {left, top} = grid.getCellRelativeRect(col, 0);\n\tconst {bottom} = grid.getCellRelativeRect(col, frozenRowCount - 1);\n\n\treturn getLinearGradient(context, left, top, left, bottom, {0: '#FFF', 1: '#D3D3D3'});\n}\n/**\n * basic theme\n * @name BASIC\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: '#000',\n\t// frozenRowsColor: '#000',\n\n\tdefaultBgColor: DEFAULT_BG_COLOR,\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n\tselectionBgColor: '#CCE0FF',\n\n\tborderColor: '#000',\n\t// frozenRowsBorderColor: '#000',\n\thighlightBorderColor: '#5E9ED6',\n\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\t// borderColor: '#000',\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3',\n\t},\n\theader: {\n\t\tsortArrowColor: 'rgba(0, 0, 0, 0.38)',\n\t},\n\tunderlayBackgroundColor: '#F6F6F6',\n};","/*eslint no-bitwise:0*/\n'use strict';\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: {frozenRowCount}\n\t} = args;\n\tif (frozenRowCount - 1 === row) {\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n\t} else {\n\t\treturn ['#f2f2f2'];\n\t}\n}\nfunction BORDER_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid: {colCount, frozenColCount}\n\t} = args;\n\tif (frozenColCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t}\n\tif (colCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t}\n\treturn ['#ccc7c7', null];\n\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: 'rgba(0, 0, 0, 0.87)',\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n\n\tdefaultBgColor: '#FFF',\n\t// frozenRowsBgColor: '#FFF',\n\tselectionBgColor: '#CCE0FF',\n\n\tborderColor: BORDER_COLOR,\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n\thighlightBorderColor: '#5E9ED6',\n\n\tcheckbox: {\n\t\t// uncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)',\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3',\n\t},\n\theader: {\n\t\tsortArrowColor: 'rgba(0, 0, 0, 0.38)',\n\t},\n\tunderlayBackgroundColor: '#FFF',\n};","'use strict';\n\nconst {getChainSafe} = require('../internal/utils');\nconst DataSource = require('./DataSource');\n\nfunction _setFieldCache({_fCache}, index, field, value) {\n\tconst recCache = _fCache[index] || (_fCache[index] = {});\n\trecCache[field] = value;\n}\n/**\n\t * grid data source for caching Promise data\n\t *\n\t * @classdesc cheetahGrid.data.CachedDataSource\n\t * @extends cheetahGrid.data.DataSource\n\t * @memberof cheetahGrid.data\n\t */\nclass CachedDataSource extends DataSource {\n\tstatic get EVENT_TYPE() {\n\t\treturn DataSource.EVENT_TYPE;\n\t}\n\tstatic ofArray(array) {\n\t\treturn new CachedDataSource({\n\t\t\tget: (index) => array[index],\n\t\t\tlength: array.length\n\t\t});\n\t}\n\tconstructor(opt = {}) {\n\t\tsuper(opt);\n\t\tthis._rCache = {};\n\t\tthis._fCache = {};\n\t}\n\tgetOriginal(index) {\n\t\tif (this._rCache && this._rCache[index]) {\n\t\t\treturn this._rCache[index];\n\t\t}\n\t\treturn super.getOriginal(index);\n\t}\n\tgetOriginalField(index, field) {\n\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\tif (cache) {\n\t\t\treturn cache;\n\t\t}\n\t\treturn super.getOriginalField(index, field);\n\t}\n\tsetOriginalField(index, field, value) {\n\t\tconst fCache = this._fCache;\n\t\tif (fCache && fCache[index]) {\n\t\t\tdelete fCache[index]; // clear row cache\n\t\t}\n\t\treturn super.setOriginalField(index, field, value);\n\t}\n\tclearCache() {\n\t\tif (this._rCache) {\n\t\t\tthis._rCache = {};\n\t\t}\n\t\tif (this._fCache) {\n\t\t\tthis._fCache = {};\n\t\t}\n\t}\n\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t_setFieldCache(this, index, field, val);\n\t}\n\trecordPromiseCallBackInternal(index, val) {\n\t\tthis._rCache[index] = val;\n\t}\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n}\n\nmodule.exports = CachedDataSource;\n","'use strict';\nconst {isPromise} = require('../internal/utils');\nconst DataSource = require('./DataSource');\n\nclass DataSourceIterator {\n\tconstructor(dataSource) {\n\t\tthis._dataSource = dataSource;\n\t\tthis._curIndex = -1;\n\t\tthis._data = [];\n\t}\n\thasNext() {\n\t\tconst next = this._curIndex + 1;\n\t\treturn this._dataSource.length > next;\n\t}\n\tnext() {\n\t\tconst next = this._curIndex + 1;\n\t\tconst data = this._getIndexData(next);\n\t\tthis._curIndex = next;\n\t\treturn data;\n\t}\n\tmovePrev() {\n\t\tthis._curIndex--;\n\t}\n\t_getIndexData(index, nest) {\n\t\tconst dataSource = this._dataSource;\n\t\tconst data = this._data;\n\t\tif (index < data.length) {\n\t\t\treturn data[index];\n\t\t}\n\n\t\tif (dataSource.length <= index) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this._dataSource.get(index);\n\t\tdata[index] = record;\n\t\tif (isPromise(record)) {\n\t\t\trecord.then((val) => {\n\t\t\t\tdata[index] = val;\n\t\t\t});\n\t\t\tif (!nest) {\n\t\t\t\tfor (let i = 1; i <= 100; i++) {\n\t\t\t\t\tthis._getIndexData(index + i, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn record;\n\t}\n\n}\nclass FilterData {\n\tconstructor(dc, original, filter) {\n\t\tthis._owner = dc;\n\t\tthis._dataSourceItr = new DataSourceIterator(original);\n\t\tthis._filter = filter;\n\t\tthis._filterdList = [];\n\t\tthis._queues = [];\n\t}\n\tget(index) {\n\t\tif (this._cancel) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst filterdList = this._filterdList;\n\t\tif (index < filterdList.length) {\n\t\t\treturn filterdList[index];\n\t\t}\n\t\tconst queues = this._queues;\n\t\tif (queues[index]) {\n\t\t\treturn queues[index];\n\t\t}\n\t\treturn queues[index] || this._findIndex(index);\n\t}\n\tcancel() {\n\t\tthis._cancel = true;\n\t}\n\t_findIndex(index) {\n\t\tif (window.Promise) {\n\t\t\tconst timeout = Date.now() + 100;\n\t\t\tlet count = 0;\n\t\t\treturn this._findIndexWithTimeout(index, () => {\n\t\t\t\tcount++;\n\t\t\t\tif (count >= 100) {\n\t\t\t\t\tcount = 0;\n\t\t\t\t\treturn timeout < Date.now();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\treturn this._findIndexWithTimeout(index, () => false);\n\t}\n\t_findIndexWithTimeout(index, testTimeout) {\n\t\tconst filterdList = this._filterdList;\n\t\tconst filter = this._filter;\n\t\tconst dataSourceItr = this._dataSourceItr;\n\n\t\tconst queues = this._queues;\n\n\n\t\twhile (dataSourceItr.hasNext()) {\n\t\t\tif (this._cancel) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = dataSourceItr.next();\n\t\t\tif (isPromise(record)) {\n\t\t\t\tdataSourceItr.movePrev();\n\t\t\t\treturn (queues[index] = record.then((value) => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (filter(record)) {\n\t\t\t\tfilterdList.push(record);\n\t\t\t\tif (index < filterdList.length) {\n\t\t\t\t\treturn filterdList[index];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (testTimeout()) {\n\t\t\t\tconst promise = new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, 300);\n\t\t\t\t});\n\t\t\t\tqueues[index] = promise.then(() => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t});\n\t\t\t\treturn queues[index];\n\t\t\t}\n\t\t}\n\t\tconst dc = this._owner;\n\t\tdc.length = filterdList.length;\n\t\treturn undefined;\n\t}\n}\n\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @extends cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource {\n\tstatic get EVENT_TYPE() {\n\t\treturn DataSource.EVENT_TYPE;\n\t}\n\tconstructor(dataSource, filter) {\n\t\tsuper(dataSource);\n\t\tthis._dataSource = dataSource;\n\t\tthis.filter = filter;\n\t}\n\tget filter() {\n\t\treturn this._filterData && this._filterData._filter || undefined;\n\t}\n\tset filter(filter) {\n\t\tif (this._filterData) {\n\t\t\tthis._filterData.cancel();\n\t\t}\n\t\tthis._filterData = filter ? new FilterData(this, this._dataSource, filter) : undefined;\n\t\tthis.length = this._dataSource.length;\n\t}\n\tgetOriginal(index) {\n\t\tif (!this._filterData) {\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\treturn this._filterData.get(index);\n\t}\n}\n\nmodule.exports = FilterDataSource;","'use strict';\n\nconst {isDef, isPromise, then, obj: {isObject}} = require('./internal/utils');\nconst GridCanvasHelper = require('./GridCanvasHelper');\nconst columns = require('./columns');\nconst {BaseStyle} = columns.style;\nconst headerType = require('./header/type');\nconst {BaseStyle: HeaderBaseStyle} = require('./header/style');\nconst DrawGrid = require('./core/DrawGrid');\nconst {DataSource, CachedDataSource} = require('./data');\nconst themes = require('./themes');\nconst icons = require('./internal/icons');\nconst MessageHandler = require('./columns/message/MessageHandler');\nconst TooltipHandler = require('./tooltip/TooltipHandler');\nconst EVENT_TYPE = require('./list-grid/EVENT_TYPE');\n\n//protected symbol\nconst {PROTECTED_SYMBOL: _} = require('./internal/symbolManager');\n\nlet headerId = 0;\n//private methods\nfunction _getHeaderCellRange(grid, col, row) {\n\treturn grid[_].headerMap.getHeaderCellRange(col, row);\n}\nfunction _updateRect(grid, col, row, context) {\n\tconst rect = context.getRect();\n\tconst {\n\t\tstartCol,\n\t\tendCol,\n\t\tstartRow,\n\t\tendRow,\n\t} = _getHeaderCellRange(grid, col, row);\n\tfor (let c = col - 1; c >= startCol; c--) {\n\t\trect.left -= grid.getColWidth(c);\n\t}\n\tfor (let c = col + 1; c <= endCol; c++) {\n\t\trect.right += grid.getColWidth(c);\n\t}\n\tfor (let r = row - 1; r >= startRow; r--) {\n\t\trect.top -= grid.getRowHeight(r);\n\t}\n\tfor (let r = row + 1; r <= endRow; r++) {\n\t\trect.bottom += grid.getRowHeight(r);\n\t}\n\tcontext.setRect(rect);\n}\nfunction _getCellValue(grid, col, row) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn grid[_].headerMap.getCell(col, row).caption;\n\t} else {\n\t\tlet {field} = grid[_].headerMap.columns[col];\n\t\tif (isObject(field) && field.get && field.set) {\n\t\t\tfield = field.get;\n\t\t}\n\t\treturn _getField(grid, field, row);\n\t}\n}\nfunction _setCellValue(grid, col, row, value) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\t// nop\n\t\treturn false;\n\t} else {\n\t\tlet {field} = grid[_].headerMap.columns[col];\n\t\tif (isObject(field) && field.get && field.set) {\n\t\t\tfield = field.set;\n\t\t}\n\t\tconst index = _getRowRecordIndex(grid, row);\n\t\tconst res = grid[_].dataSource.setField(index, field, value);\n\t\treturn isPromise(res) ? res : true;\n\t}\n}\nfunction _getCellMessage(grid, col, row) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn null;\n\t} else {\n\t\tconst {message} = grid[_].headerMap.columns[col];\n\t\tif (!message) {\n\t\t\treturn null;\n\t\t}\n\t\treturn _getField(grid, message, row);\n\t}\n}\nfunction _getCellIcon0(grid, icon, row) {\n\tif (!isDef(icon)) {\n\t\treturn null;\n\t}\n\tif (Array.isArray(icon)) {\n\t\treturn icon.map((i) => _getCellIcon0(grid, i, row));\n\t}\n\tif (!isObject(icon)) {\n\t\treturn _getField(grid, icon, row);\n\t}\n\tconst retIcon = {};\n\ticons.iconPropKeys.forEach((k) => {\n\t\tif (icon[k]) {\n\t\t\tconst f = _getField(grid, icon[k], row);\n\t\t\tif (isDef(f)) {\n\t\t\t\tretIcon[k] = f;\n\t\t\t} else {\n\t\t\t\tif (!_hasField(grid, icon[k], row)) {\n\t\t\t\t\tretIcon[k] = icon[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn retIcon;\n}\nfunction _getCellIcon(grid, col, row) {\n\tconst {icon} = grid[_].headerMap.columns[col];\n\treturn _getCellIcon0(grid, icon, row);\n}\nfunction _getField(grid, field, row) {\n\tif (!isDef(field)) {\n\t\treturn null;\n\t}\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn null;\n\t} else {\n\t\tconst index = _getRowRecordIndex(grid, row);\n\t\treturn grid[_].dataSource.getField(index, field);\n\t}\n}\nfunction _hasField(grid, field, row) {\n\tif (!isDef(field)) {\n\t\treturn false;\n\t}\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn false;\n\t} else {\n\t\tconst index = _getRowRecordIndex(grid, row);\n\t\treturn grid[_].dataSource.hasField(index, field);\n\t}\n}\nfunction _onDrawValue(grid, cellValue, context, {col, row}, style, draw) {\n\tconst helper = grid[_].gridCanvasHelper;\n\n\tconst drawCellBg = ({bgColor} = {}) => {\n\t\tconst fillOpt = {\n\t\t\tfillColor: bgColor,\n\t\t};\n\t\t\t//cell\n\t\thelper.fillCellWithState(context, fillOpt);\n\t};\n\tconst drawCellBorder = () => {\n\n\t\tif (context.col === grid.frozenColCount - 1) {\n\t\t\t//\n\t\t\tconst rect = context.getRect();\n\t\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor\n\t\t\t\t\t: helper.theme.frozenRowsBorderColor;\n\n\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\thelper.getColor(borderColor, context.col, context.row, ctx)\n\t\t\t\t);\n\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\n\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (context.row < grid[_].headerMap.rowCount) {\n\t\t\t_headerBorderWithState(grid, helper, context);\n\t\t} else {\n\t\t\thelper.borderWithState(context);\n\t\t}\n\t};\n\n\n\tconst drawCellBase = ({bgColor} = {}) => {\n\t\tdrawCellBg({bgColor});\n\t\tdrawCellBorder();\n\t};\n\tconst info = {\n\t\tgetRecord: () => grid.getRowRecord(row),\n\t\tgetIcon: () => _getCellIcon(grid, col, row),\n\t\tgetMessage: () => _getCellMessage(grid, col, row),\n\t\tmessageHandler: grid[_].messageHandler,\n\t\tstyle,\n\t\tdrawCellBase,\n\t\tdrawCellBg,\n\t\tdrawCellBorder,\n\t};\n\n\treturn draw(cellValue, info, context, grid);\n}\nfunction _headerBorderWithState(grid, helper, context) {\n\tconst {col, row} = context;\n\tconst sel = grid.selection.select;\n\tif (sel.row >= grid[_].headerMap.rowCount) {\n\t\t//\n\t\thelper.borderWithState(context);\n\t\treturn;\n\t}\n\n\tconst {id} = grid[_].headerMap.getCell(col, row);\n\n\tconst rect = context.getRect();\n\tconst option = {};\n\n\tconst {id: selId} = grid[_].headerMap.getCell(sel.col, sel.row);\n\t//\n\tif (selId === id) {\n\t\toption.borderColor = helper.theme.highlightBorderColor;\n\t\toption.lineWidth = 2;\n\t\thelper.border(context, option);\n\t} else {\n\t\toption.lineWidth = 1;\n\t\t// header color\n\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\n\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\n\t\t}\n\t\thelper.border(context, option);\n\n\t\t//\n\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n\t\t\t//\n\t\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\thelper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx)\n\t\t\t\t);\n\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (row > 0 &&\n\t\t\t\t\t\tgrid[_].headerMap.getCell(col, row - 1).id === selId) {\n\t\t\t//\n\t\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\thelper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx)\n\t\t\t\t);\n\t\t\t\tif (borderColors[0]) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\nfunction _refreshHeader(grid) {\n\tif (grid[_].headerEvents) {\n\t\tgrid[_].headerEvents.forEach((id) => grid.unlisten(id));\n\t}\n\tgrid[_].headerMap = new HeaderMap(grid[_].header);\n\tgrid[_].headerEvents = [];\n\tgrid[_].headerMap.headerObjects.forEach((cell) => {\n\t\tconst ids = cell.headerType.bindGridEvent(grid);\n\t\tgrid[_].headerEvents.push(...ids);\n\t\tif (cell.style) {\n\t\t\tif (cell.style instanceof HeaderBaseStyle) {\n\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\tgrid.invalidate();\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t}\n\t\t}\n\t});\n\tgrid[_].headerMap.columns.forEach((col, index) => {\n\t\tif (col.action) {\n\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\n\t\t\t\tisTarget(col, row) {\n\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t},\n\t\t\t});\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t}\n\t\tif (col.columnType) {\n\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\n\t\t\t\tisTarget(col, row) {\n\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t},\n\t\t\t});\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t}\n\t\tif (col.style) {\n\t\t\tif (col.style instanceof BaseStyle) {\n\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\tgrid.invalidate();\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t}\n\t\t}\n\t});\n\tgrid.colCount = grid[_].headerMap.columns.length;\n\t_refreshRowCount(grid);\n\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\n\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n\t\tconst column = grid[_].headerMap.columns[col];\n\t\tconst {width, minWidth, maxWidth} = column;\n\t\tif (width && (width > 0 || typeof width === 'string')) {\n\t\t\tgrid.setColWidth(col, width);\n\t\t}\n\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n\t\t\tgrid.setMinColWidth(col, minWidth);\n\t\t}\n\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n\t\t\tgrid.setMaxColWidth(col, maxWidth);\n\t\t}\n\t}\n\tconst isArrayHeaderRowHeight = Array.isArray(grid[_].headerRowHeight);\n\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\t\tif (height && height > 0) {\n\t\t\tgrid.setRowHeight(row, height);\n\t\t}\n\t}\n}\n\nfunction _refreshRowCount(grid) {\n\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n}\nfunction _tryWithUpdateDataSource(grid, fn) {\n\tif (grid[_].dataSourceEventIds) {\n\t\tgrid[_].dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\n\t}\n\n\tfn(grid);\n\n\tgrid[_].dataSourceEventIds = [\n\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n\t\t\t_refreshRowCount(grid);\n\t\t\tgrid.invalidate();\n\t\t}),\n\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\tgrid.invalidate();\n\t\t}),\n\t];\n}\nfunction _setRecords(grid, records = []) {\n\t_tryWithUpdateDataSource(grid, () => {\n\t\tgrid[_].records = records;\n\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n\t});\n}\nfunction _setDataSource(grid, dataSource) {\n\t_tryWithUpdateDataSource(grid, () => {\n\t\tif (dataSource) {\n\t\t\tif (dataSource instanceof DataSource) {\n\t\t\t\tgrid[_].dataSource = dataSource;\n\t\t\t} else {\n\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\n\t\t\t}\n\t\t} else {\n\t\t\tgrid[_].dataSource = DataSource.EMPTY;\n\t\t}\n\t\tgrid[_].records = null;\n\t});\n}\n\nfunction _getRowRecordIndex(grid, row) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn undefined;\n\t} else {\n\t\treturn row - grid[_].headerMap.rowCount;\n\t}\n}\n//end private methods\n//\n//\n//\n\nclass HeaderMap {\n\tconstructor(header) {\n\t\tthis._columns = [];\n\t\tthis._headerCells = [];\n\t\tthis._headerObjects = [];\n\n\t\tthis._addHeaders(0, header, []);\n\t\tthis._setupHeaderType();\n\t}\n\tget columns() {\n\t\treturn this._columns;\n\t}\n\tget rowCount() {\n\t\treturn this._headerCells.length;\n\t}\n\tget headerObjects() {\n\t\treturn this._headerObjects;\n\t}\n\tgetCell(col, row) {\n\t\treturn this._headerCells[row][col];\n\t}\n\tgetHeaderCellRangeById(id) {\n\t\tfor (let r = 0; r < this.rowCount; r++) {\n\t\t\tfor (let c = 0; c < this.columns.length; c++) {\n\t\t\t\tif (id === this.getCell(c, r).id) {\n\t\t\t\t\treturn this.getHeaderCellRange(c, r);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tgetHeaderCellRange(col, row) {\n\t\tconst result = {\n\t\t\tstartCol: col,\n\t\t\tstartRow: row,\n\t\t\tendCol: col,\n\t\t\tendRow: row,\n\t\t\tisCellInRange(col, row) {\n\t\t\t\treturn this.startCol <= col && col <= this.endCol &&\n\t\t\t\t\t\t\tthis.startRow <= row && row <= this.endRow;\n\t\t\t}\n\t\t};\n\t\tconst {id} = this.getCell(col, row);\n\t\tfor (let c = col - 1; c >= 0; c--) {\n\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.startCol = c;\n\t\t}\n\t\tfor (let c = col + 1; c < this.columns.length; c++) {\n\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.endCol = c;\n\t\t}\n\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.startRow = r;\n\t\t}\n\t\tfor (let r = row + 1; r < this.rowCount; r++) {\n\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.endRow = r;\n\t\t}\n\t\treturn result;\n\t}\n\t_addHeaders(row, header, roots) {\n\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\n\t\theader.forEach((hd) => {\n\t\t\tconst col = this._columns.length;\n\t\t\tconst cell = {\n\t\t\t\tid: headerId++,\n\t\t\t\tcaption: hd.caption,\n\t\t\t\tstyle: hd.headerStyle,\n\t\t\t\tsort: hd.sort,\n\t\t\t};\n\t\t\tthis._headerObjects.push(cell);\n\t\t\trowCells[col] = cell;\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\tthis._headerCells[r][col] = roots[r];\n\t\t\t}\n\t\t\tif (hd.columns) {\n\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\n\t\t\t} else {\n\t\t\t\tthis._columns.push({\n\t\t\t\t\twidth: hd.width,\n\t\t\t\t\tminWidth: hd.minWidth,\n\t\t\t\t\tmaxWidth: hd.maxWidth,\n\t\t\t\t\tfield: hd.field,\n\t\t\t\t\ticon: hd.icon,\n\t\t\t\t\tmessage: hd.message,\n\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\n\t\t\t\t\taction: columns.action.of(hd.action),\n\t\t\t\t\tstyle: hd.style,\n\t\t\t\t\tdefine: hd,\n\t\t\t\t});\n\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\n\t\t\t\t\tthis._headerCells[r][col] = cell;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t_setupHeaderType() {\n\t\tthis._headerObjects.forEach((cell) => {\n\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\n\t\t\tcell.headerType = headerType.create(cell);\n\t\t});\n\t}\n\t_newRow(row) {\n\t\tconst newRow = this._headerCells[row] = [];\n\t\tif (!this._columns.length) {\n\t\t\treturn newRow;\n\t\t}\n\t\tconst prev = this._headerCells[row - 1];\n\t\tfor (let col = 0; col < prev.length; col++) {\n\t\t\tnewRow[col] = prev[col];\n\t\t}\n\t\treturn newRow;\n\t}\n}\n\nfunction adjustListGridOption(options) {\n\tif (options) {\n\t\tdelete options.frozenRowCount;\n\t\tdelete options.colCount;\n\t\tdelete options.rowCount;\n\t}\n\treturn options;\n}\n\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @extends cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid\n */\nclass ListGrid extends DrawGrid {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\t/**\n\t * constructor\n\t *\n\t * <pre>\n\t * Constructor options\n\t * -----\n\t * header: see header property\n\t * records {array}: records data\n\t * dataSource {DataSource}: records data source\n\t * frozenColCount {number}: default 0\n\t * defaultRowHeight {number}: default grid row height. default 40\n\t * defaultColWidth {number}: default grid col width. default 80\n\t * borderColor: border color\n\t * parentElement {Element}: canvas parentElement\n\t * theme {object}: theme\n\t * -----\n\t * </pre>\n\t *\n\t * @constructor\n\t * @param  {Object} options Constructor options\n\t */\n\tconstructor(options = {}) {\n\t\tsuper(adjustListGridOption(options));\n\t\tthis[_].header = options.header || [];\n\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\n\t\tif (options.dataSource) {\n\t\t\t_setDataSource(this, options.dataSource);\n\t\t} else {\n\t\t\t_setRecords(this, options.records);\n\t\t}\n\t\t_refreshHeader(this);\n\t\tthis[_].sortState = {\n\t\t\tcol: -1,\n\t\t\torder: undefined,\n\t\t};\n\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\n\t\tthis[_].theme = themes.of(options.theme);\n\t\tthis[_].messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n\t\tthis[_].tooltipHandler = new TooltipHandler(this);\n\t\tthis.invalidate();\n\t\tthis[_].handler.on(window, 'resize', () => {\n\t\t\tthis.updateSize();\n\t\t\tthis.updateScroll();\n\t\t\tthis.invalidate();\n\t\t});\n\t}\n\t/**\n\t * Dispose the grid instance.\n\t * @returns {void}\n\t */\n\tdispose() {\n\t\tthis[_].messageHandler.dispose();\n\t\tthis[_].tooltipHandler.dispose();\n\t\tsuper.dispose();\n\t}\n\t/**\n\t * Gets the define of the header.\n\t * @type {Array}\n\t */\n\tget header() {\n\t\treturn this[_].header;\n\t}\n\t/**\n\t * Sets the define of the header with the given data.\n\t * <pre>\n\t * column options\n\t * -----\n\t * caption: header caption\n\t * field: field name\n\t * width: column width\n\t * minWidth: column min width\n\t * maxWidth: column max width\n\t * icon: icon name\n\t * message: message key name\n\t * columnType: ColumnType\n\t * action: ColumnAction\n\t * style: ColumnStyle\n\t * sort: define sort setting\n\t * -----\n\t *\n\t * multiline header\n\t * -----\n\t * caption: header caption\n\t * columns: columns define\n\t * -----\n\t * </pre>\n\t *\n\t * @param {Array} header the define of the header to set\n\t * @type {Array}\n\t */\n\tset header(header) {\n\t\tthis[_].header = header;\n\t\t_refreshHeader(this);\n\t}\n\t/**\n\t * Get the records.\n\t * @type {Array}\n\t */\n\tget records() {\n\t\treturn this[_].records;\n\t}\n\t/**\n\t * Set the records from given\n\t * @param {Array} records records to set\n\t * @type {Array}\n\t */\n\tset records(records) {\n\t\t_setRecords(this, records);\n\t\t_refreshRowCount(this);\n\t\tthis.invalidate();\n\t}\n\t/**\n\t * Get the data source.\n\t * @type {DataSource}\n\t */\n\tget dataSource() {\n\t\treturn this[_].dataSource;\n\t}\n\t/**\n\t * Set the data source from given\n\t * @param {DataSource} dataSource data source to set\n\t * @type {DataSource}\n\t */\n\tset dataSource(dataSource) {\n\t\t_setDataSource(this, dataSource);\n\t\t_refreshRowCount(this);\n\t\tthis.invalidate();\n\t}\n\t/**\n\t * Get the theme.\n\t * @type {object}\n\t */\n\tget theme() {\n\t\treturn this[_].theme;\n\t}\n\t/**\n\t * Set the theme from given\n\t * @param {object} theme theme to set\n\t * @type {object}\n\t */\n\tset theme(theme) {\n\t\tthis[_].theme = themes.of(theme);\n\t\tthis.invalidate();\n\t}\n\t/**\n\t * Get the font definition as a string.\n\t * @override\n\t * @type {string}\n\t */\n\tget font() {\n\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\n\t}\n\t/**\n\t * Set the font definition with the given string.\n\t * @override\n\t * @param {string} font the font definition to set\n\t * @type {string}\n\t */\n\tset font(font) {\n\t\tsuper.font = font;\n\t}\n\t/**\n\t * Get the background color of the underlay.\n\t * @override\n\t * @type {*}\n\t */\n\tget underlayBackgroundColor() {\n\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n\t}\n\t/**\n\t * Set the background color of the underlay.\n\t * @override\n\t * @param {*} underlayBackgroundColor the background color of the underlay to set\n\t * @type {*}\n\t */\n\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\n\t}\n\t/**\n\t * Get the sort state.\n\t * @type {object}\n\t */\n\tget sortState() {\n\t\treturn this[_].sortState;\n\t}\n\t/**\n\t * Sets the sort state.\n\t * If `null` to set, the sort state is initialized.\n\t *\n\t * @param {object} sortState the sort state to set\n\t * @type {object}\n\t */\n\tset sortState(sortState) {\n\t\tthis[_].sortState = isDef(sortState) ? sortState : {\n\t\t\tcol: -1,\n\t\t\torder: undefined,\n\t\t};\n\t}\n\t/**\n\t * Get the field of the given column index.\n\t * @param  {number} col The column index.\n\t * @return {*} The field object.\n\t */\n\tgetField(col) {\n\t\treturn this[_].headerMap.columns[col].field;\n\t}\n\t/**\n\t * Get the record of the given row index.\n\t * @param  {number} row The row index.\n\t * @return {object} The record.\n\t */\n\tgetRowRecord(row) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\n\t\t}\n\t}\n\t/**\n\t * Get the column index of the given field.\n\t * @param  {*} field The field.\n\t * @return {number} The column index.\n\t */\n\tgetColumnIndexByField(field) {\n\t\tfor (const columnIndex in this[_].headerMap.columns) {\n\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\n\t\t\t\treturn columnIndex - 0;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\t/**\n\t * Focus the cell.\n\t * @param  {*} field The field.\n\t * @param  {number} index The record index\n\t * @return {void}\n\t */\n\tfocusGridCell(field, index) {\n\t\tconst {\n\t\t\tstart: {col: startCol, row: startRow},\n\t\t\tend: {col: endCol, row: endRow}\n\t\t} = this.selection.range;\n\n\t\tconst newCol = this.getColumnIndexByField(field);\n\t\tconst newRow = index + this[_].headerMap.rowCount;\n\t\tthis.focusCell(newCol, newRow);\n\t\tthis.selection.select = {\n\t\t\tcol: newCol,\n\t\t\trow: newRow\n\t\t};\n\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\tthis.invalidateCell(newCol, newRow);\n\t}\n\t/**\n\t * Scroll to where cell is visible.\n\t * @param  {*} field The field.\n\t * @param  {number} index The record index\n\t * @return {void}\n\t */\n\tmakeVisibleGridCell(field, index) {\n\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n\t}\n\tgetGridCanvasHelper() {\n\t\treturn this[_].gridCanvasHelper;\n\t}\n\tgetCopyCellValue(col, row) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {startCol, startRow} = _getHeaderCellRange(this, col, row);\n\t\t\tif (startCol !== col || startRow !== row) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t\treturn _getCellValue(this, col, row);\n\t}\n\tonDrawCell(col, row, context) {\n\t\tconst column = this[_].headerMap.columns[col];\n\n\t\tlet draw;\n\t\tlet style;\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\t\tdraw = hd.headerType.onDrawCell;\n\t\t\t({style} = hd);\n\t\t\t_updateRect(this, col, row, context);\n\t\t} else {\n\t\t\tdraw = column.columnType.onDrawCell;\n\t\t\t({style} = column);\n\t\t}\n\t\tconst cellValue = _getCellValue(this, col, row);\n\t\treturn _onDrawValue(this, cellValue, context, {col, row}, style, draw);\n\t}\n\tdoGetCellValue(col, row, valueCallback) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst value = _getCellValue(this, col, row);\n\t\t\tif (isPromise(value)) {\n\t\t\t\t//\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvalueCallback(value);\n\t\t}\n\t\treturn true;\n\t}\n\tdoChangeValue(col, row, changeValueCallback) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst before = _getCellValue(this, col, row);\n\t\t\tif (isPromise(before)) {\n\t\t\t\t//\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst after = changeValueCallback(before);\n\t\t\tif (after === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn then(_setCellValue(this, col, row, after), (ret) => {\n\t\t\t\tif (ret) {\n\t\t\t\t\tconst {field} = this[_].headerMap.columns[col];\n\t\t\t\t\tconst self = this;\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n\t\t\t\t\t\tcol,\n\t\t\t\t\t\trow,\n\t\t\t\t\t\tget record() {\n\t\t\t\t\t\t\treturn self.getRowRecord(row);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfield,\n\t\t\t\t\t\tvalue: after,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t});\n\t\t}\n\t}\n\tbindEventsInternal() {\n\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, (e) => {\n\t\t\tif (e.row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {startCol, endCol, startRow, endRow} = _getHeaderCellRange(this, e.col, e.row);\n\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\n\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tgetMoveLeftColByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {startCol} = _getHeaderCellRange(this, col, row);\n\t\t\tcol = startCol;\n\t\t}\n\t\treturn super.getMoveLeftColByKeyDownInternal({col, row});\n\t}\n\tgetMoveRightColByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {endCol} = _getHeaderCellRange(this, col, row);\n\t\t\tcol = endCol;\n\t\t}\n\t\treturn super.getMoveRightColByKeyDownInternal({col, row});\n\t}\n\tgetMoveUpRowByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {startRow} = _getHeaderCellRange(this, col, row);\n\t\t\trow = startRow;\n\t\t}\n\t\treturn super.getMoveUpRowByKeyDownInternal({col, row});\n\t}\n\tgetMoveDownRowByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {endRow} = _getHeaderCellRange(this, col, row);\n\t\t\trow = endRow;\n\t\t}\n\t\treturn super.getMoveDownRowByKeyDownInternal({col, row});\n\t}\n\tgetOffsetInvalidateCells() {\n\t\treturn 1;\n\t}\n}\nmodule.exports = ListGrid;\n","'use strict';\n\n\nconst Inline = require('./Inline');\nconst InlineIcon = require('./InlineIcon');\nconst InlineImage = require('./InlineImage');\nconst InlineSvg = require('./InlineSvg');\nconst InlineDrawer = require('./InlineDrawer');\nconst InlinePath2D = require('./InlinePath2D');\nconst {isDef} = require('../internal/utils');\nconst {calcStartPosition} = require('../internal/canvases');\nconst icons = require('../icons');\nconst path2DManager = require('../internal/path2DManager');\n\nfunction drawRegisteredIcon(ctx, icon,\n\t\tdrawWidth, drawHeight,\n\t\tleft, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n\nmodule.exports = {\n\ticonOf(icon) {\n\t\tif (icon instanceof Inline) {\n\t\t\treturn icon;\n\t\t}\n\t\tif (!icon) {\n\t\t\treturn null;\n\t\t}\n\t\tif (icon.font && icon.content) {\n\t\t\treturn new InlineIcon(icon);\n\t\t}\n\t\tif (icon.src) {\n\t\t\treturn new InlineImage({\n\t\t\t\tsrc: icon.src,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t});\n\t\t}\n\t\tif (icon.svg) {\n\t\t\treturn new InlineSvg({\n\t\t\t\tsvg: icon.svg,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t});\n\t\t}\n\t\tif (icon.path) {\n\t\t\treturn new InlinePath2D({\n\t\t\t\tpath: icon.path,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t\tcolor: icon.color,\n\t\t\t});\n\t\t}\n\t\tconst regedIcons = icons.get();\n\t\tif (icon.name && regedIcons[icon.name]) {\n\t\t\tconst regedIcon = regedIcons[icon.name];\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n\t\t\treturn new InlineDrawer({\n\t\t\t\tdraw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom,\n\t\t\t\t}) {\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon,\n\t\t\t\t\t\t\twidth, width,\n\t\t\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\twidth,\n\t\t\t\theight: width,\n\t\t\t\tcolor: icon.color,\n\t\t\t});\n\t\t}\n\t\treturn new InlineIcon(icon);\n\t},\n\tof(content) {\n\t\tif (!isDef(content)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (content instanceof Inline) {\n\t\t\treturn content;\n\t\t}\n\t\treturn new Inline(content);\n\t},\n\tbuildInlines(icons, inline) {\n\t\tconst result = [];\n\t\tif (icons) {\n\t\t\tresult.push(...(icons.map((icon) => this.iconOf(icon)).filter((e) => !!e)));\n\t\t}\n\t\tif (Array.isArray(inline) && inline.filter((il) => il instanceof Inline).length) {\n\t\t\tresult.push(...(inline.map((il) => this.of(il)).filter((e) => !!e)));\n\t\t} else {\n\t\t\tconst il = this.of(inline);\n\t\t\tif (il) {\n\t\t\t\tresult.push(il);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\tstring(inline) {\n\t\treturn this.buildInlines(undefined, inline).join('');\n\t}\n};","'use strict';\n\n\nconst Inline = require('./Inline');\nconst fonts = require('../internal/fonts');\n\nclass InlineIcon extends Inline {\n\tconstructor(icon) {\n\t\tsuper();\n\t\tthis._icon = icon || {};\n\t}\n\twidth({ctx}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.width) {\n\t\t\treturn icon.width;\n\t\t}\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.font = icon.font || ctx.font;\n\t\t\t\treturn ctx.measureText(icon.content).width;\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfont() {\n\t\treturn this._icon.font;\n\t}\n\tcolor() {\n\t\treturn this._icon.color;\n\t}\n\tcanDraw() {\n\t\tconst icon = this._icon;\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\n\t}\n\tonReady(callback) {\n\t\tconst icon = this._icon;\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\n\t\t\tfonts.load(icon.font, icon.content, callback);\n\t\t}\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.content) {\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content,\n\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t}\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineIcon;","'use strict';\n\n//see https://github.com/typekit/webfontloader\n\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler = require('./FontRuler');\n\n\nconst LastResortFonts = {\n\tSERIF: 'serif',\n\tSANS_SERIF: 'sans-serif'\n};\n\n\nconst watchRunners = {};\n\nclass FontWatchRunner {\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\n\t\ttestStr += '';\n\t\tlet runner;\n\t\tif (c[testStr]) {\n\t\t\trunner = c[testStr];\n\t\t} else {\n\t\t\trunner = (c[testStr] = new FontWatchRunner(font, testStr));\n\t\t}\n\t\trunner.then(activeCallback, inactiveCallback);\n\t}\n\tconstructor(font, testStr) {\n\t\tthis.activeCallbacks = [];\n\t\tthis.inactiveCallbacks = [];\n\t\tthis.status = null;\n\t\tthis.lastResortWidths_ = {};\n\n\t\tthis.fontRulerA_ = new FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n\t\tthis.fontRulerB_ = new FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n\t\tconst lastResortRulerA = new FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n\t\tconst lastResortRulerB = new FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n\n\t\t//start\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n\n\t\tlastResortRulerA.remove();\n\t\tlastResortRulerB.remove();\n\n\t\tthis.started_ = Date.now();\n\n\t\tthis.check_();\n\t}\n\tthen(activeCallback, inactiveCallback) {\n\t\tif (this.status) {\n\t\t\tif (this.status !== 'ng') {\n\t\t\t\tactiveCallback();\n\t\t\t} else {\n\t\t\t\tinactiveCallback();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeCallbacks.push(activeCallback);\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\n\t\t}\n\n\t}\n\tcheck_() {\n\t\tconst widthA = this.fontRulerA_.getWidth();\n\t\tconst widthB = this.fontRulerB_.getWidth();\n\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n\t\t\tif (Date.now() - this.started_ >= 3000) { // timeout\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\t\t\tthis.status = 'ok';\n\t\t\t\t} else {\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\n\t\t\t\t\tthis.status = 'ng';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.check_();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\tthis.status = 'ok';\n\t\t}\n\t}\n\tisFallbackFont_(a, b) {\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n\t}\n\twidthsMatchLastResortWidths_(a, b) {\n\t\tfor (const font in LastResortFonts) {\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) &&\n\t\t\t\t\t\tthis.widthMatches_(b, LastResortFonts[font])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\twidthMatches_(width, lastResortFont) {\n\t\treturn width === this.lastResortWidths_[lastResortFont];\n\t}\n\tisLastResortFont_(a, b) {\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n\t}\n\tfinish_(callbacks) {\n\t\tsetTimeout(() => {\n\t\t\tthis.fontRulerA_.remove();\n\t\t\tthis.fontRulerB_.remove();\n\t\t\tcallbacks.forEach((cb) => cb());\n\t\t}, 0);\n\t}\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match &&\n\t\t\t(parseInt(match[1], 10) < 536 ||\n\t\t\t(parseInt(match[1], 10) === 536 &&\n\t\t\tparseInt(match[2], 10) <= 11));\n\t}\n\treturn HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n","'use strict';\n\n//see https://github.com/typekit/webfontloader\nfunction computeStyle(font) {\n\treturn [{\n\t\t'display': 'block',\n\t\t'position': 'absolute',\n\t\t'top': '-9999px',\n\t\t'left': '-9999px',\n\t\t'width': 'auto',\n\t\t'height': 'auto',\n\t\t'margin': '0',\n\t\t'padding': '0',\n\t\t'white-space': 'nowrap',\n\t\tfont,\n\t}, {\n\t\t'font-variant': 'normal',\n\t\t'font-size': '300px',\n\t\t'font-style': 'normal',\n\t\t'font-weight': '400',\n\t\t'line-height': 'normal',\n\t}];\n}\n\nclass FontRuler {\n\tconstructor(font, testStr) {\n\t\tconst e = document.createElement('span');\n\t\te.setAttribute('aria-hidden', 'true');\n\t\te.textContent = testStr || 'BESbswy';\n\n\t\tcomputeStyle(font).forEach((style) => {\n\t\t\tfor (const key in style) {\n\t\t\t\te.style[key] = style[key];\n\t\t\t}\n\t\t});\n\t\tdocument.body.appendChild(e);\n\t\tthis.el_ = e;\n\t}\n\tgetWidth() {\n\t\treturn this.el_.offsetWidth;\n\t}\n\tremove() {\n\t\tdocument.body.removeChild(this.el_);\n\t}\n}\n\nmodule.exports = FontRuler;\n\n\n","'use strict';\n\nconst InlineImage = require('./InlineImage');\nconst {then} = require('../internal/utils');\n\nfunction buildSvgDataUrl(svg) {\n\tconst data = (typeof svg === 'string') ? svg : new XMLSerializer().serializeToString(svg);\n\tconst url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\treturn url;\n}\nfunction getSvgElement(svg) {\n\tif (typeof svg === 'string') {\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\n\t} else {\n\t\treturn svg;\n\t}\n}\n\nclass InlineSvg extends InlineImage {\n\tconstructor(\n\t\t\t{\n\t\t\t\tsvg,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\timageLeft,\n\t\t\t\timageTop,\n\t\t\t\timageWidth,\n\t\t\t\timageHeight,\n\t\t\t}) {\n\t\tconst svgElem = then(svg, getSvgElement);\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n\t\tsuper({\n\t\t\tsrc: then(svg, buildSvgDataUrl),\n\t\t\twidth: width || elmWidth,\n\t\t\theight: height || elmHeight,\n\t\t\timageWidth: elmWidth,\n\t\t\timageHeight: elmHeight,\n\t\t});\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineSvg;","'use strict';\n\n\nconst Inline = require('./Inline');\n\nclass InlineDrawer extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tdraw,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tcolor,\n\t\t\t}) {\n\t\tsuper();\n\n\t\tthis._draw = draw;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ctx}) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tthis._draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight,\n\t\t\toffsetTop,\n\t\t\toffsetBottom,\n\t\t});\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineDrawer;","'use strict';\n\nconst Inline = require('./Inline');\nconst {calcStartPosition} = require('../internal/canvases');\nconst path2DManager = require('../internal/path2DManager');\n\nclass InlinePath2D extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tpath,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tcolor,\n\t\t\t}) {\n\t\tsuper();\n\t\t// IEPath2Dpolyfill\n\t\tthis._path = new path2DManager.Path2D(path);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ctx}) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom,\n\t}) {\n\t\toffset++;\n\t\tconst padding = {\n\t\t\tleft: offsetLeft,\n\t\t\tright: offsetRight,\n\t\t\ttop: offsetTop,\n\t\t\tbottom: offsetBottom,\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\t\t\tctx.translate(pos.x, pos.y);\n\t\t\tctx.fill(this._path);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlinePath2D;","'use strict';\n\nconst PathCommandsParser = require('./PathCommandsParser');\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n\tconstructor(arg) {\n\t\tthis._ops = [];\n\t\t[\n\t\t\t'closePath',\n\t\t\t'moveTo',\n\t\t\t'lineTo',\n\t\t\t'bezierCurveTo',\n\t\t\t'quadraticCurveTo',\n\t\t\t'arc',\n\t\t\t'rect'\n\t\t].forEach((name) => {\n\t\t\tthis[name] = (...args) => {\n\t\t\t\tthis._ops.push({op: name, args});\n\t\t\t};\n\t\t});\n\t\tif (arg === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\ttry {\n\t\t\t\tthis._ops = parser.parse(arg);\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t} else if (arg.hasOwnProperty('_ops')) {\n\t\t\tthis._ops = [...this._ops];\n\t\t} else {\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n\t\t}\n\t}\n}\n\nconst {CanvasRenderingContext2D} = window;\n\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function(...args) {\n\tif (args[0] instanceof Path2D) {\n\t\tconst path = args[0];\n\t\tthis.beginPath();\n\t\tpath._ops.forEach((op) => {\n\t\t\tthis[op.op](...op.args);\n\t\t});\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\n\t} else {\n\t\toriginalFill.apply(this, args);\n\t}\n};\n\nmodule.exports = Path2D;\n","'use strict';\n\nconst PathCommands = require('./PathCommands');\n\nfunction pathTokens(d) {\n\tlet idx = 0;\n\treturn {\n\t\tnext() {\n\t\t\tlet s = '';\n\t\t\twhile (d.length > idx) {\n\t\t\t\tconst c = d[idx];\n\t\t\t\tidx++;\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\t\t\t\t\tif (type === 'str') {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn c;\n\t\t\t\t\t}\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c === '.') {\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ts += c;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s || null;\n\t\t}\n\t};\n}\n\nfunction command(builder, cmd, argsProvider) {\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\n\t\treturn cmd === 'M' ? 'L'\n\t\t\t: cmd === 'm' ? 'l'\n\t\t\t: cmd;\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n\t\tbuilder.command(cmd, argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'Z') {\n\t\tbuilder.command(cmd);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'C') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'A') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else {\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n\t\tconsole.warn(`unsupported:${cmd}`);\n\t}\n\treturn null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : [\n\t'save',\n\t'restore',\n\t'beginPath',\n\t'closePath',\n\t'moveTo',\n\t'lineTo',\n\t'bezierCurveTo',\n\t'quadraticCurveTo',\n\t'arc',\n\t'arcTo',\n\t'ellipse',\n\t'rect',\n\t'translate',\n\t'rotate',\n\t'scale',\n];\n\nclass PathCommandsParser {\n\tconstructor() {\n\t\tthis._commands = new PathCommands(this);\n\t\tcanvasOperations.forEach((op) => {\n\t\t\tthis[op] = (...args) => {\n\t\t\t\tthis._ops.push({\n\t\t\t\t\top,\n\t\t\t\t\targs,\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\tcommand(name, ...args) {\n\t\targs = args || [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\targs[i] -= 0;\n\t\t}\n\t\tthis._commands[name](...(args));\n\t}\n\tparse(d) {\n\t\tconst ops = this._ops = [];\n\t\tconst tokens = pathTokens(d);\n\t\ttry {\n\t\t\tlet cmd;\n\t\t\tlet subsequentCommand;\n\t\t\twhile ((cmd = tokens.next())) {\n\t\t\t\tif (!isNaN(cmd - 0)) {\n\t\t\t\t\tlet fst = true;\n\t\t\t\t\tconst argsProvider = {\n\t\t\t\t\t\tnext() {\n\t\t\t\t\t\t\tif (fst) {\n\t\t\t\t\t\t\t\tfst = false;\n\t\t\t\t\t\t\t\treturn cmd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tokens.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\n\t\t\t\t} else {\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(`Error: ${d}`);\n\t\t\tthrow e;\n\t\t}\n\t\treturn ops;\n\t}\n}\n\nmodule.exports = PathCommandsParser;","/*eslint new-cap: \"off\"*/\n'use strict';\n\nfunction mag(v) {\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n\treturn (u[0] * v[0] + u[1] * v[1]);\n}\n\nfunction ratio(u, v) {\n\treturn dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n\tlet sign = 1.0;\n\tif ((u[0] * v[1] - u[1] * v[0]) < 0) {\n\t\tsign = -1.0;\n\t}\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n\treturn [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n\treturn [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n\treturn [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n\t// Convert from endpoint to center parametrization, as detailed in:\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\tif (rx === 0 || ry === 0) {\n\t\tctx.lineTo(x2, x1);\n\t\treturn;\n\t}\n\tphi *= (Math.PI / 180.0);\n\trx = Math.abs(rx);\n\try = Math.abs(ry);\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\tconst xPrime2 = pointMul(xPrime, xPrime);\n\tlet rx2 = Math.pow(rx, 2);\n\tlet ry2 = Math.pow(ry, 2);\n\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\tif (lambda > 1) {\n\t\trx *= lambda;\n\t\try *= lambda;\n\t\trx2 = Math.pow(rx, 2);\n\t\try2 = Math.pow(ry, 2);\n\t}\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\tif (fA === fS) {\n\t\tfactor *= -1.0;\n\t}\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\tconst start = theta;\n\tconst end = theta + deltaTheta;\n\tctx.save();\n\tctx.translate(c[0], c[1]);\n\tctx.rotate(phi);\n\tctx.scale(rx, ry);\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\n\tctx.restore();\n}\n\nclass PathCommands {\n\tconstructor(ctx) {\n\t\tlet lMx;\n\t\tlet lMy;\n\t\tlet lx = 0;\n\t\tlet ly = 0;\n\t\tlet reflected;\n\t\tlet lastCommand = '';\n\t\tfunction makeReflected() {\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n\t\t\t\treturn {x: lx, y: ly};\n\t\t\t}\n\t\t\treturn reflected;\n\t\t}\n\n\t\tthis.M = (px, py) => {\n\t\t\tctx.moveTo(px, py);\n\t\t\tlMx = px;\n\t\t\tlMy = py;\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'M';\n\t\t\treturn this;\n\t\t};\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\n\t\tthis.L = (px, py) => {\n\t\t\tctx.lineTo(px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'L';\n\t\t\treturn this;\n\t\t};\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\n\t\tthis.H = (px) => this.L(px, ly);\n\t\tthis.h = (px) => this.H(px + lx);\n\t\tthis.V = (py) => this.L(lx, py);\n\t\tthis.v = (py) => this.V(py + ly);\n\t\tthis.Z = () => {\n\t\t\tctx.closePath();\n\t\t\tlx = lMx;\n\t\t\tly = lMy;\n\t\t\tlastCommand = 'Z';\n\t\t\treturn this;\n\t\t};\n\t\tthis.z = () => this.Z();\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cp2x,\n\t\t\t\ty: 2 * py - cp2y,\n\t\t\t};\n\t\t\tlastCommand = 'C';\n\t\t\treturn this;\n\t\t};\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(\n\t\t\t\tcp1x + lx, cp1y + ly,\n\t\t\t\tcp2x + lx, cp2y + ly,\n\t\t\t\tpx + lx, py + ly\n\t\t);\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\n\t\tthis.S = (cpx, cpy, px, py) => {\n\t\t\tconst {x: cp1x, y: cp1y} = makeReflected(lastCommand);\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\n\t\t};\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\n\t\tthis.Q = (cpx, cpy, px, py) => {\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cpx,\n\t\t\t\ty: 2 * py - cpy,\n\t\t\t};\n\t\t\tlastCommand = 'Q';\n\t\t\treturn this;\n\t\t};\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//T x y (or t dx dy)\n\t\tthis.T = (px, py) => {\n\t\t\tconst {x: cpx, y: cpy} = makeReflected();\n\t\t\treturn this.Q(cpx, cpy, px, py);\n\t\t};\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n\t\t\tconst x1 = lx;\n\t\t\tconst y1 = ly;\n\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'A';\n\t\t\treturn this;\n\t\t};\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(\n\t\t\t\trx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n\n\t}\n}\n\nmodule.exports = PathCommands;","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","'use strict';\n\nconst Header = require('./type/Header');\nconst SortHeader = require('./type/SortHeader');\n\nconst type = {\n\tcreate(headerCell) {\n\t\tif (headerCell.sort) {\n\t\t\treturn new SortHeader(headerCell);\n\t\t}\n\t\treturn new Header(headerCell);\n\t}\n};\nmodule.exports = type;\n","'use strict';\n\nconst styleContents = require('../style');\nconst {Style} = styleContents;\nconst BaseHeader = require('./BaseHeader');\n\nclass Header extends BaseHeader {\n\tget StyleClass() {\n\t\treturn Style;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\ttextOverflow,\n\t\t} = style;\n\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\thelper.text(value, context, {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t});\n\t}\n\tbindGridEvent(grid) {\n\t\treturn [];\n\t}\n}\nmodule.exports = Header;\n","'use strict';\n\nconst BaseStyle = require('./BaseStyle');\n\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._textAlign = style.textAlign || 'left';\n\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t}\n\tget textAlign() {\n\t\treturn this._textAlign;\n\t}\n\tset textAlign(textAlign) {\n\t\tthis._textAlign = textAlign;\n\t\tthis.doChangeStyle();\n\t}\n\tget textBaseline() {\n\t\treturn this._textBaseline;\n\t}\n\tset textBaseline(textBaseline) {\n\t\tthis._textBaseline = textBaseline;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new StdBaseStyle(this);\n\t}\n}\nmodule.exports = StdBaseStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nlet defaultStyle;\nclass SortHeaderStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._sortArrowColor = style.sortArrowColor;\n\t}\n\tget sortArrowColor() {\n\t\treturn this._sortArrowColor;\n\t}\n\tset sortArrowColor(sortArrowColor) {\n\t\tthis._sortArrowColor = sortArrowColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new SortHeaderStyle(this);\n\t}\n}\n\n\nmodule.exports = SortHeaderStyle;\n","'use strict';\n\nconst styleContents = require('../style');\nconst {SortHeaderStyle} = styleContents;\nconst BaseHeader = require('./BaseHeader');\nconst {isDef} = require('../../internal/utils');\nconst {getFontSize} = require('../../internal/canvases');\nconst {EVENT_TYPE: {\n\tCLICK_CELL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tMOUSEMOVE_CELL,\n}} = require('../../core/DrawGrid');\n\nclass SortHeader extends BaseHeader {\n\tconstructor(headerCell) {\n\t\tsuper(headerCell);\n\t\tthis._sort = headerCell.sort;\n\t\tthis._range = headerCell.range;\n\t}\n\tget StyleClass() {\n\t\treturn SortHeaderStyle;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline = 'middle',\n\t\t\tcolor,\n\t\t\tbgColor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t\tsortArrowColor,\n\t\t} = style;\n\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst state = grid.sortState;\n\t\tlet order = undefined;\n\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\n\t\t\t({order} = state);\n\t\t}\n\n\t\tconst ctx = context.getContext();\n\t\tconst {col, row} = context;\n\t\tconst arrowSize = getFontSize(ctx, font).width * 1.2;\n\n\t\thelper.text(value, context, {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t\ticons: [{\n\t\t\t\tname: isDef(order) ? (order === 'asc' ? 'arrow_downward' : 'arrow_upward') : null,\n\t\t\t\twidth: arrowSize,\n\t\t\t\tcolor: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || 'rgba(0, 0, 0, 0.38)',\n\t\t\t}],\n\t\t});\n\t}\n\t_executeSort(newState, grid) {\n\t\tif (typeof this._sort === 'function') {\n\t\t\tthis._sort(newState.order, newState.col, grid);\n\t\t} else {\n\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\n\t\t}\n\t}\n\tbindGridEvent(grid) {\n\t\treturn [\n\t\t\tgrid.listen(CLICK_CELL, (e) => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst state = grid.sortState;\n\t\t\t\tlet newState;\n\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: 'asc'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tgrid.sortState = newState;\n\t\t\t\tthis._executeSort(newState, grid);\n\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n\t\t\t}),\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\t//MOUSEENTER'col-resize'move\n\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t}),\n\t\t];\n\t}\n}\nmodule.exports = SortHeader;\n","'use strict';\n\n\nconst {isPromise} = require('../../internal/utils');\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE\n} = require('../../list-grid/EVENT_TYPE');\nconst ErrorMessage = require('./ErrorMessage');\nconst WarningMessage = require('./WarningMessage');\nconst InfoMessage = require('./InfoMessage');\n\nconst EMPTY_MESSAGE = {\n\ttype: 'error',\n\tmessage: undefined,\n};\n\nconst MESSAGE_INSTANCE_FACTORY = {\n\terror(grid) {\n\t\treturn new ErrorMessage(grid);\n\t},\n\tinfo(grid) {\n\t\treturn new InfoMessage(grid);\n\t},\n\twarning(grid) {\n\t\treturn new WarningMessage(grid);\n\t}\n};\n\nfunction normalizeMessage(message) {\n\tif (!message || isPromise(message)) {\n\t\treturn EMPTY_MESSAGE;\n\t}\n\tif (typeof message === 'string') {\n\t\treturn {\n\t\t\ttype: 'error',\n\t\t\tmessage,\n\t\t\toriginal: message,\n\t\t};\n\t}\n\tconst type = message.type || 'error';\n\tif (type && type in MESSAGE_INSTANCE_FACTORY) {\n\t\treturn {\n\t\t\ttype: type.toLowerCase(),\n\t\t\tmessage: `${message.message}`,\n\t\t\toriginal: message,\n\t\t};\n\t}\n\treturn {\n\t\ttype: 'error',\n\t\tmessage: `${message}`,\n\t\toriginal: message,\n\t};\n\n\n}\nfunction hasMessage(message) {\n\treturn !!normalizeMessage(message).message;\n}\nclass MessageHandler {\n\tconstructor(grid, getMessage) {\n\t\tthis._grid = grid;\n\t\tthis._messageInstances = {};\n\t\tthis._bindGridEvent(grid, getMessage);\n\t}\n\tdispose() {\n\t\tconst messageInstances = this._messageInstances;\n\t\tfor (const k in messageInstances) {\n\t\t\tmessageInstances[k].dispose();\n\t\t}\n\t\tthis._messageInstances = null;\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\n\t\tif (!hasMessage(message)) {\n\t\t\treturn;\n\t\t}\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tinstance.drawCellMessage(message, context, style, helper, info);\n\t}\n\t_attach(col, row, message) {\n\t\tconst info = this._attachInfo;\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tif (info && info.instance !== instance) {\n\t\t\tinfo.instance.detachMessageElement();\n\t\t}\n\t\tinstance.attachMessageElement(col, row, normalizeMessage(message));\n\t\tthis._attachInfo = {col, row, instance};\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.moveMessageElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.detachMessageElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_bindGridEvent(grid, getMessage) {\n\t\tconst onSelectMessage = (sel) => {\n\t\t\tconst message = getMessage(sel.col, sel.row);\n\t\t\tif (!hasMessage(message)) {\n\t\t\t\tthis._detach();\n\t\t\t} else {\n\t\t\t\tthis._attach(sel.col, sel.row, message);\n\t\t\t}\n\n\t\t};\n\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\tif (!e.selected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.before.col === e.col && e.before.row === e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tthis._move(sel.col, sel.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, (e) => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (sel.col !== e.col || sel.row !== e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t}\n\t_getMessageInstanceOfMessage(message) {\n\t\tconst messageInstances = this._messageInstances;\n\t\tconst {type} = normalizeMessage(message);\n\t\treturn messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n\t}\n}\n\nmodule.exports = MessageHandler;","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst ErrorMessageElement = require('./internal/ErrorMessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst RED_A100 = '#ff8a80';\n\nclass ErrorMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new ErrorMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: RED_A100,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = ErrorMessage;","'use strict';\nconst MessageElement = require('./MessageElement');\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\n\nclass ErrorMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\trequire('./ErrorMessageElement.css');\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = ErrorMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__message-element {\\n\\tposition: absolute;\\n\\tmargin-top: -2px;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 0 0 3px 3px;\\n\\tbackground-color: rgba(250, 250, 250, 0.85);\\n\\tpadding: 8px 2px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__message-element--hidden {\\n\\tdisplay: none;\\n}\\n.cheetah-grid__message-element--shown {\\n\\tdisplay: block;\\n}\\n.cheetah-grid__message-element__message {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n}\\n.cheetah-grid__message-element {\\n\\tborder-top: solid 1px rgba(0, 0, 0, .87);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__error-message-element {\\n\\tborder-top: solid 1px #FF1744;\\n\\tcolor: #ff1744;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst WarningMessageElement = require('./internal/WarningMessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new WarningMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: DEEP_ORANGE_A100,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = WarningMessage;","'use strict';\nconst MessageElement = require('./MessageElement');\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\n\nclass WarningMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\trequire('./WarningMessageElement.css');\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = WarningMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__warning-message-element {\\n\\tborder-top: solid 1px #dd2c00;\\n\\tcolor: #dd2c00;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst MessageElement = require('./internal/MessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst GREY_L2 = '#e0e0e0';\n\nclass InfoMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new MessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawInfomationMarkBox(context, {\n\t\t\t\t\tbgColor: GREY_L2,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InfoMessage;","'use strict';\n\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL\n} = require('../list-grid/EVENT_TYPE');\nconst Tooltip = require('./Tooltip');\n\nconst TOOLTIP_INSTANCE_FACTORY = {\n\t'overflow-text'(grid) {\n\t\treturn new Tooltip(grid);\n\t},\n};\n\nfunction getTooltipInstanceInfo(grid, col, row) {\n\t//\n\t// overflow text tooltip\n\tconst overflowText = grid.getCellOverflowText(col, row);\n\tif (overflowText) {\n\t\treturn {\n\t\t\ttype: 'overflow-text',\n\t\t\tcontent: overflowText\n\t\t};\n\t}\n\treturn null;\n}\n\nclass TooltipHandler {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t\tthis._tooltipInstances = {};\n\t\tthis._bindGridEvent(grid);\n\t}\n\tdispose() {\n\t\tconst tooltipInstances = this._tooltipInstances;\n\t\tfor (const k in tooltipInstances) {\n\t\t\ttooltipInstances[k].dispose();\n\t\t}\n\t\tthis._tooltipInstances = null;\n\t}\n\t_attach(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tconst instanceInfo = this._getTooltipInstanceInfo(col, row);\n\t\tif (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n\t\t\tinfo.instance.detachTooltipElement();\n\t\t\tthis._attachInfo = null;\n\t\t}\n\t\tif (!instanceInfo) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = instanceInfo;\n\t\tinstance.attachTooltipElement(col, row, instanceInfo.content);\n\t\tthis._attachInfo = {col, row, instance};\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.moveTooltipElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.detachTooltipElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_isAttachCell(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (info.col === col && info.row === row);\n\t}\n\t_bindGridEvent(grid) {\n\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\tthis._attach(e.col, e.row);\n\t\t});\n\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\tthis._detach();\n\t\t});\n\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\tif (this._isAttachCell(e.col, e.row)) {\n\t\t\t\tthis._detach(e);\n\t\t\t}\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst info = this._attachInfo;\n\t\t\tif (!info) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._move(info.col, info.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, (e) => {\n\t\t\tif (this._isAttachCell(e.col, e.row)) {\n\t\t\t\tthis._detach();\n\t\t\t\tthis._attach(e.col, e.row);\n\t\t\t}\n\t\t});\n\t}\n\t_getTooltipInstanceInfo(col, row) {\n\t\tconst grid = this._grid;\n\t\tconst tooltipInstances = this._tooltipInstances;\n\t\tconst info = getTooltipInstanceInfo(grid, col, row);\n\t\tif (!info) {\n\t\t\treturn null;\n\t\t}\n\t\tconst {type} = info;\n\t\tconst instance = tooltipInstances[type] || (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n\t\treturn {\n\t\t\tinstance,\n\t\t\ttype,\n\t\t\tcontent: info.content\n\t\t};\n\t}\n}\n\nmodule.exports = TooltipHandler;","'use strict';\n\nconst BaseTooltip = require('./BaseTooltip');\nconst TooltipElement = require('./internal/TooltipElement');\n\nclass Tooltip extends BaseTooltip {\n\tcreateTooltipElementInternal() {\n\t\treturn new TooltipElement();\n\t}\n}\n\nmodule.exports = Tooltip;","'use strict';\n\nclass BaseTooltip {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachTooltipElement();\n\t\tif (this._tooltipElement) {\n\t\t\tthis._tooltipElement.dispose();\n\t\t}\n\t\tthis._tooltipElement = null;\n\t}\n\t_getTooltipElement() {\n\t\treturn this._tooltipElement || (this._tooltipElement = this.createTooltipElementInternal());\n\t}\n\tcreateTooltipElementInternal() {\n\n\t}\n\tattachTooltipElement(col, row, content) {\n\t\tconst tooltipElement = this._getTooltipElement();\n\t\ttooltipElement.attach(this._grid, col, row, content);\n\t}\n\tmoveTooltipElement(col, row) {\n\t\tconst tooltipElement = this._getTooltipElement();\n\t\ttooltipElement.move(this._grid, col, row);\n\t}\n\tdetachTooltipElement() {\n\t\tconst tooltipElement = this._getTooltipElement();\n\t\ttooltipElement._detach();\n\t}\n}\n\nmodule.exports = BaseTooltip;","'use strict';\nconst EventHandler = require('../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__tooltip-element';\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createTooltipDomElement() {\n\trequire('./TooltipElement.css');\n\tconst rootElement = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst messageElement = createElement('pre', {classList: [CONTENT_CLASSNAME]});\n\trootElement.appendChild(messageElement);\n\treturn rootElement;\n}\n\n\nclass TooltipElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createTooltipDomElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t}\n\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, content) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = content;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\t// rootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t\tconst {bottom: top, left, width} = rect;\n\t\tconst {frozenRowCount, frozenColCount} = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tconst {offsetHeight, offsetWidth} = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false;//\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false;//\n\t\t}\n\n\t\trootElement.style.top = `${top.toFixed()}px`;\n\t\trootElement.style.left = `${(left + width / 2).toFixed()}px`;\n\t\trootElement.style['min-width'] = `${width.toFixed()}px`;\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = TooltipElement;","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?minimize!./TooltipElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js?minimize!./TooltipElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js?minimize!./TooltipElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@keyframes cheetah-grid__tooltip-element--shown-animation {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t\\ttransform: scale(.8) translateX(-60%);\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\ttransform: scale(1) translateX(-50%);\\n\\t}\\n}\\n\\n.cheetah-grid__tooltip-element {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #232F34;\\n\\tpadding: 8px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__tooltip-element--hidden {\\n\\topacity: 0;\\n\\ttransform: translateX(-50%);\\n\\ttransition: opacity 75ms linear;\\n}\\n.cheetah-grid__tooltip-element--shown {\\n\\topacity: 1;\\n\\ttransform: translateX(-50%);\\n\\tanimation: cheetah-grid__tooltip-element--shown-animation 150ms ease-out;\\n}\\n.cheetah-grid__tooltip-element__content {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\twidth: 100%;\\n\\tdisplay: block;\\n\\twhite-space: pre-wrap;\\n\\tmargin: 0;\\n}\\n.cheetah-grid__tooltip-element {\\n\\tcolor: #FFFFFF;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\n\nconst themePlugins = require('./plugins/themes');\nconst iconPlugins = require('./plugins/icons');\n\nfunction register(obj, name, value) {\n\tif (value) {\n\t\tconst old = obj[name];\n\t\tobj[name] = value;\n\t\treturn old;\n\t} else {\n\t\treturn obj[name];\n\t}\n}\nfunction registers(obj, values) {\n\tfor (const k in values) {\n\t\tobj[k] = values[k];\n\t}\n}\nmodule.exports = {\n\ttheme(name, theme) {\n\t\treturn register(themePlugins, name, theme);\n\t},\n\ticon(name, icon) {\n\t\treturn register(iconPlugins, name, icon);\n\t},\n\ticons(icons) {\n\t\tregisters(iconPlugins, icons);\n\t},\n};"],"sourceRoot":""}