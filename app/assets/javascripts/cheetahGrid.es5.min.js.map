{"version":3,"sources":["cheetahGrid.es5.min/cheetahGrid.es5.min.js","cheetahGrid.es5.min/webpack/universalModuleDefinition","cheetahGrid.es5.min/webpack/bootstrap","cheetahGrid.es5.min/./internal/utils.js","cheetahGrid.es5.min/./internal/symbolManager.js","cheetahGrid.es5.min/./internal/com.js","cheetahGrid.es5.min/./internal/EventHandler.js","cheetahGrid.es5.min/./columns/style/Style.js","cheetahGrid.es5.min/./core/DrawGrid.js","cheetahGrid.es5.min/node_modules/css-loader/lib/css-base.js","cheetahGrid.es5.min/node_modules/style-loader/lib/addStyles.js","cheetahGrid.es5.min/./internal/canvases.js","cheetahGrid.es5.min/./columns/type/BaseColumn.js","cheetahGrid.es5.min/./internal/dom.js","cheetahGrid.es5.min/./columns/type/Column.js","cheetahGrid.es5.min/./header/style.js","cheetahGrid.es5.min/./element/Inline.js","cheetahGrid.es5.min/./core/EventTarget.js","cheetahGrid.es5.min/./columns/action/Editor.js","cheetahGrid.es5.min/./columns/type/columnUtils.js","cheetahGrid.es5.min/./header/type/BaseHeader.js","cheetahGrid.es5.min/./internal/Rect.js","cheetahGrid.es5.min/./internal/calc.js","cheetahGrid.es5.min/./columns/action/BaseAction.js","cheetahGrid.es5.min/./internal/animate.js","cheetahGrid.es5.min/./columns/style/StdBaseStyle.js","cheetahGrid.es5.min/./columns/style/BaseStyle.js","cheetahGrid.es5.min/./internal/icons.js","cheetahGrid.es5.min/./header/action/BaseAction.js","cheetahGrid.es5.min/./header/style/Style.js","cheetahGrid.es5.min/./themes.js","cheetahGrid.es5.min/./data/DataSource.js","cheetahGrid.es5.min/./internal/path2DManager.js","cheetahGrid.es5.min/./list-grid/EVENT_TYPE.js","cheetahGrid.es5.min/./columns/message/BaseMessage.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.js","cheetahGrid.es5.min/./columns/message/messageUtils.js","cheetahGrid.es5.min/./internal/style.js","cheetahGrid.es5.min/./tools/canvashelper.js","cheetahGrid.es5.min/./columns.js","cheetahGrid.es5.min/./columns/action/Action.js","cheetahGrid.es5.min/./columns/action/actionBind.js","cheetahGrid.es5.min/./columns/action/BaseInputEditor.js","cheetahGrid.es5.min/./internal/menu-items.js","cheetahGrid.es5.min/./columns/style.js","cheetahGrid.es5.min/./columns/style/NumberStyle.js","cheetahGrid.es5.min/./columns/style/CheckStyle.js","cheetahGrid.es5.min/./columns/style/ButtonStyle.js","cheetahGrid.es5.min/./columns/style/ImageStyle.js","cheetahGrid.es5.min/./columns/style/IconStyle.js","cheetahGrid.es5.min/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5.min/./columns/style/MultilineTextStyle.js","cheetahGrid.es5.min/./columns/style/MenuStyle.js","cheetahGrid.es5.min/./internal/imgs.js","cheetahGrid.es5.min/./header/action.js","cheetahGrid.es5.min/./header/action/actionBind.js","cheetahGrid.es5.min/./header/type.js","cheetahGrid.es5.min/./header/style/BaseStyle.js","cheetahGrid.es5.min/./header/style/CheckHeaderStyle.js","cheetahGrid.es5.min/./plugins/themes.js","cheetahGrid.es5.min/./data.js","cheetahGrid.es5.min/./internal/sort.js","cheetahGrid.es5.min/./GridCanvasHelper.js","cheetahGrid.es5.min/./internal/fonts.js","cheetahGrid.es5.min/./element/InlineImage.js","cheetahGrid.es5.min/./element/InlineDrawer.js","cheetahGrid.es5.min/./icons.js","cheetahGrid.es5.min/./plugins/icons.js","cheetahGrid.es5.min/./internal/color.js","cheetahGrid.es5.min/./main.js","cheetahGrid.es5.min/./core.js","cheetahGrid.es5.min/(webpack)/buildin/global.js","cheetahGrid.es5.min/./internal/Scrollable.js","cheetahGrid.es5.min/./internal/style.css*","cheetahGrid.es5.min/./internal/style.css","cheetahGrid.es5.min/node_modules/style-loader/lib/urls.js","cheetahGrid.es5.min/./internal/NumberMap.js","cheetahGrid.es5.min/./internal/hiDPI.js","cheetahGrid.es5.min/./tools.js","cheetahGrid.es5.min/./columns/action.js","cheetahGrid.es5.min/./columns/action/CheckEditor.js","cheetahGrid.es5.min/./columns/action/ButtonAction.js","cheetahGrid.es5.min/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5.min/./columns/action/InlineInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css","cheetahGrid.es5.min/./columns/action/InlineMenuEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css","cheetahGrid.es5.min/./columns/type.js","cheetahGrid.es5.min/./columns/type/NumberColumn.js","cheetahGrid.es5.min/./columns/type/CheckColumn.js","cheetahGrid.es5.min/./columns/type/ButtonColumn.js","cheetahGrid.es5.min/./columns/type/ImageColumn.js","cheetahGrid.es5.min/./internal/LRUCache.js","cheetahGrid.es5.min/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5.min/./columns/type/IconColumn.js","cheetahGrid.es5.min/./columns/type/BranchGraphColumn.js","cheetahGrid.es5.min/./columns/style/BranchGraphStyle.js","cheetahGrid.es5.min/./columns/type/MenuColumn.js","cheetahGrid.es5.min/./columns/type/MultilineTextColumn.js","cheetahGrid.es5.min/./headers.js","cheetahGrid.es5.min/./header/action/SortHeaderAction.js","cheetahGrid.es5.min/./header/action/CheckHeaderAction.js","cheetahGrid.es5.min/./header/style/StdBaseStyle.js","cheetahGrid.es5.min/./header/style/SortHeaderStyle.js","cheetahGrid.es5.min/./header/type/Header.js","cheetahGrid.es5.min/./header/type/SortHeader.js","cheetahGrid.es5.min/./header/type/CheckHeader.js","cheetahGrid.es5.min/./themes/theme.js","cheetahGrid.es5.min/./themes/BASIC.js","cheetahGrid.es5.min/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5.min/./data/CachedDataSource.js","cheetahGrid.es5.min/./data/FilterDataSource.js","cheetahGrid.es5.min/./ListGrid.js","cheetahGrid.es5.min/./element/inlines.js","cheetahGrid.es5.min/./element/InlineIcon.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5.min/./element/InlineSvg.js","cheetahGrid.es5.min/./element/InlinePath2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/Path2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.es5.min/./columns/message/MessageHandler.js","cheetahGrid.es5.min/./columns/message/ErrorMessage.js","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css","cheetahGrid.es5.min/./columns/message/WarningMessage.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css","cheetahGrid.es5.min/./columns/message/InfoMessage.js","cheetahGrid.es5.min/./tooltip/TooltipHandler.js","cheetahGrid.es5.min/./tooltip/Tooltip.js","cheetahGrid.es5.min/./tooltip/BaseTooltip.js","cheetahGrid.es5.min/./tooltip/internal/TooltipElement.js","cheetahGrid.es5.min/./tooltip/internal/TooltipElement.css*","cheetahGrid.es5.min/./tooltip/internal/TooltipElement.css","cheetahGrid.es5.min/./register.js"],"names":["window","root","factory","exports","_typeof","module","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_provided_Array_dot_isArray","arrayFind","arrayFindIndex","isNode","array","find","Array","arr","predicate","index","findIndex","undefined","length","isDef","data","_analyzeUserAgent","IE","Edge","Chrome","Firefox","Safari","ua","navigator","userAgent","toLowerCase","match","indexOf","analyzeUserAgent","applyChainSafe","obj","fn","arguments","isPromise","then","browser","heightLimit","extend","result","_len","args","_key","forEach","source","_loop","set","val","configurable","isDescendantElement","target","parentElement","getChainSafe","_len2","names","_key2","apply","getOrApply","_len3","_key3","getIgnoreCase","u","k","callback","setReadonly","each","isObject","str","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","lastIndexOf","genChars","re","next","res","exec","genWords","event","getMouseButtons","e","buttons","which","button","getKeyCode","keyCode","isTouchEvent","changedTouches","cancel","preventDefault","stopPropagation","style","toBoxArray","emptyFn","this","global","require","random","cl","concat","mem","PROTECTED_SYMBOL","CHECK_COLUMN_STATE_ID","BUTTON_COLUMN_STATE_ID","COLUMN_FADEIN_STATE_ID","BRANCH_GRAPH_COLUMN_STATE_ID","SMALL_DIALOG_INPUT_EDITOR_STATE_ID","INLINE_INPUT_EDITOR_STATE_ID","INLINE_MENU_EDITOR_STATE_ID","CHECK_HEADER_STATE_ID","Array_isArray","isArray","nextId","EventHandler","constructor","_classCallCheck","_listeners","_createClass","type","listener","_len4","options","_key4","addEventListener","id","_this","_len5","_key5","on","off","list","_obj$target","removeEventListener","push","_obj$target2","_obj$target3","_len6","_key6","_obj$listener","_obj$target4","clear","defaultStyle","StdBaseStyle","Style","_StdBaseStyle","_this2","_possibleConstructorReturn","_getPrototypeOf","_color","color","_font","font","_padding","padding","_textOverflow","textOverflow","_inherits","doChangeStyle","_webpack_require__3","_webpack_require__3$e","cancelEvent","EventTarget","Rect","Scrollable","NumberMap","calc","getFontSize","hiDPI","_","KEY_END","KEY_HOME","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_ALPHA_C","KEY_ALPHA_V","EV_CLICK_CELL","EV_DBLCLICK_CELL","EV_DBLTAP_CELL","EV_MOUSEDOWN_CELL","EV_MOUSEUP_CELL","EV_SELECTED_CELL","EV_KEYDOWN","EV_MOUSEMOVE_CELL","EV_MOUSEENTER_CELL","EV_MOUSELEAVE_CELL","EV_MOUSEOVER_CELL","EV_MOUSEOUT_CELL","EV_INPUT_CELL","EV_PASTE_CELL","EV_SCROLL","EVENT_TYPE","CLICK_CELL","DBLCLICK_CELL","DBLTAP_CELL","MOUSEDOWN_CELL","MOUSEUP_CELL","SELECTED_CELL","KEYDOWN","MOUSEMOVE_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","MOUSEOVER_CELL","MOUSEOUT_CELL","INPUT_CELL","PASTE_CELL","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","RESIZE_COLUMN","SCROLL","_vibrate","vibrate","_getTargetRowAt","grid","absoluteY","internal","getTargetRowAtInternal","candRow","min","ceil","defaultRowHeight","rowCount","bottom","_getRowsHeight","startRow","startBottom","top","_getRowHeight","row","findAfter","findBefore","_getTargetColAt","absoluteX","left","colCount","col","right","_getColWidth","_getTargetFrozenRowAt","frozenRowCount","scroll","_getTargetFrozenColAt","frozenColCount","_getFrozenRowsRect","height","canvas","width","_getFrozenColsRect","_drawCell","ctx","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","rect","drawRect","bounds","max","save","cellDrawing","drawCells","_getCellDrawing","dcContext","DrawCellContext","selection","onDrawCell","context","_putCellDrawing","pCol","_delayMode","keys","_removeCellDrawing","terminate","restore","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","beginPath","fillStyle","underlayBackgroundColor","fill","count","_invalidateRect","_getVisibleRect","_getInitContext","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","draw","_toPxWidth","round","toPx","calcWidthContext","_getDefaultColPxWidth","defaultColWidth","_adjustColWidth","orgWidth","limit","colWidthsLimit","colWidthsMap","_setColWidth","put","startCol","endCol","w","getRowHeightInternal","rowHeightsMap","endRow","getRowsHeightInternal","h","_getScrollWidth","eachAll","_getScrollHeight","getScrollHeightInternal","_moveFocusCell","shiftKey","offset","getOffsetInvalidateCells","extendRange","range","start","end","beforeRange","beforeRect","getCellsRect","_setFocusCell","makeVisibleCell","focusCell","afterRange","afterRect","intersection","_getMouseAbstractPoint","clientX","pageX","scrollX","clientY","pageY","scrollY","getBoundingClientRect","x","y","_bindEvents","_grid$_","handler","element","scrollable","getCellEventArgsSet","abstractPos","cell","getCellAt","eventArgs","canResizeColumn","eventArgsSet","results","fireListeners","v","resizeCol","_getResizeColAt","columnResizer","cellSelector","hasListeners","doubleTapBefore","longTouchId","clearTimeout","defaultPrevented","setTimeout","select","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","getElement","moving","cursor","lastMoving","focusControl","listen","selected","onScroll","lastLeft","lastTop","moveX","scrollLeft","moveY","scrollTop","abs","drawImage","redrawRect","copy","frozenRect","_onScroll","onKeyDownMove","_focus","_sel","getMoveLeftColByKeyDownInternal","getMoveUpRowByKeyDownInternal","getMoveRightColByKeyDownInternal","getMoveDownRowByKeyDownInternal","ctrlKey","_onKeyDownMove","copyValue","copyCellValue","getCopyCellValue","Promise","strCellValue","onCopy","onPaste","_ref","normalizeValue","replace","_grid$_$selection$sel","multi","test","onInput","_grid$_$selection$sel2","bindEventsInternal","abstractX","abstractY","inPoint","cellRect","getCellRect","_grid$_2","_grid$_2$scroll","_grid$_2$canvas","_toRelativeRect","absoluteRect","offsetLeft","offsetTop","BaseMouseDownMover","_grid","_handler","_events","_started","_moved","last","_mouseEndPoint","pt","_this3","events","touchmove","document","body","_mouseMove","passive","touchend","_mouseUp","touchcancel","mousemove","mouseup","_moveInternal","_this4","_upInternal","dispose","CellSelector","_BaseMouseDownMover","_getTargetCell","_bindMoveAndUp","_cell","_this$_cell","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_BaseMouseDownMover2","_this5","_targetCol","_x","_preX","_invalidateAbsoluteLeft","pre","getColWidth","afterSize","updateScroll","invalidate","setSafeInputValue","input","FocusControl","_EventTarget","_this6","_scrollable","lastInputValue","_input","createElement","classList","add","readOnly","appendChild","_isComposition","_compositionEnd","focus","inputClear","handleCompositionEnd","remove","metaKey","once","dummyInput","removeChild","pasteText","clipboardData","getData","items","types","setData","_this7","calcTop","getScrollBarSize","toFixed","el","composition","contains","atts","attributes","removeNames","att","_inputStatus","nodeName","removeName","removeAttribute","setAttribute","inputStatus","_get","editMode","Selection","_EventTarget2","_this8","_start","_end","_this9","_wrapFireSelectedEvent","keepSelect","_this10","_setSelectCell","_isWraped","before","after","_this$_grid","points","needChange","inCell","_this$_focus","_this$_sel","_this11","_cell$col","_cell$row","_layers","level","DrawLayer","addDraw","sort","a","b","_level","_list","drawing","_col","_row","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","sel","getCellRelativeRect","_isOutOfRange","_toRelativeDrawRect","_this$_grid2","getContext","toCurrentContext","isFrozenCell","fRect","onTerminate","_onTerminate","DrawGrid","_EventTarget3","_this12","_ref2","_ref2$rowCount","_ref2$colCount","_ref2$frozenColCount","_ref2$frozenRowCount","_ref2$defaultRowHeigh","_ref2$defaultColWidth","protectedSpace","initDocument","createRootElement","_assertThisInitialized","transform","alpha","full","em","cellTextOverflows","updateSize","_this$_$selection$sel","cfg","config","offsetWidth","offsetHeight","setFocusRect","newHeight","newWidth","scrollHeight","scrollWidth","setScrollSize","_setRowHeight","maxwidth","minwidth","isFrozenStartCell","isFrozenEndCell","_this$_","isFrozenRow","isFrozenCol","frozen","getRowAt","getColAt","frozenColsWidth","frozenRowsHeight","_getScrollableVisibleRect","resetInputStatus","_this$_$selection$sel2","selCol","selRow","storeInputStatus","setDefaultInputStatus","invalidateGridRect","cellsRect","invalidateTarget","_this$_2","overflowText","trim","disposable","Error","disposables","_ref3","_ref4","_ref5","_ref6","strokeStyle","textAlign","textBaseline","lineWidth","_updateGridRange","_this$_$selection$foc","_this$_$selection$foc2","useSourceMap","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","toComment","sourceURLs","sources","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","stylesInDom","isOldIE","memo","memoize","all","atob","parent","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","removeStyleElement","parentNode","idx","splice","createStyleElement","attrs","nonce","nc","getNonce","addAttrs","update","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","replaceText","textStore","replacement","filter","Boolean","cssNode","childNodes","fontSizeCache","calcStartPosition","_ref8","_ref8$offset","_ref8$padding","_ref8$padding$left","paddingLeft","_ref8$padding$right","paddingRight","_ref8$padding$top","paddingTop","_ref8$padding$bottom","paddingBottom","calcBasePosition","_ref7","_ref7$offset","_ref7$padding","_ref7$padding$left","_ref7$padding$right","_ref7$padding$top","_ref7$padding$bottom","bk","measureText","styleContents","_webpack_require__6","animate","BaseStyle","getFadinState","_generateFadinPointAction","drawInternal","drawCellBase","point","state","stateKey","opacity","cellState","globalAlpha","fadinMgr","activeFadeins","f","BaseColumn","option","_fadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","cellValue","info","_this13","getRecord","helper","getGridCanvasHelper","promise","record","Date","now","getDrawRect","time","currentContext","actStyle","of","StyleClass","convertInternal","drawMessageInternal","getMessage","column","configure","isFadeinWhenCallbackInPromise","message","messageHandler","drawCellMessage","util","tagName","_element$classList","_ref9","text","html","textContent","innerHTML","arg","nodeType","toNode","dom","slice","toNodeList","jQuery","node","isFocusable","tabIndex","empty","appendHtml","inner","disableFocus","dataset","disableBeforeTabIndex","children","enableFocus","findPrevSiblingFocusable","previousSibling","findNextSiblingFocusable","utils","Column","_BaseColumn","_ref10","getIcon","bgColor","testFontLoad","loadIcons","icons","SortHeaderStyle","CheckHeaderStyle","headerStyle","DEFAULT","_webpack_require__9","_webpack_require__9$s","getWidth","breakWidth","itr","candidateIndex","chars","ret","beforeWidth","pop","charWidth","beforeContent","afterContent","Inline","_content","_ref11","_ref12","canvashelper","offsetRight","offsetBottom","fillTextRect","allWidth","candidate","_webpack_require__10","listeners","listenerData","_this14","_this15","unlisten","_this16","_len7","_key7","BaseAction","Editor","_BaseAction","_this17","_readOnly","onChangeReadOnlyInternal","icon","_this18","loadIcon","iconList","toNormarizeArray","BaseHeader","_left","_top","_width","_height","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","TYPE_PUNCTURE","TYPE_UNIT","TYPE_OPERATOR","TYPE_NUMBER","NODE_TYPE_UNIT","NODE_TYPE_BINARY_EXPRESSION","NODE_TYPE_NUMBER","createError","PRECEDENCE","*","/","+","-","parse","calcStr","lex","tokens","buildBinaryExpNode","stack","op","token","shift","deep","closeIndex","beforeOp","num","parseFloat","unit","exp","reUnit","reNum","reOp","tokenize","calcNode","_disabled","disabled","onChangeDisabledInternal","cubicBezier","x2","y2","x3","y3","step","EASINGS","linear","easeIn","easeOut","easeInOut","raf","requestAnimationFrame","duration","easing","startedAt","canceledFlg","createAnim","resolve","reject","anim","_this19","_textAlign","_textBaseline","CHANGE_STYLE","_EventTarget4","_this20","_bgColor","ICON_PROP_KEYS","doms","props","getIconProps","className","tagProps","beforeStyle","defaultView","getComputedStyle","getPropertyValue","substr","quoted","split","quote","clientWidth","isLiga","toSimpleArray","iconProps","workData","prop","_toConsumableArray","toPropArray","_loop2","normarize","iconPropKeys","_StdBaseStyle2","_this21","_webpack_require__16","theme","Theme","plugins","BASIC","MATERIAL_DESIGN","builtin","defTheme","themes","default","defaultTheme","choices","_webpack_require__17","UPDATE_LENGTH","UPDATED_LENGTH","UPDATED_ORDER","getValue","setPromiseBack","_getIndex","dataSource","_sortedIndexMap","mapIndex","DataSource","_EventTarget5","_this22","_length","getOriginal","field","getOriginalField","hasOriginalField","setOriginalField","order","_this23","sortedIndexMap","orderFn","v1","v2","sortPromise","_this24","recordPromiseCallBackInternal","_this25","getField","ss","fieldPromiseCallBackInternal","setField","EMPTY","getPath2D","Path2D","upsideDown","ud","_module$x","offsetX","_module$y","offsetY","xrate","yrate","translate","scale","path2d","CHANGED_VALUE","CHANGED_HEADER_VALUE","BaseMessage","detachMessageElement","_messageElement","createMessageElementInternal","_getMessageElement","attach","move","_detach","drawCellMessageInternal","CLASSNAME","MESSAGE_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","MessageElement","rootElement","_rootElement","messageElement","createMessageDomElement","detach","_attachCell","_grid$getAttachCellAr","getAttachCellArea","drawExclamationMarkBox","getRect","boxRect","fillRect","fillColor","fillRectWithState","drawInfomationMarkBox","SCROLLBAR_SIZE","dummy","parseInt","getScrollBarWidth","_webpack_require__21","PI","roundRect","radius","arc","closePath","fillRoundRect","strokeRoundRect","stroke","measureCheckbox","drawCheckbox","check","_ref16","_ref16$uncheckBgColor","uncheckBgColor","_ref16$checkBgColor","checkBgColor","_ref16$borderColor","borderColor","_ref16$boxSize","boxSize","checkPoint","leftWidth","rightWidth","leftLeftPos","leftTopPos","moveTo","lineTo","_ref14","_ref14$offset","clip","pos","fillText","drawButton","_option$backgroundCol","backgroundColor","_option$bgColor","_option$radius","_option$shadow","shadow","_shadow$color","_shadow$blur","blur","_shadow$offsetX","_shadow$offsetY","_shadow$offset","_shadow$offset$x","ox","_shadow$offset$y","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawInlineImageRect","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","_ref15","_ref15$offset","strokeColorsRect","borderColors","strokeRect","positions","preColor","pos1","pos2","strokeRectLines","action","_webpack_require__22","bindCellClickAction","bindCellKeyAction","Action","_BaseAction2","_this26","_action","_this27","getState","getRowRecord","mouseOver","mouseActiveCell","invalidateCell","mouseOut","_webpack_require__23","_webpack_require__24$","KEY_ENTER","_ref17","isTarget","_ref18","_ref18$acceptKeys","acceptKeys","_webpack_require__26$","BaseInputEditor","_Editor","inputValue","_this28","open","onOpenCellInternal","onInputCellInternal","onChangeSelectCellInternal","onGridScrollInternal","onSetInputAttrsInternal","normalize","caption","NumberStyle","CheckStyle","ButtonStyle","ImageStyle","IconStyle","PercentCompleteBarStyle","MultilineTextStyle","MenuStyle","columnStyle","_Style","_style$textAlign","adj","_StdBaseStyle3","_this29","_style$textAlign2","_uncheckBgColor","_checkBgColor","_borderColor","_Style2","_this30","_style$textAlign3","buttonBgColor","_buttonBgColor","_StdBaseStyle4","_this31","_style$textAlign4","_imageSizing","imageSizing","_margin","margin","_Style3","_style$textAlign5","DEFAULT_BAR_COLOR","_this32","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","_Style5","_this33","_style$textBaseline","_lineHeight","lineHeight","_autoWrapText","autoWrapText","_lineClamp","lineClamp","_this34","appearance","_appearance","LRUCache","allCache","loadImage","src","console","error","img","Image","onload","onerror","url","warn","search","isDataUrl","getCacheOrLoad","cacheName","cacheSize","cache","getCacheOrLoad0","SortHeaderAction","CheckHeaderAction","ImmutableSortHeaderAction","_SortHeaderAction","ImmutableCheckHeaderAction","_CheckHeaderAction","ACTIONS","SORT","CHECK","headerAction","toUpperCase","ofCell","headerCell","_ref19","_webpack_require__29$","_ref20","inMouse","isCellInRange","_ref21","_ref21$acceptKeys","Header","SortHeader","CheckHeader","TYPES","headerType","_EventTarget6","_this35","_Style7","_this36","_style$textAlign6","CachedDataSource","FilterDataSource","wait","createArrayPromise","plist","_loop3","_loop4","setArrayField","compare","old","createArray","r1","r2","sortArray","dummyPromise","catch","_webpack_require__31","inlineUtils","colorToRGB","_webpack_require__33","fonts","InlineDrawer","INLINE_ELLIPSIS","getColor","getThemeColor","_len8","_key8","defaultThemeColor","gridThemeColor","_len9","_key9","drawInlines","inlines","drawInline","inline","canDraw","onReady","inlineWidths","reduce","inlineWidth","buildInlines","inlineToString","string","getOverflowInline","isAllowOverflow","getOverflowInlinesIndex","maxWidth","remWidth","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","canBreak","_inline$breakWord","breakWord","_inline$breakAll","breakAll","_inline$splitIndex","splitIndex","truncateInlines","overflowInline","_inlineRect","_ref23","isOverflowInlines","_truncateInlines","truncInlines","setCellOverflowText","_ref25","_ref25$animElapsedTim","animElapsedTime","_ref25$uncheckBgColor","checkbox","_ref25$checkBgColor","_ref25$borderColor","_ref25$textAlign","_ref25$textBaseline","positionOpt","boxWidth","uncheckBgRGB","checkBgRGB","checkRGB","colorName","diff","uncheckRGB","ThemeResolver","_len10","_key10","_checkbox","_button","_header","sortArrowColor","GridCanvasHelper","_theme","calcWidth","calcHeight","calculator","createCalculator","box","clipLeft","clipWidth","clipTop","clipHeight","_this37","_ref26","_ref26$offset","_ref26$textAlign","_ref26$textBaseline","_ref26$textOverflow","frozenRowsColor","drawWithClip","toBoxPixelArray","multilines","_this38","_ref27","_ref27$offset","_ref27$textAlign","_ref27$textBaseline","_ref27$lineHeight","_ref27$autoWrapText","_ref27$lineClamp","_ref27$textOverflow","multiInlines","buildedMultiInlines","_ref24","rectHeight","procLineClamp","hasNext","_truncateInlines2","procLine","_breakWidthInlines","_truncateInlines3","lineRow","pad","buildedInline","_multiInlineRect","_ref28","_ref28$textAlign","_ref28$textBaseline","_this39","_ref29$fillColor","defaultBgColor","getFillColorState","fillCell","_ref30$fillColor","getSelectState","selectionBgColor","frozenRowsBgColor","_this40","_ref31","_ref31$borderColor","_ref31$lineWidth","drawBorderWithClip","startOffset","_this41","highlightBorderColor","border","frozenRowsBorderColor","self","_ref32","_this42","_this43","_ref33","_ref33$bgColor","_ref33$offset","_ref33$color","_ref33$textAlign","_ref33$textBaseline","_ref33$textOverflow","load","loads","testStr","legacy","ready","InlineImage","_Inline","_this44","_ref34","imageLeft","imageTop","imageWidth","imageHeight","_src","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loaded","_loadImage","_this45","_inlineImg","_ref35","_ref36","_this46","_ref37","_draw","_ref38","_ref39","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","rgbMap","hexToNum","hex","createRGB","g","testRGB","_ref42","rateToByte","colorToRGB0","_ref40","tripleHexToRGB","_ref41","g1","g2","b1","b2","sextupleHexToRGB","rgb","styleColor","styleColorToRGB","core","tools","columns","headers","ListGrid","register","_internal","symbolManager","path2DManager","Function","eval","MAX_SCROLL","_update","domHeight","sbSize","vScrollRange","rScrollRange","_p","_endPointElement","relativeTop","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","_keys","_vals","_sorted","_this47","keyFrom","keyTo","ary","elm","low","high","indexFirst","ratio","setRatio","devicePixelRatio","getAttribute","_len11","_key11","wh","_len12","_key12","_len13","_key13","CheckEditor","ButtonAction","SmallDialogInputEditor","InlineInputEditor","InlineMenuEditor","ImmutableCheckEditor","_CheckEditor","ImmutableInputEditor","_SmallDialogInputEdit","INPUT","columnAction","_webpack_require__40","_webpack_require__41","toggleValue","_Editor2","_this48","cellKey","blockKey","elapsedKey","doChangeValue","onChange","selrange","pasteValue","doGetCellValue","newValue","_Action","SmallDialogInputElement","globalElement","bindGridCount","attachInput","editor","addDisposable","detachInput","gridFocus","_BaseInputEditor","_this49","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","_classList","_type","_inputDialogManager","_this50","setInputAttrs","_webpack_require__48","_webpack_require__48$","INPUT_CLASSNAME","tryWithOffEvents","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","_dialog","readonly","createDialogElement","_bindDialogEvents","dialog","_beforePropEditor","_this51","_dialog$classList2","unbindProps","errorMessage","_grid$getAttachCellAr4","activeData","_onInputValue","_dialog$classList","bindProps","_activeData","_attaching","_isActive","_this$_activeData","_beforeValue","_this52","_validate","_this52$_activeData","_this53","stopPropagationOnly","onKeyupAndPress","_doChangeValue","_onInputValueChange","inputOnly","_this$_activeData2","InlineInputElement","_BaseInputEditor2","_this54","_this55","_webpack_require__52$","_input$classList","_bindInputEvents","_this56","_input$classList2","_grid$getAttachCellAr5","_this$_activeData3","_this$_activeData4","_this57","_webpack_require__54","_webpack_require__56$","InlineMenuElement","detachMenu","_Editor3","_this58","_options","_this59","attachMenu","pasteOpt","opt","_webpack_require__58","_webpack_require__58$","_webpack_require__59","ITEM_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","attachElement","menu","openMenu","emptyItemEl","valueItemEl","_ref43","_item$classList","valueindex","span","optionToLi","_menu$classList","focusEl","focusIndex","_grid$getAttachCellAr6","allHeight","menuClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","_menu","_bindMenuEvents","_menu$classList2","_this$_activeData5","closeMenu","_this$_activeData6","_this60","querySelectorAll","NumberColumn","CheckColumn","ButtonColumn","ImageColumn","PercentCompleteBarColumn","IconColumn","BranchGraphColumn","MenuColumn","MultilineTextColumn","NUMBER","BUTTON","IMAGE","MULTILINETEXT","columnType","defaultFotmat","_Column","_this61","_format","format","Intl","NumberFormat","fmt","clone","isNaN","_BaseColumn2","toBoolean","_ref44","elapsed","_Column2","_this62","_caption","_ref45","active","MAX_LRU_CACHE_SIZE","getImage","_ref46","_calcKeepAspectRatioS","maxHeight","calcKeepAspectRatioSize","_map","_cacheSize","_webpack_require__65","_Column3","_this63","_min","_max","_formatter","formatter","svalue","rate","barMaxWidth","MARGIN","barTop","barLeft","barSize","_this64","_tagName","_className","_name","_iconWidth","iconWidth","Infinity","repeatArray","_webpack_require__66","BranchGraphStyle","BranchLine","fromIndex","_ref47","toIndex","colorIndex","BranchPoint","_ref48","_ref48$commit","commit","_ref48$lines","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","calcCommand","command","timelineData","cmd","from","branch","to","_ref49","branches","fromTargetIndex","findBranchRootIndex","branchTargetFromIndex","branchPoint","targetLine","merge","_ref50","_cmd$branch","_ref52","fromTargetLine","commitMerge","_ref51","commitTag","calcBranchesInfo","allData","_loop5","dataIndex","getAllColumnData","_BaseColumn4","_this65","_cache","_ref55","_ref56","_ref57","upLineIndexKey","downLineIndexKey","branchColors","branchLineWidth","circleSize","mergeStyle","branchXPoints","tl","textWidth","calcBranchXPoints","line","upLineIndex","downLineIndex","pointIndex","_ref53","_ref54","lineCap","upX","upRect","upY","bezierCurveTo","downX","downRect","downY","renderMerge","DEFAULT_BRANCH_COLORS","_BaseStyle2","_this66","_style$textAlign7","_branchColors","_circleSize","_branchLineWidth","_mergeStyle","_BaseColumn5","_this67","_ref58","_convertInternal","basePadding","textPadding","iconPadding","path","_BaseColumn6","_ref59","multilineText","_BaseAction3","_this68","_sort","newState","_this69","sortState","_executeSort","_webpack_require__72","_BaseAction4","_this70","_ref60","checked","getHeaderValue","setHeaderValue","_BaseStyle3","_this71","_Style8","_this72","_sortArrowColor","_BaseHeader","_ref61","_BaseHeader2","_ref62","_style$textBaseline2","getHeaderCellRange","arrowSize","header","_BaseHeader3","_ref63","inlineCheck","buildCheckBoxInline","getProp","superObj","defNames","superTheme","hiliteBorderColor","_this$_3","_this$_4","_this$_5","_this$_6","_this$_7","_this$_8","_this$_9","_this$_10","_this$_11","_this$_12","_this$_13","_this$_14","_this$_15","cacheLinearGradient","_grid$getCellRelative","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","getLinearGradient","0","1","_args$grid","_DataSource","_this73","_rCache","_fCache","fCache","_ref65","_setFieldCache","DataSourceIterator","_dataSource","_curIndex","_data","_getIndexData","nest","FilterData","dc","original","_owner","_dataSourceItr","_filter","_filterdList","_queues","filterdList","queues","_findIndex","timeout","_findIndexWithTimeout","testTimeout","_this74","dataSourceItr","movePrev","_this75","_loop6","_this76","_len14","_key14","_filterData","_this$_dataSource","_webpack_require__81","HeaderBaseStyle","_webpack_require__83","MessageHandler","TooltipHandler","headerId","_getHeaderCellRange","headerMap","_getCellValue","getCell","_getField","_getCellMessage","_getCellIcon0","retIcon","_getRowRecordIndex","hasField","_hasField","_onDrawValue","_ref66","gridCanvasHelper","drawCellBg","fillOpt","fillCellWithState","drawCellBorder","borderWithState","selId","_headerBorderWithState","_getCellIcon","_refreshHeader","headerEvents","HeaderMap","headerObjects","_grid$_$headerEvents","ids","bindGridEvent","_grid$_$headerEvents2","_grid$_$headerEvents3","_grid$_$headerEvents4","_refreshRowCount","minWidth","setColWidth","setMinColWidth","setMaxColWidth","isArrayHeaderRowHeight","headerRowHeight","setRowHeight","_tryWithUpdateDataSource","dataSourceEventIds","_setRecords","records","ofArray","_setDataSource","_columns","_headerCells","_headerObjects","_addHeaders","_setupHeaderControllers","roots","_this77","rowCells","_newRow","hd","headerField","_this78","getHeaderCellRangeById","prev","_DrawGrid","_this79","adjustListGridOption","tooltipHandler","columnIndex","_this$selection$range","_this$selection$range2","_this$selection$range3","getColumnIndexByField","_getHeaderCellRange3","_getHeaderCellRange2","getRowHeight","setRect","_updateRect","valueCallback","changeValueCallback","_this80","_setCellValue","oldValue","getHeaderField","headerValues","_this81","_getHeaderCellRange4","_ref69","_ref70","_ref71","_ref72","_set","oldField","oldState","newField","InlineIcon","InlineSvg","InlinePath2D","iconOf","svg","regedIcons","regedIcon","_ref74","drawWidth","drawHeight","_ref73","_ref73$offset","drawRegisteredIcon","_this82","il","_Inline3","_this83","_icon","_ref75","_ref76","FontRuler","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","activeCallback","inactiveCallback","_this84","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","lastResortFont","HAS_WEBKIT_FALLBACK_BUG","hasWebKitFallbackBug","widthsMatchLastResortWidths_","callbacks","_this85","cb","display","white-space","font-variant","font-size","font-style","font-weight","line-height","computeStyle","el_","buildSvgDataUrl","XMLSerializer","serializeToString","getSvgElement","DOMParser","parseFromString","_InlineImage","_ref77","svgElem","elmWidth","elmHeight","_this86","_ref78","_path","_ref79","_ref80","parser","_this87","_ops","_len15","_key15","CanvasRenderingContext2D","originalFill","_this88","_len16","_key16","PathCommands","builder","argsProvider","canvasOperations","PathCommandsParser","_this89","_commands","_len17","_key17","_this$_commands","_len18","_key18","_this90","ops","pathTokens","subsequentCommand","fst","log","mag","sqrt","pow","angle","sign","acos","clamp","dot","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","cost","cos","sint","sin","rotClockwise","midPoint","xPrime2","pointMul","rx2","ry2","lambda","factor","cPrime","sum","rotCounterClockwise","meanVec","x1UnitVector","x2UnitVector","theta","rotate","lMx","lMy","_this91","reflected","lx","ly","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","_makeReflected","Q","quadraticCurveTo","q","T","_makeReflected2","A","xAxisRotation","largeArcFlag","sweepFlag","_webpack_require__90","ErrorMessage","WarningMessage","InfoMessage","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","warning","normalizeMessage","hasMessage","_messageInstances","_bindGridEvent","messageInstances","_getMessageInstanceOfMessage","_attachInfo","instance","attachMessageElement","moveMessageElement","_this92","onSelectMessage","_attach","_move","ErrorMessageElement","messageUtils","_BaseMessage","_MessageElement","_this93","WarningMessageElement","_BaseMessage2","_this94","_BaseMessage3","_webpack_require__91","Tooltip","TOOLTIP_INSTANCE_FACTORY","overflow-text","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","detachTooltipElement","attachTooltipElement","moveTooltipElement","_this95","_isAttachCell","getCellOverflowText","getTooltipInstanceInfo","BaseTooltip","TooltipElement","_BaseTooltip","_tooltipElement","createTooltipElementInternal","_getTooltipElement","CONTENT_CLASSNAME","createTooltipDomElement","_grid$getAttachCellAr7","themePlugins","iconPlugins","values","registers"],"mappings":";+2EAAA,SAAUA,ICAV,SAAAC,EAAAC,GACA,gCAAAC,QAAA,YAAAC,EAAAD,WAAA,gCAAAE,OAAA,YAAAD,EAAAC,SACAA,OAAAF,QAAAD,IACA,mBAAAI,eAAAC,IACAD,UAAAJ,GACA,gCAAAC,QAAA,YAAAC,EAAAD,UACAA,QAAA,YAAAD,IAEAD,EAAA,YAAAC,IARA,CASCF,EAAA,WACD,ODCiB,SAASQ,GEV1B,IAAAC,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAR,QAGA,IAAAE,EAAAI,EAAAE,IACAC,EAAAD,EACAE,GAAA,EACAV,YAUA,OANAK,EAAAG,GAAAG,KAAAT,EAAAF,QAAAE,IAAAF,QAAAO,GAGAL,EAAAQ,GAAA,EAGAR,EAAAF,QA0DA,OArDAO,EAAAK,EAAAP,EAGAE,EAAAM,EAAAP,EAGAC,EAAAO,EAAA,SAAAd,EAAAe,EAAAC,GACAT,EAAAU,EAAAjB,EAAAe,IACAG,OAAAC,eAAAnB,EAAAe,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CT,EAAAe,EAAA,SAAAtB,GACA,oBAAAuB,eAAAC,aACAN,OAAAC,eAAAnB,EAAAuB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAnB,EAAA,cAAiDyB,OAAA,KAQjDlB,EAAAmB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAlB,EAAAkB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,WAAA1B,EAAAwB,SAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFAvB,EAAAe,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAlB,EAAAO,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAtB,EAAA0B,EAAA,SAAA/B,GACA,IAAAc,EAAAd,KAAA0B,WACA,WAA2B,OAAA1B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAK,EAAAO,EAAAE,EAAA,IAAAA,GACAA,GAIAT,EAAAU,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD5B,EAAA+B,EAAA,GAIA/B,IAAAgC,EAAA,IDxEA,EDqBA,SAAArC,EAAAF,EAAAO,IG/BA,SAAAiC,GAEA,IAEIC,EACAC,EAHEC,OAA2B,IAAX9C,EAIhB+C,GACLC,WACC,OAAIJ,IAIHA,EADGK,MAAMV,UAAUS,KACP,SAACE,EAAKC,GAAN,OAAoBF,MAAMV,UAAUS,KAAKlC,KAAKoC,EAAKC,IAEnD,SAACD,EAAKC,GACjB,IAAMC,EAAQL,EAAMM,UAAUH,EAAKC,GACnC,OAAOC,GAAS,EAAIF,EAAIE,QAASE,KAKpCD,gBACC,OAAIR,IAIHA,EADGI,MAAMV,UAAUc,UACF,SAACH,EAAKC,GAAN,OAAoBF,MAAMV,UAAUc,UAAUvC,KAAKoC,EAAKC,IAExD,SAACD,EAAKC,GAEtB,IAFoC,IAC7BI,EAAUL,EAAVK,OACE3C,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAK,CAEhC,GAAIuC,EADUD,EAAItC,GACGA,EAAGsC,GACvB,OAAOtC,EAGT,OAAQ,MAOZ,SAAS4C,EAAMC,GACd,OAAgB,OAATA,QAAiC,IAATA,EA5ChC,IAAAC,EA8CA,WACC,GAAIZ,EACH,OACCa,IAAI,EACJC,MAAM,EACNC,QAAQ,EACRC,SAAS,EACTC,QAAQ,GAGT,IAAMC,EAAKhE,EAAOiE,UAAUC,UAAUC,cACtC,OACCR,GAAKK,EAAGI,MAAM,WAAaJ,EAAGI,MAAM,WACpCR,KAAOI,EAAGK,QAAQ,SAAW,EAC7BR,OAASG,EAAGK,QAAQ,WAAa,IAA+B,IAAxBL,EAAGK,QAAQ,QACnDP,QAAUE,EAAGK,QAAQ,YAAc,EACnCN,OAASC,EAAGK,QAAQ,WAAa,IAA+B,IAAxBL,EAAGK,QAAQ,SAIVC,GAArCX,EAlEPD,EAkEOC,GAAIE,EAlEXH,EAkEWG,OAAQC,EAlEnBJ,EAkEmBI,QAASF,EAlE5BF,EAkE4BE,KAAMG,EAlElCL,EAkEkCK,OAgDlC,SAASQ,EAAeC,EAAKC,GAE5B,IADA,IAAI7C,EAAQ4C,EACH5D,EAAI,EAAGA,GAAC8D,UAAAnB,QAAA,IAAAmB,UAAAnB,OAAA,IAAmBC,EAAM5B,GAAQhB,IACjDgB,EAAQ6C,EAAG7C,EAAahB,EAAd,KAAA8D,UAAAnB,QAAc3C,EAAd,OAAA0C,EAAAoB,UAAc9D,EAAd,IAEX,OAAOgB,EA6CR,IAAM+C,EAAalB,YAAD,OAAUA,GAA6B,mBAAdA,EAAKmB,MAwEhDvE,EAAOF,SACN2C,SACAU,QACAqB,SACClB,KACAC,OACAC,SACAC,UACAC,SAIAe,YAAajB,EAAS,SACpBC,EAAU,SACV,UAEHiB,OAtKD,WAAyB,IACxB,IAAMC,KADkBC,EAAAP,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAAgC,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAND,EAAMC,GAAAT,UAAAS,GAgBxB,OAdAD,EAAKE,QAASC,YAAW,IAAAC,EAAA,SACbpD,GACVb,OAAOC,eAAe0D,EAAQ9C,GAC7BV,IADkC,WAEjC,OAAO6D,EAAOnD,IAEfqD,IAJkC,SAI9BC,GACHH,EAAOnD,GAAOsD,GAEfC,cAAc,EACdlE,YAAY,KATd,IAAK,IAAMW,KAAOmD,EAAQC,EAAfpD,KAaL8C,GAuJPU,oBArJD,SAA6BzF,EAAM0F,GAClC,KAAOA,EAAOC,eAAe,CAC5B,IAAMnD,EAAIkD,EAAOC,cACjB,GAAI3F,IAASwC,EACZ,OAAO,EAERkD,EAASlD,EAEV,OAAO,GA8IPoD,aArID,SAAsBrB,GAAe,QAAAsB,EAAApB,UAAAnB,OAAPwC,EAAO,IAAA9C,MAAA6C,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAPD,EAAOC,EAAA,GAAAtB,UAAAsB,GACpC,OAAOzB,EAAc0B,WAAd1B,GAAeC,EAAK,SAACgB,EAAKtE,GAAN,OAAesE,EAAItE,KAAvCqD,OAAiDwB,KAqIxDxB,iBACA2B,WApID,SAAoBtE,GACnB,GAAqB,mBAAVA,EAAsB,SAAAuE,EAAAzB,UAAAnB,OADJ2B,EACI,IAAAjC,MAAAkD,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IADJlB,EACIkB,EAAA,GAAA1B,UAAA0B,GAChC,OAAOxE,EAAKqE,WAALrE,EAASsD,GAEhB,OAAOtD,GAiIRyE,cA9DD,SAAuB7B,EAAKtD,GAC3B,GAAIsD,EAAItD,GACP,OAAOsD,EAAItD,GAEZ,IAAML,EAAIK,EAAKiD,cACf,GAAIK,EAAI3D,GACP,OAAO2D,EAAI3D,GAEZ,IAAMyF,EAAIpF,EAAKiD,cACf,GAAIK,EAAI8B,GACP,OAAO9B,EAAI8B,GAEZ,IAAK,IAAMC,KAAK/B,EACf,GAAI+B,EAAEpC,gBAAkBtD,EACvB,OAAO2D,EAAI+B,IAiDb5B,YACAC,KA9FY,SAACI,EAAQwB,GAAT,OAAsB7B,EAAUK,GAAUA,EAAOJ,KAAMnD,YAAD,OAAO+E,EAAS/E,KAAM+E,EAASxB,IA+FjGjC,QACAyB,KACCiC,YAlMF,SAAqBjC,EAAKtD,EAAMU,GAC/BP,OAAOC,eAAekD,EAAKtD,GAC1BK,YAAY,EACZkE,cAAc,EACd7D,WA+LA8E,KA3LF,SAAclC,EAAKC,GAClB,IAAK,IAAMvC,KAAOsC,EACjBC,EAAGD,EAAItC,GAAMA,EAAKsC,IA0LlBmC,SAtLF,SAAkBnC,GACjB,OAAOA,IAAQnD,OAAOmD,KAuLtBoC,KACCC,SAxIF,SAAkBD,EAAKE,EAAcC,GACpC,IAAMC,EAAgBJ,EAAIK,YACF,iBAAbF,IAA0BG,SAASH,IAAaI,KAAKC,MAAML,KAAcA,GAAYA,EAAWC,EAAczD,UACxHwD,EAAWC,EAAczD,QAE1BwD,GAAYD,EAAavD,OACzB,IAAM8D,EAAYL,EAAcM,YAAYR,EAAcC,GAC1D,OAAsB,IAAfM,GAAoBA,IAAcN,GAkIxCQ,SAhIF,SAAkB7E,GAOjB,IAAM8E,EAAK,kHACX,OACCC,KADM,WAEL,IAAMC,EAAMF,EAAGG,KAAKjF,GACpB,OAAe,OAARgF,EAAeA,EAAI,GAAK,QAsHhCE,SAlHF,SAAkBlF,GACjB,IAAM8E,EAAK,wBACX,OACCC,KADM,WAEL,IAAMC,EAAMF,EAAGG,KAAKjF,GACpB,OAAe,OAARgF,EAAeA,EAAI,GAAK,SA+GjCG,OACCC,gBA1GF,SAAyBC,GACxB,OAAIvE,EAAMuE,EAAEC,SACJD,EAAEC,QAGNxE,EAAMuE,EAAEE,OACK,IAAZF,EAAEE,MACE,EAEQ,IAAZF,EAAEE,MACE,EAEDF,EAAEE,MAGO,IAAbF,EAAEG,QAA6B,IAAbH,EAAEG,OAChB,EAES,IAAbH,EAAEG,OACE,EAED,GAsFNC,WApFF,SAAoBJ,GACnB,OAAOA,EAAEK,SAAWL,EAAEE,OAoFrBI,aAlFF,SAAsBN,GACrB,QAASA,EAAEO,gBAkFVC,OA7DF,SAAgBR,GACfA,EAAES,iBACFT,EAAEU,oBA6DFC,OACCC,WA1DF,SAAoBnE,GACnB,OAAKvB,EAAcuB,GAGA,IAAfA,EAAIjB,QACCiB,EAAI,GAAWA,EAAI,GAAaA,EAAI,GAAcA,EAAI,IAE5C,IAAfA,EAAIjB,QACCiB,EAAI,GAAWA,EAAI,GAAaA,EAAI,GAAcA,EAAI,IAE5C,IAAfA,EAAIjB,QACCiB,EAAI,GAAWA,EAAI,GAAaA,EAAI,GAAcA,EAAI,IAExDA,GAXEA,EAAYA,EAAcA,EAAeA,KA0DlDoE,QA5CgB,gBHiPY9H,KAAK+H,KAAMnI,EAAoB,GAApB,gBG5VtC,SAAAL,EAAAF,EAAAO,ICjIF,SAAAoI,GAAA,IAIMpH,EAFWqH,EAAQ,GAAlBjG,OAEiBgG,EAAOpH,OAAS1B,EAAO0B,OAAS1B,EAAO0B,OAAU,WACxE,SAASsH,IAIR,IAHA,IAAMhI,EAAI,uCACJiI,EAAKjI,EAAEuC,OACT9B,EAAI,GACCb,EAAI,EAAGA,EAAI,GAAIA,IACvBa,GAAKT,EAAEmG,KAAKC,MAAMD,KAAK6B,SAAWC,IAEnC,OAAOxH,EAER,OAAQP,YACP,OAAIA,EACH,IAAAgI,OAAWhI,EAAX,KAAAgI,OAAmBF,KAEnB,KAAAE,OAAYF,MAd0D,GAkBnEG,KAEN9I,EAAOF,SACNqB,IADgB,SACZN,GACH,OAAIA,EACIiI,EAAIjI,GAAQiI,EAAIjI,GAASiI,EAAIjI,GAAQQ,EAAOR,GAE5CQ,KAGT0H,uBACC,OAAOP,KAAKrH,IAAI,cAEjB6H,4BACC,OAAOR,KAAKrH,IAAI,mBAEjB8H,6BACC,OAAOT,KAAKrH,IAAI,mBAEjB+H,6BACC,OAAOV,KAAKrH,IAAI,uBAEjBgI,mCACC,OAAOX,KAAKrH,IAAI,6BAEjBiI,yCACC,OAAOZ,KAAKrH,IAAI,sCAEjBkI,mCACC,OAAOb,KAAKrH,IAAI,gCAEjBmI,kCACC,OAAOd,KAAKrH,IAAI,+BAEjBoI,4BACC,OAAOf,KAAKrH,IAAI,4BDgIPV,KAAA+H,KAAAnI,EAAA,MAGV,SAAAL,EAAAF,EAAAO,IE5LD,SAAAiC,GAEAtC,EAAOF,SACN0J,mBAAoC,IAAX7J,EAAyBiD,EAAgBjD,EAAOiD,MAAM6G,WF+L/EhJ,KAAA+H,KAAAnI,EAAA,mBAGC,SAAAL,EAAUF,EAAVO,GAAA,IGnMWgG,EAASqC,EAAQ,GAAvBvE,IAAMkC,KACTqD,EAAS,EAEPC,EHgMJ,WG/LDC,aAAcC,EAAArB,KAAAmB,GACbnB,KAAKsB,cH8LL,OAAAC,EAAAJ,IAAA9H,IAAA,KAAAN,MAAA,SG5LE+D,EAAQ0E,EAAMC,GAAsB,QAAAC,EAAA7F,UAAAnB,OAATiH,EAAS,IAAAvH,MAAAsH,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAATD,EAASC,EAAA,GAAA/F,UAAA+F,GAClC9E,EAAO+E,kBACV/E,EAAO+E,iBAAP/E,SAAwB0E,EAAMC,GAAxBpB,OAAqCsB,IAE5C,IAAMhG,GACLmB,SAAQ0E,OAAMC,WAAUE,WAEnBG,EAAKZ,IAEX,OADAlB,KAAKsB,WAAWQ,GAAMnG,EACfmG,KHmLPzI,IAAA,OAAAN,MAAA,SGjLI+D,EAAQ0E,EAAMC,GAAsB,QAAAM,EAAA/B,KAAAgC,EAAAnG,UAAAnB,OAATiH,EAAS,IAAAvH,MAAA4H,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAATN,EAASM,EAAA,GAAApG,UAAAoG,GACxC,IAAMH,EAAK9B,KAAKkC,GAAL9E,MAAA4C,MAAQlD,EAAQ0E,EAAM,WAChCC,EAAQrE,WAARqE,aACAM,EAAKI,IAAIL,KAFCzB,OAGLsB,IACN,OAAOG,KH4KPzI,IAAA,mBAAAN,MAAA,SG1KgB+D,EAAQ0E,EAAMvJ,GAC9B,IAAMmK,KACN,IACCvE,EAAKmC,KAAKsB,WAAa3F,YACtB,GAAIA,EAAImB,SAAWA,GAAUnB,EAAI6F,OAASA,EAAM,CACX,IAAAa,EAApC,GAAI1G,EAAImB,OAAOwF,qBACd3G,IAAImB,QAAOwF,oBAAX3G,SAA+BA,EAAI6F,KAAM7F,EAAI8F,UAA7C9F,SAA0DA,EAAIgG,WAE/DS,EAAKG,KAAK5G,MAGZ1D,IATD,QAWCmK,EAAK7F,QAASZ,YACoB,IAAA6G,EAA7B7G,EAAImB,OAAO+E,mBACdlG,IAAImB,QAAO+E,iBAAXlG,SAA4BA,EAAI6F,KAAM7F,EAAI8F,UAA1C9F,SAAuDA,EAAIgG,iBH2J9DtI,IAAA,MAAAN,MAAA,SGtJG+I,GACH,GAAKA,EAAL,CAGA,IAKoCW,EAL9B9G,EAAMqE,KAAKsB,WAAWQ,GAC5B,GAAKnG,EAIL,UADOqE,KAAKsB,WAAWQ,GACnBnG,EAAImB,OAAOwF,qBACd3G,IAAImB,QAAOwF,oBAAX3G,SAA+BA,EAAI6F,KAAM7F,EAAI8F,UAA7C9F,SAA0DA,EAAIgG,eH4I/DtI,IAAA,OAAAN,MAAA,SGzII+D,EAAQ0E,GAAe,QAAAkB,EAAA7G,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAAsI,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANtG,EAAMsG,EAAA,GAAA9G,UAAA8G,GAC3B9E,EAAKmC,KAAKsB,WAAa3F,YAC0B,IAAAiH,EAA5CjH,EAAImB,SAAWA,GAAUnB,EAAI6F,OAASA,IACzC7F,IAAI8F,UAASxJ,KAAb0D,SAAkBA,EAAImB,QAAtBnB,OAAiCU,SHsInChD,IAAA,cAAAN,MAAA,SGlIW+D,EAAQ0E,GACnB,IAAIrF,GAAS,EAMb,OALA0B,EAAKmC,KAAKsB,WAAa3F,YAClBA,EAAImB,SAAWA,GAAUnB,EAAI6F,OAASA,IACzCrF,GAAS,KAGJA,KH2HP9C,IAAA,QAAAN,MAAA,WGxHA8E,EAAKmC,KAAKsB,WAAa3F,YACc,IAAAkH,EAAhClH,EAAImB,OAAOwF,sBACd3G,IAAImB,QAAOwF,oBAAX3G,SAA+BA,EAAI6F,KAAM7F,EAAI8F,UAA7C9F,SAA0DA,EAAIgG,aAGhE3B,KAAKsB,iBHmHLjI,IAAA,UAAAN,MAAA,WGhHAiH,KAAK8C,QACL9C,KAAKsB,WAAa,SH+GlBH,EAAA,GG3GF3J,EAAOF,QAAU6J,GH2LhBtB,WAAOvI,EAAAO,GInRR,IACIkL,EADEC,EAAe9C,EAAQ,IAEvB+C,EJiRE,SAAAC,GI7QP9B,aAAwB,IAAA+B,EAAZtD,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAiD,IACvBE,EAAAC,EAAApD,KAAAqD,EAAAJ,GAAAhL,KAAA+H,KAAMH,KACDyD,OAASzD,EAAM0D,MACpBJ,EAAKK,MAAQ3D,EAAM4D,KACnBN,EAAKO,SAAW7D,EAAM8D,QACtBR,EAAKS,cAAgB/D,EAAMgE,cAAgB,OALpBV,EJ6QjB,OAAAW,EAAAb,EIjRYD,GJiRZzB,EAAA0B,EAAA,OAAA5J,IAAA,UAAAV,IAAA,WI/QN,OAAOoK,IAA+BA,EAAe,IAAIE,OJ+QnD1B,EAAA0B,IAAA5J,IAAA,QAAAN,MAAA,WIzON,OAAO,IAAIkK,EAAMjD,SJyOX3G,IAAA,QAAAV,IAAA,WIrQN,OAAOqH,KAAKsD,QJqQN5G,IAAA,SInQG6G,GACTvD,KAAKsD,OAASC,EACdvD,KAAK+D,mBJiQC1K,IAAA,OAAAV,IAAA,WI9PN,OAAOqH,KAAKwD,OJ8PN9G,IAAA,SI5PE+G,GACRzD,KAAKwD,MAAQC,EACbzD,KAAK+D,mBJ0PC1K,IAAA,UAAAV,IAAA,WIvPN,OAAOqH,KAAK0D,UJuPNhH,IAAA,SIrPKiH,GACX3D,KAAK0D,SAAWC,EAChB3D,KAAK+D,mBJmPC1K,IAAA,eAAAV,IAAA,WIhPN,OAAOqH,KAAK4D,eJgPNlH,IAAA,SI9OUmH,GAChB7D,KAAK4D,cAAgBC,EACrB7D,KAAK+D,oBJ4OCd,EAAA,GItORzL,EAAOF,QAAU2L,GHHhB,SAAItC,OAA+B,IAAAqD,EI9BhC9D,EAAQ,GAXXvF,EJyCmCqJ,EIzCnCrJ,MACAqB,EJwCmCgI,EIxCnChI,QACAa,EJuCmCmH,EIvCnCnH,oBACA3C,EJsCmC8J,EItCnC9J,MACA4B,EJqCmCkI,EIrCnClI,UJqCmCmI,EAAAD,EIpCnChF,MACCQ,EJmCkCyE,EInClCzE,aACAP,EJkCkCgF,EIlClChF,gBACAK,EJiCkC2E,EIjClC3E,WACQ4E,EJgC0BD,EIhClCvE,OAIIyE,EAAcjE,EAAQ,IACtBkE,EAAOlE,EAAQ,IACfmE,EAAanE,EAAQ,IACrBiB,EAAejB,EAAQ,GACvBoE,EAAYpE,EAAQ,IACpBL,EAAQK,EAAQ,IAChBqE,EAAOrE,EAAQ,IACdsE,EAAetE,EAAQ,GAAvBsE,YACDC,EAAQvE,EAAQ,IAEGwE,EAAKxE,EAAQ,GAA/BK,iBAQP,IAAMoE,EAAU,GACVC,EAAW,GACXC,EAAW,GACXC,EAAS,GACTC,EAAY,GACZC,EAAW,GACXC,EAAc,GACdC,EAAc,GAEdC,EAAgB,aAChBC,EAAmB,gBACnBC,EAAiB,cACjBC,EAAoB,iBACpBC,EAAkB,eAClBC,EAAmB,gBACnBC,EAAa,UACbC,EAAoB,iBACpBC,EAAqB,kBACrBC,EAAqB,kBACrBC,EAAoB,iBACpBC,EAAmB,gBACnBC,EAAgB,aAChBC,EAAgB,aAIhBC,GAAY,SACZC,IACLC,WAAYhB,EACZiB,cAAehB,EACfiB,YAAahB,EACbiB,eAAgBhB,EAChBiB,aAAchB,EACdiB,cAAehB,EACfiB,QAAShB,EACTiB,eAAgBhB,EAChBiB,gBAAiBhB,EACjBiB,gBAAiBhB,EACjBiB,eAAgBhB,EAChBiB,cAAehB,EACfiB,WAAYhB,EACZiB,WAAYhB,EACZiB,mBAnB6B,qBAoB7BC,iCAnB2C,mCAoB3CC,cAnBwB,gBAoBxBC,OAAQnB,IAIT,SAASoB,GAASnI,GACb9D,UAAUkM,SAAW9H,EAAaN,IACrC9D,UAAUkM,QAAQ,IAGpB,SAASC,GAAgBC,EAAMC,GAC9B,IAAMC,EAAWF,EAAKG,uBAAuBF,GAC7C,GAAI9M,EAAM+M,GACT,OAAOA,EAER,IA+BME,EAAUtJ,KAAKuJ,IAAIvJ,KAAKwJ,KAAKL,EAAYD,EAAK9C,GAAGqD,kBAAmBP,EAAKQ,SAAW,GACpFC,EAASC,GAAeV,EAAM,EAAGI,GACvC,OAAIH,GAAaQ,EAlBC,SAACE,EAAUC,GAG5B,IAFA,IAAIC,EAAMD,EAAcE,GAAcd,EAAMW,GACrCH,EAAYR,EAAK9C,GAAjBsD,SACEO,EAAMJ,EAAUI,EAAMP,EAAUO,IAAO,CAC/C,IACMN,EAASI,EADAC,GAAcd,EAAMe,GAEnC,GAAIF,GAAOZ,GAAaA,EAAYQ,EACnC,OACCI,MACAE,OAGFF,EAAMJ,EAEP,OAAO,KAKAO,CAAUZ,EAASK,GAlCR,SAACE,EAAUC,GAE7B,IADA,IAAIH,EAASG,EACJG,EAAMJ,EAAUI,GAAO,EAAGA,IAAO,CACzC,IACMF,EAAMJ,EADGK,GAAcd,EAAMe,GAEnC,GAAIF,GAAOZ,GAAaA,EAAYQ,EACnC,OACCI,MACAE,OAGFN,EAASI,EAEV,OAAO,KAuBAI,CAAWb,EAASK,GAG7B,SAASS,GAAgBlB,EAAMmB,GAG9B,IAFA,IAAIC,EAAO,EACJC,EAAYrB,EAAK9C,GAAjBmE,SACEC,EAAM,EAAGA,EAAMD,EAAUC,IAAO,CACxC,IACMC,EAAQH,EADAI,GAAaxB,EAAMsB,GAEjC,GAAIC,EAAQJ,EACX,OACCC,OACAE,OAGFF,EAAOG,EAER,OAAO,KAER,SAASE,GAAsBzB,EAAMC,GACpC,IAAKD,EAAK9C,GAAGwE,eACZ,OAAO,KAIR,IAN+C,IAI1Cb,EAAOb,EAAK9C,GAAGyE,OAAfd,IACCL,EAAWR,EAAK9C,GAAGwE,eAChBX,EAAM,EAAGA,EAAMP,EAAUO,IAAO,CACxC,IACMN,EAASI,EADAC,GAAcd,EAAMe,GAEnC,GAAIN,EAASR,EACZ,OACCY,MACAE,OAGFF,EAAMJ,EAEP,OAAO,KAER,SAASmB,GAAsB5B,EAAMmB,GACpC,IAAKnB,EAAK9C,GAAG2E,eACZ,OAAO,KAIR,IAN+C,IAI1CT,EAAQpB,EAAK9C,GAAGyE,OAAhBP,KACCC,EAAWrB,EAAK9C,GAAG2E,eAChBP,EAAM,EAAGA,EAAMD,EAAUC,IAAO,CACxC,IACMC,EAAQH,EADAI,GAAaxB,EAAMsB,GAEjC,GAAIC,EAAQJ,EACX,OACCC,OACAE,OAGFF,EAAOG,EAER,OAAO,KAER,SAASO,GAAmB9B,GAC3B,IAAKA,EAAK9C,GAAGwE,eACZ,OAAO,KAKR,IAPiC,IAI1Bb,EAAOb,EAAK9C,GAAGyE,OAAfd,IACHkB,EAAS,EACPvB,EAAWR,EAAK9C,GAAGwE,eAChBX,EAAM,EAAGA,EAAMP,EAAUO,IACjCgB,GAAUjB,GAAcd,EAAMe,GAE/B,OAAO,IAAInE,EACToD,EAAK9C,GAAGyE,OAAOP,KACfP,EACAb,EAAK9C,GAAG8E,OAAOC,MACfF,GAGH,SAASG,GAAmBlC,GAC3B,IAAKA,EAAK9C,GAAG2E,eACZ,OAAO,KAKR,IAPiC,IAI1BT,EAAQpB,EAAK9C,GAAGyE,OAAhBP,KACHa,EAAQ,EACNZ,EAAWrB,EAAK9C,GAAG2E,eAChBP,EAAM,EAAGA,EAAMD,EAAUC,IACjCW,GAAST,GAAaxB,EAAMsB,GAE7B,OAAO,IAAI1E,EACTwE,EACApB,EAAK9C,GAAGyE,OAAOd,IACfoB,EACAjC,EAAK9C,GAAG8E,OAAOD,QAwBlB,SAASI,GAAUnC,EAAMoC,EAAKd,EAAKe,EAAcJ,EAAOlB,EAAKuB,EAAaP,EAAQQ,EAChFC,EAAiBC,EAAkBC,GACpC,IAAMC,EAAO,IAAI/F,EACfyF,EAAeE,EAAYnB,KAC3BkB,EAAcC,EAAY1B,IAC1BoB,EACAF,GAGIa,EAAWhG,EAAKiG,OACpB/L,KAAKgM,IAAIT,EAAcI,GAAoBF,EAAYnB,KACvDtK,KAAKgM,IAAIR,EAAaE,GAAmBD,EAAY1B,IACrD8B,EAAKpB,MACLoB,EAAKlC,QAGP,GAAImC,EAASb,OAAS,GAAKa,EAASX,MAAQ,EAAG,CAC9CG,EAAIW,OACJ,IACC,IAAMC,EAxCT,SAAyBhD,EAAMsB,EAAKP,GACnC,OAAKf,EAAK9C,GAAG+F,UAAUlC,GAGhBf,EAAK9C,GAAG+F,UAAUlC,GAAKO,GAFtB,KAsCc4B,CAAgBlD,EAAMsB,EAAKP,GAC3CiC,GACHA,EAAY9K,SAEb,IAAMiL,EAAY,IAAIC,GACpB9B,EAAKP,EACLqB,EAAKO,EAAMC,IACTI,EACFhD,EAAK9C,GAAGmG,UACRX,GAEItQ,EAAI4N,EAAKsD,WAAWhC,EAAKP,EAAKoC,GACpC,GAAI7O,EAAUlC,GAAI,EA9CrB,SAAyB4N,EAAMsB,EAAKP,EAAKwC,GACnCvD,EAAK9C,GAAG+F,UAAUlC,KACtBf,EAAK9C,GAAG+F,UAAUlC,OAEnBf,EAAK9C,GAAG+F,UAAUlC,GAAKO,GAAOiC,EA4C3BC,CAAgBxD,EAAMsB,EAAKP,EAAKoC,GAEhC,IAAMM,EAAOnC,EACb6B,EAAUO,WAAW1D,EAAM,YA7C/B,SAA4BA,EAAMsB,EAAKP,GACjCf,EAAK9C,GAAG+F,UAAUlC,YAGhBf,EAAK9C,GAAG+F,UAAUlC,GAAKO,GACqB,IAA/CtQ,OAAO2S,KAAK3D,EAAK9C,GAAG+F,UAAUlC,IAAM7N,eAChC8M,EAAK9C,GAAG+F,UAAUlC,IAwCtB6C,CAAmB5D,EAAMyD,EAAM1C,KAEhC3O,EAAEmC,KAAK,WACN4O,EAAUU,eAtBb,QA0BCzB,EAAI0B,YAKP,SAASC,GAAS/D,EAAMoC,EAAK4B,EAAeC,EAC1CC,EAAWnD,EAAKuB,EAAaP,EAAQQ,EAAaC,EAAiBE,GAAY,IACzErB,EAAYrB,EAAK9C,GAAjBmE,SACD8C,EAAY,SAAC7C,EAAKe,GAEvB,GAAIf,GAAQD,EAAW,GAAMrB,EAAK9C,GAAG8E,OAAOC,MAASI,EAAeE,EAAYnB,KAAO,CACtF,IAAMgD,EAAY/B,EAAeE,EAAYnB,KAC7CgB,EAAIW,OACJX,EAAIiC,YACJjC,EAAIkC,UAAYtE,EAAKuE,yBAA2B,UAChDnC,EAAIO,KAAKyB,EAAW9B,EAAcC,EAAY1B,IAAKb,EAAK9C,GAAG8E,OAAOC,MAAQmC,EAAWrC,GACrFK,EAAIoC,OACJpC,EAAI0B,YAIFrB,EAAmB,EACvB,GAAIuB,EAAe,CAGlB,IAFA,IAAI3B,EAAe2B,EAAc5C,KAC3BqD,EAAQzE,EAAK9C,GAAG2E,eACZP,EAAO0C,EAAP1C,IAAsBA,EAAMmD,EAAOnD,IAAO,CACnD,IAAMW,EAAQT,GAAaxB,EAAMsB,GAOjC,GALAa,GAAUnC,EAAMoC,EAAKd,EAAKe,EAAcJ,EAAOlB,EAAKuB,EAAaP,EAAQQ,EACvEC,EAAiB,EACjBE,GAGEwB,IADJ7B,GAAgBJ,GAGf,YADAkC,EAAU7C,EAAKe,GAIjBI,EAAmBJ,EAIpB,IADA,IAAIA,EAAe4B,EAAQ7C,KACjBE,EAAO2C,EAAP3C,IAAgBA,EAAMD,EAAUC,IAAO,CAChD,IAAMW,EAAQT,GAAaxB,EAAMsB,GAMjC,GALAa,GAAUnC,EAAMoC,EAAKd,EAAKe,EAAcJ,EAAOlB,EAAKuB,EAAaP,EAAQQ,EACvEC,EAAiBC,EACjBC,GAGEwB,IADJ7B,GAAgBJ,GAGf,YADAkC,EAAU7C,EAAKe,GAIjB8B,EAAU9C,EAAW,EAAGgB,GAGzB,SAASqC,GAAgB1E,EAAM4C,GAC9B,IAAML,EAAcoC,GAAgB3E,GAC7BQ,EAAYR,EAAK9C,GAAjBsD,SACD4B,EAAMpC,EAAK4E,kBAEXC,EAAU9E,GAAgBC,EAAMlJ,KAAKgM,IAAIP,EAAY1B,IAAK+B,EAAS/B,QACxEA,IAAKH,GAAeV,EAAM,EAAGQ,EAAW,GACxCO,IAAKP,GAEAyD,EAAU/C,GAAgBlB,EAAMlJ,KAAKgM,IAAIP,EAAYnB,KAAMwB,EAASxB,SACzEA,KAAM0D,GAAc9E,EAAM,EAAGA,EAAK9C,GAAGmE,SAAW,GAChDC,IAAKtB,EAAK9C,GAAGmE,UAER0D,EAAajO,KAAKuJ,IAAIkC,EAAY9B,OAAQmC,EAASnC,QACnDyD,EAAYpN,KAAKuJ,IAAIkC,EAAYhB,MAAOqB,EAASrB,OAEjDyD,EAAgBvD,GAAsBzB,EAAMlJ,KAAKgM,IAAIP,EAAY1B,IAAK+B,EAAS/B,MAC/EmD,EAAgBpC,GAAsB5B,EAAMlJ,KAAKgM,IAAIP,EAAYnB,KAAMwB,EAASxB,OAEhFsB,EAAa,IAAIuC,GAEjBd,EAAY,SAACpD,EAAKuB,GAEvB,GAAIvB,GAAQP,EAAW,GAAMR,EAAK9C,GAAG8E,OAAOD,OAAUO,EAAcC,EAAY1B,IAAM,CACrF,IAAMqE,EAAW5C,EAAcC,EAAY1B,IAC3CuB,EAAIW,OACJX,EAAIiC,YACJjC,EAAIkC,UAAYtE,EAAKuE,yBAA2B,UAChDnC,EAAIO,KAAK,EAAGuC,EAAUlF,EAAK9C,GAAG8E,OAAOC,MAAOjC,EAAK9C,GAAG8E,OAAOD,OAASmD,GACpE9C,EAAIoC,OACJpC,EAAI0B,YAIFtB,EAAkB,EACtB,GAAIwC,EAAe,CAGlB,IAFA,IAAI1C,EAAc0C,EAAcnE,IAC1B4D,EAAQzE,EAAK9C,GAAGwE,eACZX,EAAOiE,EAAPjE,IAAsBA,EAAM0D,EAAO1D,IAAO,CACnD,IAAMgB,EAASjB,GAAcd,EAAMe,GAOnC,GANAgD,GAAS/D,EACPoC,EAAK4B,EAAeC,EAASC,EAC7BnD,EAAKuB,EAAaP,EAAQQ,EAAa,EACvCG,GAGEqC,IADJzC,GAAeP,GAId,OAFAoC,EAAUpD,EAAKuB,QACfI,EAAWyC,KAAK/C,GAIlBI,EAAkBF,EAInB,IADA,IAAIA,EAAcuC,EAAQhE,IAChBE,EAAO8D,EAAP9D,IAAgBA,EAAMP,EAAUO,IAAO,CAChD,IAAMgB,EAASjB,GAAcd,EAAMe,GAUnC,GAPAgD,GAAS/D,EACPoC,EAAK4B,EAAeC,EAASC,EAC7BnD,EAAKuB,EAAaP,EAAQQ,EAAaC,EACvCE,GAIEqC,IADJzC,GAAeP,GAId,OAFAoC,EAAUpD,EAAKuB,QACfI,EAAWyC,KAAK/C,GAIlB+B,EAAU3D,EAAW,EAAG8B,GAExBI,EAAWyC,KAAK/C,GAGjB,SAASgD,GAAWpF,EAAMiC,GACzB,OAAOnL,KAAKuO,MAAMtI,EAAKuI,KAAKrD,EAAOjC,EAAK9C,GAAGqI,mBAG5C,SAASC,GAAsBxF,GAC9B,OAAOoF,GAAWpF,EAAMA,EAAKyF,iBAG9B,SAASC,GAAgB1F,EAAMsB,EAAKqE,GACnC,IAAMC,EAAQ5F,EAAK9C,GAAG2I,eAAevE,GACrC,IAAKsE,EACJ,OAAOD,EAGR,GAAIC,EAAMvF,IAAK,CACd,IAAMA,EAAM+E,GAAWpF,EAAM4F,EAAMvF,KACnC,GAAIA,EAAMsF,EACT,OAAOtF,EAGT,GAAIuF,EAAM9C,IAAK,CACd,IAAMA,EAAMsC,GAAWpF,EAAM4F,EAAM9C,KACnC,GAAIA,EAAM6C,EACT,OAAO7C,EAGT,OAAO6C,EAGR,SAASnE,GAAaxB,EAAMsB,GAC3B,IAAMW,EAAQjC,EAAK9C,GAAG4I,aAAa3U,IAAImQ,GACvC,OAAIW,EACIyD,GAAgB1F,EAAMsB,EAAK8D,GAAWpF,EAAMiC,IAE7CuD,GAAsBxF,GAE9B,SAAS+F,GAAa/F,EAAMsB,EAAKW,GAChCjC,EAAK9C,GAAG4I,aAAaE,IAAI1E,EAAKW,GAE/B,SAAS6C,GAAc9E,EAAMiG,EAAUC,GACtC,IAAM7E,EAAW6E,EAASD,EAAW,EACjCE,EAAIX,GAAsBxF,GAAQqB,EAItC,OAHArB,EAAK9C,GAAG4I,aAAazP,KAAK4P,EAAUC,EAAQ,SAACjE,EAAOX,GACnD6E,GAAKT,GAAgB1F,EAAMsB,EAAK8D,GAAWpF,EAAMiC,IAAUuD,GAAsBxF,KAE3EmG,EAGR,SAASrF,GAAcd,EAAMe,GAC5B,IAAMb,EAAWF,EAAKoG,qBAAqBrF,GAC3C,GAAI5N,EAAM+M,GACT,OAAOA,EAER,IAAM6B,EAAS/B,EAAK9C,GAAGmJ,cAAclV,IAAI4P,GACzC,OAAIgB,GAGG/B,EAAK9C,GAAGqD,iBAKhB,SAASG,GAAeV,EAAMW,EAAU2F,GACvC,IAAMpG,EAAWF,EAAKuG,sBAAsB5F,EAAU2F,GACtD,GAAInT,EAAM+M,GACT,OAAOA,EAER,IAAMM,EAAW8F,EAAS3F,EAAW,EACjC6F,EAAIxG,EAAK9C,GAAGqD,iBAAmBC,EAInC,OAHAR,EAAK9C,GAAGmJ,cAAchQ,KAAKsK,EAAU2F,EAASvE,YAC7CyE,GAAKzE,EAAS/B,EAAK9C,GAAGqD,mBAEhBiG,EAGR,SAASC,GAAgBzG,GACxB,IAAImG,EAAIX,GAAsBxF,GAAQA,EAAK9C,GAAGmE,SAI9C,OAHArB,EAAK9C,GAAG4I,aAAaY,QAAQ,SAACzE,EAAOX,GACpC6E,GAAKT,GAAgB1F,EAAMsB,EAAK8D,GAAWpF,EAAMiC,IAAUuD,GAAsBxF,KAE3EmG,EAER,SAASQ,GAAiB3G,EAAMe,GAC/B,IAAMb,EAAWF,EAAK4G,wBAAwB7F,GAC9C,GAAI5N,EAAM+M,GACT,OAAOA,EAER,IAAIsG,EAAIxG,EAAK9C,GAAGqD,iBAAmBP,EAAK9C,GAAGsD,SAI3C,OAHAR,EAAK9C,GAAGmJ,cAAcK,QAAS3E,YAC9ByE,GAAKzE,EAAS/B,EAAK9C,GAAGqD,mBAEhBiG,EAmHR,SAASK,GAAe7G,EAAMsB,EAAKP,EAAK+F,GACvC,IAAMC,EAAS/G,EAAKgH,2BAEpB,SAASC,EAAYC,GAOpB,OANIH,EAAS,IACZG,EAAMC,MAAM7F,KAAOyF,EACnBG,EAAMC,MAAMpG,KAAOgG,EACnBG,EAAME,IAAI9F,KAAOyF,EACjBG,EAAME,IAAIrG,KAAOgG,GAEXG,EAGR,IAAMG,EAAcJ,EAAYjH,EAAKqD,UAAU6D,OACzCI,EAAatH,EAAKuH,aACtBF,EAAYF,MAAM7F,IAAK+F,EAAYF,MAAMpG,IACzCsG,EAAYD,IAAI9F,IAAK+F,EAAYD,IAAIrG,KAGvCf,EAAKqD,UAAUmE,cAAclG,EAAKP,EAAK+F,GACvC9G,EAAKyH,gBAAgBnG,EAAKP,GAC1Bf,EAAK0H,UAAUpG,EAAKP,GAEpB,IAAM4G,EAAaV,EAAYjH,EAAKqD,UAAU6D,OACxCU,EAAY5H,EAAKuH,aACrBI,EAAWR,MAAM7F,IAAKqG,EAAWR,MAAMpG,IACvC4G,EAAWP,IAAI9F,IAAKqG,EAAWP,IAAIrG,KAGjC6G,EAAUC,aAAaP,GAE1B5C,GAAgB1E,EADOpD,EAAKkG,IAAI8E,EAAWN,KAG3C5C,GAAgB1E,EAAMsH,GACtB5C,GAAgB1E,EAAM4H,IAGxB,SAASE,GAAuB9H,EAAMtI,GACjCM,EAAaN,KAChBA,EAAIA,EAAEO,eAAe,IAEtB,IAAM8P,EAAUrQ,EAAEqQ,SAAYrQ,EAAEsQ,MAAQrY,EAAOsY,QACzCC,EAAUxQ,EAAEwQ,SAAYxQ,EAAEyQ,MAAQxY,EAAOyY,QACzCzF,EAAO3C,EAAK9C,GAAG8E,OAAOqG,wBAC5B,OAAI1F,EAAKpB,OAASwG,EACV,KAEJpF,EAAKlC,QAAUyH,EACX,MAIAI,EAFEP,EAAUpF,EAAKvB,KAAOpB,EAAK9C,GAAGyE,OAAOP,KAEpCmH,EADDL,EAAUvF,EAAK9B,IAAMb,EAAK9C,GAAGyE,OAAOd,KAI/C,SAAS2H,GAAYxI,GAAM,IAAAyI,EACazI,EAAK9C,GAArCwL,EADmBD,EACnBC,QAASC,EADUF,EACVE,QAASC,EADCH,EACDG,WACnBC,EAAuBnR,YAC5B,IAAMoR,EAAchB,GAAuB9H,EAAMtI,GACjD,IAAKoR,EACJ,SAED,IAAMC,EAAO/I,EAAKgJ,UAAUF,EAAYR,EAAGQ,EAAYP,GACvD,OAAIQ,EAAKzH,IAAM,GAAKyH,EAAKhI,IAAM,GAE7B+H,cACAC,SASDD,cACAC,OACAE,WAPA3H,IAAKyH,EAAKzH,IACVP,IAAKgI,EAAKhI,IACVvJ,MAAOE,KAQHwR,EAAmB5H,YACxB,IAAMsE,EAAQ5F,EAAK9C,GAAG2I,eAAevE,GACrC,QAAKsE,GAAUA,EAAMvF,KAAQuF,EAAM9C,MAG5B8C,EAAM9C,MAAQ8C,EAAMvF,KAE5BqI,EAAQhO,GAAGiO,EAAS,YAAcjR,YACjC,IAAMyR,EAAeN,EAAoBnR,GAClCoR,EAA0BK,EAA1BL,YAAaG,EAAaE,EAAbF,UACpB,GAAKH,EAAL,CAGA,GAAIG,EAAW,CACd,IAAMG,EAAUpJ,EAAKqJ,cAAcvL,EAAmBmL,GACtD,GAAIvW,EAAMM,UAAUoW,EAAUE,YAAD,OAAQA,KAAM,EAC1C,OAGF,GAA2B,IAAvB7R,EAAgBC,GAApB,CAGA,IAAM6R,EAAYC,GAAgBxJ,EAAM8I,EAAYR,EAAGQ,EAAYP,GAC/DgB,GAAa,GAAKL,EAAgBK,GAErCvJ,EAAK9C,GAAGuM,cAActC,MAAMoC,EAAW7R,GAGvCsI,EAAK9C,GAAGwM,aAAavC,MAAMzP,OAG7BgR,EAAQhO,GAAGiO,EAAS,UAAYjR,YAC/B,GAAKsI,EAAK2J,aAAa5L,GAAvB,CADqC,IAI9BkL,EAAaJ,EAAoBnR,GAAjCuR,UACHA,GACHjJ,EAAKqJ,cAActL,EAAiBkL,MAGtC,IAAIW,EAAkB,KAClBC,EAAc,KA0ClB,SAAS3R,EAAOR,GACXmS,IACHC,aAAaD,GACbA,EAAc,MA5ChBnB,EAAQhO,GAAGiO,EAAS,aAAejR,YAElC,GAAKkS,EAKE,KACCX,EAAaJ,EAAoBnR,GAAjCuR,UASP,GARIA,GACFA,EAAU3H,MAAQsI,EAAgBtI,KAClC2H,EAAUlI,MAAQ6I,EAAgB7I,KACnCf,EAAKqJ,cAAcxL,EAAgBoL,GAGpCW,EAAkB,KAEdlS,EAAEqS,iBACL,YAfDH,EAAkBf,EAAoBnR,GAAGuR,UACzCe,WAAW,WACVJ,EAAkB,MAChB,KAgBJC,EAAcG,WAAW,WAExBH,EAAc,KACd,IAAMf,EAAchB,GAAuB9H,EAAMtI,GACjD,GAAKoR,EAAL,CAIA,IAAMS,EAAYC,GAAgBxJ,EAAM8I,EAAYR,EAAGQ,EAAYP,EAAG,IAClEgB,GAAa,GAAKL,EAAgBK,GAErCvJ,EAAK9C,GAAGuM,cAActC,MAAMoC,EAAW7R,GAGvCsI,EAAK9C,GAAGwM,aAAavC,MAAMzP,KAE1B,OASJgR,EAAQhO,GAAGiO,EAAS,cAAezQ,GACnCwQ,EAAQhO,GAAGiO,EAAS,YAAazQ,GACjCwQ,EAAQhO,GAAGiO,EAAS,WAAajR,YAC5BmS,IACHC,aAAaD,GACb7J,EAAK9C,GAAGwM,aAAaO,OAAOvS,GAC5BmS,EAAc,QAIhB,IAAIK,GAAc,EACdC,EAAiB,KACjBC,EAAgB,KACpB,SAASC,EAAiBtB,GACzB/I,EAAKqJ,cAAclL,EAAoB4K,GACvCoB,EAAiBpB,EAElB,SAASuB,IACR,IAAMC,EAAkBJ,EACxBA,EAAiB,KACbI,GACHvK,EAAKqJ,cAAcjL,GAClBkD,IAAKiJ,EAAgBjJ,IACrBP,IAAKwJ,EAAgBxJ,MAIxB,SAASyJ,EAAgBzB,GACxB/I,EAAKqJ,cAAchL,EAAmB0K,GACtCqB,EAAgBrB,EAEjB,SAAS0B,IACR,IAAMF,EAAkBH,EACxBA,EAAgB,KACZG,GACHvK,EAAKqJ,cAAc/K,GAClBgD,IAAKiJ,EAAgBjJ,IACrBP,IAAKwJ,EAAgBxJ,MAIxB,IAAM2J,EAAgB9B,EAAW+B,aACjCjC,EAAQhO,GAAGgQ,EAAe,YAAchT,YACvCwS,GAAc,IAEfxB,EAAQhO,GAAGgQ,EAAe,WAAahT,YACtCwS,GAAc,EACdO,MAGD/B,EAAQhO,GAAGiO,EAAS,aAAejR,YAClC4S,MAGD5B,EAAQhO,GAAGiO,EAAS,YAAcjR,YACjC,IAAMyR,EAAeN,EAAoBnR,GAClCoR,EAA0BK,EAA1BL,YAAaG,EAAaE,EAAbF,UACpB,GAAIA,EAAW,CACd,IAAMsB,EAAkBJ,EACxB,GAAII,EAEH,GADAvK,EAAKqJ,cAAcnL,EAAmB+K,GAClCsB,EAAgBjJ,MAAQ2H,EAAU3H,KAAOiJ,EAAgBxJ,MAAQkI,EAAUlI,IAAK,CACnF0J,IACAH,IACA,IAAMvB,GACLzH,IAAK2H,EAAU3H,IACfP,IAAKkI,EAAUlI,KAEhBsJ,EAAiBtB,GACbmB,GACHM,EAAgBzB,QAEPmB,IAAgBE,GAC1BI,GACClJ,IAAK2H,EAAU3H,IACfP,IAAKkI,EAAUlI,UAGX,CACN,IAAMgI,GACLzH,IAAK2H,EAAU3H,IACfP,IAAKkI,EAAUlI,KAEhBsJ,EAAiBtB,GACbmB,GACHM,EAAgBzB,GAEjB/I,EAAKqJ,cAAcnL,EAAmB+K,SAGvCwB,IACAH,IAED,IAAItK,EAAK9C,GAAGuM,cAAcmB,OAAOlT,KAAMsI,EAAK9C,GAAGwM,aAAakB,OAAOlT,GAAnE,CAvCuC,IA0ChCW,EAASsQ,EAATtQ,MACP,GAAKyQ,EAAL,CAMA,IAAMS,EAAYC,GAAgBxJ,EAAM8I,EAAYR,EAAGQ,EAAYP,GAC/DgB,GAAa,GAAKL,EAAgBK,GACrClR,EAAMwS,OAAS,aAEM,eAAjBxS,EAAMwS,SACTxS,EAAMwS,OAAS,QAVK,eAAjBxS,EAAMwS,SACTxS,EAAMwS,OAAS,OAalBnC,EAAQhO,GAAGiO,EAAS,QAAUjR,YAC7B,IAAIsI,EAAK9C,GAAGuM,cAAcqB,WAAWpT,KAAMsI,EAAK9C,GAAGwM,aAAaoB,WAAWpT,IAGtEsI,EAAK2J,aAAahM,GAAvB,CAJmC,IAO5BsL,EAAaJ,EAAoBnR,GAAjCuR,UACFA,GAGLjJ,EAAKqJ,cAAc1L,EAAesL,MAEnCP,EAAQhO,GAAGiO,EAAS,WAAajR,YAChC,GAAKsI,EAAK2J,aAAa/L,GAAvB,CADsC,IAI/BqL,EAAaJ,EAAoBnR,GAAjCuR,UACFA,GAGLjJ,EAAKqJ,cAAczL,EAAkBqL,MAEtCjJ,EAAK9C,GAAG6N,aAAaC,OAAO,UAAW,SAACjT,EAASL,GAChDsI,EAAKqJ,cAAcpL,EAAYlG,EAASL,KAEzCsI,EAAK9C,GAAGmG,UAAU2H,OAAOhN,EAAmB5K,YAC3C4M,EAAKqJ,cAAcrL,EAAkB5K,EAAMA,EAAK6X,YAGjDrC,EAAWsC,SAAUxT,aAxatB,SAAmBsI,EAAMtI,GACxB,IAAMyT,EAAWnL,EAAK9C,GAAGyE,OAAOP,KAC1BgK,EAAUpL,EAAK9C,GAAGyE,OAAOd,IACzBwK,EAAQrL,EAAK9C,GAAG0L,WAAW0C,WAAaH,EACxCI,EAAQvL,EAAK9C,GAAG0L,WAAW4C,UAAYJ,EAG7CpL,EAAK9C,GAAGyE,QACPP,KAAMpB,EAAK9C,GAAG0L,WAAW0C,WACzBzK,IAAKb,EAAK9C,GAAG0L,WAAW4C,WAEzB,IAAMjJ,EAAcoC,GAAgB3E,GACpC,GAAKlJ,KAAK2U,IAAIJ,IAAU9I,EAAYN,OAAWnL,KAAK2U,IAAIF,IAAUhJ,EAAYR,OAE7E2C,GAAgB1E,EAAMuC,OAChB,CAKN,GAHAvC,EAAK9C,GAAGqG,QAAQmI,UAAU1L,EAAK9C,GAAG8E,QAASqJ,GAAQE,GAGrC,IAAVF,EAAa,CAEhB,IAAMM,EAAapJ,EAAYqJ,OAC/B,GAAIP,EAAQ,GAEX,GADAM,EAAW1J,OAASoJ,EAChBrL,EAAK9C,GAAG2E,eAAiB,EAAG,CAE/B,IAAMgK,EAAa3J,GAAmBlC,GACtC2L,EAAW1J,OAAS4J,EAAW5J,YAEtBoJ,EAAQ,IAClBM,EAAWvK,KAAOuK,EAAWpK,MAAQ8J,GAItC3G,GAAgB1E,EAAM2L,GAElBN,EAAQ,GACPrL,EAAK9C,GAAG2E,eAAiB,GAE5B6C,GAAgB1E,EAAMkC,GAAmBlC,IAI5C,GAAc,IAAVuL,EAAa,CAEhB,IAAMI,EAAapJ,EAAYqJ,OAC/B,GAAIL,EAAQ,GAEX,GADAI,EAAW5J,QAAUwJ,EACjBvL,EAAK9C,GAAGwE,eAAiB,EAAG,CAE/B,IAAMmK,EAAa/J,GAAmB9B,GACtC2L,EAAW5J,QAAU8J,EAAW9J,aAEvBwJ,EAAQ,IAClBI,EAAW9K,IAAM8K,EAAWlL,OAAS8K,GAItC7G,GAAgB1E,EAAM2L,GAElBJ,EAAQ,GACPvL,EAAK9C,GAAGwE,eAAiB,GAE5BgD,GAAgB1E,EAAM8B,GAAmB9B,MAyW5C8L,CAAU9L,GACVA,EAAKqJ,cAAc5K,IAAYjH,MAAOE,MAEvCsI,EAAK9C,GAAG6N,aAAagB,cAAerU,aArWrC,SAAwBsI,EAAMtI,GAAG,IACzBoP,EAAYpP,EAAZoP,SACD/O,EAAUD,EAAWJ,GACrBgQ,EAAYZ,EAAW9G,EAAKqD,UAAU2I,OAAShM,EAAKqD,UAAU4I,KACpE,GAAIlU,IAAYsF,EAAU,CACzB,IAAMiE,EAAMtB,EAAKkM,gCAAgCxE,GACjD,GAAIpG,EAAM,EACT,OAEDuF,GAAe7G,EAAMsB,EAAKoG,EAAU3G,IAAK+F,GACzCpK,EAAYhF,QACN,GAAIK,IAAYuF,EAAQ,CAC9B,IAAMyD,EAAMf,EAAKmM,8BAA8BzE,GAC/C,GAAI3G,EAAM,EACT,OAED8F,GAAe7G,EAAM0H,EAAUpG,IAAKP,EAAK+F,GACzCpK,EAAYhF,QACN,GAAIK,IAAYwF,EAAW,CACjC,IAAM+D,EAAMtB,EAAKoM,iCAAiC1E,GAClD,GAAI1H,EAAKqB,UAAYC,EACpB,OAEDuF,GAAe7G,EAAMsB,EAAKoG,EAAU3G,IAAK+F,GACzCpK,EAAYhF,QACN,GAAIK,IAAYyF,EAAU,CAChC,IAAMuD,EAAMf,EAAKqM,gCAAgC3E,GACjD,GAAI1H,EAAKQ,UAAYO,EACpB,OAED8F,GAAe7G,EAAM0H,EAAUpG,IAAKP,EAAK+F,GACzCpK,EAAYhF,QACN,GAAIK,IAAYqF,EAEtByJ,GAAe7G,EAAM,EADTtI,EAAE4U,QAAU,EAAI5E,EAAU3G,IACTrJ,EAAEoP,UAC/BpK,EAAYhF,QACN,GAAIK,IAAYoF,EAAS,CAC/B,IAAM4D,EAAMrJ,EAAE4U,QAAUtM,EAAKQ,SAAW,EAAIkH,EAAU3G,IACtD8F,GAAe7G,EAAMA,EAAKqB,SAAW,EAAGN,EAAK+F,GAC7CpK,EAAYhF,IA+TZ6U,CAAevM,EAAMtI,KAEtBsI,EAAKgL,OAAO,WAAa9D,YAExB,IADA,IAAIsF,EAAY,GACNzL,EAAOmG,EAAMC,MAAbpG,IAAoBA,GAAOmG,EAAME,IAAIrG,IAAKA,IAAO,CAC1D,QAAUO,EAAO4F,EAAMC,MAAb7F,IAAoBA,GAAO4F,EAAME,IAAI9F,IAAKA,IAAO,CAC1D,IAAMmL,EAAgBzM,EAAK0M,iBAAiBpL,EAAKP,GACjD,GAAIpR,EAAOgd,SAAWF,aAAyB9c,EAAOgd,aAE/C,CACN,IAAMC,EAAY,GAAA/T,OAAM4T,GACpBG,EAAa7Y,MAAM,qBAGtByY,GAAaI,GAIXtL,EAAM4F,EAAME,IAAI9F,MACnBkL,GAAa,MAGfA,GAAa,KAEd,OAAOA,IAERxM,EAAK9C,GAAG6N,aAAa8B,OAAQnV,YAAD,OAAOhF,EAAMC,KAAKqN,EAAKqJ,cAAc,WAAYrJ,EAAK9C,GAAGmG,UAAU6D,OAAQ/T,KACvG6M,EAAK9C,GAAG6N,aAAa+B,QAAQ,SAAAC,GAAoB,IAAlBxb,EAAkBwb,EAAlBxb,MAAOiG,EAAWuV,EAAXvV,MAC/BwV,EAAiBzb,EAAM0b,QAAQ,SAAU,IADCC,EAE7BlN,EAAK9C,GAAGmG,UAAU4G,OAA9B3I,EAFyC4L,EAEzC5L,IAAKP,EAFoCmM,EAEpCnM,IACZf,EAAKqJ,cAAc7K,GAClB8C,MACAP,MACAxP,QACAyb,iBACAG,MAAO,uBAAuBC,KAAKJ,GACnCxV,YAGFwI,EAAK9C,GAAG6N,aAAasC,QAAS9b,YAAU,IAAA+b,EACpBtN,EAAK9C,GAAGmG,UAAU4G,OAA9B3I,EADgCgM,EAChChM,IAAKP,EAD2BuM,EAC3BvM,IACZf,EAAKqJ,cAAc9K,GAAgB+C,MAAKP,MAAKxP,YAE9CyO,EAAKuN,qBAGN,SAAS/D,GAAgBxJ,EAAMwN,EAAWC,GAAuB,IAAZ1G,EAAY1S,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,GAAH,EAC7D,GAAI2L,EAAK9C,GAAGwE,gBAAkB,EAC7B,OAAQ,EAGT,IADmBI,GAAmB9B,GACtB0N,QAAQF,EAAWC,GAClC,OAAQ,EAET,IAAM1E,EAAO/I,EAAKgJ,UAAUwE,EAAWC,GACjCE,EAAW3N,EAAK4N,YAAY7E,EAAKzH,IAAKyH,EAAKhI,KACjD,OAAIyM,EAAYG,EAASvM,KAAO2F,EACxBgC,EAAKzH,IAAM,EAEfqM,EAASpM,MAAQwF,EAASyG,EACtBzE,EAAKzH,KAEL,EAET,SAASqD,GAAgB3E,GAAM,IAAA6N,EAI1B7N,EAAK9C,GAJqB4Q,EAAAD,EAE7BlM,OAASP,EAFoB0M,EAEpB1M,KAAMP,EAFciN,EAEdjN,IAFckN,EAAAF,EAG7B7L,OAASC,EAHoB8L,EAGpB9L,MAAOF,EAHagM,EAGbhM,OAEjB,OAAO,IAAInF,EACTwE,EACAP,EACAoB,EACAF,GAwBH,SAASiM,GAAgBhO,EAAMiO,GAC9B,IAAMtL,EAAOsL,EAAarC,OACpBrJ,EAAcoC,GAAgB3E,GAIpC,OAHA2C,EAAKuL,YAAY3L,EAAYnB,MAC7BuB,EAAKwL,WAAW5L,EAAY1B,KAErB8B,EJz+B4B,IIq/B9ByL,GJr/B8B,WIs/BnCxU,WAAYoG,GAAMnG,EAAArB,KAAA4V,GACjB5V,KAAK6V,MAAQrO,EACbxH,KAAK8V,SAAW,IAAI3U,EACpBnB,KAAK+V,WACL/V,KAAKgW,UAAW,EAChBhW,KAAKiW,QAAS,EJ3/BoB,OAAA1U,EAAAqU,IAAAvc,IAAA,SAAAN,MAAA,SI6/B5BmG,GACN,QAASc,KAAKgW,YJ9/BoB3c,IAAA,aAAAN,MAAA,SIggCxBmG,GAEV,GAAIc,KAAKoS,OAAOlT,GACf,OAAO,EAER,IAAMgX,EAAOlW,KAAKmW,eAClB,IAAKD,EACJ,OAAO,EAER,IAAME,EAAK9G,GAAuBtP,KAAK6V,MAAO3W,GAC9C,OAAOkX,EAAGtG,IAAMoG,EAAKpG,GAAKsG,EAAGrG,IAAMmG,EAAKnG,KJ1gCN1W,IAAA,iBAAAN,MAAA,SI4gCpBmG,GAAG,IAAAmX,EAAArW,KACXsW,EAAStW,KAAK+V,QACd7F,EAAUlQ,KAAK8V,SAChBtW,EAAaN,IAIjBoX,EAAOC,UAAYrG,EAAQhO,GAAGsU,SAASC,KAAM,YAAcvX,YAAD,OAAOmX,EAAKK,WAAWxX,KAAKyX,SAAS,IAC/FL,EAAOM,SAAW1G,EAAQhO,GAAGsU,SAASC,KAAM,WAAavX,YAAD,OAAOmX,EAAKQ,SAAS3X,KAC7EoX,EAAOQ,YAAc5G,EAAQhO,GAAGsU,SAASC,KAAM,cAAgBvX,YAAD,OAAOmX,EAAKQ,SAAS3X,OALnFoX,EAAOS,UAAY7G,EAAQhO,GAAGsU,SAASC,KAAM,YAAcvX,YAAD,OAAOmX,EAAKK,WAAWxX,KACjFoX,EAAOU,QAAU9G,EAAQhO,GAAGsU,SAASC,KAAM,UAAYvX,YAAD,OAAOmX,EAAKQ,SAAS3X,MAM5Ec,KAAKgW,UAAW,EAChBhW,KAAKiW,QAAS,KJxhCoB5c,IAAA,aAAAN,MAAA,SI0hCxBmG,GACLM,EAAaN,IACU,IAAvBD,EAAgBC,IAKrBc,KAAKiW,OAASjW,KAAKiX,cAAc/X,IAAMc,KAAKiW,OAE5C/R,EAAYhF,IANVc,KAAK6W,SAAS3X,MJ7hCkB7F,IAAA,gBAAAN,MAAA,SIqiCrBmG,OJriCqB7F,IAAA,WAAAN,MAAA,SIwiC1BmG,GAAG,IAAAgY,EAAAlX,KACLsW,EAAStW,KAAK+V,QACd7F,EAAUlQ,KAAK8V,SACrB5F,EAAQ/N,IAAImU,EAAOS,WACnB7G,EAAQ/N,IAAImU,EAAOC,WACnBrG,EAAQ/N,IAAImU,EAAOU,SACnB9G,EAAQ/N,IAAImU,EAAOM,UAEnB1G,EAAQ/N,IAAImU,EAAOQ,aAEnB9W,KAAKgW,UAAW,EAEhBhW,KAAKmX,YAAYjY,GAGbc,KAAKiW,SACRjW,KAAKmW,eAAiB7G,GAAuBtP,KAAK6V,MAAO3W,GACzDsS,WAAW,WACV0F,EAAKf,eAAiB,MACpB,QJ3jC8B9c,IAAA,cAAAN,MAAA,SI8jCvBmG,OJ9jCuB7F,IAAA,UAAAN,MAAA,WIkkClCiH,KAAK8V,SAASsB,cJlkCoBxB,EAAA,GI0kC9ByB,GJ1kC8B,SAAAC,GAAA,SAAAD,IAAA,OAAAhW,EAAArB,KAAAqX,GAAAjU,EAAApD,KAAAqD,EAAAgU,GAAAja,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAuT,EI0kCTzB,IJ1kCSrU,EAAA8V,IAAAhe,IAAA,QAAAN,MAAA,SI2kC7BmG,GACL,IAAMqR,EAAOvQ,KAAKuX,eAAerY,GAC5BqR,IAGLlC,GAAerO,KAAK6V,MAAOtF,EAAKzH,IAAKyH,EAAKhI,IAAKrJ,EAAEoP,UAEjDtO,KAAKwX,eAAetY,GAEpBc,KAAKyX,MAAQlH,EAEbrM,EAAYhF,GACZmI,GAASnI,OJvlCyB7F,IAAA,SAAAN,MAAA,SIylC5BmG,GACN,IAAMqR,EAAOvQ,KAAKuX,eAAerY,GAC5BqR,IAGLlC,GAAerO,KAAK6V,MAAOtF,EAAKzH,IAAKyH,EAAKhI,IAAKrJ,EAAEoP,UACjDtO,KAAKyX,MAAQlH,MJ/lCqBlX,IAAA,gBAAAN,MAAA,SIimCrBmG,GACb,IAAMqR,EAAOvQ,KAAKuX,eAAerY,GACjC,IAAKqR,EACJ,OAAO,EAHQ,IAAAmH,EAKmB1X,KAAKyX,MAA5BE,EALID,EAKT5O,IAAkB8O,EALTF,EAKInP,IACRsP,EAAuBtH,EAA5BzH,IAAkBgP,EAAUvH,EAAfhI,IACpB,GAAIoP,IAAWE,GAAUD,IAAWE,EACnC,OAAO,EAER,IAAMtQ,EAAOxH,KAAK6V,MAClBxH,GAAe7G,EAAMqQ,EAAQC,GAAQ,GAGrC,IAAMC,EACDF,EAASF,GAAU,EAAIE,EAEnBA,EAAS,EACNF,EAASE,GAAUA,EAAS,EAAIrQ,EAAKqB,SAExCgP,EAAS,EAEVA,EAEFG,EACDF,EAASF,GAAU,EAAIE,EAEnBA,EAAS,EACNF,EAASE,GAAUA,EAAS,EAAItQ,EAAKQ,SAExC8P,EAAS,EAEVA,EAMR,OAJIC,IAAmBF,GAAUG,IAAmBF,GACnDtQ,EAAKyH,gBAAgB8I,EAAgBC,GAEtChY,KAAKyX,MAAQlH,GACN,KJvoC2BlX,IAAA,iBAAAN,MAAA,SIyoCpBmG,GACd,IAAMsI,EAAOxH,KAAK6V,MACZvF,EAAchB,GAAuB9H,EAAMtI,GACjD,IAAKoR,EACJ,OAAO,KAER,IAAMC,EAAO/I,EAAKgJ,UAAUF,EAAYR,EAAGQ,EAAYP,GACvD,OAAIQ,EAAKzH,IAAM,GAAKyH,EAAKhI,IAAM,EACvB,KAEDgI,MJnpC2B8G,EAAA,GI0pC9BY,GJ1pC8B,SAAAC,GI2pCnC9W,WAAYoG,GAAM,IAAA2Q,EAAA,OAAA9W,EAAArB,KAAAiY,IACjBE,EAAA/U,EAAApD,KAAAqD,EAAA4U,GAAAhgB,KAAA+H,KAAMwH,KACD4Q,YAAc,EAFFD,EJ3pCiB,OAAArU,EAAAmU,EI0pCRrC,IJ1pCQrU,EAAA0W,IAAA5e,IAAA,QAAAN,MAAA,SI+pC7B+P,EAAK5J,GACV,IAAIsQ,EAIDA,EAHEhQ,EAAaN,GAGNA,EAAEO,eAAe,GAA1B+P,MAFStQ,EAATsQ,MAKHxP,KAAKqY,GAAK7I,EACVxP,KAAKsY,MAAQ,EAEbtY,KAAKwX,eAAetY,GAEpBc,KAAKoY,WAAatP,EAClB9I,KAAKuY,wBAA0BjM,GAActM,KAAK6V,MAAO,EAAG/M,EAAM,GAElE5E,EAAYhF,GACZmI,GAASnI,MJhrCyB7F,IAAA,gBAAAN,MAAA,SIkrCrBmG,GACb,IAEM4Q,GAFQtQ,EAAaN,GAAKA,EAAEO,eAAe,GAAG+P,MAAQtQ,EAAEsQ,OAE5CxP,KAAKqY,GACjBxF,EAAQ/C,EAAI9P,KAAKsY,MACvBtY,KAAKsY,MAAQxI,EACb,IAAM0I,EAAMxY,KAAK6V,MAAM4C,YAAYzY,KAAKoY,YACpCM,EAAYxL,GAAgBlN,KAAK6V,MAAO7V,KAAKoY,WAAYI,EAAM3F,GAC/D6F,EAAY,IAAM7F,EAAQ,IAC7B6F,EAAY,IAEbnL,GAAavN,KAAK6V,MAAO7V,KAAKoY,WAAYM,GAE1C,IAAMvO,EAAOgC,GAAgBnM,KAAK6V,OAMlC,OALA1L,EAAKvB,KAAO5I,KAAKuY,wBACjBrM,GAAgBlM,KAAK6V,MAAO1L,GAE5BnK,KAAK6V,MAAMhF,cAprCY,iBAorCqB/H,IAAK9I,KAAKoY,cAE/C,KJrsC2B/e,IAAA,cAAAN,MAAA,SIusCvBmG,GACX,IAAMsI,EAAOxH,KAAK6V,MACdrO,EAAKmR,gBACRnR,EAAKoR,iBJ1sC4BX,EAAA,GI+sCpC,SAASY,GAAkBC,EAAO/f,GAAO,IACjCyI,EAAQsX,EAARtX,KACPsX,EAAMtX,KAAO,GACbsX,EAAM/f,MAAQA,EACVyI,IACHsX,EAAMtX,KAAOA,GJptCqB,II4tC9BuX,GJ5tC8B,SAAAC,GI6tCnC5X,WAAYoG,EAAMzK,EAAeqT,GAAY,IAAA6I,EAAA5X,EAAArB,KAAA+Y,IAC5CE,EAAA7V,EAAApD,KAAAqD,EAAA0V,GAAA9gB,KAAA+H,QACK6V,MAAQrO,EACbyR,EAAKC,YAAc9I,EACnB,IAgBI+I,EAhBEjJ,EAAU+I,EAAKnD,SAAW,IAAI3U,EAC9B2X,EAAQG,EAAKG,OAAS5C,SAAS6C,cAAc,SACnDP,EAAMQ,UAAUC,IAAI,sBACpBT,EAAMU,UAAW,EACjBzc,EAAc0c,YAAYX,GAE1B5I,EAAQhO,GAAG4W,EAAO,mBAAqB5Z,YACtC4Z,EAAMQ,UAAUC,IAAI,eACpBT,EAAMjZ,MAAM4D,KAAO+D,EAAK/D,MAAQ,kBAChCwV,EAAKS,gBAAiB,EAClBT,EAAKU,kBACRrI,aAAa2H,EAAKU,wBACXV,EAAKU,iBAEbnS,EAAKoS,UAGN,IAAMC,EAAa,WAClBV,EAAiBL,EAAM/f,MACnBkgB,EAAKS,gBAGTb,GAAkBC,EAAO,KAGpBgB,EAAuB,WAC5Bb,EAAKS,gBAAiB,EACtBZ,EAAMQ,UAAUS,OAAO,eACvBjB,EAAMjZ,MAAM4D,KAAO,GAHe,IAI3B1K,EAAS+f,EAAT/f,MAEP8gB,IAEKf,EAAMU,UACVP,EAAKpI,cAAc,QAAS9X,GAGzBkgB,EAAKU,kBACRrI,aAAa2H,EAAKU,wBACXV,EAAKU,kBA3C8B,OA8C5CzJ,EAAQhO,GAAG4W,EAAO,iBAAmB5Z,YACpC+Z,EAAKU,gBAAkBnI,WAAWsI,KAEnC5J,EAAQhO,GAAG4W,EAAO,WAAa5Z,YAC1B+Z,EAAKS,kBAGJZ,EAAMU,UAAYta,EAAE7F,KAAwB,IAAjB6F,EAAE7F,IAAIqB,SACvB,MAAVwE,EAAE7F,MAAgB6F,EAAE4U,SAAW5U,EAAE8a,UAEhB,MAAV9a,EAAE7F,MAAgB6F,EAAE4U,SAAW5U,EAAE8a,WAG3Cf,EAAKpI,cAAc,QAAS3R,EAAE7F,KAC9B6K,EAAYhF,KAGd2a,OAED3J,EAAQhO,GAAG4W,EAAO,UAAY5Z,YAC7B,GAAI+Z,EAAKS,eACJT,EAAKU,kBACRG,IACA5V,EAAYhF,QAHd,CAOA,IAAMK,EAAUD,EAAWJ,GAC3B+Z,EAAKpI,cAAc,UAAWtR,EAASL,IAElC4Z,EAAMU,UAAYL,GAEtBF,EAAKpI,cAAc,QAASsI,GAG7BU,OAED3J,EAAQhO,GAAG4W,EAAO,QAAU5Z,YACvB+Z,EAAKS,gBACJT,EAAKU,iBACRG,IAGFD,MAGD3J,EAAQhO,GAAG4W,EAAO,QAAU5Z,YAC3B2a,MAEG7d,EAAQlB,IACXoV,EAAQhO,GAAGsU,SAAU,UAAYtX,YAChC,GAAIA,EAAEpC,SAAWgc,EAAjB,CAGA,IAAMvZ,EAAUD,EAAWJ,GACvBK,IAAY0F,GAAe/F,EAAE4U,SAEhC+E,GAAkBC,EAAO,SACzBA,EAAMrH,SACND,WAAW,WACVqH,GAAkBC,EAAO,KACvB,MACOvZ,IAAY2F,GAAehG,EAAE4U,SAEnCgF,EAAMU,WACTV,EAAMU,UAAW,EACjBhI,WAAW,WACVsH,EAAMU,UAAW,EACjBX,GAAkBC,EAAO,KACvB,QAKH9c,EAAQjB,MACXmV,EAAQ+J,KAAKzD,SAAU,UAAYtX,YAClC,GAAKrC,EAAoBE,EAAemC,EAAEpC,QAA1C,CAIA,IAAMod,EAAa1D,SAAS6C,cAAc,SAC1C7R,EAAK2K,aAAasH,YAAYS,GAC9BA,EAAWN,QACXd,EAAMc,QACNM,EAAWnd,cAAcod,YAAYD,MAGvChK,EAAQhO,GAAGsU,SAAU,QAAUtX,YAC9B,GAAKrC,EAAoBE,EAAemC,EAAEpC,QAA1C,CAGA,IAAIsd,OAAY3f,EAChB,GAAIuB,EAAQlB,GAEXsf,EAAYjjB,EAAOkjB,cAAcC,QAAQ,YACnC,KACCD,EAAiBnb,EAAjBmb,cACHA,EAAcE,MAEjBH,EAAYC,EAAcC,QAAQ,eAG7B,IAAMlgB,MAAMV,UAAU8B,QAAQvD,KAAKoiB,EAAcG,MAAO,gBAC5DJ,EAAYC,EAAcC,QAAQ,SAIjC3f,EAAMyf,IAAcA,EAAU1f,QACjCue,EAAKpI,cAAc,SAAU9X,MAAOqhB,EAAWpb,MAAOE,OAGxDgR,EAAQhO,GAAGsU,SAAU,OAAStX,YAC7B,IAAI+Z,EAAKS,gBAGJ7c,EAAoBE,EAAemC,EAAEpC,QAA1C,CAGA+b,GAAkBC,EAAO,IACzB,IAAMle,EAAOV,EAAMC,KAAK8e,EAAKpI,cAAc,QAASlW,GAChDA,EAAMC,KACTsJ,EAAYhF,GACRlD,EAAQlB,GACX3D,EAAOkjB,cAAcI,QAAQ,OAAQ7f,GAErCsE,EAAEmb,cAAcI,QAAQ,aAAc7f,OA3KGqe,EJ7tCV,OAAAnV,EAAAiV,EI4tCT5U,GJ5tCS5C,EAAAwX,IAAA1f,IAAA,gBAAAN,MAAA,SI64CrB6C,GAAI,IAAA8e,EAAA1a,KACjBA,KAAK8V,SAAS5T,GAAGlC,KAAKoZ,OAAQ,UAAYla,YACzC,IAAIwb,EAAKhB,eAAT,CAGA,IAAMna,EAAUD,EAAWJ,GACvBK,IAAYsF,GACdtF,IAAYuF,GACZvF,IAAYwF,GACZxF,IAAYyF,GACZzF,IAAYqF,GACZrF,IAAYoF,GAEb/I,EAAGsD,SJ15C6B7F,IAAA,UAAAN,MAAA,SI85C3B6C,GACP,OAAOoE,KAAKwS,OAAO,QAAS5W,MJ/5CMvC,IAAA,SAAAN,MAAA,SIi6C5B6C,GACN,OAAOoE,KAAKwS,OAAO,OAAQ5W,MJl6COvC,IAAA,UAAAN,MAAA,SIo6C3B6C,GACP,OAAOoE,KAAKwS,OAAO,QAAS5W,MJr6CMvC,IAAA,QAAAN,MAAA,WIy6ClCiH,KAAKoZ,OAAOQ,WJz6CsBvgB,IAAA,eAAAN,MAAA,SI26CtBoR,GACZ,IAAM2O,EAAQ9Y,KAAKoZ,OACb/Q,EAAMrI,KAAKkZ,YAAYyB,QAAQxQ,EAAK9B,KAC1CyQ,EAAMjZ,MAAMwI,IAAZyQ,WAAsBzQ,EAAMxI,EAAM+a,oBAAoBC,UAAtD/B,MACAA,EAAMjZ,MAAM+I,KAAZkQ,UAAsB3O,EAAKvB,KAAKiS,UAAhC/B,MACAA,EAAMjZ,MAAM4J,MAAZqP,UAAuB3O,EAAKV,MAAMoR,UAAlC/B,MACAA,EAAMjZ,MAAM0J,OAAZuP,UAAwB3O,EAAKZ,OAAOsR,UAApC/B,SJj7CkCzf,IAAA,mBAAAN,MAAA,WI47ClC,IALA,IAAM+hB,EAAK9a,KAAKoZ,OACV2B,EAAcD,EAAGxB,UAAU0B,SAAS,eAEpCC,EAAOH,EAAGI,WACVC,KACGpjB,EAAI,EAAGwB,EAAI0hB,EAAKvgB,OAAQ3C,EAAIwB,EAAGxB,IAAK,CAC5C,IAAMqjB,EAAMH,EAAKljB,GACZiI,KAAKqb,aAAa1hB,eAAeyhB,EAAIE,WACzCH,EAAY5Y,KAAK6Y,EAAI/iB,MAMvB,IAAK,IAAMA,KAHX8iB,EAAY5e,QAASgf,YACpBT,EAAGU,gBAAgBD,KAEDvb,KAAKqb,aACvBP,EAAGW,aAAapjB,EAAM2H,KAAKqb,aAAahjB,IAErC0iB,GACHD,EAAGxB,UAAUC,IAAI,eACjBuB,EAAGjb,MAAM4D,KAAOzD,KAAK6V,MAAMpS,MAAQ,mBAEnCqX,EAAGxB,UAAUS,OAAO,kBJ58Ca1gB,IAAA,mBAAAN,MAAA,WIm9ClC,IAHA,IAAM+hB,EAAK9a,KAAKoZ,OACVsC,EAAc1b,KAAKqb,gBACnBJ,EAAOH,EAAGI,WACPnjB,EAAI,EAAGwB,EAAI0hB,EAAKvgB,OAAQ3C,EAAIwB,EAAGxB,IAAK,CAC5C,IAAMqjB,EAAMH,EAAKljB,GACjB2jB,EAAYN,EAAI/iB,MAAQ+iB,EAAIriB,UJr9CKM,IAAA,wBAAAN,MAAA,eAAAM,IAAA,UAAAN,MAAA,WIm+ClC4iB,EAAAtY,EAAA0V,EAAArf,WAAA,UAAAsG,MAAA/H,KAAA+H,MACAA,KAAK8V,SAASsB,aJp+CoB/d,IAAA,WAAAqD,IAAA,SIm7CtBkf,GACZ5b,KAAKoZ,OAAOI,UAAYoC,GJp7CUjjB,IAAA,WI69ClC,OAAQqH,KAAKoZ,OAAOI,YJ79CcngB,IAAA,QAAAV,IAAA,WIg+ClC,OAAOqH,KAAKoZ,WJh+CsBL,EAAA,GI2+C9B8C,GJ3+C8B,SAAAC,GI4+CnC1a,WAAYoG,GAAM,IAAAuU,EAAA,OAAA1a,EAAArB,KAAA6b,IACjBE,EAAA3Y,EAAApD,KAAAqD,EAAAwY,GAAA5jB,KAAA+H,QACK6V,MAAQrO,EAEbuU,EAAKtI,MAAQ3K,IAAK,EAAGP,IAAK,GAC1BwT,EAAKvI,QAAU1K,IAAK,EAAGP,IAAK,GAE5BwT,EAAKC,QAAUlT,IAAK,EAAGP,IAAK,GAC5BwT,EAAKE,MAAQnT,IAAK,EAAGP,IAAK,GARTwT,EJ5+CiB,OAAAjY,EAAA+X,EI2+CZ1X,GJ3+CY5C,EAAAsa,IAAAxiB,IAAA,iBAAAN,MAAA,SI8hDpB+P,EAAKP,GAAK,IAAA2T,EAAAlc,KACxBA,KAAKmc,uBAAuB,WAC3BD,EAAKzI,MAAQ3K,MAAKP,OAClB2T,EAAKF,QAAUlT,MAAKP,YJjiDalP,IAAA,gBAAAN,MAAA,SIoiDrB+P,EAAKP,EAAK6T,GAAY,IAAAC,EAAArc,KACnCA,KAAKmc,uBAAuB,WACtBC,GACJC,EAAKC,eAAexT,EAAKP,GAE1B8T,EAAK7I,QAAU1K,MAAKP,OACpB8T,EAAKJ,MAAQnT,MAAKP,YJ1iDelP,IAAA,yBAAAN,MAAA,SI6iDZ4E,GACtB,GAAIqC,KAAKuc,UACR5e,QACM,CACNqC,KAAKuc,WAAY,EACjB,IACC,IAAMC,GACL1T,IAAK9I,KAAKyT,KAAK3K,IACfP,IAAKvI,KAAKyT,KAAKlL,IACfkK,UAAU,GAEX9U,IACA,IAAM8e,GACL3T,IAAK9I,KAAKyT,KAAK3K,IACfP,IAAKvI,KAAKyT,KAAKlL,IACfkK,UAAU,EACV+J,QACC1T,IAAK0T,EAAO1T,IACZP,IAAKiU,EAAOjU,MAGdiU,EAAOC,OACN3T,IAAK2T,EAAM3T,IACXP,IAAKkU,EAAMlU,KAEZvI,KAAK6Q,cAAcrL,EAAkBgX,GACrCxc,KAAK6Q,cAAcrL,EAAkBiX,GArBtC,QAuBCzc,KAAKuc,WAAY,OJzkDeljB,IAAA,mBAAAN,MAAA,WIilDlC,IAJkB,IAAA2jB,EACW1c,KAAK6V,MAA3B7N,EADW0U,EACX1U,SAAUa,EADC6T,EACD7T,SACX8T,GAAU3c,KAAKyT,KAAMzT,KAAKwT,OAAQxT,KAAKgc,OAAQhc,KAAKic,MACtDW,GAAa,EACR7kB,EAAI,EAAGA,EAAI4kB,EAAOjiB,OAAQ3C,IAClC,GAAI8Q,GAAY8T,EAAO5kB,GAAG+Q,KAAOd,GAAY2U,EAAO5kB,GAAGwQ,IAAK,CAC3DqU,GAAa,EACb,MAGF,QAAKA,IAGL5c,KAAKmc,uBAAuB,WAC3BQ,EAAOpgB,QAAS3C,YACfA,EAAEkP,IAAMxK,KAAKuJ,IAAIgB,EAAW,EAAGjP,EAAEkP,KACjClP,EAAE2O,IAAMjK,KAAKuJ,IAAIG,EAAW,EAAGpO,EAAE2O,UAG5B,MJhmD2BlP,IAAA,QAAAV,IAAA,WIu/ClC,IAAMgW,EAAQ3O,KAAKgc,OACbpN,EAAM5O,KAAKic,KACXxO,EAAWnP,KAAKuJ,IAAI8G,EAAM7F,IAAK8F,EAAI9F,KACnCX,EAAW7J,KAAKuJ,IAAI8G,EAAMpG,IAAKqG,EAAIrG,KACnCmF,EAASpP,KAAKgM,IAAIqE,EAAM7F,IAAK8F,EAAI9F,KACjCgF,EAASxP,KAAKgM,IAAIqE,EAAMpG,IAAKqG,EAAIrG,KACvC,OACCoG,OACC7F,IAAK2E,EACLlF,IAAKJ,GAENyG,KACC9F,IAAK4E,EACLnF,IAAKuF,GAEN+O,OATM,SASC/T,EAAKP,GACX,OAAOkF,GAAY3E,GAAOA,GAAO4E,GAC/BvF,GAAYI,GAAOA,GAAOuF,OJxgDIzU,IAAA,QAAAV,IAAA,WI4gDvB,IAAAmkB,EACQ9c,KAAKwT,OACxB,OAAQ1K,IAFGgU,EACJhU,IACMP,IAFFuU,EACCvU,QJ7gDsBlP,IAAA,SAAAV,IAAA,WIghDtB,IAAAokB,EACO/c,KAAKyT,KACxB,OAAQ3K,IAFIiU,EACLjU,IACMP,IAFDwU,EACAxU,MJjhDsB7L,IAAA,WIohDb,IAAAsgB,EAAAhd,KAAXuQ,EAAW1U,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MACrBmE,KAAKmc,uBAAuB,WAAM,IAAAc,EAI7B1M,EAFHzH,WAFgC,IAAAmU,EAE1B,EAF0BA,EAAAC,EAI7B3M,EADHhI,WAHgC,IAAA2U,EAG1B,EAH0BA,EAKjCF,EAAKV,eAAexT,EAAKP,GACzByU,EAAKhO,cAAclG,EAAKP,GAAK,SJ3hDIsT,EAAA,GIumD9BpP,GJvmD8B,WIwmDnCrL,aAAcC,EAAArB,KAAAyM,GACbzM,KAAKmd,WJzmD6B,OAAA5b,EAAAkL,IAAApT,IAAA,UAAAN,MAAA,SI2mD3BqkB,EAAOxhB,IACJoE,KAAKmd,QAAQC,KAAWpd,KAAKmd,QAAQC,GAAS,IAAIC,GAAUD,KACpEE,QAAQ1hB,MJ7mDwBvC,IAAA,OAAAN,MAAA,SI+mD9B6Q,GACJ,IAAMxH,KACN,IAAK,IAAM1E,KAAKsC,KAAKmd,QACpB/a,EAAKG,KAAKvC,KAAKmd,QAAQzf,IAExB0E,EAAKmb,KAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEJ,MAAQK,EAAEL,QAChChb,EAAK7F,QAASvE,YAAD,OAAOA,EAAE2U,KAAK/C,SJrnDO6C,EAAA,GIwnD9B4Q,GJxnD8B,WIynDnCjc,WAAYgc,GAAO/b,EAAArB,KAAAqd,GAClBrd,KAAK0d,OAASN,EACdpd,KAAK2d,SJ3nD6B,OAAApc,EAAA8b,IAAAhkB,IAAA,UAAAN,MAAA,SIgoD3B6C,GACPoE,KAAK2d,MAAMpb,KAAK3G,MJjoDkBvC,IAAA,OAAAN,MAAA,SImoD9B6Q,GACJ5J,KAAK2d,MAAMphB,QAASX,YACnBgO,EAAIW,OACJ,IACC3O,EAAGgO,GADJ,QAGCA,EAAI0B,gBJzoD4BjS,IAAA,QAAAV,IAAA,WI8nDlC,OAAOqH,KAAK0d,WJ9nDsBL,EAAA,GIipD9BzS,GJjpD8B,WI8pDnCxJ,WAAY0H,EAAKP,EAAKqB,EAAKO,EAAMC,EAAUwT,EAAS/S,EAAWX,GAAY7I,EAAArB,KAAA4K,GAC1E5K,KAAK6d,KAAO/U,EACZ9I,KAAK8d,KAAOvV,EACZvI,KAAK+d,MAAQ,EACb/d,KAAKge,KAAOpU,EACZ5J,KAAKie,MAAQ9T,EACbnK,KAAKke,UAAY9T,EACjBpK,KAAKme,SAAWP,EAChB5d,KAAKoe,WAAavT,EAClB7K,KAAKqe,YAAcnU,EACnBlK,KAAKse,kBJxqD6B,OAAA/c,EAAAqJ,IAAAvR,IAAA,SAAAN,MAAA,WIwrDlCiH,KAAKue,SAAU,EACfve,KAAKse,eAAe/hB,QAASqN,YAAUA,EAAIlK,cJzrDTrG,IAAA,iBAAAN,MAAA,WIgsDlC,IAAMylB,EAAMxe,KAAKoe,WAAW3M,OAC5B,OACCgB,SAAU+L,EAAI1V,MAAQ9I,KAAK6d,MAAQW,EAAIjW,MAAQvI,KAAK8d,KACpDjT,UAAW7K,KAAKoe,WAAW1P,MAAMmO,OAAO7c,KAAK6d,KAAM7d,KAAK8d,UJnsDvBzkB,IAAA,aAAAN,MAAA,WI2sDlC,OAAmB,IAAfiH,KAAK+d,MACD/d,KAAKge,KAELhe,KAAK6V,MAAMzJ,qBJ9sDe/S,IAAA,UAAAN,MAAA,WIstDlC,OAAmB,IAAfiH,KAAK+d,MACD/d,KAAKie,MAERje,KAAKie,MACDje,KAAKie,MAENje,KAAK6V,MAAM4I,oBAAoBze,KAAK6d,KAAM7d,KAAK8d,SJ5tDrBzkB,IAAA,UAAAN,MAAA,SI+tD3BoR,GACPnK,KAAKie,MAAQ9T,KJhuDqB9Q,IAAA,cAAAN,MAAA,WIuuDlC,GAAIiH,KAAKue,QACR,OAAO,KAER,GAAmB,IAAfve,KAAK+d,MACR,OAAO/d,KAAKke,UAEZ,GAAIle,KAAK0e,gBACR,OAAO,KAGR,IAAMjJ,EAAezV,KAAK6V,MAAMT,YAAYpV,KAAK6d,KAAM7d,KAAK8d,MAC5D,OAAO9d,KAAK2e,oBAAoBlJ,MJlvDCpc,IAAA,gBAAAN,MAAA,WIqvDnB,IAAA6lB,EACc5e,KAAK6V,MAA3BhN,EADQ+V,EACR/V,SAAUb,EADF4W,EACE5W,SACjB,OAAOa,GAAY7I,KAAK6d,MAAQ7V,GAAYhI,KAAK8d,QJvvDfzkB,IAAA,mBAAAN,MAAA,WI8vDlC,GAAmB,IAAfiH,KAAK+d,MACR,OAAO/d,KAEP,IAAMyV,EAAezV,KAAK6V,MAAMT,YAAYpV,KAAK6d,KAAM7d,KAAK8d,MACtD3T,EAAOqL,GAAgBxV,KAAK6V,MAAOJ,GACnCrL,EAAWpK,KAAK0e,gBAAkB,KAAO1e,KAAK2e,oBAAoBlJ,GAClE1K,EAAU,IAAIH,EAClB5K,KAAK6d,KAAM7d,KAAK8d,KAAM9d,KAAK6e,aAAc1U,EAAMC,EAAUpK,KAAK4d,QAAS5d,KAAKoe,WAC5Epe,KAAKqe,aAQP,OALAtT,EAAQ+T,iBAAmB9e,KAAK8e,iBAAiBxlB,KAAK0G,MACtDA,KAAKse,eAAe/b,KAAKwI,GACrB/K,KAAKue,SACRxT,EAAQrL,SAEFqL,KJ9wD0B1R,IAAA,eAAAN,MAAA,SIixDtBqkB,EAAOxhB,GACnBoE,KAAKqe,YAAYf,QAAQF,EAAOxhB,MJlxDEvC,IAAA,sBAAAN,MAAA,SIoxDf0c,GACnB,IAAM1L,EAAcoC,GAAgBnM,KAAK6V,OACrC1L,EAAOsL,EAAarC,OACxB,IAAKjJ,EAAKkF,aAAatF,GACtB,OAAO,KAGR,IAAMgV,EAAe/e,KAAK6V,MAAMkJ,aAAa/e,KAAK6d,KAAM7d,KAAK8d,MAC7D,GAAI9d,KAAK6V,MAAMxM,gBAAkB,KAAO0V,IAAiBA,EAAajW,KAAM,CAC3E,IAAMkW,EAAQhf,KAAK6V,MAAMT,YAAYpV,KAAK6V,MAAMxM,eAAiB,EAAGrJ,KAAK8d,MACzE3T,EAAO/F,EAAKiG,OACV/L,KAAKgM,IAAIH,EAAKvB,KAAMoW,EAAMjW,OAC1BoB,EAAK9B,IACL8B,EAAKpB,MACLoB,EAAKlC,QAGR,GAAIjI,KAAK6V,MAAM3M,gBAAkB,KAAO6V,IAAiBA,EAAaxW,KAAM,CAC3E,IAAMyW,EAAQhf,KAAK6V,MAAMT,YAAYpV,KAAK6d,KAAM7d,KAAK6V,MAAM3M,eAAiB,GAC5EiB,EAAO/F,EAAKiG,OACVF,EAAKvB,KACLtK,KAAKgM,IAAIH,EAAK9B,IAAK2W,EAAM/W,QACzBkC,EAAKpB,MACLoB,EAAKlC,QAKR,OAAKkC,EAAKkF,aAAatF,IAGvBI,EAAKuL,YAAY3L,EAAYnB,MAC7BuB,EAAKwL,WAAW5L,EAAY1B,KAErB8B,GALC,QJjzD0B9Q,IAAA,aAAAN,MAAA,SIwzDxByO,EAAMyX,GAChBjf,KAAK+d,MAAQ,EACb/d,KAAKge,KAAO,KACZhe,KAAKie,MAAQ,KACbje,KAAKke,UAAY,KACjBle,KAAK6V,MAAQrO,EACbxH,KAAKkf,aAAeD,KJ9zDc5lB,IAAA,YAAAN,MAAA,WIq0Df,IAAfiH,KAAK+d,OACR/d,KAAKkf,kBJt0D4B7lB,IAAA,UAAAV,IAAA,WI2qDlC,OAAmB,IAAfqH,KAAK+d,OACD/d,KAAKme,YJ5qDqB9kB,IAAA,MAAAV,IAAA,WIkrDlC,OAAOqH,KAAK8d,QJlrDsBzkB,IAAA,MAAAV,IAAA,WIqrDlC,OAAOqH,KAAK6d,SJrrDsBjT,EAAA,GIg1D9BuU,GJh1D8B,SAAAC,GIy2DnChe,aAWU,IAAAie,EAAAC,EAAAzjB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAA0jB,EAAAD,EATPtX,gBASO,IAAAuX,EATI,GASJA,EAAAC,EAAAF,EARPzW,gBAQO,IAAA2W,EARI,GAQJA,EAAAC,EAAAH,EAPPjW,sBAOO,IAAAoW,EAPU,EAOVA,EAAAC,EAAAJ,EANPpW,sBAMO,IAAAwW,EANU,EAMVA,EAAAC,EAAAL,EALPvX,wBAKO,IAAA4X,EALY,GAKZA,EAAAC,EAAAN,EAJPrS,uBAIO,IAAA2S,EAJW,GAIXA,EAHPnc,EAGO6b,EAHP7b,KACAsI,EAEOuT,EAFPvT,wBACAhP,EACOuiB,EADPviB,cACOsE,EAAArB,KAAAmf,GAET,IAAMU,GADNR,EAAAjc,EAAApD,KAAAqD,EAAA8b,GAAAlnB,KAAA+H,QAC4B0E,MAFnB,OAGT7E,EAAMigB,eACND,EAAe1P,QAx4DjB,WACC,IAAMA,EAAUqG,SAAS6C,cAAc,OAEvC,OADAlJ,EAAQmJ,UAAUC,IAAI,gBACfpJ,EAq4DmB4P,GACzBF,EAAezP,WAAa,IAAI/L,EAChCwb,EAAe3P,QAAU,IAAI/O,EAC7B0e,EAAehV,UAAY,IAAIgR,GAAJmE,IAAAX,KAC3BQ,EAAetN,aAAe,IAAIwG,GAAJiH,IAAAX,IACtBQ,EAAezP,WAAW+B,aAChC0N,EAAezP,YAGjByP,EAAerW,OAAS/E,EAAMwb,UAAUzJ,SAAS6C,cAAc,WAC/DwG,EAAe9U,QAAU8U,EAAerW,OAAOqV,WAAW,MAAOqB,OAAO,IAExEL,EAAe7X,SAAWA,EAC1B6X,EAAehX,SAAWA,EAC1BgX,EAAexW,eAAiBA,EAChCwW,EAAe3W,eAAiBA,EAEhC2W,EAAe9X,iBAAmBA,EAClC8X,EAAe5S,gBAAkBA,EAEjC4S,EAAepc,KAAOA,EACtBoc,EAAe9T,wBAA0BA,EAGzC8T,EAAehS,cAAgB,IAAIvJ,EACnCub,EAAevS,aAAe,IAAIhJ,EAClCub,EAAexS,kBACfwS,EAAe9S,kBACdrI,EAAGmb,EACHM,WACC,OAAOngB,KAAK0E,EAAE8E,OAAOC,OAEtB2W,SACC,OAAO5b,EAAYxE,KAAK0E,EAAEqG,QAAS/K,KAAK0E,EAAEjB,MAAMgG,QAIlDoW,EAAe5O,cAAgB,IAAIgH,GAAJ+H,IAAAX,KAC/BQ,EAAe3O,aAAe,IAAImG,GAAJ2I,IAAAX,KAE9BQ,EAAepV,aACfoV,EAAeQ,qBAEfR,EAAe1P,QAAQsJ,YAAYoG,EAAerW,QAClDqW,EAAe1P,QAAQsJ,YAAYoG,EAAezP,WAAW+B,cAC7DkN,EAAK1G,eACD5b,GACHA,EAAc0c,YAAYoG,EAAe1P,SACzCkP,EAAKiB,cAELjB,EAAKiB,aAENtQ,GAAWgQ,IAAAX,KAxDFA,EJp3DyB,OAAAvb,EAAAqb,EIg1Dbhb,GJh1Da5C,EAAA4d,EAAA,OAAA9lB,IAAA,aAAAV,IAAA,WIk1DlC,OAAOuN,OJl1D2B3E,EAAA4d,IAAA9lB,IAAA,aAAAN,MAAA,WIm7DlC,OAAOiH,KAAK0E,GAAGyL,WJn7DmB9W,IAAA,QAAAN,MAAA,WIg8D3B,IAAAwnB,EACYvgB,KAAK0E,GAAGmG,UAAU4G,OAA9B3I,EADAyX,EACAzX,IAAKP,EADLgY,EACKhY,IACZvI,KAAKkP,UAAUpG,EAAKP,MJl8DclP,IAAA,YAAAN,MAAA,SIklEzBV,EAAMU,GACf,IAAMynB,EAAMxgB,KAAK0E,GAAG+b,SAAWzgB,KAAK0E,GAAG+b,WAIvC,OAHI9lB,EAAM5B,KACTynB,EAAInoB,GAAQU,GAENynB,EAAInoB,MJvlEuBgB,IAAA,aAAAN,MAAA,WI6lEtB,IAELyQ,EAAUxJ,KAAK0E,GAAf8E,OACPA,EAAO3J,MAAM4J,MAAQ,GACrBD,EAAO3J,MAAM0J,OAAS,GACtB,IAAME,EAAQnL,KAAKC,MAAMiL,EAAOkX,aAC7BlX,EAAOzM,cAAc2jB,YAAc7gB,EAAM+a,oBAEtCrR,EAASjL,KAAKC,MAAMiL,EAAOmX,cAC9BnX,EAAOzM,cAAc4jB,aAAe9gB,EAAM+a,oBAG7CpR,EAAOC,MAAQA,EACfD,EAAOD,OAASA,EAGhBC,EAAO3J,MAAM4J,MAAbD,UAAwBC,EAAxBD,MACAA,EAAO3J,MAAM0J,OAAbC,UAAyBD,EAAzBC,MAEA,IAAMgV,EAAMxe,KAAK0E,GAAGmG,UAAU4G,OAC9BzR,KAAK0E,GAAG6N,aAAaqO,aAAa5gB,KAAKoV,YAAYoJ,EAAI1V,IAAK0V,EAAIjW,SJjnE9BlP,IAAA,eAAAN,MAAA,WIunEpB,IACPqX,EAAcpQ,KAAK0E,GAAnB0L,WACDyQ,EAAY1S,GAAiBnO,MAC7B8gB,EAAW7S,GAAgBjO,MACjC,OAAI6gB,IAAczQ,EAAW2Q,cAAgBD,IAAa1Q,EAAW4Q,eAGrE5Q,EAAW6Q,cAAchT,GAAgBjO,MAAOmO,GAAiBnO,OACjEA,KAAK0E,GAAGyE,QACPP,KAAMwH,EAAW0C,WACjBzK,IAAK+H,EAAW4C,YAEV,MJnoE2B3Z,IAAA,eAAAN,MAAA,SI0oEtBwP,GACZ,OAAOD,GAActI,KAAMuI,MJ3oEOlP,IAAA,eAAAN,MAAA,SImpEtBwP,EAAKgB,IAhuDnB,SAAuB/B,EAAMe,EAAKgB,GACjC/B,EAAK9C,GAAGmJ,cAAcL,IAAIjF,EAAKgB,GAguD9B2X,CAAclhB,KAAMuI,EAAKgB,GACzBvJ,KAAK2Y,kBJrpE6Btf,IAAA,cAAAN,MAAA,SI4pEvB+P,GACX,OAAOE,GAAahJ,KAAM8I,MJ7pEQzP,IAAA,cAAAN,MAAA,SIqqEvB+P,EAAKW,GAChB8D,GAAavN,KAAM8I,EAAKW,GACxBzJ,KAAK2Y,kBJvqE6Btf,IAAA,iBAAAN,MAAA,SI8qEpB+P,GACd,IAAMnN,EAAMqE,KAAK0E,GAAG2I,eAAevE,GACnC,OAAOnN,GAAOA,EAAI2O,UAAO7P,KJhrESpB,IAAA,iBAAAN,MAAA,SIwrEpB+P,EAAKqY,IACPnhB,KAAK0E,GAAG2I,eAAevE,KAAS9I,KAAK0E,GAAG2I,eAAevE,QAC/DwB,IAAM6W,KJ1rEwB9nB,IAAA,iBAAAN,MAAA,SIisEpB+P,GACd,IAAMnN,EAAMqE,KAAK0E,GAAG2I,eAAevE,GACnC,OAAOnN,GAAOA,EAAIkM,UAAOpN,KJnsESpB,IAAA,iBAAAN,MAAA,SI2sEpB+P,EAAKsY,IACPphB,KAAK0E,GAAG2I,eAAevE,KAAS9I,KAAK0E,GAAG2I,eAAevE,QAC/DjB,IAAMuZ,KJ7sEwB/nB,IAAA,cAAAN,MAAA,SIqtEvB+P,EAAKP,GAChB,IAAMwW,EAAe/e,KAAK+e,aAAajW,EAAKP,GAExCsB,EAAeyC,GAActM,KAAM,EAAG8I,EAAM,GAC1CW,EAAQT,GAAahJ,KAAM8I,GAC7BiW,GAAgBA,EAAajW,MAChCe,GAAgB7J,KAAK0E,GAAGyE,OAAOP,MAGhC,IAAIkB,EAAc5B,GAAelI,KAAM,EAAGuI,EAAM,GAC1CgB,EAASjB,GAActI,KAAMuI,GAInC,OAHIwW,GAAgBA,EAAaxW,MAChCuB,GAAe9J,KAAK0E,GAAGyE,OAAOd,KAExB,IAAIjE,EACTyF,EACAC,EACAL,EACAF,MJvuEgClQ,IAAA,sBAAAN,MAAA,SIgvEf+P,EAAKP,GACxB,OAAOiN,GAAgBxV,KAAMA,KAAKoV,YAAYtM,EAAKP,OJjvEjBlP,IAAA,eAAAN,MAAA,SI2vEtB0U,EAAUtF,EAAUuF,EAAQI,GACxC,IAAMuT,EAAoBrhB,KAAK+e,aAAatR,EAAUtF,GAChDmZ,EAAkBthB,KAAK+e,aAAarR,EAAQI,GAE9CjE,EAAeyC,GAActM,KAAM,EAAGyN,EAAW,GACjDhE,EAAQ6C,GAActM,KAAMyN,EAAUC,GAC1C,GAAI2T,GAAqBA,EAAkBvY,IAAK,CAC/C,IAAMgK,EAAa9S,KAAK0E,GAAGyE,OAAOP,KAClCiB,GAAgBiJ,EACXwO,GAAoBA,EAAgBxY,MACxCW,GAASqJ,EACTrJ,EAAQnL,KAAKgM,IAAIb,EAAO6C,GAActM,KAAMyN,EAAUzN,KAAKqJ,eAAiB,KAG9E,IAAIS,EAAc5B,GAAelI,KAAM,EAAGmI,EAAW,GACjDoB,EAASrB,GAAelI,KAAMmI,EAAU2F,GAC5C,GAAIuT,GAAqBA,EAAkB9Y,IAAK,CAC/C,IAAMyK,EAAYhT,KAAK0E,GAAGyE,OAAOd,IACjCyB,GAAekJ,EACVsO,GAAoBA,EAAgB/Y,MACxCgB,GAAUyJ,EACVzJ,EAASjL,KAAKgM,IAAIf,EAAQ+C,GAActM,KAAMmI,EAAUnI,KAAKkJ,eAAiB,KAGhF,OAAO,IAAI9E,EACTyF,EACAC,EACAL,EACAF,MJvxEgClQ,IAAA,eAAAN,MAAA,SI0xEtB+P,EAAKP,GAAK,IAAAgZ,EACmBvhB,KAAK0E,GAAvCwE,EADeqY,EACfrY,eAAgBG,EADDkY,EACClY,eACjBmY,EAActY,EAAiB,GAAKX,EAAMW,EAC1CuY,EAAcpY,EAAiB,GAAKP,EAAMO,EAChD,OAAImY,GAAeC,GAEjBlZ,IAAKiZ,EACL1Y,IAAK2Y,GAGC,QJpyE0BpoB,IAAA,WAAAN,MAAA,SIuyE1B0O,GACR,IAAMia,EAASzY,GAAsBjJ,KAAMyH,GAC3C,GAAIia,EACH,OAAOA,EAAOnZ,IAEf,IAAMA,EAAMhB,GAAgBvH,KAAMyH,GAClC,OAAOc,EAAMA,EAAIA,KAAO,KJ7yEUlP,IAAA,WAAAN,MAAA,SIgzE1B4P,GACR,IAAM+Y,EAAStY,GAAsBpJ,KAAM2I,GAC3C,GAAI+Y,EACH,OAAOA,EAAO5Y,IAEf,IAAMA,EAAMJ,GAAgB1I,KAAM2I,GAClC,OAAOG,EAAMA,EAAIA,KAAO,KJtzEUzP,IAAA,YAAAN,MAAA,SIwzEzB4P,EAAWlB,GACpB,OACCc,IAAKvI,KAAK2hB,SAASla,GACnBqB,IAAK9I,KAAK4hB,SAASjZ,OJ3zEctP,IAAA,kBAAAN,MAAA,SIo0EnB+P,EAAKP,GACpB,IAAMwW,EAAe/e,KAAK+e,aAAajW,EAAKP,GAC5C,KAAIwW,GAAgBA,EAAajW,KAAOiW,EAAaxW,KAArD,CAGA,IAAM4B,EAAOnK,KAAKoV,YAAYtM,EAAKP,GAC7BwB,EA53CR,SAAmCvC,GAClC,IAAIqa,EAAkB,EAClBra,EAAK9C,GAAG2E,eAAiB,IAG5BwY,EADmBnY,GAAmBlC,GACTiC,OAE9B,IAAIqY,EAAmB,EAMvB,OALIta,EAAK9C,GAAGwE,eAAiB,IAG5B4Y,EADmBxY,GAAmB9B,GACR+B,QAExB,IAAInF,EACToD,EAAK9C,GAAGyE,OAAOP,KAAOiZ,EACtBra,EAAK9C,GAAGyE,OAAOd,IAAMyZ,EACrBta,EAAK9C,GAAG8E,OAAOC,MAAQoY,EACvBra,EAAK9C,GAAG8E,OAAOD,OAASuY,GA22CLC,CAA0B/hB,MAC9C,IAAI+J,EAAYiR,SAAS7Q,GAAzB,CAPyB,IAUlBiG,EAAcpQ,KAAK0E,GAAnB0L,WACF2O,GAAiBA,EAAajW,MAC9BqB,EAAKvB,KAAOmB,EAAYnB,KAC3BwH,EAAW0C,YAAc/I,EAAYnB,KAAOuB,EAAKvB,KACvCmB,EAAYhB,MAAQoB,EAAKpB,QACnCqH,EAAW0C,YAAc/I,EAAYhB,MAAQoB,EAAKpB,QAG/CgW,GAAiBA,EAAaxW,MAC9B4B,EAAK9B,IAAM0B,EAAY1B,IAC1B+H,EAAW4C,WAAajJ,EAAY1B,IAAM8B,EAAK9B,IACrC0B,EAAY9B,OAASkC,EAAKlC,SACpCmI,EAAW4C,WAAajJ,EAAY9B,OAASkC,EAAKlC,cJ11ElB5O,IAAA,YAAAN,MAAA,SIo2EzB+P,EAAKP,GAAK,IACZgK,EAAgBvS,KAAK0E,GAArB6N,aACaA,EAAaqJ,UAEhCrJ,EAAayP,mBAGdzP,EAAaqO,aAAa5gB,KAAKoV,YAAYtM,EAAKP,IAP7B,IAAA0Z,EASgBjiB,KAAK0E,GAAGmG,UAAU4G,OAAzCyQ,EATOD,EASZnZ,IAAkBqZ,EATNF,EASC1Z,IACdqI,EAAU5Q,KAAK6Q,cAj2EO,sBAm2EzB/H,IAAKoZ,EAAQ3Z,IAAK4Z,IAGfvG,EAAY1hB,EAAMM,UAAUoW,EAAUE,YAAD,QAASA,KAAM,EAC1DyB,EAAaqJ,SAAWA,EAEpBA,IACHrJ,EAAa6P,mBACb7P,EAAa8P,wBACbriB,KAAK6Q,cA32EoC,oCA62EtC/H,IAAKoZ,EAAQ3Z,IAAK4Z,EAAQrJ,MAAOvG,EAAauG,SAKlDvG,EAAaqH,WJh4EqBvgB,IAAA,iBAAAN,MAAA,SIw4EpB+P,EAAKP,GACnBvI,KAAKsiB,mBAAmBxZ,EAAKP,MJz4EKlP,IAAA,qBAAAN,MAAA,SIm5EhB0U,EAAUtF,GAAgD,IAAtCuF,EAAsC7R,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,GAA7B4R,EAAUK,EAAmBjS,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,GAAVsM,EAC5DoG,EAASvO,KAAKwO,2BAChBD,EAAS,IACZd,GAAYc,EACZpG,GAAYoG,EACZb,GAAUa,EACVT,GAAUS,GAGX,IAAMxE,EAAcoC,GAAgBnM,MAC9BuiB,EAAYviB,KAAK+O,aAAatB,EAAUtF,EAAUuF,EAAQI,GAC1D0U,EAAmBzY,EAAYsF,aAAakT,GAClD,GAAIC,EAAkB,KAAAC,EAEoBziB,KAAK0E,GAAvC2E,EAFcoZ,EAEdpZ,eAAgBH,EAFFuZ,EAEEvZ,eACvB,GAAIG,EAAiB,GAAKqE,GAAUrE,EAAgB,CACnD,IAAMgK,EAAa3J,GAAmB1J,MAClCqT,EAAWhE,aAAamT,KAC3BA,EAAiB5Z,KAAOtK,KAAKuJ,IAAIwL,EAAWtK,MAAQ,EAAGsK,EAAWtK,QAIpE,GAAIG,EAAiB,GAAK4E,GAAU5E,EAAgB,CACnD,IAAMmK,EAAa/J,GAAmBtJ,MAClCqT,EAAWhE,aAAamT,KAC3BA,EAAiBna,IAAM/J,KAAKuJ,IAAIwL,EAAWpL,OAAS,EAAGua,EAAiBna,MAI1E6D,GAAgBlM,KAAMwiB,OJh7EWnpB,IAAA,aAAAN,MAAA,WIy7ElCmT,GAAgBlM,KADImM,GAAgBnM,UJx7EF3G,IAAA,mBAAAN,MAAA,SIs8ElB+P,EAAKP,OJt8EalP,IAAA,aAAAN,MAAA,SIq9ExB+P,EAAKP,EAAKwC,OJr9Ec1R,IAAA,sBAAAN,MAAA,SI89Ef+P,EAAKP,GACxB,IAAMlP,EAAG,GAAAgH,OAAMyI,EAAN,KAAAzI,OAAakI,GACtB,OAAOvI,KAAK0E,GAAG2b,kBAAkBhnB,IAAQ,QJh+EPA,IAAA,sBAAAN,MAAA,SIy+Ef+P,EAAKP,EAAKma,GAC7B,IAAMrpB,EAAG,GAAAgH,OAAMyI,EAAN,KAAAzI,OAAakI,GAClBma,EACH1iB,KAAK0E,GAAG2b,kBAAkBhnB,GAA+B,iBAAjBqpB,EAA4BA,EAAaC,OAASD,SAEnF1iB,KAAK0E,GAAG2b,kBAAkBhnB,MJ9+EAA,IAAA,gBAAAN,MAAA,SIi/ErB6pB,GACb,IAAKA,IAAeA,EAAWxL,SAAyC,mBAAvBwL,EAAWxL,QAC3D,MAAM,IAAIyL,MAAM,oBAEG7iB,KAAK0E,GAAGoe,YAAc9iB,KAAK0E,GAAGoe,iBACtCvgB,KAAKqgB,MJt/EiBvpB,IAAA,UAAAN,MAAA,WI6/ElC4iB,EAAAtY,EAAA8b,EAAAzlB,WAAA,UAAAsG,MAAA/H,KAAA+H,MACA,IAAM6f,EAAiB7f,KAAK0E,GAC5Bmb,EAAe3P,QAAQkH,UACvByI,EAAezP,WAAWgH,UAC1ByI,EAAetN,aAAa6E,UAC5ByI,EAAe5O,cAAcmG,UAC7ByI,EAAe3O,aAAakG,UACxByI,EAAeiD,cAClBjD,EAAeiD,YAAYvmB,QAASqmB,YAAD,OAAgBA,EAAWxL,YAC9DyI,EAAeiD,YAAc,MAVrB,IAaF/lB,EAAiB8iB,EAAe1P,QAAhCpT,cACHA,GACHA,EAAcod,YAAY0F,EAAe1P,YJ3gFR9W,IAAA,oBAAAN,MAAA,SI8gFjB+P,EAAKP,GACtB,OACC4H,QAASnQ,KAAKmS,aACdhI,KAAMqL,GAAgBxV,KAAMA,KAAKoV,YAAYtM,EAAKP,QJjhFjBlP,IAAA,qBAAAN,MAAA,eAAAM,IAAA,yBAAAN,MAAA,SIuhFZ0O,OJvhFYpO,IAAA,wBAAAN,MAAA,SI0hFboP,EAAU2F,OJ1hFGzU,IAAA,uBAAAN,MAAA,SI6hFdwP,OJ7hFclP,IAAA,0BAAAN,MAAA,SIgiFXwP,OJhiFWlP,IAAA,kCAAAN,MAAA,SAAAgqB,GImiFS,IAAXja,EAAWia,EAAXja,IAAWia,EAANxa,IACrC,OAAOO,EAAM,KJpiFqBzP,IAAA,mCAAAN,MAAA,SAAAiqB,GIsiFU,IAAXla,EAAWka,EAAXla,IAAWka,EAANza,IACtC,OAAOO,EAAM,KJviFqBzP,IAAA,gCAAAN,MAAA,SAAAkqB,GIyiFOA,EAAXna,IAC9B,OADyCma,EAAN1a,IACtB,KJ1iFqBlP,IAAA,kCAAAN,MAAA,SAAAmqB,GI4iFSA,EAAXpa,IAChC,OAD2Coa,EAAN3a,IACxB,KJ7iFqBlP,IAAA,2BAAAN,MAAA,WIgjFlC,OAAO,KJhjF2BM,IAAA,kBAAAN,MAAA,WImjFlC,IAAM6Q,EAAM5J,KAAK0E,GAAGqG,QAQpB,OANAnB,EAAIkC,UAAY,QAChBlC,EAAIuZ,YAAc,QAClBvZ,EAAIwZ,UAAY,OAChBxZ,EAAIyZ,aAAe,MACnBzZ,EAAI0Z,UAAY,EAChB1Z,EAAInG,KAAOzD,KAAKyD,MAAQ,kBACjBmG,KJ3jF2BvQ,IAAA,SAAAV,IAAA,WI07DlC,OAAOqH,KAAK0E,GAAG8E,UJ17DmBnQ,IAAA,YAAAV,IAAA,WIy8DlC,OAAOqH,KAAK0E,GAAGmG,aJz8DmBxR,IAAA,WAAAV,IAAA,WIg9DlC,OAAOqH,KAAK0E,GAAGsD,UJh9DmBtL,IAAA,SIu9DtBsL,GAGZ,GAFAhI,KAAK0E,GAAGsD,SAAWA,EACnBhI,KAAK2Y,eACD3Y,KAAK0E,GAAGmG,UAAU0Y,mBAAoB,KAAAC,EACtBxjB,KAAK0E,GAAGmG,UAAU+O,MAA9B9Q,EADkC0a,EAClC1a,IAAKP,EAD6Bib,EAC7Bjb,IACZvI,KAAKiP,gBAAgBnG,EAAKP,GAC1BvI,KAAKkP,UAAUpG,EAAKP,OJ79DalP,IAAA,WAAAV,IAAA,WIq+DlC,OAAOqH,KAAK0E,GAAGmE,UJr+DmBnM,IAAA,SI4+DtBmM,GAGZ,GAFA7I,KAAK0E,GAAGmE,SAAWA,EACnB7I,KAAK2Y,eACD3Y,KAAK0E,GAAGmG,UAAU0Y,mBAAoB,KAAAE,EACtBzjB,KAAK0E,GAAGmG,UAAU+O,MAA9B9Q,EADkC2a,EAClC3a,IAAKP,EAD6Bkb,EAC7Blb,IACZvI,KAAKiP,gBAAgBnG,EAAKP,GAC1BvI,KAAKkP,UAAUpG,EAAKP,OJl/DalP,IAAA,iBAAAV,IAAA,WI0/DlC,OAAOqH,KAAK0E,GAAG2E,gBJ1/DmB3M,IAAA,SIigEhB2M,GAClBrJ,KAAK0E,GAAG2E,eAAiBA,KJlgEShQ,IAAA,iBAAAV,IAAA,WIygElC,OAAOqH,KAAK0E,GAAGwE,gBJzgEmBxM,IAAA,SIghEhBwM,GAClBlJ,KAAK0E,GAAGwE,eAAiBA,KJjhES7P,IAAA,mBAAAV,IAAA,WIyhElC,OAAOqH,KAAK0E,GAAGsD,UJzhEmBtL,IAAA,SIgiEdqL,GACpB/H,KAAK0E,GAAGqD,iBAAmBA,EAC3B/H,KAAK2Y,kBJliE6Btf,IAAA,kBAAAV,IAAA,WIyiElC,OAAOqH,KAAK0E,GAAGuI,iBJziEmBvQ,IAAA,SIgjEfuQ,GACnBjN,KAAK0E,GAAGuI,gBAAkBA,EAC1BjN,KAAK2Y,kBJljE6Btf,IAAA,OAAAV,IAAA,WIyjElC,OAAOqH,KAAK0E,GAAGjB,MJzjEmB/G,IAAA,SIgkE1B+G,GACRzD,KAAK0E,GAAGjB,KAAOA,KJjkEmBpK,IAAA,0BAAAV,IAAA,WIwkElC,OAAOqH,KAAK0E,GAAGqH,yBJxkEmBrP,IAAA,SI+kEPqP,GAC3B/L,KAAK0E,GAAGqH,wBAA0BA,MJhlEAoT,EAAA,GI+jFpC3nB,EAAOF,QAAU6nB,IAtLf,SAAA3nB,EAAK8qB,GCh7EP9qB,EAAAF,QAAA,SAAAosB,GACA,IAAAthB,KAwCA,OArCAA,EAAAhE,SAAA,WACA,OAAA4B,KAAA2jB,IAAA,SAAAC,GACA,IAAAC,EAsCA,SAAAD,EAAAF,GACA,IAAAG,EAAAD,EAAA,OACAE,EAAAF,EAAA,GACA,IAAAE,EACA,OAAAD,EAGA,GAAAH,GAAA,mBAAAK,KAAA,CACA,IAAAC,EAYA,SAAAC,GAKA,yEAHAF,KAAAG,SAAAC,mBAAAC,KAAAC,UAAAJ,MAGA,MAjBAK,CAAAR,GACAS,EAAAT,EAAAU,QAAAb,IAAA,SAAAnnB,GACA,uBAAAsnB,EAAAW,WAAAjoB,EAAA,QAGA,OAAAqnB,GAAAxjB,OAAAkkB,GAAAlkB,QAAA2jB,IAAAU,KAAA,MAGA,OAAAb,GAAAa,KAAA,MAtDAC,CAAAf,EAAAF,GACA,OAAAE,EAAA,GACA,UAAAA,EAAA,OAAmCC,EAAA,IAEnCA,IAEGa,KAAA,KAIHtiB,EAAArK,EAAA,SAAAJ,EAAAitB,GACA,iBAAAjtB,IACAA,IAAA,KAAAA,EAAA,MAEA,IADA,IAAAktB,KACA9sB,EAAA,EAAgBA,EAAAiI,KAAAtF,OAAiB3C,IAAA,CACjC,IAAA+J,EAAA9B,KAAAjI,GAAA,GACA,iBAAA+J,IACA+iB,EAAA/iB,IAAA,GAEA,IAAA/J,EAAA,EAAYA,EAAAJ,EAAA+C,OAAoB3C,IAAA,CAChC,IAAA6rB,EAAAjsB,EAAAI,GAKA,iBAAA6rB,EAAA,IAAAiB,EAAAjB,EAAA,MACAgB,IAAAhB,EAAA,GACAA,EAAA,GAAAgB,EACKA,IACLhB,EAAA,OAAAA,EAAA,aAAAgB,EAAA,KAEAxiB,EAAAG,KAAAqhB,MAIAxhB,IDu8EC,SAAA5K,EAAAF,EAAAO,GEh/ED,IAAAitB,KAWAC,EATA,SAAAnpB,GACA,IAAAopB,EAEA,kBAEA,YADA,IAAAA,MAAAppB,EAAAwB,MAAA4C,KAAAnE,YACAmpB,GAIAC,CAAA,WAMA,OAAA9tB,GAAAqf,mBAAA0O,MAAA/tB,EAAAguB,OAUAhT,EAAA,SAAAvW,GACA,IAAAopB,KAEA,gBAAAloB,EAAAsoB,GAMA,sBAAAtoB,EACA,OAAAA,IAEA,YAAAkoB,EAAAloB,GAAA,CACA,IAAAuoB,EApBA,SAAAvoB,EAAAsoB,GACA,OAAAA,EACAA,EAAAE,cAAAxoB,GAEA0Z,SAAA8O,cAAAxoB,IAgBA7E,KAAA+H,KAAAlD,EAAAsoB,GAEA,GAAAjuB,EAAAouB,mBAAAF,aAAAluB,EAAAouB,kBACA,IAGAF,IAAAG,gBAAAC,KACK,MAAAvmB,GACLmmB,EAAA,KAGAL,EAAAloB,GAAAuoB,EAEA,OAAAL,EAAAloB,IA1BA,GA8BA4oB,EAAA,KACAC,EAAA,EACAC,KAEAC,EAAchuB,EAAQ,IAqDtB,SAAAiuB,EAAAC,EAAApkB,GACA,QAAA5J,EAAA,EAAgBA,EAAAguB,EAAArrB,OAAmB3C,IAAA,CACnC,IAAA6rB,EAAAmC,EAAAhuB,GACAiuB,EAAAlB,EAAAlB,EAAA9hB,IAEA,GAAAkkB,EAAA,CACAA,EAAAC,OAEA,QAAAC,EAAA,EAAiBA,EAAAF,EAAAG,MAAAzrB,OAA2BwrB,IAC5CF,EAAAG,MAAAD,GAAAtC,EAAAuC,MAAAD,IAGA,KAAQA,EAAAtC,EAAAuC,MAAAzrB,OAAuBwrB,IAC/BF,EAAAG,MAAA5jB,KAAA6jB,EAAAxC,EAAAuC,MAAAD,GAAAvkB,QAEG,CACH,IAAAwkB,KAEA,IAAAD,EAAA,EAAiBA,EAAAtC,EAAAuC,MAAAzrB,OAAuBwrB,IACxCC,EAAA5jB,KAAA6jB,EAAAxC,EAAAuC,MAAAD,GAAAvkB,IAGAmjB,EAAAlB,EAAA9hB,KAA2BA,GAAA8hB,EAAA9hB,GAAAmkB,KAAA,EAAAE,WAK3B,SAAAE,EAAAjkB,EAAAT,GAIA,IAHA,IAAAokB,KACAO,KAEAvuB,EAAA,EAAgBA,EAAAqK,EAAA1H,OAAiB3C,IAAA,CACjC,IAAA6rB,EAAAxhB,EAAArK,GACA+J,EAAAH,EAAA4kB,KAAA3C,EAAA,GAAAjiB,EAAA4kB,KAAA3C,EAAA,GAIA4C,GAAcC,IAHd7C,EAAA,GAGc8C,MAFd9C,EAAA,GAEcK,UADdL,EAAA,IAGA0C,EAAAxkB,GACAwkB,EAAAxkB,GAAAqkB,MAAA5jB,KAAAikB,GADAT,EAAAxjB,KAAA+jB,EAAAxkB,IAAkDA,KAAAqkB,OAAAK,KAIlD,OAAAT,EAGA,SAAAY,EAAAhlB,EAAA9B,GACA,IAAA/C,EAAAqV,EAAAxQ,EAAAilB,YAEA,IAAA9pB,EACA,UAAA+lB,MAAA,+GAGA,IAAAgE,EAAAjB,IAAAlrB,OAAA,GAEA,WAAAiH,EAAAmlB,SACAD,EAEGA,EAAAE,YACHjqB,EAAAkqB,aAAAnnB,EAAAgnB,EAAAE,aAEAjqB,EAAA2c,YAAA5Z,GAJA/C,EAAAkqB,aAAAnnB,EAAA/C,EAAAmqB,YAMArB,EAAArjB,KAAA1C,QACE,cAAA8B,EAAAmlB,SACFhqB,EAAA2c,YAAA5Z,OACE,eAAAtI,EAAAoK,EAAAmlB,YAAAnlB,EAAAmlB,SAAAtK,OAIF,UAAAqG,MAAA,8LAHA,IAAAkE,EAAA5U,EAAAxQ,EAAAmlB,SAAAtK,OAAA1f,GACAA,EAAAkqB,aAAAnnB,EAAAknB,IAMA,SAAAG,EAAArnB,GACA,UAAAA,EAAAsnB,WAAA,SACAtnB,EAAAsnB,WAAAhN,YAAAta,GAEA,IAAAunB,EAAAxB,EAAApqB,QAAAqE,GACAunB,GAAA,GACAxB,EAAAyB,OAAAD,EAAA,GAIA,SAAAE,EAAA3lB,GACA,IAAA9B,EAAA2W,SAAA6C,cAAA,SAMA,QAJA5e,IAAAkH,EAAA4lB,MAAA/lB,OACAG,EAAA4lB,MAAA/lB,KAAA,iBAGA/G,IAAAkH,EAAA4lB,MAAAC,MAAA,CACA,IAAAA,EAgCA,WACK,EAIL,OAAQ3vB,EAAA4vB,GArCRC,GACAF,IACA7lB,EAAA4lB,MAAAC,SAOA,OAHAG,EAAA9nB,EAAA8B,EAAA4lB,OACAZ,EAAAhlB,EAAA9B,GAEAA,EAiBA,SAAA8nB,EAAA7M,EAAAyM,GACA/uB,OAAA2S,KAAAoc,GAAAhrB,QAAA,SAAAlD,GACAyhB,EAAAW,aAAApiB,EAAAkuB,EAAAluB,MAYA,SAAA+sB,EAAAzqB,EAAAgG,GACA,IAAA9B,EAAA+nB,EAAA7N,EAAA5d,EAGA,GAAAwF,EAAAse,WAAAtkB,EAAA8qB,IAAA,CAGA,KAFAtqB,EAAAwF,EAAAse,UAAAtkB,EAAA8qB,MASA,oBAJA9qB,EAAA8qB,IAAAtqB,EAUA,GAAAwF,EAAA+jB,UAAA,CACA,IAAAmC,EAAAlC,IAEA9lB,EAAA6lB,MAAA4B,EAAA3lB,IAEAimB,EAAAE,EAAAxuB,KAAA,KAAAuG,EAAAgoB,GAAA,GACA9N,EAAA+N,EAAAxuB,KAAA,KAAAuG,EAAAgoB,GAAA,QAGAlsB,EAAAsoB,WACA,mBAAA8D,KACA,mBAAAA,IAAAC,iBACA,mBAAAD,IAAAE,iBACA,mBAAAC,MACA,mBAAAnE,MAEAlkB,EAhEA,SAAA8B,GACA,IAAAwmB,EAAA3R,SAAA6C,cAAA,QAUA,YARA5e,IAAAkH,EAAA4lB,MAAA/lB,OACAG,EAAA4lB,MAAA/lB,KAAA,YAEAG,EAAA4lB,MAAAa,IAAA,aAEAT,EAAAQ,EAAAxmB,EAAA4lB,OACAZ,EAAAhlB,EAAAwmB,GAEAA,EAqDAE,CAAA1mB,GACAimB,EAiFA,SAAAO,EAAAxmB,EAAAhG,GACA,IAAA8qB,EAAA9qB,EAAA8qB,IACAxC,EAAAtoB,EAAAsoB,UAQAqE,OAAA7tB,IAAAkH,EAAA4mB,uBAAAtE,GAEAtiB,EAAA4mB,uBAAAD,KACA7B,EAAAZ,EAAAY,IAGAxC,IAEAwC,GAAA,uDAAuD1C,KAAAG,SAAAC,mBAAAC,KAAAC,UAAAJ,MAAA,OAGvD,IAAAuE,EAAA,IAAAN,MAAAzB,IAA6BjlB,KAAA,aAE7BinB,EAAAN,EAAAO,KAEAP,EAAAO,KAAAX,IAAAC,gBAAAQ,GAEAC,GAAAV,IAAAE,gBAAAQ,IA5GAnvB,KAAA,KAAAuG,EAAA8B,GACAoY,EAAA,WACAmN,EAAArnB,GAEAA,EAAA6oB,MAAAX,IAAAE,gBAAApoB,EAAA6oB,SAGA7oB,EAAAynB,EAAA3lB,GACAimB,EAsDA,SAAA/nB,EAAAlE,GACA,IAAA8qB,EAAA9qB,EAAA8qB,IACAC,EAAA/qB,EAAA+qB,MAEAA,GACA7mB,EAAA4b,aAAA,QAAAiL,GAGA,GAAA7mB,EAAA8oB,WACA9oB,EAAA8oB,WAAAC,QAAAnC,MACE,CACF,KAAA5mB,EAAAonB,YACApnB,EAAAsa,YAAAta,EAAAonB,YAGApnB,EAAA4Z,YAAAjD,SAAAqS,eAAApC,MArEAntB,KAAA,KAAAuG,GACAka,EAAA,WACAmN,EAAArnB,KAMA,OAFA+nB,EAAAjsB,GAEA,SAAAmtB,GACA,GAAAA,EAAA,CACA,GACAA,EAAArC,MAAA9qB,EAAA8qB,KACAqC,EAAApC,QAAA/qB,EAAA+qB,OACAoC,EAAA7E,YAAAtoB,EAAAsoB,UAEA,OAGA2D,EAAAjsB,EAAAmtB,QAEA/O,KAxPAviB,EAAAF,QAAA,SAAA8K,EAAAT,GACA,uBAAAonB,cACA,gCAAAvS,SAAA,YAAAjf,EAAAif,WAAA,UAAAqM,MAAA,iEAGAlhB,SAEA4lB,MAAA,WAAAhwB,EAAAoK,EAAA4lB,OAAA5lB,EAAA4lB,SAIA5lB,EAAA+jB,WAAA,kBAAA/jB,EAAA+jB,YAAA/jB,EAAA+jB,UAAAX,KAGApjB,EAAAilB,aAAAjlB,EAAAilB,WAAA,QAGAjlB,EAAAmlB,WAAAnlB,EAAAmlB,SAAA,UAEA,IAAAf,EAAAM,EAAAjkB,EAAAT,GAIA,OAFAmkB,EAAAC,EAAApkB,GAEA,SAAAqnB,GAGA,IAFA,IAAAC,KAEAlxB,EAAA,EAAiBA,EAAAguB,EAAArrB,OAAmB3C,IAAA,CACpC,IAAA6rB,EAAAmC,EAAAhuB,IACAiuB,EAAAlB,EAAAlB,EAAA9hB,KAEAmkB,OACAgD,EAAA1mB,KAAAyjB,GAGAgD,GAEAlD,EADAO,EAAA2C,EAAArnB,GACAA,GAGA,IAAA5J,EAAA,EAAiBA,EAAAkxB,EAAAvuB,OAAsB3C,IAAA,CACvC,IAAAiuB,EAEA,QAFAA,EAAAiD,EAAAlxB,IAEAkuB,KAAA,CACA,QAAAC,EAAA,EAAmBA,EAAAF,EAAAG,MAAAzrB,OAA2BwrB,IAAAF,EAAAG,MAAAD,YAE9CpB,EAAAkB,EAAAlkB,QAgNA,IAAAonB,EAAA,WACA,IAAAC,KAEA,gBAAA5uB,EAAA6uB,GAGA,OAFAD,EAAA5uB,GAAA6uB,EAEAD,EAAAE,OAAAC,SAAA5E,KAAA,OANA,GAUA,SAAAoD,EAAAjoB,EAAAtF,EAAAwf,EAAApe,GACA,IAAA8qB,EAAA1M,EAAA,GAAApe,EAAA8qB,IAEA,GAAA5mB,EAAA8oB,WACA9oB,EAAA8oB,WAAAC,QAAAM,EAAA3uB,EAAAksB,OACE,CACF,IAAA8C,EAAA/S,SAAAqS,eAAApC,GACA+C,EAAA3pB,EAAA2pB,WAEAA,EAAAjvB,IAAAsF,EAAAsa,YAAAqP,EAAAjvB,IAEAivB,EAAA9uB,OACAmF,EAAAmnB,aAAAuC,EAAAC,EAAAjvB,IAEAsF,EAAA4Z,YAAA8P,MD9SA,SAAA/xB,EAAAF,EAAAO,GEzCA,IAAM4xB,KAsCN,SAASC,EAAkB9f,EAAKO,EAAMV,EAAOF,GASnC,IAAAogB,EAAA9tB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAA+tB,EAAAD,EAPPpb,cAOO,IAAAqb,EAPE,EAOFA,EAAAC,EAAAF,EANPhmB,QAMOmmB,GAAAD,OAAA,IAAAA,QALNjhB,KAAMmhB,OAKA,IAAAD,EALc,EAKdA,EAAAE,EAAAH,EAJN9gB,MAAOkhB,OAID,IAAAD,EAJgB,EAIhBA,EAAAE,EAAAL,EAHNxhB,IAAK8hB,OAGC,IAAAD,EAHY,EAGZA,EAAAE,EAAAP,EAFN5hB,OAAQoiB,OAEF,IAAAD,EAFkB,EAElBA,EACHhH,EAAYxZ,EAAIwZ,WAAa,OAC7BC,EAAezZ,EAAIyZ,cAAgB,SACzCzZ,EAAIwZ,UAAYA,EAChBxZ,EAAIyZ,aAAeA,EAEnB,IAAIvT,EAAI3F,EAAKvB,KAAO2F,EAASwb,EACX,UAAd3G,GAAuC,QAAdA,EAC5BtT,EAAI3F,EAAKpB,MAAQU,EAAQ8E,EAAS0b,EACV,WAAd7G,IACVtT,EAAI3F,EAAKvB,MAASuB,EAAKV,MAAQA,EAAQsgB,EAAcE,GAAgB,GAEtE,IAAIla,EAAI5F,EAAK9B,IAAMkG,EAAS4b,EAM5B,MALqB,WAAjB9G,GAA8C,eAAjBA,GAAkD,gBAAjBA,EACjEtT,EAAI5F,EAAKlC,OAASsB,EAASgF,EAAS8b,EACT,WAAjBhH,IACVtT,EAAI5F,EAAK9B,KAAQ8B,EAAKZ,OAASA,EAAS4gB,EAAaE,GAAiB,IAE/Dva,IAAGC,KAGZvY,EAAOF,SACNgzB,iBAnDD,SAA0B1gB,EAAKO,GASrB,IAAAogB,EAAA1uB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAA2uB,EAAAD,EAPPhc,cAOO,IAAAic,EAPE,EAOFA,EAAAC,EAAAF,EANP5mB,QAMO+mB,GAAAD,OAAA,IAAAA,QALN7hB,KAAMmhB,OAKA,IAAAW,EALc,EAKdA,EAAAC,EAAAF,EAJN1hB,MAAOkhB,OAID,IAAAU,EAJgB,EAIhBA,EAAAC,EAAAH,EAHNpiB,IAAK8hB,OAGC,IAAAS,EAHY,EAGZA,EAAAC,EAAAJ,EAFNxiB,OAGH,OAAOyhB,EAAkB9f,EAAKO,EAAM,EAAG,GACtCoE,SACA5K,SACCiF,KAAMmhB,EACNhhB,MAAOkhB,EACP5hB,IAAK8hB,EACLliB,YAPO,IAAA4iB,EAFkB,EAElBA,MA2CTnB,oBACAllB,YAtED,SAAqBoF,EAAKnG,GACzB,GAAIgmB,EAAchmB,GACjB,OAAOgmB,EAAchmB,GAEtB,IAAMqnB,EAAKlhB,EAAInG,KACf,IACCmG,EAAInG,KAAOA,GAAQmG,EAAInG,KACvB,IAAM2c,EAAKxW,EAAImhB,YAAY,KAAKthB,MAChC,OAAQggB,EAAchmB,IACrBgG,MAAO2W,EACP7W,OAAQ6W,GALV,QAQCxW,EAAInG,KAAOqnB,MDkCb,SAAAtzB,EAAAF,EAAAO,GEhDA,IAAMmzB,EAAgB9qB,EAAQ,IFgD9B+qB,EE/C+C/qB,EAAQ,GAAhDpE,EF+CPmvB,EE/COnvB,UAAWnB,EF+ClBswB,EE/CkBtwB,MAAaiD,EF+C/BqtB,EE/CyBtvB,IAAMiC,YACzBstB,EAAUhrB,EAAQ,IAClBirB,EAAYjrB,EAAQ,GACnBQ,EAA0BR,EAAQ,GAAlCQ,uBAUP,SAAS0qB,EAAc5jB,GAItB,OAHKA,EAAK9G,IACT9C,EAAY4J,EAAM9G,MAEZ8G,EAAK9G,GAEb,SAAS2qB,EAA0B7jB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,GACzE,OAAQC,YACP,IAAMC,EAAQL,EAAc5jB,GACtBkkB,EAAQ,GAAArrB,OAAMyI,EAAN,KAAAzI,OAAakI,GACb,IAAVijB,SACIC,EAAMC,GAEbD,EAAMC,IACLC,QAASH,GAGXD,IAEAD,IAEA,IAAMM,EAAYH,EAAMC,GACxB,GAAIE,EAAW,CAEd,IAAMhiB,EAAMmB,EAAQ8T,aACpBjV,EAAIiiB,YAAc,EAAID,EAAUD,QAChC,IACCJ,IADD,QAGC3hB,EAAIiiB,YAAc,KAKtB,IAAMC,EAAW,SACRtkB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,GAE9C,IAAME,EAAQL,EAAc5jB,GAEtBukB,GACLV,EAA0B7jB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,IAElEE,EAAMM,cAAgBA,EAEtBb,EAAQ,IAAMM,YACbO,EAAcxvB,QAASyvB,YAAD,OAAOA,EAAER,KACjB,IAAVA,UACIC,EAAMM,iBAbXD,EAAW,SAiBHtkB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,GACnD,IAAME,EAAQL,EAAc5jB,GACxBikB,EAAMM,cACTN,EAAMM,cAAcxpB,KAClB8oB,EAA0B7jB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,IAGnED,KAMGW,EF9BN,WE+BC7qB,aAAyB,IAAb8qB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAisB,GACxBjsB,KAAK8K,WAAa9K,KAAK8K,WAAWxR,KAAK0G,MAGvCA,KAAKmsB,6BAA+BD,EAAOE,4BFnC7C,OAAA7qB,EAAA0qB,IAAA5yB,IAAA,aAAAN,MAAA,SEwCYszB,EAAWC,EAAMvhB,EAASvD,GAAM,IAAA+kB,EAAAvsB,KACnCH,EAAkCysB,EAAlCzsB,MAAO2sB,EAA2BF,EAA3BE,UAAWjB,EAAgBe,EAAhBf,aACnBkB,EAASjlB,EAAKklB,sBACpBnB,IAGA,IACIoB,EADEC,EAASJ,IAQf,GANI1wB,EAAU8wB,GACbD,EAAUC,EAAO7wB,KAAK,kBAAMswB,IAClBvwB,EAAUuwB,KACpBM,EAAUN,GAGPM,EAAS,CACZ,IAAMhe,EAAQke,KAAKC,MACnB,OAAOH,EAAQ5wB,KAAMY,YAGpB,GAFuBoO,EAAQ+T,mBACCiO,cAChC,CAGA,IAAMC,EAAOH,KAAKC,MAAQne,EAEpB2c,EAAe,WACpB,IAAM2B,EAAiBliB,EAAQ+T,mBAE/B,GADiBmO,EAAeF,cAChC,CAGA,IAAMH,EAASJ,IACf,IAAI1wB,EAAU8wB,GAAd,CAIA,IAAMM,EAAWlC,EAAcmC,GAAGttB,EAAO+sB,EAAQL,EAAKa,YACtDb,EAAKjB,aACHiB,EAAKc,gBAAgB1wB,GACrBswB,EACAC,EACAT,EACAjlB,EACA8kB,GAEFC,EAAKe,oBACHhB,EAAKiB,aACLxiB,EACAmiB,EACAT,EACAjlB,EACA8kB,MAIH,GAvIJ,SAAuCkB,EAAQhmB,GAC9C,OAAI7M,EAAM6yB,EAAOrB,8BACTqB,EAAOrB,+BAEN3kB,EAAKimB,UAAU,+BAmIhBC,CAA8BnB,EAAM/kB,GAElC,KACCsB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACRykB,EAAO,GAEVlB,EAAsBtkB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,GAG7DO,EAAiBtkB,EAAMsB,EAAKP,EAAKwC,EAASugB,EAAcC,QARzDD,OAaF,IAAM4B,EAAWlC,EAAcmC,GAAGttB,EAAO+sB,EAAQ5sB,KAAKotB,YACtDptB,KAAKsrB,aACHtrB,KAAKqtB,gBAAgBhB,GACrBthB,EACAmiB,EACAT,EACAjlB,EACA8kB,GAEFtsB,KAAKstB,oBACHhB,EAAKiB,aACLxiB,EACAmiB,EACAT,EACAjlB,EACA8kB,GAhBI,IAmBCxjB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACNmjB,EAAQ,GAAArrB,OAAMyI,EAAN,KAAAzI,OAAakI,GACrBqjB,EAAYpkB,EAAK9G,IAA2B8G,EAAK9G,GAAwBgrB,GAC/E,GAAIE,EAAW,CACd,IAAMhiB,EAAMmB,EAAQ8T,aACpBjV,EAAIiiB,YAAc,EAAID,EAAUD,QAChC,IACCJ,IADD,QAGC3hB,EAAIiiB,YAAc,GAGpB,OAAO,QF1IVxyB,IAAA,QAAAN,MAAA,WE8IE,OAAO,IAAIkzB,EAAWjsB,SF9IxB3G,IAAA,kBAAAN,MAAA,SEgJiBA,GACf,OAAO4B,EAAM5B,GAASA,EAAQ,MFjJhCM,IAAA,eAAAN,MAAA,SEmJcA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,OFnJnDjzB,IAAA,sBAAAN,MAAA,SEsJqB40B,EAAS5iB,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,GAC1DA,EAAKsB,eAAeC,gBAAgBF,EAAS5iB,EAASlL,EAAO4sB,EAAQH,MFvJvEjzB,IAAA,gBAAAN,MAAA,SEyJeyO,EAAMsB,EAAKglB,GACxB,YF1JFz0B,IAAA,aAAAV,IAAA,WEsCE,OAAOwyB,MFtCTc,EAAA,GE6JAz0B,EAAOF,QAAU20B,GFsEjBlS,WAAA+N,MGrRA,SAAAhuB,GAAA,IAEOa,EAASuF,EAAQ,GAAjBvF,MAEP,SAAS0e,EAAc0U,GAAuC,IAG9BC,EAH8BC,EAAApyB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAA7Byd,EAA6B2U,EAA7B3U,UAAW4U,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,KAC3Che,EAAUqG,SAAS6C,cAAc0U,GACnCzU,IACClf,EAAckf,IACjBnJ,IAAQmJ,WAAUC,IAAlBpJ,UAAyBmJ,IAEzBnJ,EAAQmJ,UAAUC,IAAID,IAQxB,OALI4U,EACH/d,EAAQie,YAAcF,EACZC,IACVhe,EAAQke,UAAYF,GAEdhe,EASR,SAASlW,EAAOq0B,GACf,SAAUA,EAAIC,WAAYD,EAAIhT,UAE/B,SAASkT,EAAOF,GACf,GAAIr0B,EAAOq0B,GACV,OAAOA,EAER,IAAMG,EAAMpV,EAAc,OAAQ8U,KAAMG,IACxC,OAAOl0B,MAAMV,UAAUg1B,MAAMz2B,KAAKw2B,EAAIjF,YAEvC,SAASmF,EAAWL,GACnB,GAAKn3B,EAAOy3B,QAAUN,aAAen3B,EAAOy3B,OAC3C,OAAOx0B,MAAMV,UAAUiqB,IAAI1rB,KAAKq2B,EAAM9Q,YAAD,OAAOA,IAE7C,GAAIpjB,EAAck0B,GACjB,OAAOA,EAAI3K,IAAI6K,GAEhB,IAAMK,EAAOL,EAAOF,GACpB,OAAOl0B,EAAcy0B,GAAQA,GAAQL,EAAOF,IAqB7C,SAASQ,EAAYhU,GACpB,OAAOngB,EAAMmgB,EAAGiU,WAAajU,EAAGiU,UAAY,EAiB7Cv3B,EAAOF,SACN+hB,gBACA2V,MAjED,SAAeP,GAEd,IADA,IAAIt2B,EACIA,EAAIs2B,EAAIxH,YACfwH,EAAItU,YAAYhiB,IA+DjB8B,SACAu0B,SACAG,aACAM,WA1CD,SAAoBR,EAAKS,GACxBP,EAAWO,GAAO3yB,QAASsyB,YAC1BJ,EAAIhV,YAAYoV,MAyCjBM,aArCD,SAASA,EAAarU,GACrBA,EAAGsU,QAAQC,sBAAwBvU,EAAGiU,SACtCjU,EAAGiU,UAAY,EACf30B,MAAMV,UAAUg1B,MAAMz2B,KAAK6iB,EAAGwU,SAAU,GAAG/yB,QAAQ4yB,IAmCnDI,YAjCD,SAASA,EAAYzU,GAChB,0BAA2BA,EAAGsU,UACjCtU,EAAGiU,SAAWjU,EAAGsU,QAAQC,uBAE1Bj1B,MAAMV,UAAUg1B,MAAMz2B,KAAK6iB,EAAGwU,SAAU,GAAG/yB,QAAQgzB,IA8BnDT,cACAU,yBAzBD,SAAkC1U,GAEjC,IADA,IAAIvhB,EAAIuhB,EAAG2U,gBACJl2B,IAAMu1B,EAAYv1B,IACxBA,EAAIA,EAAEk2B,gBAEP,OAAOl2B,GAqBPm2B,yBAnBD,SAAkC5U,GAEjC,IADA,IAAIvhB,EAAIuhB,EAAGiM,YACJxtB,IAAMu1B,EAAYv1B,IACxBA,EAAIA,EAAEwtB,YAEP,OAAOxtB,MFtEEkwB,KAAchmB,KAAdgmB,EAAsB,GAAtBA,gBAHT,SAAAjyB,EAOUF,EAAAO,GGbX,IAAMoL,EAAQ/C,EAAQ,GAChB+rB,EAAa/rB,EAAQ,GACrByvB,EAAQzvB,EAAQ,IAEhB0vB,EHSK,SAAAC,GAAA,SAAAD,IAAA,OAAAvuB,EAAArB,KAAA4vB,GAAAxsB,EAAApD,KAAAqD,EAAAusB,GAAAxyB,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA8rB,EGTU3D,GHSV1qB,EAAAquB,IAAAv2B,IAAA,QAAAN,MAAA,WGJT,OAAO,IAAI62B,EAAO5vB,SHIT3G,IAAA,eAAAN,MAAA,SGFGA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EHElCsoB,GGFiE,IAAxBvE,EAAwBuE,EAAxBvE,aAAcwE,EAAUD,EAAVC,QAE/D3M,EAOGvjB,EAPHujB,UACAC,EAMGxjB,EANHwjB,aACA9f,EAKG1D,EALH0D,MACAE,EAIG5D,EAJH4D,KACAusB,EAGGnwB,EAHHmwB,QACArsB,EAEG9D,EAFH8D,QACAE,EACGhE,EADHgE,aAEGmsB,GACHzE,GACCyE,YAGFvD,EAAOwD,aAAaxsB,EAAM1K,EAAOgS,GACjC4kB,EAAMO,UAAUH,IAAWhlB,EAAS0hB,EAAQ,SAAC0D,EAAOplB,GACnD0hB,EAAOyB,KAAKn1B,EAAOgS,GAClBqY,YACAC,eACA9f,QACAE,OACAE,UACAE,eACAssB,eHtBO92B,IAAA,aAAAV,IAAA,WGPT,OAAOsK,MHOE2sB,EAAA,GG2BXp4B,EAAOF,QAAUs4B,GHoBhB,SAAIvM,IAAiBxrB,GI5DtB,IAAMszB,EAAYjrB,EAAQ,IACpB+C,EAAQ/C,EAAQ,IAChBkwB,EAAkBlwB,EAAQ,KAC1BmwB,EAAmBnwB,EAAQ,IAE3BL,GACLsrB,gBACC,OAAOA,GAERloB,YACC,OAAOA,GAERmtB,sBACC,OAAOA,GAERC,uBACC,OAAOA,GAERlD,GAba,SAaVmD,EAAalD,GACf,OAAIkD,EACCA,aAAuBrtB,EACnBqtB,EAC0B,mBAAhBA,EACVzwB,EAAMstB,GAAGmD,IAAelD,GAEzB,IAAIA,EAAWkD,GAEflD,EAAWmD,UAIrB/4B,EAAOF,QAAUuI,GHffjC,WAAY4J,EAAM9G,GAAwB,IAAA8vB,EIhBDtwB,EAAQ,GAA5CvF,EJgBqC61B,EIhBrC71B,MJgBqC81B,EAAAD,EIhB9BzyB,IAAMW,EJgBwB+xB,EIhBxB/xB,SAAUK,EJgBc0xB,EIhBd1xB,SAE9B,SAAS2xB,EAAS9mB,EAAKia,GACtB,OAAOja,EAAImhB,YAAYlH,GAASpa,MAGjC,SAASknB,EAAW/mB,EAAKia,EAAS+M,EAAKC,EAAgBpnB,GAGtD,IAFA,IAAMqnB,KACFC,EAAMH,EAAIhyB,OACL7G,EAAI,EAAGA,EAAI84B,GAA0B,OAARE,EAAch5B,IAAKg5B,EAAMH,EAAIhyB,OAClEkyB,EAAMvuB,KAAKwuB,GAEZ,IAAIC,EAAcN,EAAS9mB,EAAKknB,EAAMpM,KAAK,KAC3C,GAAIsM,EAAcvnB,EACjB,KAAOqnB,EAAMp2B,QAAQ,CAGpB,IADAs2B,GAAeN,EAAS9mB,EADdknB,EAAMG,SAEGxnB,EAClB,WAGI,GAAIunB,EAAcvnB,EACxB,KAAe,OAARsnB,GAAc,CACpB,IAAMG,EAAYR,EAAS9mB,EAAKmnB,GAChC,GAAIC,EAAcE,EAAYznB,EAC7B,MAEDqnB,EAAMvuB,KAAKwuB,GACXC,GAAeE,EACfH,EAAMH,EAAIhyB,OAGZ,IAAMuyB,EAAgBL,EAAMpM,KAAK,IAAIjQ,QAAQ,OAAQ,IAC/C2c,EAAevN,EAAQ6K,MAAMyC,EAAcz2B,QAAQ+Z,QAAQ,OAAQ,IACzE,OACC+H,OAAQ2U,EAAgB,IAAIE,EAAOF,GAAiB,KACpD1U,MAAO2U,EAAe,IAAIC,EAAOD,GAAgB,MJpBP,IIwBtCC,EJxBsC,WIyB3CjwB,WAAYyiB,GAASxiB,EAAArB,KAAAqxB,GACpBrxB,KAAKsxB,SAAW32B,EAAMkpB,GAAWA,EAAU,GJ1BD,OAAAtiB,EAAA8vB,IAAAh4B,IAAA,QAAAN,MAAA,SAAAw4B,GI6B1C,OAAOb,EADKa,EAAN3nB,IACe5J,KAAKsxB,aJ7BgBj4B,IAAA,OAAAN,MAAA,WIgC1C,OAAO,QJhCmCM,IAAA,QAAAN,MAAA,WImC1C,OAAO,QJnCmCM,IAAA,UAAAN,MAAA,WIsC1C,OAAO,KJtCmCM,IAAA,UAAAN,MAAA,SIwCnC6C,OJxCmCvC,IAAA,OAAAN,MAAA,SAAAy4B,GIoDxC,IARF5nB,EAQE4nB,EARF5nB,IACA6nB,EAOED,EAPFC,aACAtnB,EAMEqnB,EANFrnB,KACAoE,EAKEijB,EALFjjB,OACAmH,EAIE8b,EAJF9b,WACAgc,EAGEF,EAHFE,YACA/b,EAEE6b,EAFF7b,UACAgc,EACEH,EADFG,aAEAF,EAAaG,aAAahoB,EAAK5J,KAAKsxB,SAClCnnB,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAErCgF,OAAQA,EAAS,EACjB5K,SACCiF,KAAM8M,EACN3M,MAAO2oB,EACPrpB,IAAKsN,EACL1N,OAAQ0pB,QJ7D8Bt4B,IAAA,WAAAN,MAAA,WIkE1C,QAASiH,KAAKsxB,YJlE4Bj4B,IAAA,aAAAN,MAAA,SIoEhCwB,GAKV,IAJA,IAAMspB,EAAU7jB,KAAKsxB,SACfV,EAAMlyB,EAASmlB,GACfiN,KACFC,EAAMH,EAAIhyB,OACL7G,EAAI,EAAGA,EAAIwC,GAAiB,OAARw2B,EAAch5B,IAAKg5B,EAAMH,EAAIhyB,OACzDkyB,EAAMvuB,KAAKwuB,GAEZ,IAAMI,EAAgBL,EAAMpM,KAAK,IAC3B0M,EAAevN,EAAQ6K,MAAMyC,EAAcz2B,QACjD,OACC8hB,OAAQ2U,EAAgB,IAAIE,EAAOF,GAAiB,KACpD1U,MAAO2U,EAAe,IAAIC,EAAOD,GAAgB,SJhFR/3B,IAAA,YAAAN,MAAA,SImFjC6Q,EAAKH,GACd,IAAMoa,EAAU7jB,KAAKsxB,SACfO,EAAW7xB,KAAKyJ,OAAOG,QACvBkoB,EAAYxzB,KAAKC,MAAMyB,KAAKsxB,SAAS52B,OAAS+O,EAAQooB,GAE5D,OAAOlB,EAAW/mB,EAAKia,EADX9kB,EAAS8kB,GACgBiO,EAAWroB,MJxFNpQ,IAAA,WAAAN,MAAA,SI0FlC6Q,EAAKH,GACb,IAAMoa,EAAU7jB,KAAKsxB,SACfO,EAAW7xB,KAAKyJ,OAAOG,QACvBkoB,EAAYxzB,KAAKC,MAAMyB,KAAKsxB,SAAS52B,OAAS+O,EAAQooB,GAE5D,OAAOlB,EAAW/mB,EAAKia,EADXnlB,EAASmlB,GACgBiO,EAAWroB,MJ/FNpQ,IAAA,WAAAN,MAAA,WIkG1C,OAAOiH,KAAKsxB,aJlG8BD,EAAA,GIqG5C75B,EAAOF,QAAU+5B,GJ0Dd,SAAA75B,EAAMk0B,EAAQ7zB,GAAA,IAAAk6B,EK/KY7xB,EAAQ,GAA9BvF,EL+KUo3B,EK/KVp3B,MAAakD,EL+KHk0B,EK/KHp2B,IAAMkC,KAEd6G,EAAIxE,EAAQ,GAA6BvH,MAE3CuI,EAAS,EAIPiD,ELuKW,WKtKhB/C,aAAcC,EAAArB,KAAAmE,GACbnE,KAAK0E,MACL1E,KAAK0E,GAAGstB,aACRhyB,KAAK0E,GAAGutB,gBLmKO,OAAA1wB,EAAA4C,IAAA9K,IAAA,SAAAN,MAAA,SK3JTyI,EAAMC,GAAU,IAAAywB,EAAAlyB,KAChBoC,EAAOpC,KAAK0E,GAAGstB,UAAUxwB,KAAUxB,KAAK0E,GAAGstB,UAAUxwB,OAC3DY,EAAKG,KAAKd,GAEV,IAAMK,EAAKZ,IAaX,OAZAlB,KAAK0E,GAAGutB,aAAanwB,IACpBN,OACAC,WACAsY,OAAQ,kBACAmY,EAAKxtB,GAAGutB,aAAanwB,GAC5B,IAAMvH,EAAQ6H,EAAK5G,QAAQiG,GAC3BW,EAAKilB,OAAO9sB,EAAO,GACd23B,EAAKxtB,GAAGstB,UAAUxwB,GAAM9G,eACrBw3B,EAAKxtB,GAAGstB,UAAUxwB,KAIrBM,KL0IQzI,IAAA,WAAAN,MAAA,SKlIP+I,GACR9B,KAAK0E,GAAGutB,aAAanwB,GAAIiY,YLiIV1gB,IAAA,mBAAAN,MAAA,SK/HCyI,EAAMC,GACtBzB,KAAKwS,OAAOhR,EAAMC,ML8HHpI,IAAA,sBAAAN,MAAA,SK5HIyI,EAAMC,GAAU,IAAA0wB,EAAAnyB,KACnCnC,EAAKmC,KAAK0E,GAAGutB,aAAc,SAACt2B,EAAKmG,GAC5BnG,EAAI6F,OAASA,GAAQ7F,EAAI8F,WAAaA,GACzC0wB,EAAKC,SAAStwB,QLyHDzI,IAAA,eAAAN,MAAA,SKrHHyI,GACZ,QAASxB,KAAK0E,GAAGstB,UAAUxwB,MLoHZnI,IAAA,gBAAAN,MAAA,SK5GFyI,GAAe,QAAA6wB,EAAAryB,KAAAsyB,EAAAz2B,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAAk4B,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANl2B,EAAMk2B,EAAA,GAAA12B,UAAA02B,GAC5B,IAAMnwB,EAAOpC,KAAK0E,GAAGstB,UAAUxwB,GAC/B,OAAKY,EAGEA,EACNuhB,IAAKliB,YAAD,OAAcA,EAASxJ,KAATwJ,SAAc4wB,GAANhyB,OAAehE,MACzCgtB,OAAO1uB,SLqGOtB,IAAA,UAAAN,MAAA,kBKlGRiH,KAAK0E,OLkGGP,EAAA,GK9FjB3M,EAAOF,QAAU6M,GjByqKV,SAAS3M,EAAQF,EAASO,GkBzvKjC,IAAM26B,EAAatyB,EAAQ,IACrBuyB,ElBwvKgD,SAAAC,GkBvvKrDtxB,aAAyB,IAAAuxB,EAAbzG,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAyyB,IACxBE,EAAAvvB,EAAApD,KAAAqD,EAAAovB,GAAAx6B,KAAA+H,KAAMksB,KACD0G,UAAY1G,EAAO1S,SAFAmZ,ElBuvK4B,OAAA7uB,EAAA2uB,EkBxvKjCD,GlBwvKiCjxB,EAAAkxB,IAAAp5B,IAAA,QAAAN,MAAA,WkB3uKpD,OAAO,IAAI05B,EAAOzyB,SlB2uKkC3G,IAAA,2BAAAN,MAAA,eAAAM,IAAA,WAAAV,IAAA,WkBlvKpD,OAAOqH,KAAK4yB,WlBkvKwCl2B,IAAA,SkBhvKxC8c,GACZxZ,KAAK4yB,YAAcpZ,EACnBxZ,KAAK6yB,+BlB8uK+CJ,EAAA,GkBvuKtDj7B,EAAOF,QAAUm7B,GLsCjB,SAAAj7B,EAAS+3B,EAAT13B,GAAyB,IMzDlBiE,EAAaoE,EAAQ,GAArBpE,UACDq0B,EAAQjwB,EAAQ,IACtB1I,EAAOF,SACN44B,UADgB,SACN4C,EAAM/nB,EAAS0hB,EAAQ9uB,GAAU,IAAAo1B,EAAA/yB,KAC1C,GAAI8yB,EACH,GAAIh3B,EAAUg3B,GACbA,EAAK/2B,KAAMhE,YACVg7B,EAAKC,SAASj7B,EAAGgT,EAAQ+T,mBAAoBnhB,KAE9Cm1B,EAAO,SACD,CACN,IAAMG,EAAW9C,EAAM+C,iBAAiBJ,GACxCG,EAAS12B,QAASxE,YACjB00B,EAAOwD,aAAal4B,EAAE0L,KAAM1L,EAAE8rB,QAAS9Y,KAExC+nB,EAAOG,EAGTt1B,EAASm1B,EAAM/nB,MNmEhB9Q,aAHgBpC,GOlFjB,IAAMmzB,EAAgB9qB,EAAQ,IACvBvF,EAASuF,EAAQ,GAAjBvF,MACAsI,EAAS+nB,EAAT/nB,MAEDkwB,EP8EW,WO7EhB/xB,aAA0BvF,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,IAAAA,UAAA,GAAAwF,EAAArB,KAAAmzB,GACzBnzB,KAAK8K,WAAa9K,KAAK8K,WAAWxR,KAAK0G,MP4ExB,OAAAuB,EAAA4xB,IAAA95B,IAAA,aAAAN,MAAA,SOvELszB,EAAWC,EAAMvhB,EAASvD,GAAM,IACnC3H,EAAuBysB,EAAvBzsB,MAAO0rB,EAAgBe,EAAhBf,oBACPe,EAAKE,iBACLF,EAAKzsB,MACZ,IAAM4sB,EAASjlB,EAAKklB,sBACpBnB,IAEAvrB,KAAKsrB,aACHtrB,KAAKqtB,gBAAgBhB,GACrBthB,EACAigB,EAAcmC,GAAGttB,EAAOG,KAAKotB,YAC7BX,EACAjlB,EACA8kB,MP0DajzB,IAAA,kBAAAN,MAAA,SOvDAA,GACf,OAAO4B,EAAM5B,GAASA,EAAQ,MPsDfM,IAAA,eAAAN,MAAA,SOpDHA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,OPoDlCjzB,IAAA,gBAAAN,MAAA,SOjDFyO,EAAMkH,GACnB,YPgDerV,IAAA,aAAAV,IAAA,WOzEf,OAAOsK,MPyEQkwB,EAAA,GO7CjB37B,EAAOF,QAAU67B,GN1B2D,SAAA37B,EAQzEqM,EACGhE,GATsE,IOXtEuE,EPWsE,WOV3EhD,WAAYwH,EAAMP,EAAKoB,EAAOF,GAAQlI,EAAArB,KAAAoE,GACrCpE,KAAKozB,MAAQxqB,EACb5I,KAAKqzB,KAAOhrB,EACZrI,KAAKszB,OAAS7pB,EACdzJ,KAAKuzB,QAAUhqB,EPM2D,OAAAhI,EAAA6C,IAAA/K,IAAA,aAAAN,MAAA,SOmDhEwV,GACVvO,KAAKozB,OAAS7kB,EACdvO,KAAKwzB,YAAS/4B,KPrD4DpB,IAAA,YAAAN,MAAA,SOuDjEwV,GACTvO,KAAKqzB,MAAQ9kB,EACbvO,KAAKyzB,aAAUh5B,KPzD2DpB,IAAA,OAAAN,MAAA,WO4D1E,OAAO,IAAIqL,EAAKpE,KAAK4I,KAAM5I,KAAKqI,IAAKrI,KAAKyJ,MAAOzJ,KAAKuJ,WP5DoBlQ,IAAA,eAAAN,MAAA,SO8D9DoR,GACZ,IAAMupB,EAAKp1B,KAAKgM,IAAItK,KAAK4I,KAAMuB,EAAKvB,MAC9B+qB,EAAKr1B,KAAKuJ,IAAI7H,KAAK4I,KAAO5I,KAAKyJ,MAAOU,EAAKvB,KAAOuB,EAAKV,OAC7D,GAAIiqB,GAAMC,EAAI,CACb,IAAMC,EAAKt1B,KAAKgM,IAAItK,KAAKqI,IAAK8B,EAAK9B,KAC7BwrB,EAAKv1B,KAAKuJ,IAAI7H,KAAKqI,IAAMrI,KAAKuJ,OAAQY,EAAK9B,IAAM8B,EAAKZ,QAC5D,GAAIqqB,GAAMC,EACT,OAAOzvB,EAAKiG,OAAOqpB,EAAIE,EAAID,EAAIE,GAGjC,OAAO,QPxEmEx6B,IAAA,WAAAN,MAAA,SO0ElE+6B,GACR,OAAO9zB,KAAK4I,MAAQkrB,EAAQlrB,MACzB5I,KAAK4I,KAAO5I,KAAKyJ,OAASqqB,EAAQlrB,KAAOkrB,EAAQrqB,OACjDzJ,KAAKqI,KAAOyrB,EAAQzrB,KACpBrI,KAAKqI,IAAMrI,KAAKuJ,QAAUuqB,EAAQzrB,IAAMyrB,EAAQvqB,UP9EuBlQ,IAAA,UAAAN,MAAA,SOgFnE+W,EAAGC,GACV,OAAO/P,KAAK4I,MAAQkH,GACjB9P,KAAK4I,KAAO5I,KAAKyJ,OAASqG,GAC1B9P,KAAKqI,KAAO0H,GACZ/P,KAAKqI,IAAMrI,KAAKuJ,QAAUwG,KPpF6C1W,IAAA,OAAAV,IAAA,WOQ1E,OAAOqH,KAAKozB,OPR8D12B,IAAA,SOUlEkM,GAAM,IACPG,EAAS/I,KAAT+I,MACP/I,KAAKozB,MAAQxqB,EACb5I,KAAK+I,MAAQA,KPb6D1P,IAAA,MAAAV,IAAA,WOgB1E,OAAOqH,KAAKqzB,MPhB8D32B,IAAA,SOkBnE2L,GAAK,IACLJ,EAAUjI,KAAViI,OACPjI,KAAKqzB,KAAOhrB,EACZrI,KAAKiI,OAASA,KPrB4D5O,IAAA,QAAAV,IAAA,WOwB1E,OAAOqH,KAAKszB,QPxB8D52B,IAAA,SO0BjE+M,GACTzJ,KAAKszB,OAAS7pB,EACdzJ,KAAKwzB,YAAS/4B,KP5B4DpB,IAAA,SAAAV,IAAA,WO+B1E,OAAOqH,KAAKuzB,SP/B8D72B,IAAA,SOiChE6M,GACVvJ,KAAKuzB,QAAUhqB,EACfvJ,KAAKyzB,aAAUh5B,KPnC2DpB,IAAA,QAAAV,IAAA,WOsC1E,YAAuB8B,IAAhBuF,KAAKwzB,OAAuBxzB,KAAKwzB,OAAUxzB,KAAKwzB,OAASxzB,KAAK4I,KAAO5I,KAAKyJ,OPtCP/M,IAAA,SOwCjEqM,GACT/I,KAAKwzB,OAASzqB,EACd/I,KAAKyJ,MAAQV,EAAQ/I,KAAK4I,QP1CgDvP,IAAA,SAAAV,IAAA,WO6C1E,YAAwB8B,IAAjBuF,KAAKyzB,QAAwBzzB,KAAKyzB,QAAWzzB,KAAKyzB,QAAUzzB,KAAKqI,IAAMrI,KAAKuJ,QP7CT7M,IAAA,SO+ChEuL,GACVjI,KAAKyzB,QAAUxrB,EACfjI,KAAKuJ,OAAStB,EAASjI,KAAKqI,SPjD8ChP,IAAA,SAAAN,MAAA,SOJ7D6P,EAAMP,EAAKU,EAAOd,GAC/B,OAAO,IAAI7D,EAAKwE,EAAMP,EAAKU,EAAQH,EAAMX,EAASI,MPGwBhP,IAAA,MAAAN,MAAA,SODhEg7B,EAAOC,GACjB,OAAO5vB,EAAKiG,OACV/L,KAAKuJ,IAAIksB,EAAMnrB,KAAMorB,EAAMprB,MAC3BtK,KAAKuJ,IAAIksB,EAAM1rB,IAAK2rB,EAAM3rB,KAC1B/J,KAAKgM,IAAIypB,EAAMhrB,MAAOirB,EAAMjrB,OAC5BzK,KAAKgM,IAAIypB,EAAM9rB,OAAQ+rB,EAAM/rB,aPJ2C7D,EAAA,GOuF5E5M,EAAOF,QAAU8M,GLvEd0sB,oBM3BYt2B,EAAc0F,EAAQ,GAA9BhG,MAAQM,UAETy5B,EAAgB,IAChBC,EAAY,IACZC,EAAgB,IAChBC,EAAc,IAEdC,EAAiB,IACjBC,EAA8B,IAC9BC,EAAmB,IAEzB,SAASC,EAAYjwB,GACpB,OAAO,IAAIse,MAAJ,qBAAAxiB,OAA+BkE,IAqCvC,IAAMkwB,GACLC,IAAK,EACLC,IAAK,EACLC,IAAK,EACLC,IAAK,GA2EN,SAASC,EAAMC,GAEd,OA1ED,SAASC,EAAIC,EAAQ1wB,GACpB,SAAS2wB,EAAmBC,GAC3B,IAAMpsB,EAAQosB,EAAMlE,MACdmE,EAAKD,EAAMlE,MACXroB,EAAOusB,EAAMlE,MAEnB,KAAKroB,GAASA,EAAK2lB,UACjB6G,GAAMA,EAAG5zB,OAAS2yB,GAClBprB,GAAUA,EAAMwlB,UAEjB,MAAMiG,EAAYjwB,GAEnB,OACCgqB,SAAU+F,EACV1rB,OACAwsB,KACArsB,SAMF,IAFA,IAAMosB,KAECF,EAAOv6B,QAAQ,CACrB,IAAM26B,EAAQJ,EAAOK,QACrB,GAAID,EAAM7zB,OAASyyB,GAAiC,MAAhBoB,EAAMt8B,OAAe,WACxD,IAAIw8B,EAAO,EACLC,EAAah7B,EAAUy6B,EAAQ,SAACj8B,EAAGjB,GACxC,GAAIiB,EAAEwI,OAASyyB,GAA6B,MAAZj7B,EAAED,MACjCw8B,SACM,GAAIv8B,EAAEwI,OAASyyB,GAA6B,MAAZj7B,EAAED,MAAe,CACvD,IAAKw8B,EACJ,OAAO,EAERA,IAED,OAAO,IAER,IAAoB,IAAhBC,EACH,MAAMhB,EAAYjwB,GAEnB4wB,EAAM5yB,KAAKyyB,EAAIC,EAAOvG,MAAM,EAAG8G,GAAajxB,IAC5C0wB,EAAO5N,OAAO,EAAGmO,EAAa,GAjB0B,QAkBlD,GAAIH,EAAM7zB,OAAS2yB,EAAe,CACxC,GAAIgB,EAAMz6B,QAAU,EAAG,CACtB,IAAM+6B,EAAWN,EAAMA,EAAMz6B,OAAS,GAAG3B,MACrC07B,EAAWY,EAAMt8B,QAAU07B,EAAWgB,IACzCN,EAAM5yB,KAAK2yB,EAAmBC,IAGhCA,EAAM5yB,KAAK8yB,QACL,GAAIA,EAAM7zB,OAAS0yB,EAAW,KAC7Bn7B,EAASs8B,EAATt8B,MACD28B,EAAMC,WAAW58B,GACjB68B,EAAO,WAAW92B,KAAK/F,GAAO,GACpCo8B,EAAM5yB,MACLgsB,SAAU8F,EACVt7B,MAAO28B,EACPE,cAESP,EAAM7zB,OAAS4yB,GACzBe,EAAM5yB,MACLgsB,SAAUgG,EACVx7B,MAAO48B,WAAWN,EAAMt8B,SAI3B,KAAOo8B,EAAMz6B,OAAS,GACrBy6B,EAAM5yB,KAAK2yB,EAAmBC,IAE/B,OAAOA,EAAM,GAKNH,CA7GR,SAAkBzwB,GAQjB,IAPA,IAMI5F,EANAk3B,EAAMtxB,EAAKkQ,QAAQ,UAAW,KAC5BqhB,EAAS,+BACTC,EAAQ,wBACRC,EAAO,UAEPf,KAEEY,EAAMA,EAAIlT,QACjB,GAAe,MAAXkT,EAAI,IAAyB,MAAXA,EAAI,GACzBZ,EAAO1yB,MAAMxJ,MAAO88B,EAAI,GAAIr0B,KAAMyyB,IAClC4B,EAAMA,EAAInH,MAAM,QACV,GAAK/vB,EAAKm3B,EAAOh3B,KAAK+2B,GAC5BZ,EAAO1yB,MAAMxJ,MAAO4F,EAAG,GAAI6C,KAAM0yB,IACjC2B,EAAMA,EAAInH,MAAM/vB,EAAG,GAAGjE,aAChB,GAAKiE,EAAKo3B,EAAMj3B,KAAK+2B,GAC3BZ,EAAO1yB,MAAMxJ,MAAO4F,EAAG,GAAI6C,KAAM4yB,IACjCyB,EAAMA,EAAInH,MAAM/vB,EAAG,GAAGjE,YAChB,MAAKiE,EAAKq3B,EAAKl3B,KAAK+2B,IAI1B,MAAMrB,EAAYjwB,GAHlB0wB,EAAO1yB,MAAMxJ,MAAO4F,EAAG,GAAI6C,KAAM2yB,IACjC0B,EAAMA,EAAInH,MAAM/vB,EAAG,GAAGjE,QAKxB,OAAOu6B,EAmFQgB,CAASlB,GACLA,GAqCpB,SAASjoB,EAAK/T,EAAOgS,GAEpB,OApCD,SAASmrB,EAASrH,EAAM9jB,GACvB,GAAI8jB,EAAKN,WAAa+F,EAA6B,CAClD,IAAM1rB,EAAOstB,EAASrH,EAAKjmB,KAAMmC,GAC3BhC,EAAQmtB,EAASrH,EAAK9lB,MAAOgC,GAEnC,OAAQ8jB,EAAKuG,GAAGr8B,OAChB,IAAK,IACJ,OAAO6P,EAAOG,EACf,IAAK,IACJ,OAAOH,EAAOG,EACf,IAAK,IACJ,OAAOH,EAAOG,EACf,IAAK,IACJ,OAAOH,EAAOG,EACf,QACC,MAAM,IAAI8Z,MAAJ,iCAAAxiB,OAA2CwuB,EAAKuG,GAAGr8B,cAEpD,GAAI81B,EAAKN,WAAa8F,EAC5B,OAAQxF,EAAK+G,MACb,IAAK,IACJ,OAAO/G,EAAK91B,MAAQgS,EAAQoV,KAAO,IACpC,IAAK,KACJ,OAAO0O,EAAK91B,MAAQgS,EAAQqV,GAC7B,IAAK,KACJ,OAAOyO,EAAK91B,MACb,QACC,MAAM,IAAI8pB,MAAJ,6BAAAxiB,OAAuCwuB,EAAK+G,YAE7C,GAAI/G,EAAKN,WAAagG,EAC5B,OAAO1F,EAAK91B,MAEb,MAAM,IAAI8pB,MAAM,eAKTqT,CADKpB,EAAM/7B,GACGgS,GAGtBvT,EAAOF,SACNwV,KADgB,SACX/T,EAAOgS,GACX,MAAqB,iBAAVhS,EACH+T,EAAK/T,EAAM4pB,OAAQ5X,GAEpBhS,EAAQ,KtBgiLV,SAASvB,EAAQF,EAASO,GAAqB,IuBhtLhD26B,EvBgtLgD,WuB/sLrDpxB,aAAyB,IAAb8qB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAwyB,GACxBxyB,KAAKm2B,UAAYjK,EAAOkK,SvB8sL4B,OAAA70B,EAAAixB,IAAAn5B,IAAA,QAAAN,MAAA,WuBpsLpD,OAAO,IAAIy5B,EAAWxyB,SvBosL8B3G,IAAA,gBAAAN,MAAA,SuBlsLvCyO,EAAMsB,EAAKglB,GACxB,YvBisLoDz0B,IAAA,2BAAAN,MAAA,eAAAM,IAAA,WAAAV,IAAA,WuB3sLpD,OAAOqH,KAAKm2B,WvB2sLwCz5B,IAAA,SuBzsLxC05B,GACZp2B,KAAKm2B,YAAcC,EACnBp2B,KAAKq2B,+BvBusL+C7D,EAAA,GuB7rLtDh7B,EAAOF,QAAUk7B,GvBsuKjB,SAAAh7B,EAAAF,EAAAO,GAAA,IwB1vKOoC,EAAUiG,EAAQ,GAAlBjG,OAEP,SAASq8B,EAAYC,EAAIC,EAAIC,EAAIC,GAChC,IAAIC,EAQJ,OALAJ,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EAEC,SAAS19B,GACf,IAAIY,EACH4jB,EACAC,EACAtlB,EACAC,EAEAyB,EACD,GAAIb,EAAI,GAAK,EAAIA,EAChB,MAAM,IAAI6pB,MAAM7pB,GAGjBY,EAAI+8B,GAAQ39B,EAEZ,GAQCY,GAAS,IADTC,EAAIb,GADAu9B,GAJJ9Y,GADAD,EAAI,EAAI5jB,GACA4jB,GAIK5jB,EAAI68B,EAAKjZ,GAHtBrlB,EAAIyB,EAAIA,IACRxB,EAAID,EAAIyB,WAzBE,KA8BI0E,KAAK2U,IAAIpZ,IAGxB,OADA88B,EAAO/8B,EACA48B,EAAK/Y,EAAI7jB,EAAI88B,EAAKlZ,EAAIrlB,EAAIC,GAGnC,IAAMw+B,GACLC,OADe,SACRj9B,GACN,OAAOA,GAERk9B,OAAQR,EAAY,IAAO,EAAO,EAAO,GACzCS,QAAST,EAAY,EAAO,EAAO,IAAO,GAC1CU,UAAWV,EAAY,IAAO,EAAO,IAAO,IAGvCW,EAAMh9B,EAAS,aAAW9C,EAAO+/B,uBAAyB1lB,WAEhE,SAASsb,IACR,OAAOD,KAAKC,MAYbt1B,EAAOF,QAAU,SAAC6/B,EAAUR,EAAMS,GACjC,IAAMC,EAAYvK,IAEbsK,EAEwB,iBAAXA,IACjBA,EAASR,EAAQQ,IAFjBA,EAASR,EAAQI,UAKlB,IAAIM,GAAc,EACZC,EAAa,SAACC,EAASC,GAgB5B,OAfa,SAAPC,IACL,IAAMlM,EAAQsB,IAAQuK,EAClBC,EAECG,GAAUA,IACJjM,GAAS2L,GAEnBR,EAAK,GACDa,GAAWA,MAEfb,EAAKS,EAAO5L,EAAQ2L,IAEpBF,EAAIS,EAAM,MAKPh4B,EAAS,WACd43B,GAAc,GAEf,GAAIngC,EAAOgd,QAAS,CACnB,IAAMhY,EAAS,IAAIhF,EAAOgd,QAAQ,SAACqjB,EAASC,GAC3C,IAAMC,EAAOH,EAAWC,EAASC,GACjCd,EAAK,GACLe,MAGD,OADAv7B,EAAOuD,OAASA,EACTvD,EAEP,IAAMu7B,EAAOH,EAAW,aAAU,cAGlC,OAFAZ,EAAK,GACLe,KAECh4B,YxBmtKmD,SAAAlI,EAAAF,EAAAO,GyB/zKtD,IAEIkL,EAFEooB,EAAYjrB,EAAQ,IAGpB8C,EL2Be+H,YKvBpB3J,aAAwB,IAAAu2B,EAAZ93B,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAgD,IACvB20B,EAAAv0B,EAAApD,KAAAqD,EAAAL,GAAA/K,KAAA+H,KAAMH,KACD+3B,WAAa/3B,EAAMujB,WAAa,OACrCuU,EAAKE,cAAgBh4B,EAAMwjB,cAAgB,SAHpBsU,ELuBJ5sB,WK3BMogB,GL2BNpgB,wCKzBnB,OAAOhI,IAA+BA,EAAe,IAAIC,OLyBtC+H,mCKHnB,OAAO,IAAI/H,EAAahD,SLGL+K,+BKjBnB,OAAO/K,KAAK43B,YLiBO7sB,aKfNqY,GACbpjB,KAAK43B,WAAaxU,EAClBpjB,KAAK+D,mBLacgH,kCKVnB,OAAO/K,KAAK63B,eLUO9sB,aKRHsY,GAChBrjB,KAAK63B,cAAgBxU,EACrBrjB,KAAK+D,oBLMcgH,KKArBvT,EAAOF,QAAU0L,GJuCf,SAAAxL,EAAAF,EAAAO,GKrEF,IAMIkL,EANEoB,EAAcjE,EAAQ,IAEtBgG,GACL4xB,aAAc,gBAIT3M,EL8DJ,SAAA4M,GKvDD32B,aAGU,IAAA42B,EADPhI,GACOn0B,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,OADPm0B,QACO,OAAA3uB,EAAArB,KAAAmrB,IACT6M,EAAA50B,EAAApD,KAAAqD,EAAA8nB,GAAAlzB,KAAA+H,QACKi4B,SAAWjI,EAFPgI,ELoDT,OAAAl0B,EAAAqnB,EK9DsBhnB,GL8DtB5C,EAAA4pB,EAAA,OAAA9xB,IAAA,aAAAV,IAAA,WK5DA,OAAOuN,KL4DP7M,IAAA,UAAAV,IAAA,WKzDA,OAAOoK,IAA+BA,EAAe,IAAIooB,OLyDzD5pB,EAAA4pB,IAAA9xB,IAAA,gBAAAN,MAAA,WKxCAiH,KAAK6Q,cAAc3K,EAAW4xB,iBLwC9Bz+B,IAAA,QAAAN,MAAA,WKrCA,OAAO,IAAIoyB,EAAUnrB,SLqCrB3G,IAAA,UAAAV,IAAA,WK/CA,OAAOqH,KAAKi4B,UL+CZv7B,IAAA,SK7CWszB,GACXhwB,KAAKi4B,SAAWjI,EAChBhwB,KAAK+D,oBL2CLonB,EAAA,GKlCF3zB,EAAOF,QAAU6zB,GLHf,SAAA3zB,EAAKyQ,EAASA,IMlChB,SAAAnO,GAAA,IAEOa,EAASuF,EAAQ,GAAjBvF,MAEDu9B,GACL,UACA,OACA,QACA,YACA,SACA,QACA,MACA,MACA,OACA,QAiBD,IAAMC,KACAC,KAEN,SAASC,EAAatK,EAASuK,GAC9B,IAAMC,EAAWH,EAAMrK,KAAaqK,EAAMrK,OAC1C,GAAIwK,EAASD,GACZ,OAAOC,EAASD,GAEjB,IAAM7J,EAAM0J,EAAKpK,KAAaoK,EAAKpK,GAAWvX,SAAS6C,cAAc0U,IACrEU,EAAI6J,UAAYA,EAChB9hB,SAASC,KAAKgD,YAAYgV,GAC1B,IACC,IAAM+J,EAAchiB,SAASiiB,YAAYC,iBAAiBjK,EAAK,YAC3D5K,EAAU2U,EAAYG,iBAAiB,WACvC9U,EAAQnpB,QAAU,IAAqB,MAAfmpB,EAAQ,IAA6B,MAAfA,EAAQ,KACrDA,EAAQ,KAAOA,EAAQA,EAAQnpB,OAAS,KAC3CmpB,EAAUA,EAAQ+U,OAAO,EAAG/U,EAAQnpB,OAAS,IAG/C,IAAI+I,EAAO+0B,EAAYG,iBAAiB,QACnCl1B,IACJA,EAAI,GAAApD,OAAMm4B,EAAYG,iBAAiB,cAAnC,KAAAt4B,OACHm4B,EAAYG,iBAAiB,gBAD1B,KAAAt4B,OAEHm4B,EAAYG,iBAAiB,eAF1B,KAAAt4B,OAGHm4B,EAAYG,iBAAiB,aAH1B,KAAAt4B,OAIHm4B,EAAYG,iBAAiB,eAJ1B,KAAAt4B,OAnCP,SAAehI,GAGd,IAFA,IAAMwgC,KACAC,EAAQzgC,EAAKygC,MAAM,QAChB/gC,EAAI,EAAGA,EAAI+gC,EAAMp+B,OAAQ3C,IAAK,CACtC,IAAMyuB,EAAOsS,EAAM/gC,GAAG0c,QAAQ,QAAS,KACZ,IAAvB+R,EAAKhrB,QAAQ,MAAiB,MAAMoZ,KAAK4R,GAG5CqS,EAAOt2B,KAAPs2B,WAAgBrS,EAAhBqS,MAFAA,EAAOt2B,KAAKikB,GAKd,OAAOqS,EAAOnU,KAAK,KA6BhBqU,CAAMP,EAAYG,iBAAiB,kBAErC,IAAMp1B,EAAQi1B,EAAYG,iBAAiB,SACrClvB,EAAQglB,EAAIuK,YACZC,GAAUT,EAAYG,iBAAiB,0BAA4B,IAAIn9B,QAAQ,SAAW,EAEhG,OAAQ+8B,EAASD,IAChBzU,UACApgB,OACAF,QACAkG,QACAwvB,UA1BF,QA6BCziB,SAASC,KAAK0D,YAAYsU,IAmB5B,SAASyK,EAAcC,GACtB,IAAKA,EACJ,OAAOA,EACD,GAAI/+B,EAAc++B,GACxB,OAAOA,EAGR,IAAMC,KAEFntB,EAAQ,EACZisB,EAAe37B,QAASmB,YACnBy7B,EAAUz7B,KAEZuO,EADG7R,EAAc++B,EAAUz7B,IACnBY,KAAKgM,IAAI2B,EAAOktB,EAAUz7B,GAAGhD,QAE7B4D,KAAKgM,IAAI2B,EAAO,MAK3BisB,EAAe37B,QAASmB,YACvB07B,EAAS17B,GApCX,SAAqB27B,EAAMptB,GAC1B,IAAM9P,KACN,GAAI/B,EAAci/B,GAAO,CACxBl9B,EAAOoG,KAAPpG,QAAMm9B,EAASD,IACf,IAAK,IAAIthC,EAAIshC,EAAK3+B,OAAQ3C,EAAIkU,EAAOlU,IACpCoE,EAAOoG,KAAK,WAGb,IAAK,IAAIxK,EAAI,EAAGA,EAAIkU,EAAOlU,IAC1BoE,EAAOoG,KAAK82B,GAGd,OAAOl9B,EAwBQo9B,CAAYJ,EAAUz7B,GAAIuO,KAIzC,IADA,IAAM9P,KAxB2Bq9B,EAAA,SAyBxBzhC,GACR,IAAM6C,KACNs9B,EAAe37B,QAASmB,YACvB9C,EAAK8C,GAAK07B,EAAS17B,GAAG3F,KAEvBoE,EAAOoG,KAAK3H,IALJ7C,EAAI,EAAGA,EAAIkU,EAAOlU,IAAKyhC,EAAvBzhC,GAOT,OAAOoE,EAsBR3E,EAAOF,SACN47B,iBADgB,SACCiG,GAChB,IAAMhJ,EAAQ+I,EAAcC,GAC5B,OAAKhJ,EAGEA,EAAMxM,IAAKmP,YAAD,OAzBnB,SAAmBqG,GAClB,IAAMv+B,KACN,IAAK,IAAM8C,KAAKy7B,EACL,cAANz7B,IAGJ9C,EAAK8C,GAAKy7B,EAAUz7B,IAErB,GAAIy7B,EAAUb,UAAW,CACxB,IAAMe,EAAOhB,EAAac,EAAUpL,SAAW,IAAKoL,EAAUb,WAC9D,IAAK,IAAM56B,KAAK27B,EACV1+B,EAAMw+B,EAAUz7B,MACpB9C,EAAK8C,GAAK27B,EAAK37B,IAIlB,OAAO9C,EASqB6+B,CAAU3G,KAF7B3C,GAITuJ,mBACC,OAAOxB,GAERG,kBLhEQpgC,KAAA+H,KAAAnI,EAAA,mBAPsB,SAAAL,EAA5BF,EAAAO,GAAA,IMjFG26B,ENiFH,WMhFFpxB,aAAyB,IAAb8qB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAwyB,GACxBxyB,KAAKm2B,UAAYjK,EAAOkK,SN+EvB,OAAA70B,EAAAixB,IAAAn5B,IAAA,QAAAN,MAAA,WMrED,OAAO,IAAIy5B,EAAWxyB,SNqErB3G,IAAA,gBAAAN,MAAA,SMnEYyO,EAAMkH,GACnB,YNkECrV,IAAA,2BAAAN,MAAA,eAAAM,IAAA,WAAAV,IAAA,WM5ED,OAAOqH,KAAKm2B,WN4EXz5B,IAAA,SM1EW05B,GACZp2B,KAAKm2B,YAAcC,EACnBp2B,KAAKq2B,+BNwEJ7D,EAAA,GM9DHh7B,EAAOF,QAAUk7B,G5B8oMV,SAASh7B,EAAQF,EAASO,G6BlqMjC,IACIkL,EADEC,EAAe9C,EAAQ,KAEvB+C,E7BgqMgD,SAAA02B,G6B5pMrDv4B,aAAwB,IAAAw4B,EAAZ/5B,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAiD,IACvB22B,EAAAx2B,EAAApD,KAAAqD,EAAAJ,GAAAhL,KAAA+H,KAAMH,KACDyD,OAASzD,EAAM0D,MACpBq2B,EAAKp2B,MAAQ3D,EAAM4D,KACnBm2B,EAAKh2B,cAAgB/D,EAAMgE,cAAgB,WAJpB+1B,E7B4pM6B,OAAA91B,EAAAb,E6BhqMlCD,G7BgqMkCzB,EAAA0B,EAAA,OAAA5J,IAAA,UAAAV,IAAA,W6B9pMpD,OAAOoK,IAA+BA,EAAe,IAAIE,O7B8pML1B,EAAA0B,IAAA5J,IAAA,QAAAN,MAAA,W6BhoMpD,OAAO,IAAIkK,EAAMjD,S7BgoMmC3G,IAAA,QAAAV,IAAA,W6BrpMpD,OAAOqH,KAAKsD,Q7BqpMwC5G,IAAA,S6BnpM3C6G,GACTvD,KAAKsD,OAASC,EACdvD,KAAK+D,mB7BipM+C1K,IAAA,OAAAV,IAAA,W6B9oMpD,OAAOqH,KAAKwD,O7B8oMwC9G,IAAA,S6B5oM5C+G,GACRzD,KAAKwD,MAAQC,EACbzD,KAAK+D,mB7B0oM+C1K,IAAA,eAAAV,IAAA,W6BvoMpD,OAAOqH,KAAK4D,e7BuoMwClH,IAAA,S6BroMpCmH,GAChB7D,KAAK4D,cAAgBC,EACrB7D,KAAK+D,oB7BmoM+Cd,EAAA,G6B7nMtDzL,EAAOF,QAAU2L,GPqIhB,SAAAzL,EAAAF,EAAAO,GAAA,IAAAgiC,EQ1K+B35B,EAAQ,GAAjChE,ER0KN29B,EQ1KM39B,OAAQsB,ER0Kdq8B,EQ1Kcr8B,cACTs8B,EAAQ55B,EAAQ,KACf65B,EAASD,EAATC,MACDC,EAAU95B,EAAQ,IAClB+5B,EAAQ,IAAIF,EAAM75B,EAAQ,MAC1Bg6B,EAAkB,IAAIH,EAAM75B,EAAQ,MAEpCi6B,GACLF,QACAC,mBAEGE,EAAWF,EAOTG,GACLC,cACC,OAAOF,GAERE,YAAYC,GACXH,EAAWC,EAAOlN,GAAGoN,IAAiBH,GAEvCF,sBACC,OAAOA,GAERD,YACC,OAAOA,GAERH,QACA3M,GAdc,SAcXp0B,GACF,IAAKA,EACJ,OAAO,KAER,GAAqB,iBAAVA,EAAoB,CAC9B,IAAMC,EAAIwE,EAAc68B,EAAOG,QAASzhC,GACxC,OAAIC,GAGG,KAER,OAAID,aAAiBghC,EACbhhC,EAED,IAAIghC,EAAMhhC,IAKlByhC,cACC,OAAOt+B,EAAOi+B,EAASH,KAGzBxiC,EAAOF,QAAU+iC,GN9Bf,SAAG7iC,EAAAF,EAAAO,GAAA,IAAA4iC,EOzBkEv6B,EAAQ,GAAxEhG,EPyBFugC,EOzBEvgC,MAAOS,EPyBT8/B,EOzBS9/B,MAAOmB,EPyBhB2+B,EOzBgB3+B,UAAWuB,EPyB3Bo9B,EOzB2Bp9B,WAAY3B,EPyBvC++B,EOzBuC/+B,eAAgBqE,EPyBvD06B,EOzBuD16B,QACtDwd,EAAOrd,EAAQ,IACfiE,EAAcjE,EAAQ,IAEtBgG,GACLw0B,cAAe,gBACfC,eAAgB,iBAChBC,cAAe,iBAGhB,SAASC,EAAS9hC,EAAO+hC,GAYxB,OAXA/hC,EAAQsE,EAAWtE,GACf+C,EAAU/C,KACbA,EAAQA,EAAMgD,KAAMnD,YAInB,OAHKkD,EAAUlD,IACdkiC,EAAeliC,GAETiiC,EAASjiC,EAAGkiC,KAGpBA,EAAe/hC,IAETA,EA6CR,SAASgiC,EAAUC,EAAYzgC,GAC9B,IAAKygC,EAAWC,gBACf,OAAO1gC,EAER,IAAM2gC,EAAWF,EAAWC,gBAAgB1gC,GAC5C,OAAOI,EAAMugC,GAAYA,EAAW3gC,EP/ChC,IOyDC4gC,EPzDD,SAAAC,GOmEJh6B,aAAsB,IAAAi6B,EAAV1/B,EAAUE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAm7B,IACrBE,EAAAj4B,EAAApD,KAAAqD,EAAA83B,GAAAljC,KAAA+H,QACK2b,KAAOhgB,EAAIhD,KAAOgD,EAAIhD,IAAIW,KAAKqC,SAAQlB,EAC5C4gC,EAAKC,QAAU3/B,EAAIjB,QAAU,EAC7B2gC,EAAKJ,iBAAkB,EAJFI,EPnElB,OAAAv3B,EAAAq3B,EOyDoBh3B,GPzDpB5C,EAAA45B,EAAA,OAAA9hC,IAAA,UAAAN,MAAA,SO6DWmB,GACd,OAAO,IAAIihC,GACVxiC,IAAM4B,YAAD,OAAWL,EAAMK,IACtBG,OAAQR,EAAMQ,YPhEZrB,IAAA,aAAAV,IAAA,WO2DH,OAAOuN,MP3DJ3E,EAAA45B,IAAA9hC,IAAA,MAAAN,MAAA,SOyEAwB,GACH,OAAOyF,KAAKu7B,YAAYR,EAAU/6B,KAAMzF,OP1ErClB,IAAA,WAAAN,MAAA,SO4EKwB,EAAOihC,GACf,OAAOx7B,KAAKy7B,iBAAiBV,EAAU/6B,KAAMzF,GAAQihC,MP7ElDniC,IAAA,WAAAN,MAAA,SO+EKwB,EAAOihC,GACf,OAAOx7B,KAAK07B,iBAAiBX,EAAU/6B,KAAMzF,GAAQihC,MPhFlDniC,IAAA,WAAAN,MAAA,SOkFKwB,EAAOihC,EAAOziC,GACtB,OAAOiH,KAAK27B,iBAAiBZ,EAAU/6B,KAAMzF,GAAQihC,EAAOziC,MPnFzDM,IAAA,OAAAN,MAAA,SOqFCyiC,EAAOI,GAAO,IAAAC,EAAA77B,KACZ87B,EAAiB,IAAI1hC,MAAM4F,KAAKs7B,SAEhCS,EAAoB,SAAVH,EACb,SAACI,EAAIC,GAAL,OAAYD,IAAOC,EAAK,EAAID,EAAKC,EAAK,GAAK,GAC3C,SAACD,EAAIC,GAAL,OAAYD,IAAOC,EAAK,EAAID,EAAKC,EAAK,GAAK,GAE9C,OAAO1e,EAAK2e,YACT3hC,YAAD,OAAWI,EAAMmhC,EAAevhC,IAC7BuhC,EAAevhC,GACduhC,EAAevhC,GAASA,GAC5B,SAACA,EAAO6tB,GACP0T,EAAevhC,GAAS6tB,GAEzBpoB,KAAKs7B,QACLS,EACCxhC,YAAD,OAAWshC,EAAKJ,iBAAiBlhC,EAAOihC,KACxCz/B,KAAK,WACN8/B,EAAKZ,gBAAkBa,EACvBD,EAAKhrB,cAAc3K,EAAW00B,oBPxG5BvhC,IAAA,UAAAN,MAAA,WO2HH4iB,EAAAtY,EAAA83B,EAAAzhC,WAAA,UAAAsG,MAAA/H,KAAA+H,SP3HG3G,IAAA,cAAAN,MAAA,SO6HQwB,GAAO,IAAA4hC,EAAAn8B,KAClB,OAAO66B,EAAS76B,KAAK2b,KAAKphB,GAASoC,YAClCw/B,EAAKC,8BAA8B7hC,EAAOoC,QP/HxCtD,IAAA,mBAAAN,MAAA,SOkIawB,EAAOihC,GAAO,IAAAa,EAAAr8B,KAC9B,GAAKrF,EAAM6gC,GAIX,OAvIF,SAASc,EAAS1P,EAAQ4O,EAAOV,GAChC,GAAKngC,EAAMiyB,GAAX,CAGA,GAAI9wB,EAAU8wB,GACb,OAAOA,EAAO7wB,KAAMnD,YAAD,OAAO0jC,EAAS1jC,EAAG4iC,EAAOV,KAE9C,GAAIU,KAAS5O,EACZ,OAAOiO,EAASjO,EAAO4O,GAAQV,GAEhC,GAAqB,mBAAVU,EACV,OAAOX,EAASW,EAAM5O,GAASkO,GAGhC,IAAMyB,EAAO,GAAAl8B,OAAEm7B,GAAS1C,MAAM,KAC9B,OAAIyD,EAAG7hC,QAAU,EACTmgC,EAASjO,EAAO4O,GAAQV,GAEzBD,EAASn/B,EAAc0B,WAAd1B,GAAekxB,EAAQ,SAACjwB,EAAKtE,GAAN,OAAeikC,EAAS3/B,EAAKtE,EAAM0H,KAA1DrE,SAAuE6gC,KAAKzB,IAqHpFwB,CADQt8B,KAAKu7B,YAAYhhC,GACRihC,EAAQ7+B,YAC/B0/B,EAAKG,6BAA6BjiC,EAAOihC,EAAO7+B,QPxI9CtD,IAAA,mBAAAN,MAAA,SO2IawB,EAAOihC,GACvB,IAAK7gC,EAAM6gC,GACV,OAAO,EAER,GAAqB,mBAAVA,EACV,OAAO,EAER,IAAM5O,EAAS5sB,KAAKu7B,YAAYhhC,GAChC,OAAOqyB,GAAU4O,KAAS5O,KPnJvBvzB,IAAA,mBAAAN,MAAA,SOqJawB,EAAOihC,EAAOziC,GAC9B,GAAK4B,EAAM6gC,GAIX,OAtIF,SAAkB5O,EAAQ4O,EAAOziC,GAChC,GAAIyiC,KAAS5O,EACZA,EAAO4O,GAASziC,MACV,IAAqB,mBAAVyiC,EACjB,OAAOA,EAAM5O,EAAQ7zB,GACf,GAAqB,iBAAVyiC,EAIjB,IAHA,IAAMe,EAAO,GAAAl8B,OAAEm7B,GAAS1C,MAAM,KAC1Bn9B,EAAMixB,EACHlyB,EAAU6hC,EAAV7hC,OACE3C,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAK,CAChC,IAAMi0B,EAAIuQ,EAAGxkC,GACTA,IAAM2C,EAAS,EAClBiB,EAAIqwB,GAAKjzB,EAET4C,EAAMA,EAAIqwB,KAAOrwB,EAAIqwB,YAIvBY,EAAO4O,GAASziC,EAEjB,OAAO,EAkHC0jC,CADQz8B,KAAKu7B,YAAYhhC,GACRihC,EAAOziC,MP1J5BM,IAAA,+BAAAN,MAAA,SO4JyBwB,EAAOihC,EAAO7+B,OP5JvCtD,IAAA,gCAAAN,MAAA,SO+J0BwB,EAAOoC,OP/JjCtD,IAAA,SAAAV,IAAA,WO4GH,OAAOqH,KAAKs7B,SP5GT5+B,IAAA,SO8GOhC,GACV,GAAIsF,KAAKs7B,UAAY5gC,EAArB,CAIA,IAAMkW,EAAU5Q,KAAK6Q,cAAc3K,EAAWw0B,cAAehgC,GACzDR,EAAMM,UAAUoW,EAAUE,YAAD,OAAQA,KAAM,IAG3C9Q,KAAKs7B,QAAU5gC,EACfsF,KAAK6Q,cAAc3K,EAAWy0B,eAAgB36B,KAAKs7B,ePxHhDH,EAAA,GOmKLA,EAAWuB,MAAQ,IAAIvB,GACtBzgC,OAAQ,IAGTlD,EAAOF,QAAU6jC,G/BoxLjB,SAAA3jC,EAAAF,EAAAO,GAAA,IgCp9LOmE,EAAWkE,EAAQ,GAAnBlE,QAEP,SAAS2gC,IACR,OAAIxlC,EAAOylC,SAAW5gC,EAAQjB,KACtB5D,EAAOylC,OAER18B,EAAQ,KAGhB1I,EAAOF,SACN0U,KADgB,SACXxU,EAAQoS,EAAKkG,EAAGC,EAAGpC,EAAGK,GAC1BpE,EAAIW,OACJ,IAAI,IACId,EAAiBjS,EAAjBiS,MAAOF,EAAU/R,EAAV+R,OACHszB,EAA8CrlC,EAAlDslC,GAFJC,EAEsDvlC,EAAlCsY,EAAGktB,OAFvB,IAAAD,EAEiC,EAFjCA,EAAAE,EAEsDzlC,EAAlBuY,EAAGmtB,OAFvC,IAAAD,EAEiD,EAFjDA,EAKGE,GAFNxvB,EAAIA,GAAKlE,GAESA,EACZ2zB,GAFNpvB,EAAIA,GAAKzE,IAEUszB,GAActzB,EAASA,GAC1CuG,EAAIA,GAAK,EACTC,EAAI8sB,GAAe9sB,GAAK,IAAOxG,EAAS6zB,EAAWrtB,GAAK,EAExDnG,EAAIyzB,UAAUvtB,EAAGC,GACjBnG,EAAI0zB,MAAMH,EAAOC,GACD,IAAZJ,GAA6B,IAAZE,GACpBtzB,EAAIyzB,UAAUL,EAASE,GAExB,IAAMN,EAASD,IACfnlC,EAAO+lC,OAAS/lC,EAAO+lC,QAAW,IAAIX,EAAOplC,EAAOY,GACpDwR,EAAIoC,KAAKxU,EAAO+lC,QAjBjB,QAmBC3zB,EAAI0B,YAGNsxB,aACC,OAAOD,OLsBP,SAAAnlC,EAAWF,EAAGkhC,OMvDVtyB,GAAahK,EAFFgE,EAAQ,GAAlBhE,QACUgE,EAAQ,GACUgG,YAClCs3B,cAAe,gBACfC,qBAAsB,yBAEvBjmC,EAAOF,QAAU4O,GNsEf/J,WAAOoG,EAAPpG,GAAM,IO5EFuhC,EP4EE,WO3EPt8B,WAAYoG,GAAMnG,EAAArB,KAAA09B,GACjB19B,KAAK6V,MAAQrO,EP0EP,OAAAjG,EAAAm8B,IAAArkC,IAAA,UAAAN,MAAA,WOvENiH,KAAK29B,uBACD39B,KAAK49B,iBACR59B,KAAK49B,gBAAgBxmB,UAEtBpX,KAAK49B,gBAAkB,QPmEjBvkC,IAAA,qBAAAN,MAAA,WOhEN,OAAOiH,KAAK49B,kBAAoB59B,KAAK49B,gBAAkB59B,KAAK69B,mCPgEtDxkC,IAAA,+BAAAN,MAAA,eAAAM,IAAA,0BAAAN,MAAA,SO3DiB40B,EAAS5iB,EAASlL,EAAO4sB,EAAQH,OP2DlDjzB,IAAA,uBAAAN,MAAA,SOxDc+P,EAAKP,EAAKolB,GACP3tB,KAAK89B,qBACbC,OAAO/9B,KAAK6V,MAAO/M,EAAKP,EAAKolB,MPsDtCt0B,IAAA,qBAAAN,MAAA,SOpDY+P,EAAKP,GACAvI,KAAK89B,qBACbE,KAAKh+B,KAAK6V,MAAO/M,EAAKP,MPkD/BlP,IAAA,uBAAAN,MAAA,WO/CiBiH,KAAK89B,qBACbG,aP8CT5kC,IAAA,kBAAAN,MAAA,SO5CS40B,EAAS5iB,EAASlL,EAAO4sB,EAAQH,GAChDtsB,KAAKk+B,wBAAwBvQ,EAAS5iB,EAASlL,EAAO4sB,EAAQH,OP2CxDoR,EAAA,GOvCRlmC,EAAOF,QAAUomC,GPyFf,SAAAlmC,EAAUF,EAAAO,GQ/HZ,IAAMsJ,EAAejB,EAAQ,GAE5BmZ,EACGnZ,EAAQ,IADXmZ,cAGK8kB,EAAY,gCACZC,EAAiB,GAAA/9B,OAAM89B,EAAN,aACjBE,EAAgB,GAAAh+B,OAAM89B,EAAN,YAChBG,EAAe,GAAAj+B,OAAM89B,EAAN,WRuHI,IQ5GnBI,ER4GmB,WQ3GxBn9B,aAAcC,EAAArB,KAAAu+B,GACbv+B,KAAK8V,SAAW,IAAI3U,EACpB,IAAMq9B,EAAcx+B,KAAKy+B,aAZ3B,WACCv+B,EAAQ,KACR,IAAMs+B,EAAcnlB,EAAc,OAAQC,WAAY6kB,EAAWE,KAC3DK,EAAiBrlB,EAAc,QAASC,WAAY8kB,KAE1D,OADAI,EAAY/kB,YAAYilB,GACjBF,EAOkCG,GACxC3+B,KAAK49B,gBAAkBY,EAAYlZ,cAAZkZ,WAA8BJ,IRwG9B,OAAA78B,EAAAg9B,IAAAllC,IAAA,UAAAN,MAAA,WQrGvBiH,KAAK4+B,SACL5+B,KAAK8V,SAASsB,UACdpX,KAAKy+B,aAAe,KACpBz+B,KAAK49B,gBAAkB,QRkGAvkC,IAAA,SAAAN,MAAA,SQhGjByO,EAAMsB,EAAKP,EAAKolB,GACtB,IAAM6Q,EAAcx+B,KAAKy+B,aACnBC,EAAiB1+B,KAAK49B,gBAE5BY,EAAYllB,UAAUS,OAAOukB,GAC7BE,EAAYllB,UAAUC,IAAI8kB,GAEtBr+B,KAAK6+B,YAAYr3B,EAAMsB,EAAKP,IAC/Bi2B,EAAYllB,UAAUC,IAAI+kB,GAC1BE,EAAYllB,UAAUS,OAAOskB,GAE7BK,EAAetQ,YAAcT,EAAQA,SAErC3tB,KAAKi+B,aRmFiB5kC,IAAA,OAAAN,MAAA,SQhFnByO,EAAMsB,EAAKP,GACf,IAAMi2B,EAAcx+B,KAAKy+B,aACrBz+B,KAAK6+B,YAAYr3B,EAAMsB,EAAKP,IAE/Bi2B,EAAYllB,UAAUC,IAAI+kB,GAC1BE,EAAYllB,UAAUS,OAAOskB,IAE7Br+B,KAAKi+B,aRyEiB5kC,IAAA,SAAAN,MAAA,WQrEvBiH,KAAKi+B,aRqEkB5kC,IAAA,UAAAN,MAAA,WQlEvB,IAAMylC,EAAcx+B,KAAKy+B,aACrBD,EAAYzhC,gBACfyhC,EAAYzhC,cAAcod,YAAYqkB,GACtCA,EAAYllB,UAAUS,OAAOukB,GAC7BE,EAAYllB,UAAUC,IAAI8kB,OR8DJhlC,IAAA,cAAAN,MAAA,SQ3DZyO,EAAMsB,EAAKP,GACtB,IAAMi2B,EAAcx+B,KAAKy+B,aADEK,EAEHt3B,EAAKu3B,kBAAkBj2B,EAAKP,GAA7C4H,EAFoB2uB,EAEpB3uB,QAAShG,EAFW20B,EAEX30B,KAED9B,EAAoB8B,EAA5BlC,OAAaW,EAAeuB,EAAfvB,KAAMa,EAASU,EAATV,MACnBP,EAAkC1B,EAAlC0B,eAAgBG,EAAkB7B,EAAlB6B,eACvB,GAAId,GAAOW,GAAkBA,EAAiB,GAE7C,GAAIb,EADuBb,EAAKu3B,kBAAkBj2B,EAAKI,EAAiB,GAAjEiB,KACclC,OACpB,OAAO,OAGR,GAAII,EAAM,EACT,OAAO,EAGT,GAAIS,GAAOO,GAAkBA,EAAiB,GAE7C,GAAIT,EADuBpB,EAAKu3B,kBAAkB11B,EAAiB,EAAGd,GAA/D4B,KACepB,MACrB,OAAO,OAGR,GAAIH,EAAO,EACV,OAAO,EAvBkB,IA0BpB+X,EAA6BxQ,EAA7BwQ,aAAcD,EAAevQ,EAAfuQ,YACrB,QAAIC,EAAetY,OAGfqY,EAAc9X,KAIlB41B,EAAY3+B,MAAMwI,IAAlBm2B,UAA2Bn2B,EAAIwS,UAA/B2jB,MACAA,EAAY3+B,MAAM+I,KAAlB41B,UAA4B51B,EAAKiS,UAAjC2jB,MACAA,EAAY3+B,MAAM4J,MAAlB+0B,UAA6B/0B,EAAMoR,UAAnC2jB,MACIA,EAAYzhC,gBAAkBoT,GACjCA,EAAQsJ,YAAY+kB,IAEd,QRmBgBD,EAAA,GQfzB/mC,EAAOF,QAAUinC,GnCotNV,SAAS/mC,EAAQF,EAASO,GoCn0NjC,IAAMuM,EAAOlE,EAAQ,IACrB1I,EAAOF,SACN0nC,uBADgB,SACOj0B,EAASlL,EAAO4sB,GAAQ,IAEvCuD,EAAkBnwB,EAAlBmwB,QAASzsB,EAAS1D,EAAT0D,MACVqG,EAAMmB,EAAQ8T,aACd1U,EAAOY,EAAQk0B,UAErBr1B,EAAIkC,UAAYkkB,EAChB,IAAMkP,EAAU/0B,EAAKiJ,OACrB8rB,EAAQt2B,KAAOs2B,EAAQn2B,MAAQ,GAC/Ba,EAAIu1B,SAASD,EAAQt2B,KAAMs2B,EAAQ72B,IAAK62B,EAAQz1B,MAAOy1B,EAAQ31B,OAAS,GAGxE,IAAM61B,EAAY77B,EAGZqF,EAAOs2B,EAAQt2B,MAAQs2B,EAAQz1B,MADvBF,GACwC,EAChDlB,EAAM62B,EAAQ72B,KAAO62B,EAAQ31B,OAHpB,IAGuC,EACtDkjB,EAAO4S,kBAAkB,IAAIj7B,EAAKwE,EAAMP,EAH1BkB,EAGsCA,IAClDwB,GAAUq0B,cACZ3S,EAAO4S,kBAAkB,IAAIj7B,EAAKwE,EAAMP,EAAMkB,GALhCA,EAKuDA,GACnEwB,GAAUq0B,eAEbE,sBAvBgB,SAuBMv0B,EAASlL,EAAO4sB,GAAQ,IAEtCuD,EAAkBnwB,EAAlBmwB,QAASzsB,EAAS1D,EAAT0D,MACVqG,EAAMmB,EAAQ8T,aACd1U,EAAOY,EAAQk0B,UAErBr1B,EAAIkC,UAAYkkB,EAChB,IAAMkP,EAAU/0B,EAAKiJ,OACrB8rB,EAAQt2B,KAAOs2B,EAAQn2B,MAAQ,GAC/Ba,EAAIu1B,SAASD,EAAQt2B,KAAMs2B,EAAQ72B,IAAK62B,EAAQz1B,MAAOy1B,EAAQ31B,OAAS,GAGxE,IAAM61B,EAAY77B,EAGZqF,EAAOs2B,EAAQt2B,MAAQs2B,EAAQz1B,MADvBF,GACwC,EAChDlB,EAAM62B,EAAQ72B,KAAO62B,EAAQ31B,OAHpB,IAGuC,EACtDkjB,EAAO4S,kBAAkB,IAAIj7B,EAAKwE,EAAMP,EAH1BkB,EAGsCA,GAClDwB,GAAUq0B,cACZ3S,EAAO4S,kBAAkB,IAAIj7B,EAAKwE,EAAMP,EAAMkB,EALhCA,EAKuDA,IACnEwB,GAAUq0B,iBNLV,SAAA5nC,EAAAF,EAAAO,GOzBJ,IAAI0nC,EACEzf,EAAe,WACpB5f,EAAQ,IACRq/B,EAjBD,WACC,IAAMC,EAAQhpB,SAAS6C,cAAc,OAC9BxZ,EAAS2/B,EAAT3/B,MACPA,EAAM3B,SAAW,WACjB2B,EAAM0J,OAAS,SACf1J,EAAM4J,MAAQ,qBACd5J,EAAM8rB,QAAU,EAChB6T,EAAMpR,YAAc,IACpB5X,SAASC,KAAKgD,YAAY+lB,GARE,IASrB/1B,EAAS+M,SAASiiB,YAAYC,iBAAiB8G,EAAO,IAAtD/1B,MAEP,OADA+M,SAASC,KAAK0D,YAAYqlB,GACnBC,SAASh2B,EAAO,IAMNi2B,IAAuB,GACxC,IAAM7/B,EAAQ2W,SAAS6C,cAAc,SACrCxZ,EAAM4b,aAAa,OAAQ,YAC3B5b,EAAM4b,aAAa,YAAa,gBAChC5b,EAAMwuB,UAANxuB,6DAGS0/B,EAHT1/B,0BAIU0/B,EAJV1/B,0EAO6B0/B,EAP7B1/B,sCAQqB0/B,EARrB1/B,+CAS8B0/B,EAT9B1/B,uCAUsB0/B,EAVtB1/B,iBAcA2W,SAASiP,KAAKhM,YAAY5Z,IAGrBA,GACLigB,aADa,WAEZjgB,EAAMigB,aAAe,aACrBA,KAEDlF,iBALa,WAMZ,OAAO2kB,IAIT/nC,EAAOF,QAAUuI,GN1BhB,SAAArI,EAAAF,EAAAO,GAAA,IAAA8nC,EOtB0Dz/B,EAAQ,GAA5DoqB,EPsBNqV,EOtBMrV,iBAAkBZ,EPsBxBiW,EOtBwBjW,kBAAmBllB,EPsB3Cm7B,EOtB2Cn7B,YACrCsD,EAAYxJ,KAAZwJ,KAAM83B,EAAMthC,KAANshC,GAiDb,SAASC,EAAUj2B,EAAKhB,EAAMP,EAAKoB,EAAOF,EAAQu2B,GACjDl2B,EAAIiC,YACJjC,EAAIm2B,IAAIn3B,EAAOk3B,EAAQz3B,EAAMy3B,EAAQA,GAASF,GAAK,GAAMA,GAAI,GAC7Dh2B,EAAIm2B,IAAIn3B,EAAOa,EAAQq2B,EAAQz3B,EAAMy3B,EAAQA,GAAS,GAAMF,EAAI,GAAG,GACnEh2B,EAAIm2B,IAAIn3B,EAAOa,EAAQq2B,EAAQz3B,EAAMkB,EAASu2B,EAAQA,EAAQ,EAAG,GAAMF,GAAI,GAC3Eh2B,EAAIm2B,IAAIn3B,EAAOk3B,EAAQz3B,EAAMkB,EAASu2B,EAAQA,EAAQ,GAAMF,EAAIA,GAAI,GACpEh2B,EAAIo2B,YAEL,SAASC,EAAcr2B,EAAKhB,EAAMP,EAAKoB,EAAOF,EAAQu2B,GACrDD,EAAUj2B,EAAKhB,EAAMP,EAAKoB,EAAOF,EAAQu2B,GACzCl2B,EAAIoC,OAEL,SAASk0B,EAAgBt2B,EAAKhB,EAAMP,EAAKoB,EAAOF,EAAQu2B,GACvDD,EAAUj2B,EAAKhB,EAAMP,EAAKoB,EAAOF,EAAQu2B,GACzCl2B,EAAIu2B,SA6EL,SAASC,EAAgBx2B,GACxB,OACCH,MAAOjF,EAAYoF,EAAK,MAAMH,OAuHhC,IAAMgoB,GACLoO,YACAI,gBACAC,kBACAG,aA7GD,SAAsBz2B,EAAKkG,EAAGC,EAAGuwB,GAMvB,IAAAC,EAAA1kC,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAA2kC,EAAAD,EAJPE,sBAIO,IAAAD,EAJU,OAIVA,EAAAE,EAAAH,EAHPI,oBAGO,IAAAD,EAHQ,kBAGRA,EAAAE,EAAAL,EAFPM,mBAEO,IAAAD,EAFO,OAEPA,EAAAE,EAAAP,EADPQ,eACO,IAAAD,EADGV,EAAgBx2B,GAAKH,MACxBq3B,EACHE,EAA8B,iBAAVV,EAAsBA,EAAQ,EAAI,EAAIA,EAAS,EAEzE12B,EAAIW,OACJ,IAqBC,GApBAX,EAAIkC,UAAYw0B,EAAQK,EAAeF,EAEvCR,EACEr2B,EACA9B,EAAKgI,GAAK,EACVhI,EAAKiI,GAAK,EACVjI,EAAKi5B,EAAU,GACfj5B,EAAKi5B,EAAU,GACfA,EAAU,GAEZn3B,EAAI0Z,UAAY,EAChB1Z,EAAIuZ,YAAc0d,EAClBX,EACEt2B,EACA9B,EAAKgI,GAAK,GACVhI,EAAKiI,GAAK,GACVjI,EAAKi5B,GACLj5B,EAAKi5B,GACLA,EAAU,GAERT,EAAO,CACV12B,EAAI0Z,UAAYxb,EAAKi5B,EAAU,IAC/Bn3B,EAAIuZ,YAAcsd,EAClB,IAAIQ,EAAYF,EAAU,EACtBG,EAAaH,EAAU,EAAI,GACzBI,EAAcrxB,EAAc,GAAVixB,EAClBK,EAAarxB,EAAIgxB,EAAU,EAE7BC,EAAa,KAChBC,GAA2B,EAAbD,GAGfp3B,EAAIiC,YACJjC,EAAIy3B,OAAOF,EAAaC,GACxBx3B,EAAI03B,OAAOH,EAAcF,EAAWG,EAAaH,GAC7CD,EAAa,KACZA,EAAa,IAChBE,GAAoC,GAApBF,EAAa,KAE9Bp3B,EAAI03B,OAAOH,EAAcF,EAAYC,EAAYE,EAAaH,EAAYC,IAE3Et3B,EAAIu2B,UA1CN,QA6CCv2B,EAAI0B,YAuDL80B,kBACAxO,aA1MD,SAAsBhoB,EAAKskB,EAAMtlB,EAAMP,EAAKoB,EAAOF,GAIzC,IAAAg4B,EAAA1lC,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAA2lC,EAAAD,EAFPhzB,cAEO,IAAAizB,EAFE,EAEFA,EADP79B,EACO49B,EADP59B,QAEIwG,GACLvB,OACAP,MACAoB,QACAF,SACAR,MAAOH,EAAOa,EACdxB,OAAQI,EAAMkB,GAEfK,EAAIW,OACJ,IACCX,EAAIiC,YACJjC,EAAIO,KAAKA,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAE/CK,EAAI63B,OAGJ,IAAMC,EAAMpX,EAAiB1gB,EAAKO,GACjCoE,SACA5K,YAGDiG,EAAI+3B,SAASzT,EAAMwT,EAAI5xB,EAAG4xB,EAAI3xB,GAZ/B,QAcCnG,EAAI0B,YA+KLs2B,WAtDD,SAAoBh4B,EAAKhB,EAAMP,EAAKoB,EAAOF,GAAqB,IAAb2iB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAgmC,EAM3D3V,EAJH4V,uBAF8D,IAAAD,EAE5C,OAF4CA,EAAAE,EAM3D7V,EAHH8D,eAH8D,IAAA+R,EAGpDD,EAHoDC,EAAAC,EAM3D9V,EAFH4T,cAJ8D,IAAAkC,EAIrD,EAJqDA,EAAAC,EAM3D/V,EADHgW,cAL8D,IAAAD,OAO/Dr4B,EAAIW,OACJ,IAGC,GAFAX,EAAIkC,UAAYkkB,EAEZkS,EAAQ,KAAAC,EAUPD,EARH3+B,aAFU,IAAA4+B,EAEF,sBAFEA,EAAAC,EAUPF,EAPHG,YAHU,IAAAD,EAGH,EAHGA,EAAAE,EAUPJ,EANHlF,eAJU,IAAAsF,EAIA,EAJAA,EAAAC,EAUPL,EALHhF,eALU,IAAAqF,EAKA,EALAA,EAAAC,EAUPN,EAJH3zB,OANUk0B,GAAAD,OAAA,IAAAA,QAOT1yB,EAAG4yB,OAPM,IAAAD,EAODzF,EAPCyF,EAAAE,EAAAH,EAQTzyB,EAAG6yB,OARM,IAAAD,EAQDzF,EARCyF,EAWX/4B,EAAIi5B,YAAct/B,EAClBqG,EAAIk5B,WAAaT,EACjBz4B,EAAIm5B,cAAgBL,EACpB94B,EAAIo5B,cAAgBJ,EAGrB3C,EACEr2B,EACA9B,EAAKc,GACLd,EAAKO,GACLP,EAAK2B,GACL3B,EAAKyB,GACLu2B,GA1BH,QA6BCl2B,EAAI0B,YAkBL23B,oBA7KD,SAA6Br5B,EAAKs5B,EAChCC,EAASC,EAAQC,EAAUC,EAC3BC,EAAWC,EACX56B,EAAMP,EAAKoB,EAAOF,GAIV,IAAAk6B,EAAA5nC,UAAAnB,OAAA,SAAAD,IAAAoB,UAAA,IAAAA,UAAA,OAAA6nC,EAAAD,EAFPl1B,cAEO,IAAAm1B,EAFE,EAEFA,EADP//B,EACO8/B,EADP9/B,QAEIwG,GACLvB,OACAP,MACAoB,QACAF,SACAR,MAAOH,EAAOa,EACdxB,OAAQI,EAAMkB,GAEfK,EAAIW,OACJ,IACCX,EAAIiC,YACJjC,EAAIO,KAAKA,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAE/CK,EAAI63B,OAGJ,IAAMC,EAAMhY,EAAkB9f,EAAKO,EAAMo5B,EAAWC,GACnDj1B,SACA5K,YAGDiG,EAAIsJ,UAAUgwB,EACZC,EAASC,EAAQC,EAAUC,EAC3B5B,EAAI5xB,EAAG4xB,EAAI3xB,EAAGwzB,EAAWC,GAd5B,QAiBC55B,EAAI0B,YA4ILq4B,iBA5QD,SAA0B/5B,EAAKg6B,EAAch7B,EAAMP,EAAKoB,EAAOF,GA8B1Dq6B,EAAa,KAAOA,EAAa,IACnCA,EAAa,KAAOA,EAAa,IACjCA,EAAa,KAAOA,EAAa,GAC9BA,EAAa,KAChBh6B,EAAIuZ,YAAcygB,EAAa,GAC/Bh6B,EAAIi6B,WAAWj7B,EAAMP,EAAKoB,EAAOF,IAlCnC,SAAyBu6B,GACxB,IAAK,IAAI/rC,EAAI,EAAGA,EAAI6rC,EAAalpC,OAAQ3C,IAAK,CAC7C,IAAMwL,EAAQqgC,EAAa7rC,GACrBgsC,EAAWH,EAAa7rC,EAAI,GAClC,GAAIwL,EAAO,CACV,GAAIwgC,IAAaxgC,EAAO,CACnBwgC,IACHn6B,EAAIuZ,YAAc4gB,EAClBn6B,EAAIu2B,UAEL,IAAM6D,EAAOF,EAAU/rC,GACvB6R,EAAIiC,YACJjC,EAAIy3B,OAAO2C,EAAKl0B,EAAGk0B,EAAKj0B,GAEzB,IAAMk0B,EAAOH,EAAU/rC,EAAI,GAC3B6R,EAAI03B,OAAO2C,EAAKn0B,EAAGm0B,EAAKl0B,QAEpBg0B,IACHn6B,EAAIuZ,YAAc4gB,EAClBn6B,EAAIu2B,UAIP,IAAM4D,EAAWH,EAAaA,EAAalpC,OAAS,GAChDqpC,IACHn6B,EAAIuZ,YAAc4gB,EAClBn6B,EAAIu2B,UAWL+D,GACEp0B,EAAGlH,EAAMmH,EAAG1H,IACZyH,EAAGlH,EAAOa,EAAOsG,EAAG1H,IACpByH,EAAGlH,EAAOa,EAAOsG,EAAG1H,EAAMkB,IAC1BuG,EAAGlH,EAAMmH,EAAG1H,EAAMkB,IAClBuG,EAAGlH,EAAMmH,EAAG1H,OAqOhB7Q,EAAOF,QAAUm6B,GN3Pd,SAAAj6B,EAAIwlC,KOxBP,IAAMmH,EAASjkC,EAAQ,IACjBsB,EAAOtB,EAAQ,IACfL,EAAQK,EAAQ,IAQtB1I,EAAOF,SACN6sC,SACA3iC,OACA3B,UvC4kNqD,SiCzlN/C3D,EjCylN+C5E,EAAAO,GAAA,IAAAusC,EwCzlNLlkC,EAAQ,IAAlDmkC,ExCylN+CD,EwCzlN/CC,oBAAqBC,ExCylN0BF,EwCzlN1BE,kBAEtB9R,EAAatyB,EAAQ,IAErBqkC,ExCqlNgD,SAAAC,GwCplNrDpjC,aAAyB,IAAAqjC,EAAbvY,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAukC,IACxBE,EAAArhC,EAAApD,KAAAqD,EAAAkhC,GAAAtsC,KAAA+H,KAAMksB,KACDwY,QAAUxY,EAAOiY,OAFEM,ExColN4B,OAAA3gC,EAAAygC,EwCrlNjC/R,GxCqlNiCjxB,EAAAgjC,IAAAlrC,IAAA,QAAAN,MAAA,WwCzkNpD,OAAO,IAAIwrC,EAAOvkC,SxCykNkC3G,IAAA,WAAAN,MAAA,SwCvkN5CyO,GACR,YxCskNoDnO,IAAA,gBAAAN,MAAA,SwCpkNvCyO,EAAMsB,EAAKglB,GAAM,IAAA6W,EAAA3kC,KACxByrB,EAAQzrB,KAAK4kC,SAASp9B,GACtB28B,EAAU5zB,YACf,IAAIo0B,EAAKvO,SAAT,CAGA,IAAMxJ,EAASplB,EAAKq9B,aAAat0B,EAAKhI,KACtCo8B,EAAKD,QAAQ9X,KAGd,OAAA0M,EACI+K,EAAoB78B,EAAMsB,EAAKglB,GACjCqW,SACAW,UAAY5lC,YACX,OAAIylC,EAAKvO,WAGT3K,EAAMsZ,iBACLj8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,KAERf,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,MACtB,IAER08B,SAAW/lC,mBACHusB,EAAMsZ,gBACbv9B,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,SAhBhClI,OAAAi5B,EAmBIgL,EAAkB98B,EAAMsB,EAAKglB,GAC/BqW,gBxCsiNkD9qC,IAAA,SAAAV,IAAA,WwC/kNpD,OAAOqH,KAAK0kC,SxC+kNwChoC,IAAA,SwC7kN1CynC,GACVnkC,KAAK0kC,QAAUP,MxC4kNqCI,EAAA,GwChiNtD/sC,EAAOF,QAAUitC,GxCmjNqC,SAAA/sC,EAAAF,EAAAO,GAAA,IAAAqtC,EyC5mNjBhlC,EAAQ,GAAtCpE,EzC4mN+CopC,EyC5mN/CppC,UAAmB4D,EzC4mN4BwlC,EyC5mNpClmC,MAAQU,OzC4mN4BylC,EyCtmNjDjlC,EAAQ,GALNgG,WACNC,EzC0mNqDg/B,EyC1mNrDh/B,WACAU,EzCymNqDs+B,EyCzmNrDt+B,eACAC,EzCwmNqDq+B,EyCxmNrDr+B,cACAL,EzCumNqD0+B,EyCvmNrD1+B,QAEK2+B,EAAY,GA6ElB5tC,EAAOF,SACN+sC,oBA7ED,SAA6B78B,EAAMsB,EAAKglB,EAAxCuX,GAIG,IAHFlB,EAGEkB,EAHFlB,OACAW,EAEEO,EAFFP,UACAG,EACEI,EADFJ,SAEA,OAECz9B,EAAKgL,OAAOrM,EAAajH,YACnB4uB,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAGxBzM,EAAU0L,EAAKq9B,aAAa3lC,EAAEqJ,OAGlC47B,GACCr7B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,SAITf,EAAKgL,OAAO3L,EAAiB3H,YACvB4uB,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAGxBzM,EAAU0L,EAAKq9B,aAAa3lC,EAAEqJ,OAG9Bu8B,IACEA,GACJh8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,QAKTf,EAAK2K,aAAatS,MAAMwS,OAAS,cAElC7K,EAAKgL,OAAO1L,EAAgB5H,YACtB4uB,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAGxB08B,GACHA,GACCn8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,MAGTf,EAAK2K,aAAatS,MAAMwS,OAAS,QA+BnCiyB,kBA3BD,SAA2B98B,EAAMsB,EAAKglB,EAAtCyX,GAAuE,IAA1BpB,EAA0BoB,EAA1BpB,OAA0BqB,EAAAD,EAAlBE,kBAAkB,IAAAD,OAEtE,OADAC,EAAUnM,EAAOmM,GAAPplC,QAAmB+kC,KAG5B59B,EAAKgL,OAAO/L,EAAS,SAAClH,EAASL,GAC9B,IAAqC,IAAjCumC,EAAWjqC,QAAQ+D,GAAvB,CAGA,IAAMif,EAAMhX,EAAKqD,UAAU4G,OACtBqc,EAAKwX,SAAS9mB,EAAI1V,IAAK0V,EAAIjW,OAG5BzM,EAAU0L,EAAKq9B,aAAarmB,EAAIjW,QAGpC47B,GACCr7B,IAAK0V,EAAI1V,IACTP,IAAKiW,EAAIjW,MAEV7I,EAAOR,YzCy2OH,SAAS1H,EAAQF,EAASO,GAAqB,I0Cr7O5CqM,EAENhE,EAAQ,GAHXlB,MACCU,OAGI+yB,EAASvyB,EAAQ,I1Ck7O+BwlC,E0Cv6OjDxlC,EAAQ,GAVNgG,WACNa,E1Cg7OqD2+B,E0Ch7OrD3+B,WACAC,E1C+6OqD0+B,E0C/6OrD1+B,WACAC,E1C86OqDy+B,E0C96OrDz+B,mBACAT,E1C66OqDk/B,E0C76OrDl/B,cACAJ,E1C46OqDs/B,E0C56OrDt/B,cACAC,E1C26OqDq/B,E0C36OrDr/B,YACAI,E1C06OqDi/B,E0C16OrDj/B,QACAS,E1Cy6OqDw+B,E0Cz6OrDx+B,iCACAE,E1Cw6OqDs+B,E0Cx6OrDt+B,OAKKu+B,E1Cm6OgD,SAAAC,G0Cl6OrDxkC,aAAyB,IAAb8qB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA2lC,GAAAviC,EAAApD,KAAAqD,EAAAsiC,GAAA1tC,KAAA+H,KAClBksB,I1Ci6O8C,OAAApoB,EAAA6hC,E0Cn6OxBlT,G1Cm6OwBlxB,EAAAokC,IAAAtsC,IAAA,QAAAN,MAAA,W0C95OpD,OAAO,IAAI4sC,EAAgB3lC,S1C85OyB3G,IAAA,sBAAAN,MAAA,S0C55OjCyO,EAAM+I,EAAMs1B,GAC/B,MAAM,IAAIhjB,S1C25O0CxpB,IAAA,qBAAAN,MAAA,S0Cz5OlCyO,EAAM+I,GACxB,MAAM,IAAIsS,S1Cw5O0CxpB,IAAA,6BAAAN,MAAA,S0Ct5O1ByO,EAAM+I,EAAMkC,GACtC,MAAM,IAAIoQ,S1Cq5O0CxpB,IAAA,0BAAAN,MAAA,S0Cn5O7ByO,EAAM+I,EAAMuI,GACnC,MAAM,IAAI+J,S1Ck5O0CxpB,IAAA,uBAAAN,MAAA,S0Ch5OhCyO,GACpB,MAAM,IAAIqb,S1C+4O0CxpB,IAAA,gBAAAN,MAAA,S0C74OvCyO,EAAMsB,EAAKglB,GAAM,IAAAgY,EAAA9lC,KACxB+lC,EAAQx1B,YACTu1B,EAAKtsB,UAAYssB,EAAK1P,UAG1B0P,EAAKE,mBAAmBx+B,EAAM+I,IAGzBuI,EAAQ,SAACvI,EAAMxX,GAChB+sC,EAAKtsB,UAAYssB,EAAK1P,UAG1B0P,EAAKG,oBAAoBz+B,EAAM+I,EAAMxX,IAEtC,OACCyO,EAAKgL,OAAOzL,EAAa7H,YACnB4uB,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,MAG5BuQ,GACChQ,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,KACLrJ,EAAEnG,SAENyO,EAAKgL,OAAOxL,EAAa9H,YACpBA,EAAEyV,OAIDmZ,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAG5BrE,EAAYhF,EAAEF,OACd8Z,GACChQ,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,KACLrJ,EAAEsV,mBAENhN,EAAKgL,OAAOpM,EAAgBmK,YACtBud,EAAKwX,SAAS/0B,EAAKzH,IAAKyH,EAAKhI,MAGlCw9B,GACCj9B,IAAKyH,EAAKzH,IACVP,IAAKgI,EAAKhI,QAGZf,EAAKgL,OAAOnM,EAAcnH,YACpB4uB,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAG5Bw9B,GACCj9B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,MAGRrE,EAAYhF,EAAEF,UAEfwI,EAAKgL,OAAO/L,EAAS,SAAClH,EAASL,GAC9B,GAnFW,MAmFPK,GApFU,KAoFYA,EAA1B,CAGA,IAAMif,EAAMhX,EAAKqD,UAAU4G,OACtBqc,EAAKwX,SAAS9mB,EAAI1V,IAAK0V,EAAIjW,MAGhCw9B,GACCj9B,IAAK0V,EAAI1V,IACTP,IAAKiW,EAAIjW,SAGXf,EAAKgL,OAAOhM,EAAgBtH,YAC3B4mC,EAAKI,2BAA2B1+B,GAAOsB,IAAK5J,EAAE4J,IAAKP,IAAKrJ,EAAEqJ,KAAMrJ,EAAEuT,YAEnEjL,EAAKgL,OAAOpL,EAAQ,WACnB0+B,EAAKK,qBAAqB3+B,KAE3BA,EAAKgL,OAAOvL,EAAqBsJ,YAChC,QAAKud,EAAKwX,SAAS/0B,EAAKzH,IAAKyH,EAAKhI,QAG9Bu9B,EAAKtsB,WAAYssB,EAAK1P,YAK3B5uB,EAAKgL,OAAOtL,EAAmCqJ,YACzCud,EAAKwX,SAAS/0B,EAAKzH,IAAKyH,EAAKhI,OAG9Bu9B,EAAKtsB,UAAYssB,EAAK1P,UAG1B0P,EAAKM,wBAAwB5+B,GAC5BsB,IAAKyH,EAAKzH,IACVP,IAAKgI,EAAKhI,KACRgI,EAAKuI,e1C6yO0C6sB,EAAA,G0CtyOtDnuC,EAAOF,QAAUquC,G1Cm9OV,SAASnuC,EAAQF,EAASO,I2CtmPjC,SAAAiC,GA4BAtC,EAAOF,SACN+uC,UArBD,SAASA,EAAU1kC,GAClB,IAAKA,EACJ,SAED,GAAIvH,EAAcuH,GACjB,OAAOA,EAER,GAAuB,iBAAZA,EACV,OAAO0kC,EAAUjiB,KAAK0Q,MAAMnzB,IAE7B,IAAMxF,KACN,IAAK,IAAMuB,KAAKiE,EACfxF,EAAOoG,MACNxJ,MAAO2E,EACP4oC,QAAS3kC,EAAQjE,KAGnB,OAAOvB,M3ConPqBlE,KAAK+H,KAAMnI,EAAoB,GAApB,gBsCrmPrC+R,WAAIi6B,EAAJj6B,GMtCH,IAAMuhB,EAAYjrB,EAAQ,IACpB+C,EAAQ/C,EAAQ,GAChBqmC,EAAcrmC,EAAQ,IACtBsmC,EAAatmC,EAAQ,IACrBumC,EAAcvmC,EAAQ,IACtBwmC,EAAaxmC,EAAQ,IACrBymC,EAAYzmC,EAAQ,IACpB0mC,EAA0B1mC,EAAQ,IAClC2mC,EAAqB3mC,EAAQ,IAC7B4mC,EAAY5mC,EAAQ,IAQpBL,GACLqG,iBACC,OAAOilB,EAAUjlB,YAElBilB,gBACC,OAAOA,GAERloB,YACC,OAAOA,GAERsjC,kBACC,OAAOA,GAERC,iBACC,OAAOA,GAERC,kBACC,OAAOA,GAERC,iBACC,OAAOA,GAERC,gBACC,OAAOA,GAERC,8BACC,OAAOA,GAERC,yBACC,OAAOA,GAERC,gBACC,OAAOA,GAER3Z,GAlCa,SAkCV4Z,EAAana,EAAQQ,GACvB,OAAI2Z,EACCA,aAAuB9jC,EACnB8jC,EAC0B,mBAAhBA,EACVlnC,EAAMstB,GAAG4Z,EAAYna,GAASA,EAAQQ,GACnCR,GAAUma,KAAena,EAC5B/sB,EAAMstB,GAAGP,EAAOma,GAAcna,EAAQQ,GAEvC,IAAIA,EAAW2Z,GAEf3Z,EAAWmD,UAIrB/4B,EAAOF,QAAUuI,GNuDiD,SAAhErI,EAAAF,EAAAO,GOzHF,IAOIkL,EAPEE,EAAQ/C,EAAQ,GPyHpB,IOjHIqmC,EPiHJ,SAAAS,GO7GD5lC,aAAwB,IAAZvB,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAumC,GAAAnjC,EAAApD,KAAAqD,EAAAkjC,GAAAtuC,KAAA+H,KAVzB,SAAaH,GAAO,IAAAonC,EACWpnC,EAAvBujB,iBADY,IAAA6jB,EACA,QADAA,EAGnB,OADApnC,EAAMujB,UAAYA,EACXvjB,EAQAqnC,CAAIrnC,KP4GV,OAAAiE,EAAAyiC,EOjHwBtjC,GPiHxB1B,EAAAglC,EAAA,OAAAltC,IAAA,UAAAV,IAAA,WO/GA,OAAOoK,IAA+BA,EAAe,IAAIwjC,OP+GzDhlC,EAAAglC,IAAAltC,IAAA,QAAAN,MAAA,WOzGA,OAAO,IAAIwtC,EAAYvmC,UPyGvBumC,EAAA,GOpGF/uC,EAAOF,QAAUivC,GP8IP,SAHP5F,IAGO9oC,GQnKV,IAOIkL,EAPEC,EAAe9C,EAAQ,IRmKnB,IQ3JJsmC,ER2JI,SAAAW,GQvJT/lC,aAAwB,IAAAgmC,EAAZvnC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAwmC,GACvBY,EAAAhkC,EAAApD,KAAAqD,EAAAmjC,GAAAvuC,KAAA+H,KAXF,SAAaH,GAAO,IAAAwnC,EACYxnC,EAAxBujB,iBADY,IAAAikB,EACA,SADAA,EAGnB,OADAxnC,EAAMujB,UAAYA,EACXvjB,EAQAqnC,CAAIrnC,KADa,IAGtB4gC,EAGG5gC,EAHH4gC,eACAE,EAEG9gC,EAFH8gC,aACAE,EACGhhC,EADHghC,YALsB,OAOvBuG,EAAKE,gBAAkB7G,EACvB2G,EAAKG,cAAgB5G,EACrByG,EAAKI,aAAe3G,EATGuG,ERuJf,OAAAtjC,EAAA0iC,EQ3JexjC,GR2JfzB,EAAAilC,EAAA,OAAAntC,IAAA,UAAAV,IAAA,WQzJR,OAAOoK,IAA+BA,EAAe,IAAIyjC,ORyJjDjlC,EAAAilC,IAAAntC,IAAA,QAAAN,MAAA,WQtHR,OAAO,IAAIytC,EAAWxmC,SRsHd3G,IAAA,iBAAAV,IAAA,WQ3IR,OAAOqH,KAAKsnC,iBR2IJ5qC,IAAA,SQzIU+jC,GAClBzgC,KAAKsnC,gBAAkB7G,EACvBzgC,KAAK+D,mBRuIG1K,IAAA,eAAAV,IAAA,WQpIR,OAAOqH,KAAKunC,eRoIJ7qC,IAAA,SQlIQikC,GAChB3gC,KAAKunC,cAAgB5G,EACrB3gC,KAAK+D,mBRgIG1K,IAAA,cAAAV,IAAA,WQ7HR,OAAOqH,KAAKwnC,cR6HJ9qC,IAAA,SQ3HOmkC,GACf7gC,KAAKwnC,aAAe3G,EACpB7gC,KAAK+D,oBRyHGyiC,EAAA,GQjHVhvC,EAAOF,QAAUkvC,GRgLH,SAAAhvC,EAAAF,EAAAO,GSlOd,IAOIkL,EAPEE,EAAQ/C,EAAQ,GTkOR,IS1NRumC,ET0NQ,SAAAgB,GStNbrmC,aAAwB,IAAAsmC,EAAZ7nC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAymC,GACvBiB,EAAAtkC,EAAApD,KAAAqD,EAAAojC,GAAAxuC,KAAA+H,KAXF,SAAaH,GAAO,IAAA8nC,EACY9nC,EAAxBujB,iBADY,IAAAukB,EACA,SADAA,EAGnB,OADA9nC,EAAMujB,UAAYA,EACXvjB,EAQAqnC,CAAIrnC,KADa,IAGtB+nC,EACG/nC,EADH+nC,cAHsB,OAKvBF,EAAKG,eAAiBD,EALCF,ETsNX,OAAA5jC,EAAA2iC,ES1NYxjC,GT0NZ1B,EAAAklC,EAAA,OAAAptC,IAAA,UAAAV,IAAA,WSxNZ,OAAOoK,IAA+BA,EAAe,IAAI0jC,OTwN7CllC,EAAAklC,IAAAptC,IAAA,QAAAN,MAAA,WSvMZ,OAAO,IAAI0tC,EAAYzmC,STuMX3G,IAAA,gBAAAV,IAAA,WS9MZ,OAAOqH,KAAK6nC,gBT8MAnrC,IAAA,SS5MKkrC,GACjB5nC,KAAK6nC,eAAiBD,EACtB5nC,KAAK+D,oBT0MO0iC,EAAA,GSlMdjvC,EAAOF,QAAUmvC,G/C62PV,SAASjvC,EAAQF,EAASO,GgD74PjC,IACIkL,EADEC,EAAe9C,EAAQ,IhD64PyB,IgDt4PhDwmC,EhDs4PgD,SAAAoB,GgDl4PrD1mC,aAAwB,IAAA2mC,EAAZloC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA0mC,IACvBqB,EAAA3kC,EAAApD,KAAAqD,EAAAqjC,GAAAzuC,KAAA+H,KAVF,SAAaH,GAAO,IAAAmoC,EACYnoC,EAAxBujB,iBADY,IAAA4kB,EACA,SADAA,EAGnB,OADAnoC,EAAMujB,UAAYA,EACXvjB,EAOAqnC,CAAIrnC,MACLooC,aAAepoC,EAAMqoC,YAC1BH,EAAKI,QAAUtoC,EAAMuoC,QAAU,EAHRL,EhDk4P6B,OAAAjkC,EAAA4iC,EgDt4P7B1jC,GhDs4P6BzB,EAAAmlC,EAAA,OAAArtC,IAAA,UAAAV,IAAA,WgDp4PpD,OAAOoK,IAA+BA,EAAe,IAAI2jC,OhDo4PLnlC,EAAAmlC,IAAArtC,IAAA,QAAAN,MAAA,WgD92PpD,OAAO,IAAI2tC,EAAW1mC,ShD82P8B3G,IAAA,cAAAV,IAAA,WgD53PpD,OAAOqH,KAAKioC,chD43PwCvrC,IAAA,SgD13PrCwrC,GACfloC,KAAKioC,aAAeC,EACpBloC,KAAK+D,mBhDw3P+C1K,IAAA,SAAAV,IAAA,WgDr3PpD,OAAOqH,KAAKmoC,ShDq3PwCzrC,IAAA,SgDn3P1C0rC,GACVpoC,KAAKmoC,QAAUC,EACfpoC,KAAK+D,oBhDi3P+C2iC,EAAA,GgD32PtDlvC,EAAOF,QAAUovC,GhDutOqC,SAAAlvC,EAAAF,EAAAO,GiDzvOtD,IAOIkL,EAPEE,EAAQ/C,EAAQ,GjDyvOgC,IiDjvOhDymC,EjDivOgD,SAAA0B,GiD7uOrDjnC,aAAwB,IAAZvB,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA2mC,GAAAvjC,EAAApD,KAAAqD,EAAAsjC,GAAA1uC,KAAA+H,KAVzB,SAAaH,GAAO,IAAAyoC,EACYzoC,EAAxBujB,iBADY,IAAAklB,EACA,SADAA,EAGnB,OADAzoC,EAAMujB,UAAYA,EACXvjB,EAQAqnC,CAAIrnC,KjD4uO0C,OAAAiE,EAAA6iC,EiDjvO9B1jC,GjDivO8B1B,EAAAolC,EAAA,OAAAttC,IAAA,UAAAV,IAAA,WiD/uOpD,OAAOoK,IAA+BA,EAAe,IAAI4jC,OjD+uOLplC,EAAAolC,IAAAttC,IAAA,QAAAN,MAAA,WiDzuOpD,OAAO,IAAI4tC,EAAU3mC,UjDyuO+B2mC,EAAA,GiDpuOtDnvC,EAAOF,QAAUqvC,GT8BbxC,gBUnDJ,IACIphC,EADEE,EAAQ/C,EAAQ,GAEhBqoC,EAAqB7S,YAC1B,OAAIA,EAAM,GACF,UAEJA,EAAM,GACF,UAEJA,EAAM,GACF,UAED,WAEFkR,EVqCFzC,YUjCH/iC,aAAwB,IAAAonC,EAAZ3oC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA4mC,IACvB4B,EAAAplC,EAAApD,KAAAqD,EAAAujC,GAAA3uC,KAAA+H,KAAMH,KACD4oC,UAAY5oC,EAAM6oC,UAAYH,EACnCC,EAAKG,YAAc9oC,EAAM+oC,YAAc,UACvCJ,EAAKK,WAAahpC,EAAMipC,WAAa,EAJdN,EViCrBrE,WUrCkClhC,GVqClCkhC,wCUnCF,OAAOphC,IAA+BA,EAAe,IAAI6jC,OVmCvDzC,mCULF,OAAO,IAAIyC,EAAwB5mC,SVKjCmkC,8BU1BF,OAAOnkC,KAAKyoC,WV0BVtE,aUxBUuE,GACZ1oC,KAAKyoC,UAAYC,EACjB1oC,KAAK+D,mBVsBHogC,gCUnBF,OAAOnkC,KAAK2oC,aVmBVxE,aUjBYyE,GACd5oC,KAAK2oC,YAAcC,EACnB5oC,KAAK+D,mBVeHogC,+BUZF,OAAOnkC,KAAK6oC,YVYV1E,aUVW2E,GACb9oC,KAAK6oC,WAAaC,EAClB9oC,KAAK+D,oBVQHogC,KUFJ3sC,EAAOF,QAAUsvC,GlDkgQV,SAASpvC,EAAQF,EAASO,GmDpjQjC,IAOIkL,EAPEE,EAAQ/C,EAAQ,GnDojQgC,ImD5iQhD2mC,EnD4iQgD,SAAAkC,GmDxiQrD3nC,aAAwB,IAAA4nC,EAAZnpC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA6mC,IACvBmC,EAAA5lC,EAAApD,KAAAqD,EAAAwjC,GAAA5uC,KAAA+H,KAXF,SAAaH,GAAO,IAAAopC,EACYppC,EAAxBwjB,oBADY,IAAA4lB,EACG,MADHA,EAGnB,OADAppC,EAAMwjB,aAAeA,EACdxjB,EAQAqnC,CAAIrnC,MACLqpC,YAAcrpC,EAAMspC,YAAc,MACvCH,EAAKI,cAAgBvpC,EAAMwpC,eAAgB,EAC3CL,EAAKM,WAAazpC,EAAM0pC,UAJDP,EnDwiQ6B,OAAAllC,EAAA+iC,EmD5iQrB5jC,GnD4iQqB1B,EAAAslC,EAAA,OAAAxtC,IAAA,UAAAV,IAAA,WmD1iQpD,OAAOoK,IAA+BA,EAAe,IAAI8jC,OnD0iQLtlC,EAAAslC,IAAAxtC,IAAA,QAAAN,MAAA,WmDjiQpD,OAAO,IAAI8tC,EAAmB7mC,SnDiiQsB3G,IAAA,aAAAV,IAAA,WmD9hQpD,OAAOqH,KAAKkpC,anD8hQwCxsC,IAAA,SmD5hQtCysC,GACdnpC,KAAKkpC,YAAcC,EACnBnpC,KAAK+D,mBnD0hQ+C1K,IAAA,YAAAV,IAAA,WmDvhQpD,OAAOqH,KAAKspC,YnDuhQwC5sC,IAAA,SmDrhQvC6sC,GACbvpC,KAAKspC,WAAaC,EAClBvpC,KAAK+D,mBnDmhQ+C1K,IAAA,eAAAV,IAAA,WmDhhQpD,OAAOqH,KAAKopC,enDghQwC1sC,IAAA,SmD9gQpC2sC,GAChBrpC,KAAKopC,cAAgBC,EACrBrpC,KAAK+D,oBnD4gQ+C8iC,EAAA,GmDzgQtDrvC,EAAOF,QAAUuvC,GnD64OqC,S0Ch7OrD9/B,E1Cg7OqDzP,EAAAO,GoDv7OtD,IAEIkL,EAFEE,EAAQ/C,EAAQ,GAGhB4mC,EVIL//B,YUAA3F,aAAwB,IAAAooC,EAAZ3pC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAA8mC,GACvB0C,EAAApmC,EAAApD,KAAAqD,EAAAyjC,GAAA7uC,KAAA+H,KAAMH,IADiB,IAGtB4pC,EACG5pC,EADH4pC,WAHsB,OAKvBD,EAAKE,YAAcD,EALID,EVAxBziC,WUJuB9D,GVIvB8D,wCUFC,OAAOhE,IAA+BA,EAAe,IAAI+jC,OVE1D//B,mCUeC,OAAO,IAAI+/B,EAAU9mC,SVftB+G,gCUQC,OAAO/G,KAAK0pC,aAAe,mBVR5B3iC,aUUe0iC,GACdzpC,KAAK0pC,YAAcD,EACnBzpC,KAAK+D,oBVZNgD,KUoBDvP,EAAOF,QAAUwvC,GpD45OqC,SAAAtvC,EAAAF,EAAAO,GAAA,IqDv7O/CkE,EAAQmE,EAAQ,GAAhBnE,KACD4tC,EAAWzpC,EAAQ,IAEnB0pC,KAMN,SAASC,EAAUC,GAClB,IAAK3yC,EAAOgd,QAEX,OADA41B,QAAQC,MAAM,6DAEbjuC,KADM,WAEL,OAAOiE,OAIV,IAAMiqC,EAAM,IAAIC,MACV/tC,EAAS,IAAIhF,EAAOgd,QAASqjB,YAClCyS,EAAIE,OAAS,WACZ3S,EAAQyS,MASV,OANAA,EAAIG,QAAWlrC,YACd,IAAMmrC,EAAMP,EAAIpvC,OAAS,IAAbovC,UAAsBA,EAAIlR,OAAO,EAAG,KAApCkR,OAAgDA,EAE5D,MADAC,QAAQO,KAARP,uBAA6BM,IACvB,IAAIxnB,MAAJ,qBAAAxiB,OAA+BgqC,KAEtCJ,EAAIH,IAxBL,SAAmBO,GAClB,OAAmC,IAA5BA,EAAIE,OAAO,YAuBRC,CAAUV,GAAOA,EAAjBU,UAA0BV,EAA1BU,YAAiC3d,KAAKC,OACzC3wB,EAuBR3E,EAAOF,SACNuyC,YACAY,eAPD,SAAwBC,EAAWC,EAAWb,GAE7C,OAjBD,SAAyBc,EAAOd,GAC/B,OAAO/tC,EAAK+tC,EAAMA,YACjB,IAAM3xC,EAAIyyC,EAAMjyC,IAAImxC,GACpB,GAAI3xC,EACH,OAAOA,EAER,IAAMgE,EAAS0tC,EAAUC,GAAK/tC,KAAMkuC,YAEnC,OADAW,EAAMp9B,IAAIs8B,EAAKG,GACRA,IAGR,OADAW,EAAMp9B,IAAIs8B,EAAK3tC,GACRA,IAMD0uC,CADOjB,EAASc,KAAed,EAASc,GAAa,IAAIf,EAASgB,IAC3Cb,MX2C3B/D,WAAKzuC,EAAAO,GY7FT,IAAM26B,EAAatyB,EAAQ,IACrB4qC,EAAmB5qC,EAAQ,KAC3B6qC,EAAoB7qC,EAAQ,KAE5B8qC,EZyFG,SAAAC,GAAA,SAAAD,IAAA,OAAA3pC,EAAArB,KAAAgrC,GAAA5nC,EAAApD,KAAAqD,EAAA2nC,GAAA5tC,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAknC,EYzF+BF,GZyF/BvpC,EAAAypC,IAAA3xC,IAAA,WAAAV,IAAA,WYvFP,OAAOqH,KAAKm2B,cZuFL6U,EAAA,GYpFHE,EZoFG,SAAAC,GAAA,SAAAD,IAAA,OAAA7pC,EAAArB,KAAAkrC,GAAA9nC,EAAApD,KAAAqD,EAAA6nC,GAAA9tC,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAonC,EYpFgCH,GZoFhCxpC,EAAA2pC,IAAA7xC,IAAA,WAAAV,IAAA,WYlFP,OAAOqH,KAAKm2B,cZkFL+U,EAAA,GYxEH/G,GACLiH,SACCC,KAAM,IAAIL,EACVM,MAAO,IAAIJ,GAEZ1Y,iBACC,OAAOA,GAERsY,uBACC,OAAOA,GAERC,wBACC,OAAOA,GAER5d,GAdc,SAcXoe,GACF,OAAKA,EAE8B,iBAAjBA,EACVpH,EAAOiH,QAAQG,EAAaC,gBAAkBrH,EAAOhX,GAAG,MAExDoe,OAJP,GAOFE,OAvBc,SAuBPC,GACN,GAAIA,EAAWnuB,KAAM,CACpB,GAAwB,aAApBmuB,EAAWnuB,KAAqB,CAGnC,OAAO,IAAIytB,GAA2BztB,KADzB,SAAAouB,GAAA,IAAE/P,EAAF+P,EAAE/P,MAAO9yB,EAAT6iC,EAAS7iC,IAAKtB,EAAdmkC,EAAcnkC,KAAd,OAAwBkkC,EAAWnuB,KAAKqe,EAAO9yB,EAAKtB,MAGlE,OAAO28B,EAAOiH,QAAQC,KAEvB,OAAOlH,EAAOhX,GAAGue,EAAWvH,UAG9B3sC,EAAOF,QAAU6sC,GtDswQV,SAAS3sC,EAAQF,EAASO,GAAqB,IuD9zQvC6H,EAAWQ,EAAQ,GAA3BlB,MAAQU,OvD8zQuCksC,EuDvzQjD1rC,EAAQ,GANNgG,WACNC,EvD4zQqDylC,EuD5zQrDzlC,WACAU,EvD2zQqD+kC,EuD3zQrD/kC,eACAC,EvD0zQqD8kC,EuD1zQrD9kC,cACAJ,EvDyzQqDklC,EuDzzQrDllC,eACAD,EvDwzQqDmlC,EuDxzQrDnlC,QAEK2+B,EAAY,GAgFlB5tC,EAAOF,SACN+sC,oBAhFD,SAA6B78B,EAAMkH,EAAnCm9B,GAIG,IACEC,EAJJ3H,EAGE0H,EAHF1H,OACAW,EAEE+G,EAFF/G,UACAG,EACE4G,EADF5G,SAGA,OAECz9B,EAAKgL,OAAOrM,EAAajH,YACnBwP,EAAMq9B,cAAc7sC,EAAE4J,IAAK5J,EAAEqJ,MAGlC47B,GACCr7B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,QAITf,EAAKgL,OAAO3L,EAAiB3H,YACvBwP,EAAMq9B,cAAc7sC,EAAE4J,IAAK5J,EAAEqJ,OAG9Bu8B,IACEA,GACJh8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,QAKTf,EAAK2K,aAAatS,MAAMwS,OAAS,UACjCy5B,GAAU,MAGXtkC,EAAKgL,OAAO9L,EAAiBxH,YACvBwP,EAAMq9B,cAAc7sC,EAAE4J,IAAK5J,EAAEqJ,MAG9BujC,IAAYtkC,EAAK2K,aAAatS,MAAMwS,SACvC7K,EAAK2K,aAAatS,MAAMwS,OAAS,aAGnC7K,EAAKgL,OAAO1L,EAAgB5H,YACtBwP,EAAMq9B,cAAc7sC,EAAE4J,IAAK5J,EAAEqJ,OAG9B08B,GACHA,GACCn8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,MAGTf,EAAK2K,aAAatS,MAAMwS,OAAS,GACjCy5B,GAAU,OA4BZxH,kBAxBD,SAA2B98B,EAAMkH,EAAjCs9B,GAAmE,IAA1B7H,EAA0B6H,EAA1B7H,OAA0B8H,EAAAD,EAAlBvG,kBAAkB,IAAAwG,OAElE,OADAxG,EAAUnM,EAAOmM,GAAPplC,QAAmB+kC,KAG5B59B,EAAKgL,OAAO/L,EAAS,SAAClH,EAASL,GAC9B,IAAqC,IAAjCumC,EAAWjqC,QAAQ+D,GAAvB,CAGA,IAAMif,EAAMhX,EAAKqD,UAAU4G,OACtB/C,EAAMq9B,cAAcvtB,EAAI1V,IAAK0V,EAAIjW,OAGtC47B,GACCr7B,IAAK0V,EAAI1V,IACTP,IAAKiW,EAAIjW,MAEV7I,EAAOR,WXhBV1H,SAAOF,EAAPE,KYlEA,IAAM27B,EAAajzB,EAAQ,IACrBgsC,EAAShsC,EAAQ,KACjBisC,EAAajsC,EAAQ,KACrBksC,EAAclsC,EAAQ,KAEtBsB,GACL6qC,OACC9b,QAAS,IAAI2b,EACbb,KAAM,IAAIc,EACVb,MAAO,IAAIc,GAEZjZ,iBACC,OAAOA,GAER+Y,aACC,OAAOA,GAERC,iBACC,OAAOD,GAERE,kBACC,OAAOA,GAERjf,GAlBY,SAkBTmf,GACF,OAAKA,EAE4B,iBAAfA,EACV9qC,EAAK6qC,MAAMC,EAAWd,gBAAkBhqC,EAAK2rB,GAAG,MAEhDmf,EAJA9qC,EAAK6qC,MAAM9b,SAOpBkb,OA3BY,SA2BLC,GACN,OAAIA,EAAWnuB,KACP/b,EAAK6qC,MAAMhB,KAGZ7pC,EAAK2rB,GAAGue,EAAWY,cAG5B90C,EAAOF,QAAUkK,GVxCjB,SAAMwB,EAAY1L,EAAG4I,GWArB,IAMI6C,EANEoB,EAAcjE,EAAQ,IAEtBgG,GACL4xB,aAAc,gBAIT3M,EXPN,SAAAohB,GWcCnrC,aAGU,IAAAorC,EADPxc,GACOn0B,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,OADPm0B,QACO,OAAA3uB,EAAArB,KAAAmrB,IACTqhB,EAAAppC,EAAApD,KAAAqD,EAAA8nB,GAAAlzB,KAAA+H,QACKi4B,SAAWjI,EAFPwc,EXjBX,OAAA1oC,EAAAqnB,EWOwBhnB,GXPxB5C,EAAA4pB,EAAA,OAAA9xB,IAAA,aAAAV,IAAA,WWSE,OAAOuN,KXTT7M,IAAA,UAAAV,IAAA,WWYE,OAAOoK,IAA+BA,EAAe,IAAIooB,OXZ3D5pB,EAAA4pB,IAAA9xB,IAAA,gBAAAN,MAAA,WW6BEiH,KAAK6Q,cAAc3K,EAAW4xB,iBX7BhCz+B,IAAA,QAAAN,MAAA,WWgCE,OAAO,IAAIoyB,EAAUnrB,SXhCvB3G,IAAA,UAAAV,IAAA,WWsBE,OAAOqH,KAAKi4B,UXtBdv7B,IAAA,SWwBaszB,GACXhwB,KAAKi4B,SAAWjI,EAChBhwB,KAAK+D,oBX1BPonB,EAAA,GWmCA3zB,EAAOF,QAAU6zB,GXRf,SAAA3zB,EAAK8vC,KY3BP,IAOIvkC,EAPEE,EAAQ/C,EAAQ,IZ2BpB,IYnBImwB,EZmBJ,SAAAoc,GYfDrrC,aAAwB,IAAAsrC,EAAZ7sC,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAqwB,GACvBqc,EAAAtpC,EAAApD,KAAAqD,EAAAgtB,GAAAp4B,KAAA+H,KAXF,SAAaH,GAAO,IAAA8sC,EACY9sC,EAAxBujB,iBADY,IAAAupB,EACA,SADAA,EAGnB,OADA9sC,EAAMujB,UAAYA,EACXvjB,EAQAqnC,CAAIrnC,KADa,IAGtB4gC,EAGG5gC,EAHH4gC,eACAE,EAEG9gC,EAFH8gC,aACAE,EACGhhC,EADHghC,YALsB,OAOvB6L,EAAKpF,gBAAkB7G,EACvBiM,EAAKnF,cAAgB5G,EACrB+L,EAAKlF,aAAe3G,EATG6L,EZevB,OAAA5oC,EAAAusB,EYnB6BptB,GZmB7B1B,EAAA8uB,EAAA,OAAAh3B,IAAA,UAAAV,IAAA,WYjBA,OAAOoK,IAA+BA,EAAe,IAAIstB,OZiBzD9uB,EAAA8uB,IAAAh3B,IAAA,QAAAN,MAAA,WYkBA,OAAO,IAAIs3B,EAAiBrwB,SZlB5B3G,IAAA,iBAAAV,IAAA,WYHA,OAAOqH,KAAKsnC,iBZGZ5qC,IAAA,SYDkB+jC,GAClBzgC,KAAKsnC,gBAAkB7G,EACvBzgC,KAAK+D,mBZDL1K,IAAA,eAAAV,IAAA,WYIA,OAAOqH,KAAKunC,eZJZ7qC,IAAA,SYMgBikC,GAChB3gC,KAAKunC,cAAgB5G,EACrB3gC,KAAK+D,mBZRL1K,IAAA,cAAAV,IAAA,WYWA,OAAOqH,KAAKwnC,cZXZ9qC,IAAA,SYaemkC,GACf7gC,KAAKwnC,aAAe3G,EACpB7gC,KAAK+D,oBZfLssB,EAAA,GYuBF74B,EAAOF,QAAU+4B,G1D0yPqC,SAAA74B,EAAAF,EAAAO,G2D51PtDL,EAAOF,YZqBL,S/Cu0PoDE,EAAAF,EAAAO,G4D51PtD,IAAMsjC,EAAaj7B,EAAQ,IACrB0sC,EAAmB1sC,EAAQ,KAC3B2sC,EAAmB3sC,EAAQ,KASjC1I,EAAOF,SACN6jC,aACAyR,mBACAC,qBZVAhtC,SAAMujB,IAAYA,GAAlBvjB,IaJM/D,EAAaoE,EAAQ,GAArBpE,UAEP,SAASgxC,EAAKnwC,GACb,OAAOA,EAAIZ,KAAM+U,YAChB,OAAIhV,EAAUgV,GACNg8B,EAAKh8B,GAELA,IAWV,SAASi8B,EAAmBp0C,EAAK2jC,EAAU5hC,GAC1C,OAAO,IAAIyZ,QAASqjB,YAGnB,IAFA,IAAMwV,KACA9yC,EAAQ,IAAIE,MAAMM,GAFOuyC,EAAA,SAGtBl1C,GACR,IAAM6C,EAAOjC,EAAIZ,GACX60B,GACL9b,EAAGlW,EACHoxB,EAAGpxB,GAEJV,EAAMnC,GAAK60B,EACP9wB,EAAUlB,IACboyC,EAAMzqC,KAAKuqC,EAAKlyC,GAAMmB,KAAM+U,YAC3B8b,EAAO9b,EAAIA,EACX8b,EAAOZ,EAAIlb,MAVL/Y,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAKk1C,EAAxBl1C,GAcToc,QAAQ+Q,IAAI8nB,GAAOjxC,KACjB,kBAIJ,SAAuB7B,EAAOoiC,GAC7B,IAAKA,EACJ,OAAOnoB,QAAQqjB,QAAQt9B,GAExB,OAAO,IAAIia,QAASqjB,YAGnB,IAH+B,IACxB98B,EAAUR,EAAVQ,OACDsyC,KAFyBE,EAAA,SAGtBn1C,GACR,IAAM60B,EAAS1yB,EAAMnC,GACrB60B,EAAOZ,EAAIsQ,EAAS1P,EAAO9b,GACvBhV,EAAU8wB,EAAOZ,IACpBghB,EAAMzqC,KAAKuqC,EAAKlgB,EAAOZ,GAAGjwB,KAAM+U,YAC/B8b,EAAOZ,EAAIlb,MALL/Y,EAAI,EAAGA,EAAI2C,EAAQ3C,IAAKm1C,EAAxBn1C,GASToc,QAAQ+Q,IAAI8nB,GAAOjxC,KAAK,kBAAMy7B,EAAQt9B,OApB9BizC,CAAcjzC,EAAOoiC,KAC3BvgC,KAAKy7B,KAsBT,IAAMja,GACLA,KADY,SACP5kB,EAAK+D,EAAKhC,EAAQ0yC,EAAS9Q,GAC/B,IAAM+Q,EAnDR,SAAqB10C,EAAK+B,GAEzB,IADA,IAAMR,EAAQ,IAAIE,MAAMM,GACf3C,EAAI,EAAGA,EAAI2C,EAAQ3C,IAC3BmC,EAAMnC,GAAKY,EAAIZ,GAEhB,OAAOmC,EA8CMozC,CAAY30C,EAAK+B,GACzB4hC,EACH+Q,EAAI9vB,KAAK,SAACgwB,EAAIC,GAAL,OAAYJ,EAAQ9Q,EAASiR,GAAKjR,EAASkR,MAEpDH,EAAI9vB,KAAK6vB,GAEV,IAAK,IAAIr1C,EAAI,EAAGA,EAAI2C,EAAQ3C,IAC3B2E,EAAI3E,EAAGs1C,EAAIt1C,KAGb01C,UAZY,SAYFvzC,EAAOkzC,GAChBhzC,MAAMV,UAAU6jB,KAAKtlB,KAAKiC,EAAOkzC,IAElClR,YAfY,SAeAvjC,EAAK+D,EAAKhC,EAAQ0yC,EAAS9Q,GACtC,GAAInlC,EAAOgd,QACV,OAAO44B,EAAmBp0C,EAAK2jC,EAAU5hC,GAAQqB,KAAM7B,YACtDA,EAAMqjB,KAAK,SAACgwB,EAAIC,GAAL,OAAYJ,EAAQG,EAAGvhB,EAAGwhB,EAAGxhB,KACxC,IAAK,IAAIj0B,EAAI,EAAGA,EAAI2C,EAAQ3C,IAC3B2E,EAAI3E,EAAGmC,EAAMnC,GAAG+Y,KAIlByM,EAAKA,KAAK5kB,EAAK+D,EAAKhC,EAAQ0yC,EAAS9Q,GACrC,IAAMoR,GACL3xC,KADoB,SACfH,GAEJ,OADAA,IACO8xC,GAERC,MALoB,WAMnB,OAAOD,IAGT,OAAOA,IAIVl2C,EAAOF,QAAUimB,GXxFf,SAAA/lB,EAAOF,EAAPO,IYZF,SAAAiC,GAAA,IAAA8zC,EAGyC1tC,EAAQ,GAA1CwpB,EAHPkkB,EAGOlkB,kBAAmBllB,EAH1BopC,EAG0BppC,YACpBqpC,EAAc3tC,EAAQ,KACtBuxB,EAAevxB,EAAQ,IACvBm6B,EAASn6B,EAAQ,IAChB4tC,EAAc5tC,EAAQ,IAAtB4tC,WACD1pC,EAAOlE,EAAQ,IARrB6tC,EAS+D7tC,EAAQ,GAAhElD,EATP+wC,EASO/wC,aAAcK,EATrB0wC,EASqB1wC,WAAoByC,EATzCiuC,EASiCluC,MAAQC,WAAanF,EATtDozC,EASsDpzC,MAChDqzC,EAAQ9tC,EAAQ,IAChBqE,EAAOrE,EAAQ,IACf+tC,EAAe/tC,EAAQ,IAGvBguC,EAAkBL,EAAY1gB,GAAG,KAMvC,SAASghB,EAAS5qC,EAAOuF,EAAKP,EAAKf,EAAMuD,GACxC,OAAO1N,EAAWkG,GACjBuF,MACAP,MACAf,OACAuD,YAGF,SAASqjC,EAAc5mC,GAAgB,QAAA6mC,EAAAxyC,UAAAnB,OAAPwC,EAAO,IAAA9C,MAAAi0C,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPpxC,EAAOoxC,EAAA,GAAAzyC,UAAAyyC,GACtC,IAQIC,EAREC,EAAiBxxC,EAAYI,WAAZJ,GAAawK,EAAKsyB,OAAlB98B,OAA4BE,IACnD,OAAKvC,EAAM6zC,GAImB,mBAAnBA,EACHA,EAGD,WAAa,QAAAC,EAAA5yC,UAAAnB,OAAT2B,EAAS,IAAAjC,MAAAq0C,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAATryC,EAASqyC,GAAA7yC,UAAA6yC,GACnB,IAAMnrC,EAAQirC,EAAcpxC,WAAdoxC,EAAkBnyC,GAChC,OAAI1B,EAAM4I,GAEFA,GAGRgrC,EAAqBA,GAAqBvxC,EAAYI,WAAZJ,GAAaq9B,EAAOC,SAApBt9B,OAAgCE,IACnEG,EAAUD,WAAVC,GAAWkxC,GAAXlxC,OAAiChB,MAdjCW,EAAYI,WAAZJ,GAAaq9B,EAAOC,SAApBt9B,OAAgCE,IA2BzC,SAASyxC,EAAY/kC,EAAKglC,EAASzkC,EAAMoE,EAAQoH,EAAWgc,EAAc7oB,EAAKP,EAAKf,GACnF,SAASqnC,EAAWC,EAAQp5B,EAAYgc,GACvC,GAAIod,EAAOC,UAAW,CACrBnlC,EAAIW,OACJ,IACCX,EAAIkC,UAAYqiC,EAASW,EAAOvrC,SAAWqG,EAAIkC,UAAWhD,EAAKP,EAAKf,EAAMoC,GAC1EA,EAAInG,KAAOqrC,EAAOrrC,QAAUmG,EAAInG,KAChCqrC,EAAOniC,MACN/C,MACA6nB,eACAtnB,OACAoE,SACAmH,aACAgc,cACA/b,YACAgc,iBAXF,QAcC/nB,EAAI0B,gBAGLwjC,EAAOE,QAAQ,kBAAMxnC,EAAKw9B,eAAel8B,EAAKP,KAIhD,GAAuB,IAAnBqmC,EAAQl0C,OAAc,CAGzBm0C,EADeD,EAAQ,GACJ,EAAG,OAChB,CACN,IAAMK,EAAeL,EAAQjrB,IAAKmrB,YAAD,OAAaA,EAAOrlC,OAAOG,SAAS,GAAK,IACtE8nB,EAAcud,EAAaC,OAAO,SAAC1xB,EAAGC,GAAJ,OAAUD,EAAIC,IAEhD/H,EAAa,EACjBk5B,EAAQryC,QAAQ,SAACuyC,EAAQv0C,GACxB,IAAM40C,EAAcF,EAAa10C,GAEjCs0C,EAAWC,EAAQp5B,EADnBgc,GAAeyd,GAEfz5B,GAAcy5B,KAKjB,SAASC,EAAajf,EAAO2e,GAC5B,OAAOjB,EAAYuB,aAAajf,EAAO2e,GAAU,IAGlD,SAASO,EAAeP,GACvB,OAAOjB,EAAYyB,OAAOR,GAG3B,SAASS,EAAkB1rC,GAC1B,OAAK2rC,EAAgB3rC,IAAkC,aAAjBA,GAIV,KAD5BA,EAAeA,EAAa8e,QACXjoB,OACTmzC,EAAY1gB,GAAGtpB,EAAa,IAJ5BqqC,EAST,SAASsB,EAAgB3rC,GACxB,OAAOA,GAAiC,SAAjBA,GAAmD,iBAAjBA,EAG1D,SAAS4rC,EAAwB7lC,EAAKglC,EAASnlC,GAG9C,IAFA,IAAMimC,EAAWjmC,EAAQ,EACrB6Z,EAAY,EACPvrB,EAAI,EAAGA,EAAI62C,EAAQl0C,OAAQ3C,IAAK,CACxC,IACMo3C,GADSP,EAAQ72C,GACK0R,OAAOG,SAAS,GAAK,EACjD,GAAI0Z,EAAY6rB,EAAcO,EAC7B,OACCn1C,MAAOxC,EACPurB,YACAqsB,SAAUD,EAAWpsB,GAGvBA,GAAa6rB,EAEd,OAAO,KAOR,SAASS,EAAkBhmC,EAAKglC,EAASnlC,GACxC,IAAMomC,EAAYJ,EAAwB7lC,EAAKglC,EAASnlC,GACxD,IAAKomC,EACJ,OACCC,cAAelB,EACfmB,UAAU,EACVC,iBAN6C,IASxCz1C,EAAmBs1C,EAAnBt1C,MAAOo1C,EAAYE,EAAZF,SACRb,EAASF,EAAQr0C,GACjBu1C,EAAgBlB,EAAQlgB,MAAM,EAAGn0B,GACjCy1C,KACN,GAAIlB,EAAOmB,WAAY,KAAAC,EACApB,EAAOqB,UAAUvmC,EAAK+lC,GAAvCnzB,EADiB0zB,EACjB1zB,OAAQC,EADSyzB,EACTzzB,MACb,IAAKD,IAAWszB,EAAcp1C,OAAQ,KAAA01C,EAClBtB,EAAOuB,SAASzmC,EAAK+lC,GAAtCnzB,EADmC4zB,EACnC5zB,OAAQC,EAD2B2zB,EAC3B3zB,MAEX,IAAKD,IAAWszB,EAAcp1C,OAAQ,KAAA41C,EAClBxB,EAAOyB,WAAW,GAAnC/zB,EADmC8zB,EACnC9zB,OAAQC,EAD2B6zB,EAC3B7zB,MAEPD,GACHszB,EAAcvtC,KAAKia,GAEhBC,GACHuzB,EAAaztC,KAAKka,GAEnBuzB,EAAaztC,KAAbytC,QAAY1W,EAASsV,EAAQlgB,MAAMn0B,EAAQ,UAEtCu1C,EAAcp1C,QAClBo1C,EAAcvtC,KAAKusC,GAEpBkB,EAAaztC,KAAbytC,QAAY1W,EAASsV,EAAQlgB,MAAMohB,EAAcp1C,UAElD,OACCo1C,gBACAC,UAAU,EACVC,gBAKF,SAASQ,EAAgB5mC,EAAKglC,EAASnlC,EAAOyiB,GAC7C,IAAM2jB,EAAYJ,EAAwB7lC,EAAKglC,EAASnlC,GACxD,IAAKomC,EACJ,OACCjB,UACAmB,UAAU,GALyC,IAQ9Cx1C,EAAoBs1C,EAApBt1C,MAAO+oB,EAAausB,EAAbvsB,UACRwrB,EAASF,EAAQr0C,GACjBk2C,EAAiBlB,EAAkBrjB,GAEnCyjB,EAAWlmC,EAAQ6Z,EADHmtB,EAAehnC,OAAOG,QAEtCzN,EAASyyC,EAAQlgB,MAAM,EAAGn0B,GAChC,GAAIu0C,EAAOmB,WAAY,KACfzzB,EAAUsyB,EAAOuB,SAASzmC,EAAK+lC,GAA/BnzB,OACHA,GACHrgB,EAAOoG,KAAKia,GAId,OADArgB,EAAOoG,KAAKkuC,IAEX7B,QAASzyC,EACT4zC,UAAU,GAIZ,SAASW,EAAYlpC,EAAMoC,EAAKklC,EAAQ3kC,EAAMrB,EAAKP,GASzC,IAAAooC,EAAA90C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAPP0S,EAOOoiC,EAPPpiC,OACAhL,EAMOotC,EANPptC,MACA6f,EAKOutB,EALPvtB,UACAC,EAIOstB,EAJPttB,aACA5f,EAGOktC,EAHPltC,KACAI,EAEO8sC,EAFP9sC,aACAssB,EACOwgB,EADPxgB,MAIFvmB,EAAIkC,UAAYqiC,EAAS5qC,EAAOuF,EAAKP,EAAKf,EAAMoC,GAChDA,EAAIwZ,UAAYA,EAChBxZ,EAAIyZ,aAAeA,EACnBzZ,EAAInG,KAAOA,GAAQmG,EAAInG,KAEvB,IAAImrC,EAAUQ,EAAajf,EAAO2e,GAClC,GAAIU,EAAgB3rC,IA3FrB,SAA2B+F,EAAKglC,EAASnlC,GACxC,QAASgmC,EAAwB7lC,EAAKglC,EAASnlC,GA0FVmnC,CAAkBhnC,EAAKglC,EAASzkC,EAAKV,OAAQ,KAAAonC,EACvCL,EACxC5mC,EACAglC,EACAzkC,EAAKV,MACL5F,GAJcitC,EADiED,EAC1EjC,QAAuBmB,EADmDc,EACnDd,SAM9BnB,EAAUkC,EACVtpC,EAAKupC,oBAAoBjoC,EAAKP,EAAKwnC,GAAYV,EAAeP,SAE9DtnC,EAAKupC,oBAAoBjoC,EAAKP,GAAK,GAGpComC,EAAY/kC,EAAKglC,EAASzkC,EAAMoE,EAAQ,EAAG,EAAGzF,EAAKP,EAAKf,GA4HzD,SAAS64B,EAAaz2B,EAAKO,EAAMrB,EAAKP,EAAK+3B,EAAO7T,GAUhD,IAAAukB,EAAAn1C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAo1C,EAAAD,EARCE,uBAQD,IAAAD,EARmB,EAQnBA,EAAAE,EAAAH,EAPCvQ,sBAOD,IAAA0Q,EAPkB1kB,EAAOqN,MAAMsX,SAAS3Q,eAOxC0Q,EAAAE,EAAAL,EANCrQ,oBAMD,IAAA0Q,EANgB5kB,EAAOqN,MAAMsX,SAASzQ,aAMtC0Q,EAAAC,EAAAN,EALCnQ,mBAKD,IAAAyQ,EALe7kB,EAAOqN,MAAMsX,SAASvQ,YAKrCyQ,EAAAC,EAAAP,EAJC5tB,iBAID,IAAAmuB,EAJa,SAIbA,EAAAC,EAAAR,EAHC3tB,oBAGD,IAAAmuB,EAHgB,SAGhBA,EADAC,EACA51C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MACK61C,EAAWjgB,EAAa2O,gBAAgBx2B,GAAKH,MACnDG,EAAIwZ,UAAYA,EAChBxZ,EAAIyZ,aAAeA,EACnB,IAAMqe,EAAMhY,EAAkB9f,EAAKO,EAAMunC,EAAW,EAAYA,EAAW,EAAYD,GAIvF,GAHAhR,EAAiBhU,EAAO0hB,SAAS1N,EAAgB33B,EAAKP,EAAKqB,GAC3D+2B,EAAelU,EAAO0hB,SAASxN,EAAc73B,EAAKP,EAAKqB,GACvDi3B,EAAcpU,EAAO0hB,SAAStN,EAAa/3B,EAAKP,EAAKqB,GACjD,EAAIsnC,GAAmBA,EAAkB,EAAG,CAC/C,IAAMS,EAAe7D,EAAWrN,GAC1BmR,EAAa9D,EAAWnN,GACxBkR,EAAYC,YACjB,IAAMnjC,EAAQgjC,EAAaG,GACrBljC,EAAMgjC,EAAWE,GACvB,GAAIZ,GAAmB,EACtB,OAAOtiC,EAER,IAAMmjC,EAAOpjC,EAAQC,EACrB,OAAOtQ,KAAKwJ,KAAK6G,EAAQojC,EAAOb,IAE3Bc,EAAcF,YACnB,IAAMljC,EAAM+iC,EAAaG,GACnBnjC,EAAQijC,EAAWE,GACzB,GAAIZ,GAAmB,EACtB,OAAOtiC,EAER,IAAMmjC,EAAOnjC,EAAMD,EACnB,OAAOrQ,KAAKwJ,KAAK6G,EAAQojC,EAAOb,IAEjCzQ,EAAiBH,EAAQG,EAAH,OAAApgC,OAA2B2xC,EAAW,KAAtC,OAAA3xC,OAAgD2xC,EAAW,KAA3D,MAAA3xC,OAAoE2xC,EAAW,KAA/E,KACtBrR,EAAY,OAAAtgC,OAAUwxC,EAAS,KAAnB,OAAAxxC,OAA6BwxC,EAAS,KAAtC,MAAAxxC,OAA+CwxC,EAAS,KAAxD,KAGbpgB,EAAa4O,aAAaz2B,EAAK83B,EAAI5xB,EAAG4xB,EAAI3xB,IAAGuwB,GAAQ4Q,GACpDzQ,iBACAE,eACAE,gBAlaF,IAsaMoR,EAtaN,WAuaC7wC,WAAYoG,GAAMnG,EAAArB,KAAAiyC,GACjBjyC,KAAK6V,MAAQrO,EAxaf,OAAAjG,EAAA0wC,IAAA54C,IAAA,gBAAAN,MAAA,WA0awB,QAAAm5C,EAAAr2C,UAAAnB,OAANrC,EAAM,IAAA+B,MAAA83C,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAN95C,EAAM85C,GAAAt2C,UAAAs2C,GACtB,OAAO/D,EAAahxC,WAAbgxC,GAAcpuC,KAAK6V,OAAnBu4B,OAA6B/1C,OA3atCgB,IAAA,OAAAV,IAAA,WA8aE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,WA9anCxc,IAAA,0BAAAV,IAAA,WAibE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,8BAjbnCxc,IAAA,QAAAV,IAAA,WAqbE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,YArbnCxc,IAAA,kBAAAV,IAAA,WAwbE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,sBAxbnCxc,IAAA,iBAAAV,IAAA,WA4bE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,qBA5bnCxc,IAAA,oBAAAV,IAAA,WA+bE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,wBA/bnCxc,IAAA,mBAAAV,IAAA,WAkcE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,uBAlcnCxc,IAAA,cAAAV,IAAA,WAscE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,kBAtcnCxc,IAAA,wBAAAV,IAAA,WAycE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,4BAzcnCxc,IAAA,uBAAAV,IAAA,WA4cE,OAAOy1C,EAAcpuC,KAAK6V,MAAO,2BA5cnCxc,IAAA,WAAAV,IAAA,WA+cE,IAAM6O,EAAOxH,KAAK6V,MAClB,OAAO7V,KAAKoyC,YAAcpyC,KAAKoyC,WAC9B3R,qBACC,OAAO2N,EAAc5mC,EAAM,WAAY,mBAExCm5B,mBACC,OAAOyN,EAAc5mC,EAAM,WAAY,iBAExCq5B,kBACC,OAAOuN,EAAc5mC,EAAM,WAAY,qBAxd3CnO,IAAA,SAAAV,IAAA,WA6dE,IAAM6O,EAAOxH,KAAK6V,MAClB,OAAO7V,KAAKqyC,UAAYryC,KAAKqyC,SAC5B9uC,YACC,OAAO6qC,EAAc5mC,EAAM,SAAU,UAEtCwoB,cACC,OAAOoe,EAAc5mC,EAAM,SAAU,iBAnezCnO,IAAA,SAAAV,IAAA,WAweE,IAAM6O,EAAOxH,KAAK6V,MAClB,OAAO7V,KAAKsyC,UAAYtyC,KAAKsyC,SAC5BC,qBACC,OAAOnE,EAAc5mC,EAAM,SAAU,yBA3ezCyqC,EAAA,GAkfA,SAASpO,EAAWj6B,EAAKrG,EAAOqF,EAAMP,EAAKoB,EAAOF,GACjD,GAAKnP,EAAcmJ,GAKZ,CACN,IAAMqgC,EAAe9jC,EAAWyD,GAChCkuB,EAAakS,iBAAiB/5B,EAAKg6B,EAAch7B,EAAMP,EAAKoB,EAAOF,QAN/DhG,IACHqG,EAAIuZ,YAAc5f,EAClBqG,EAAIi6B,WAAWj7B,EAAMP,EAAKoB,EAAOF,IAtfpC,IA8fMipC,EA9fN,WA+fCpxC,WAAYoG,GAAMnG,EAAArB,KAAAwyC,GACjBxyC,KAAK6V,MAAQrO,EACbxH,KAAKyyC,OAAS,IAAIR,EAAczqC,GAjgBlC,OAAAjG,EAAAixC,IAAAn5C,IAAA,mBAAAN,MAAA,SAmgBkBgS,EAAStH,GACzB,OACCivC,UADM,SACIjpC,GACT,OAAOlF,EAAKuI,KAAKrD,GAChB0W,WAEC,OADapV,EAAQk0B,UACTx1B,OAEb2W,SACC,OAAO5b,EAAYuG,EAAQ8T,aAAcpb,GAAMgG,UAIlDkpC,WAZM,SAYKppC,GACV,OAAOhF,EAAKuI,KAAKvD,GAChB4W,WAEC,OADapV,EAAQk0B,UACT11B,QAEb6W,SACC,OAAO5b,EAAYuG,EAAQ8T,aAAcpb,GAAM8F,eAvhBrDlQ,IAAA,WAAAN,MAAA,SA6hBUwK,EAAOuF,EAAKP,EAAKqB,GACzB,OAAOukC,EAAS5qC,EAAOuF,EAAKP,EAAKvI,KAAK6V,MAAOjM,MA9hB/CvQ,IAAA,aAAAN,MAAA,SAgiBY4C,GACV,OAAOmE,EAAWnE,MAjiBpBtC,IAAA,kBAAAN,MAAA,SAmiBiBA,EAAOgS,EAAStH,GAC/B,GAAqB,iBAAV1K,GAAsBqB,EAAcrB,GAAQ,CACtD,IAAM65C,EAAa5yC,KAAK6yC,iBAAiB9nC,EAAStH,GAC5CqvC,EAAMhzC,EAAW/G,GACvB,OACC65C,EAAWD,WAAWG,EAAI,IAC1BF,EAAWF,UAAUI,EAAI,IACzBF,EAAWD,WAAWG,EAAI,IAC1BF,EAAWF,UAAUI,EAAI,KAG3B,OAAOhzC,EAAW/G,MA9iBpBM,IAAA,eAAAN,MAAA,SAmjBcgS,EAAS4B,GACrB,IAAMvC,EAAWW,EAAQgiB,cACzB,GAAK3iB,EAAL,CAGA,IAAMR,EAAMmB,EAAQ8T,aAEpBjV,EAAIW,OACJ,IACCX,EAAIiC,YACJjC,EAAIO,KAAKC,EAASxB,KAAMwB,EAAS/B,IAAK+B,EAASX,MAAOW,EAASb,QAE/DK,EAAI63B,OAEJ90B,EAAK/C,GANN,QAQCA,EAAI0B,eAnkBPjS,IAAA,qBAAAN,MAAA,SAskBoBgS,EAAS4B,GAC3B,IAAMvC,EAAWW,EAAQgiB,cACzB,GAAK3iB,EAAL,CAGA,IAAMD,EAAOY,EAAQk0B,UACfr1B,EAAMmB,EAAQ8T,aACpBjV,EAAIW,OACJ,IAECX,EAAIiC,YACJ,IAAIknC,EAAW3oC,EAASxB,KACpBoqC,EAAY5oC,EAASX,MACrBW,EAASxB,OAASuB,EAAKvB,OAC1BmqC,IAAa,EACbC,GAAa,GAEd,IAAIC,EAAU7oC,EAAS/B,IACnB6qC,EAAa9oC,EAASb,OACtBa,EAAS/B,MAAQ8B,EAAK9B,MACzB4qC,IAAY,EACZC,GAAc,GAEftpC,EAAIO,KAAK4oC,EAAUE,EAASD,EAAWE,GACvCtpC,EAAI63B,OAEJ90B,EAAK/C,GAlBN,QAoBCA,EAAI0B,eAlmBPjS,IAAA,OAAAN,MAAA,SAqmBMm1B,EAAMnjB,GAUD,IAAAooC,EAAAnzC,KAAAozC,EAAAv3C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MARP8H,EAQOyvC,EARPzvC,QAQO0vC,EAAAD,EAPP7kC,cAOO,IAAA8kC,EAPE,EAOFA,EANP9vC,EAMO6vC,EANP7vC,MAMO+vC,EAAAF,EALPhwB,iBAKO,IAAAkwB,EALK,OAKLA,EAAAC,EAAAH,EAJP/vB,oBAIO,IAAAkwB,EAJQ,SAIRA,EAHP9vC,EAGO2vC,EAHP3vC,KAGO+vC,EAAAJ,EAFPvvC,oBAEO,IAAA2vC,EAFQ,OAERA,EADPrjB,EACOijB,EADPjjB,MAEEhmB,EAAOY,EAAQk0B,UAEZn2B,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IAEZ,IAAKhF,EAAO,CACTA,EAASvD,KAAK85B,MAAdv2B,MAEF,IAAMwb,EAAe/e,KAAK6V,MAAMkJ,aAAajW,EAAKP,GAC9CwW,GAAgBA,EAAaxW,MAChChF,EAAQvD,KAAK85B,MAAM2Z,iBAIrBzzC,KAAK0zC,aAAa3oC,EAAUnB,YAC3B,GAAIjG,EAAS,CACZA,EAAUwvC,EAAKQ,gBAAgBhwC,EAASoH,EAAStH,GACjD,IAAMmF,EAAOuB,EAAKvB,KAAOjF,EAAQ,GAC3B0E,EAAM8B,EAAK9B,IAAM1E,EAAQ,GACzB8F,EAAQU,EAAKV,MAAQ9F,EAAQ,GAAKA,EAAQ,GAC1C4F,EAASY,EAAKZ,OAAS5F,EAAQ,GAAKA,EAAQ,GAClDwG,EAAO,IAAI/F,EAAKwE,EAAMP,EAAKoB,EAAOF,GAEnCmnC,EAAYyC,EAAKt9B,MAAOjM,EAAKskB,EAAM/jB,EAAMrB,EAAKP,GAE3CgG,SACAhL,QACA6f,YACAC,eACA5f,OACAI,eACAssB,eA9oBN92B,IAAA,gBAAAN,MAAA,SAkpBe66C,EAAY7oC,GAahB,IAAA8oC,EAAA7zC,KAAA8zC,EAAAj4C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAXP8H,EAWOmwC,EAXPnwC,QAWOowC,EAAAD,EAVPvlC,cAUO,IAAAwlC,EAVE,EAUFA,EATPxwC,EASOuwC,EATPvwC,MASOywC,EAAAF,EARP1wB,iBAQO,IAAA4wB,EARK,OAQLA,EAAAC,EAAAH,EAPPzwB,oBAOO,IAAA4wB,EAPQ,SAORA,EANPxwC,EAMOqwC,EANPrwC,KAMOywC,EAAAJ,EALP3K,kBAKO,IAAA+K,EALM,MAKNA,EAAAC,EAAAL,EAJPzK,oBAIO,IAAA8K,KAAAC,EAAAN,EAHPvK,iBAGO,IAAA6K,EAHK,EAGLA,EAAAC,EAAAP,EAFPjwC,oBAEO,IAAAwwC,EAFQ,OAERA,EADPlkB,EACO2jB,EADP3jB,MAEEhmB,EAAOY,EAAQk0B,UAEZn2B,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IAEZ,IAAKhF,EAAO,CACTA,EAASvD,KAAK85B,MAAdv2B,MAEF,IAAMwb,EAAe/e,KAAK6V,MAAMkJ,aAAajW,EAAKP,GAC9CwW,GAAgBA,EAAaxW,MAChChF,EAAQvD,KAAK85B,MAAM2Z,iBAIrBzzC,KAAK0zC,aAAa3oC,EAAUnB,YAC3B,GAAIjG,EAAS,CACZA,EAAUkwC,EAAKF,gBAAgBhwC,EAASoH,EAAStH,GACjD,IAAMmF,EAAOuB,EAAKvB,KAAOjF,EAAQ,GAC3B0E,EAAM8B,EAAK9B,IAAM1E,EAAQ,GACzB8F,EAAQU,EAAKV,MAAQ9F,EAAQ,GAAKA,EAAQ,GAC1C4F,EAASY,EAAKZ,OAAS5F,EAAQ,GAAKA,EAAQ,GAClDwG,EAAO,IAAI/F,EAAKwE,EAAMP,EAAKoB,EAAOF,GAEnC,IAAMqpC,EAAaiB,EAAKhB,iBAAiB9nC,EAAStH,GAClD0lC,EAAayJ,EAAWD,WAAWxJ,GA5btC,SAA0B3hC,EAAMoC,EAAK0qC,EAAcnqC,EAAMrB,EAAKP,GAYpD,IAYLgsC,EAZKC,EAAA34C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAVP0S,EAUOimC,EAVPjmC,OACAhL,EASOixC,EATPjxC,MACA6f,EAQOoxB,EARPpxB,UACAC,EAOOmxB,EAPPnxB,aACA5f,EAMO+wC,EANP/wC,KACA0lC,EAKOqL,EALPrL,WACAE,EAIOmL,EAJPnL,aACAE,EAGOiL,EAHPjL,UACA1lC,EAEO2wC,EAFP3wC,aACAssB,EACOqkB,EADPrkB,MAQF,GALAvmB,EAAIkC,UAAYqiC,EAAS5qC,EAAOuF,EAAKP,EAAKf,EAAMoC,GAChDA,EAAIwZ,UAAYA,EAChBxZ,EAAIyZ,aAAeA,EACnBzZ,EAAInG,KAAOA,GAAQmG,EAAInG,KAEL,SAAd8lC,EAAsB,CACzB,IAAMkL,EAAatqC,EAAKZ,OAAkB,EAATgF,EAAa,EAC9Cg7B,EAAYjrC,KAAKgM,IAAIhM,KAAKC,MAAMk2C,EAAatL,GAAa,GAI3D,GAAIE,GAAgBE,EAAY,GAAKiG,EAAgB3rC,GAAe,KAC5D4F,EAASU,EAATV,MACP8qC,KACA,IAAMG,EAAgBnL,EAAY,EAAI,SAACqF,EAAS+F,GAC/C,GAAIJ,EAAoB75C,OAAS,GAAK6uC,EAAW,CAChD,GAAuB,IAAnBqF,EAAQl0C,QAAgBi6C,EAC3BJ,EAAoBhyC,MAAMgtC,EAAkB1rC,KAC5C2D,EAAKupC,oBAAoBjoC,EAAKP,EAAK+rC,EAAa3wB,IAAI0rB,GAAgB3qB,KAAK,WACnE,KAAAkwB,EACoCpE,EAAgB5mC,EAAKglC,EAASnlC,EAAO5F,GAA/DitC,EADV8D,EACChG,QAAuBmB,EADxB6E,EACwB7E,SAC9BwE,EAAoBhyC,KAAKoyC,IAAY5E,EAClCe,EAAazwC,QAAQkvC,EAAkB1rC,KACvCitC,IACCf,GAAY4E,IACfntC,EAAKupC,oBAAoBjoC,EAAKP,EAAK+rC,EAAa3wB,IAAI0rB,GAAgB3qB,KAAK,OAG3E,OAAO,EAER,OAAO,GACJ,kBAAM,GACJmwB,EACJxL,EAAe,SAACuF,EAAS+F,GACxB,IAAKD,EAAc9F,EAAS+F,GAC3B,OAAO,EAER,KAAO/F,EAAQl0C,QAAQ,CACtB,IAAKg6C,EAAc9F,EAAS+F,GAC3B,OAAO,EAFc,IAAAG,EAIgBlF,EAAkBhmC,EAAKglC,EAASnlC,GAA/DqmC,EAJegF,EAIfhF,cAAeE,EAJA8E,EAIA9E,aACtBuE,EAAoBhyC,KAAKutC,GACzBlB,EAAUoB,EAEX,OAAO,GAENR,EAAgB3rC,GAAgB,SAAC+qC,EAAS+F,GAC3C,IAAKD,EAAc9F,EAAS+F,GAC3B,OAAO,EAF+C,IAAAI,EAIbvE,EACxC5mC,EACAglC,EACAnlC,EACA5F,GAJcitC,EAJuCiE,EAIhDnG,QAAuBmB,EAJyBgF,EAIzBhF,SAU9B,OAJAwE,EAAoBhyC,KAAKuuC,GACrBf,GACHvoC,EAAKupC,oBAAoBjoC,EAAKP,EAAK+rC,EAAa3wB,IAAI0rB,GAAgB3qB,KAAK,QAEnE,GAEN,SAACkqB,EAAS+F,GACX,QAAKD,EAAc9F,EAAS+F,KAG5BJ,EAAoBhyC,KAAKqsC,IAClB,IAEVpnC,EAAKupC,oBAAoBjoC,EAAKP,GAAK,GACnC,IAAK,IAAIysC,EAAU,EAAGA,EAAUV,EAAa55C,OAAQs6C,IAAW,CAC/D,IAAMlG,EAASwF,EAAaU,GAE5B,IAAKH,EADiBzF,EAAyB,IAAZ4F,EAAgB7kB,OAAQ11B,EAAWq0C,GACzCkG,EAAU,EAAIV,EAAa55C,QACvD,YAIF8M,EAAKupC,oBAAoBjoC,EAAKP,GAAK,GACnCgsC,EAAsBD,EACrB3wB,IAAI,SAACmrB,EAAQkG,GAAT,OAAqB5F,EAAyB,IAAZ4F,EAAgB7kB,OAAQ11B,EAAWq0C,KAI3E,IAAI3kB,EAAa,EACbE,EAAgB8e,GAAcoL,EAAoB75C,OAAS,GAE/D,GAAyB,QAArBkP,EAAIyZ,cAA+C,YAArBzZ,EAAIyZ,aAA4B,CACjE,IAAMjD,EAAK5b,EAAYoF,EAAKA,EAAInG,MAAM8F,OAChC0rC,GAAO9L,EAAa/oB,GAAM,EAChC+J,GAAc8qB,EACd5qB,GAAiB4qB,OACX,GAAyB,WAArBrrC,EAAIyZ,cAAkD,eAArBzZ,EAAIyZ,cAAsD,gBAArBzZ,EAAIyZ,aAAgC,CACpH,IAAMjD,EAAK5b,EAAYoF,EAAKA,EAAInG,MAAM8F,OAChC0rC,GAAO9L,EAAa/oB,GAAM,EAChC+J,GAAc8qB,EACd5qB,GAAiB4qB,EAElBV,EAAoBh4C,QAAS24C,YAC5BvG,EAAY/kC,EAAKsrC,EAAe/qC,EAAMoE,EAAQ4b,EAAYE,EAAevhB,EAAKP,EAAKf,GACnF2iB,GAAcgf,EACd9e,GAAiB8e,IAyUhBgM,CAAiBtB,EAAKh+B,MAAOjM,EAAKgqC,EAAYzpC,EAAMrB,EAAKP,GAEtDgG,SACAhL,QACA6f,YACAC,eACA5f,OACA0lC,aACAE,eACAE,YACA1lC,eACAssB,eAnsBN92B,IAAA,WAAAN,MAAA,SAusBUm1B,EAAMpe,EAAGC,EAAGhF,GAMX,IAAAqqC,EAAAv5C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAJP0H,EAIO6xC,EAJP7xC,MAIO8xC,EAAAD,EAHPhyB,iBAGO,IAAAiyB,EAHK,OAGLA,EAAAC,EAAAF,EAFP/xB,oBAEO,IAAAiyB,EAFQ,MAERA,EADP7xC,EACO2xC,EADP3xC,KAGKqF,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IAEZ,IAAKhF,EAAO,CACTA,EAASvD,KAAK85B,MAAdv2B,MAEF,IAAMwb,EAAe/e,KAAK6V,MAAMkJ,aAAajW,EAAKP,GAC9CwW,GAAgBA,EAAaxW,MAChChF,EAAQvD,KAAK85B,MAAM2Z,iBAGrB,IAAM7pC,EAAMmB,EAAQ8T,aACpBjV,EAAIW,OACJ,IACCX,EAAIkC,UAAYqiC,EAAS5qC,EAAOuF,EAAKP,EAAKvI,KAAK6V,MAAOjM,GACtDA,EAAIwZ,UAAYA,EAChBxZ,EAAIyZ,aAAeA,EACnBzZ,EAAInG,KAAOA,GAAQmG,EAAInG,KACvBmG,EAAI+3B,SAASzT,EAAMpe,EAAGC,GALvB,QAOCnG,EAAI0B,cAluBPjS,IAAA,WAAAN,MAAA,SAquBUgS,GAGC,IAAAwqC,EAAAv1C,KAAAw1C,GAAA35C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,OADPujC,iBACO,IAAAoW,EADKx1C,KAAK85B,MAAM2b,eAChBD,EACHrrC,EAAOY,EAAQk0B,UAErBj/B,KAAK0zC,aAAa3oC,EAAUnB,YAAQ,IAC5Bd,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZqB,EAAIkC,UAAYqiC,EAAS/O,EAAWt2B,EAAKP,EAAKgtC,EAAK1/B,MAAOjM,GAE1DA,EAAIiC,YACJjC,EAAIO,KAAKA,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAC/CK,EAAIoC,YAjvBP3S,IAAA,oBAAAN,MAAA,SAovBmBgS,GAAsB,IAAbmhB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MACvCqwB,EAAOkT,UAAYp/B,KAAK01C,kBAAkB3qC,EAASmhB,GACnDlsB,KAAK21C,SAAS5qC,EAASmhB,MAtvBzB7yB,IAAA,WAAAN,MAAA,SAwvBUoR,EAAMY,GAGL,IAAA6qC,GAAA/5C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,OADPujC,iBACO,IAAAwW,EADK51C,KAAK85B,MAAM2b,eAChBG,EAEHhsC,EAAMmB,EAAQ8T,aACpBjV,EAAIW,OACJ,IAAI,IACIzB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZqB,EAAIkC,UAAYqiC,EAAS/O,EAAWt2B,EAAKP,EAAKvI,KAAK6V,MAAOjM,GAE1DA,EAAIiC,YACJjC,EAAIO,KAAKA,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAC/CK,EAAIoC,OANL,QAQCpC,EAAI0B,cAvwBPjS,IAAA,oBAAAN,MAAA,SA0wBmBoR,EAAMY,GAAsB,IAAbmhB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAC7CqwB,EAAOkT,UAAYp/B,KAAK01C,kBAAkB3qC,EAASmhB,GAEnDlsB,KAAKm/B,SAASh1B,EAAMY,EAASmhB,MA7wB/B7yB,IAAA,oBAAAN,MAAA,SA+wBmBgS,GAAsB,IAAbmhB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MACjC4vB,EAAQ1gB,EAAQ8qC,iBACf/sC,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZ,IAAKkjB,EAAMhZ,UAAYgZ,EAAM5gB,UAC5B,OAAO7K,KAAK85B,MAAMgc,iBAEnB,GAAI5pB,EAAOkT,UACV,OAAOlT,EAAOkT,UAEf,IAAMrgB,EAAe/e,KAAK6V,MAAMkJ,aAAajW,EAAKP,GAClD,OAAIwW,GAAgBA,EAAaxW,IACzBvI,KAAK85B,MAAMic,kBAEZ/1C,KAAK85B,MAAM2b,kBA5xBpBp8C,IAAA,SAAAN,MAAA,SA8xBQgS,GAIG,IAAAirC,EAAAh2C,KAAAi2C,EAAAp6C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAq6C,EAAAD,EAFPpV,mBAEO,IAAAqV,EAFOl2C,KAAK85B,MAAM+G,YAElBqV,EAAAC,EAAAF,EADP3yB,iBACO,IAAA6yB,EADK,EACLA,EACHhsC,EAAOY,EAAQk0B,UAErBj/B,KAAKo2C,mBAAmBrrC,EAAUnB,YAAQ,IAClCd,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACNq7B,EAAeuK,EAAStN,EAAa/3B,EAAKP,EAAKytC,EAAKngC,MAAOjM,GAEjE,GAAkB,IAAd0Z,EACH1Z,EAAI0Z,UAAY,EAChBugB,EAAWj6B,EAAKg6B,EAAcz5B,EAAKvB,KAAO,GAAKuB,EAAK9B,IAAM,GAAK8B,EAAKV,MAAOU,EAAKZ,aAC1E,GAAkB,IAAd+Z,EACV1Z,EAAI0Z,UAAY,EAChBugB,EAAWj6B,EAAKg6B,EAAcz5B,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAQ,EAAGU,EAAKZ,OAAS,OAC3E,CACNK,EAAI0Z,UAAYA,EAChB,IAAM+yB,EAAe/yB,EAAY,EAAK,EACtCugB,EAAWj6B,EAAKg6B,EACdz5B,EAAKvB,KAAOytC,EACZlsC,EAAK9B,IAAMguC,EACXlsC,EAAKV,MAAQ6Z,EAAY,EACzBnZ,EAAKZ,OAAS+Z,EAAY,SAtzBhCjqB,IAAA,kBAAAN,MAAA,SA2zBiBgS,GAAsB,IAAAurC,EAAAt2C,KAAbksB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAC/BsO,EAAOY,EAAQk0B,UACfxT,EAAQ1gB,EAAQ8qC,iBACf/sC,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IAGZ,GAAIkjB,EAAMhZ,SACTyZ,EAAO2U,YAAc7gC,KAAK85B,MAAMyc,qBAChCrqB,EAAO5I,UAAY,EACnBtjB,KAAKw2C,OAAOzrC,EAASmhB,OACf,CAEN,IAAMnN,EAAe/e,KAAK6V,MAAMkJ,aAAajW,EAAKP,GAC9CwW,GAAgBA,EAAaxW,MAChC2jB,EAAO2U,YAAc7gC,KAAK85B,MAAM2c,uBAGjCvqB,EAAO5I,UAAY,EACnBtjB,KAAKw2C,OAAOzrC,EAASmhB,GAGrB,IAAM1N,EAAMxe,KAAK6V,MAAMhL,UAAU4G,OAC7B+M,EAAI1V,IAAM,IAAMA,GAAO0V,EAAIjW,MAAQA,EAEtCvI,KAAKo2C,mBAAmBrrC,EAAUnB,YACjC,IAAMg6B,EAAe9jC,EACnBquC,EAASmI,EAAKxc,MAAMyc,qBAAsB/3B,EAAI1V,IAAK0V,EAAIjW,IAAK+tC,EAAKzgC,MAAOjM,IAE1EA,EAAI0Z,UAAY,EAChB1Z,EAAIuZ,YAAcygB,EAAa,GAC/Bh6B,EAAIiC,YACJjC,EAAIy3B,OAAOl3B,EAAKvB,KAAO,GAAKuB,EAAK9B,KACjCuB,EAAI03B,OAAOn3B,EAAKvB,KAAO,GAAKuB,EAAKlC,QACjC2B,EAAIu2B,WAEK3hB,EAAI1V,MAAQA,GAAO0V,EAAIjW,IAAM,IAAMA,GAE7CvI,KAAKo2C,mBAAmBrrC,EAAUnB,YACjC,IAAMg6B,EAAe9jC,EACnBquC,EAASmI,EAAKxc,MAAMyc,qBAAsB/3B,EAAI1V,IAAK0V,EAAIjW,IAAK+tC,EAAKzgC,MAAOjM,IAE1EA,EAAI0Z,UAAY,EAChB1Z,EAAIuZ,YAAcygB,EAAa,GAC/Bh6B,EAAIiC,YACJjC,EAAIy3B,OAAOl3B,EAAKvB,KAAMuB,EAAK9B,IAAM,IACjCuB,EAAI03B,OAAOn3B,EAAKpB,MAAOoB,EAAK9B,IAAM,IAClCuB,EAAIu2B,eAz2BT9mC,IAAA,sBAAAN,MAAA,SA82BqBunC,EAAOv1B,GAAsB,IAAbmhB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAC1C66C,EAAO12C,KACP4J,EAAMmB,EAAQ8T,aACd6yB,EAAWjgB,EAAa2O,gBAAgBx2B,GAAKH,MACnD,OAAO,IAAIwkC,GACVthC,KAMD,SAAAgqC,GASG,IARF/sC,EAQE+sC,EARF/sC,IAEAO,GAMEwsC,EAPFllB,aAOEklB,EANFxsC,MACAoE,EAKEooC,EALFpoC,OACAmH,EAIEihC,EAJFjhC,WACAgc,EAGEilB,EAHFjlB,YACA/b,EAEEghC,EAFFhhC,UACAgc,EACEglB,EADFhlB,aAEO7oB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZ83B,EAAaz2B,EAAKO,EAAMrB,EAAKP,EAAK+3B,EAAOoW,EAAMxqB,GAC9C3d,OAAQA,EAAS,EACjB5K,SACCiF,KAAM8M,EAAa,EACnB3M,MAAO2oB,EACPrpB,IAAKsN,EACL1N,OAAQ0pB,MAtBVloB,MAAOioC,EAAW,EAClBnoC,OAAQmoC,EAAW,EACnBnuC,WAAO9I,OAt3BVpB,IAAA,WAAAN,MAAA,SA+4BUunC,EAAOv1B,GAAsB,IAAA6rC,EAAA52C,KAAbksB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MACrCmE,KAAK0zC,aAAa3oC,EAAUnB,YAAQ,IAC5Bd,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZ83B,EAAaz2B,EAAKmB,EAAQk0B,UAAWn2B,EAAKP,EAAK+3B,EAAOsW,EAAM1qB,QAl5B/D7yB,IAAA,SAAAN,MAAA,SAq5BQutC,EAASv7B,GAYN,IAAA8rC,EAAA72C,KAAA82C,EAAAj7C,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAk7C,EAAAD,EAVP9mB,eAUO,IAAA+mB,EAVG/2C,KAAK85B,MAAMz6B,OAAO2wB,QAUrB+mB,EATPpzC,EASOmzC,EATPnzC,QASOqzC,EAAAF,EARPvoC,cAQO,IAAAyoC,EARE,EAQFA,EAAAC,EAAAH,EAPPvzC,aAOO,IAAA0zC,EAPCj3C,KAAK85B,MAAMz6B,OAAOkE,MAOnB0zC,EAAAC,EAAAJ,EANP1zB,iBAMO,IAAA8zB,EANK,SAMLA,EAAAC,EAAAL,EALPzzB,oBAKO,IAAA8zB,EALQ,SAKRA,EAJPjV,EAIO4U,EAJP5U,OACAz+B,EAGOqzC,EAHPrzC,KAGO2zC,EAAAN,EAFPjzC,oBAEO,IAAAuzC,EAFQ,OAERA,EADPjnB,EACO2mB,EADP3mB,MAEIhmB,EAAOY,EAAQk0B,UAErBj/B,KAAK0zC,aAAa3oC,EAAUnB,YAAQ,IAC5Bd,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZ5E,EAAUkzC,EAAKlD,gBAAgBhwC,GAAWwG,EAAKZ,OAAS,EAAGwB,EAAStH,GACpE,IAAMmF,EAAOuB,EAAKvB,KAAOjF,EAAQ,GAC3B0E,EAAM8B,EAAK9B,IAAM1E,EAAQ,GACzB8F,EAAQU,EAAKV,MAAQ9F,EAAQ,GAAKA,EAAQ,GAC1C4F,EAASY,EAAKZ,OAAS5F,EAAQ,GAAKA,EAAQ,GAElD8tB,EAAamQ,WAAWh4B,EAAKhB,EAAMP,EAAKoB,EAAOF,GAC9CymB,UACA8P,OAAQ31B,EAAKZ,OAAS,EACtBgF,SACA2zB,WAEDwO,EAAYmG,EAAKhhC,MAAOjM,EAAK08B,EAAS,IAAIliC,EAAKwE,EAAMP,EAAKoB,EAAOF,GAC/DT,EAAKP,GAEJgG,SACAhL,QACA6f,YACAC,eACA5f,OACAI,eACAssB,eA37BN92B,IAAA,eAAAN,MAAA,SA+7Bc0K,EAAM1K,EAAOgS,GACzB,OA94BF,SAAsBtH,EAAM1K,EAAOgS,EAASvD,GAC3C,QAAI/D,IACEuqC,EAAM1N,MAAM78B,EAAM1K,KACtBi1C,EAAMqJ,KAAK5zC,EAAM1K,EAAO,kBApC3B,SAAwBgS,EAASvD,GAAM,IAC/BsB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACZf,EAAKw9B,eAAel8B,EAAKP,GAkCOy8B,CAAej6B,EAASvD,KAC/C,IA04BDyoB,CAAaxsB,EAAM1K,EAAOgS,EAAS/K,KAAK6V,UAh8BjDxc,IAAA,QAAAV,IAAA,WAijBE,OAAOqH,KAAKyyC,WAjjBdD,EAAA,GAo8BAh7C,EAAOF,QAAUk7C,IAxxBJv6C,KAAA+H,KAAAnI,EAAA,mBAGXm4C,gBAAY,IC1KVqH,EACA/W,EAFEgX,KAGN,GALiBp3C,EAAQ,GAAlBjG,OAMNo9C,EAAO,SAAS5zC,EAAM8zC,EAAS55C,GAC9BA,KAED2iC,EAAQ,WACP,OAAO,OAEF,CACN,IAAMkX,GAAUhhC,SAASw3B,MACzBqJ,EAAOG,EAAS,SAAS/zC,EAAM8zC,EAAS55C,GAEnC25C,EAAK,GAAAj3C,OAAIoD,EAAJ,OAAApD,OAAck3C,IACtB55C,IAGDuC,EAAQ,KAAsCm3C,KAAK5zC,EAAM8zC,EAAS,WACjED,EAAK,GAAAj3C,OAAIoD,EAAJ,OAAApD,OAAck3C,KAAa,EAChC55C,KACE,WACF25C,EAAK,GAAAj3C,OAAIoD,EAAJ,OAAApD,OAAck3C,KAAa,EAChC55C,OAEE,SAAS8F,EAAM8zC,EAAS55C,GACvB25C,EAAMpyB,KAAOoyB,EAAM7zC,GACtB9F,KAGD6Y,SAASw3B,MAAMyJ,MAAM17C,KAAK,WACzBu7C,EAAMpyB,KAAM,IAEb1O,SAASw3B,MAAMqJ,KAAK5zC,GAAM1H,KAAK,WAC9Bu7C,EAAM7zC,IAAQ,EACd9F,QAGF2iC,EAAQkX,EAAS,SAAS/zC,EAAM8zC,GAE/B,QAAID,EAAK,GAAAj3C,OAAIoD,EAAJ,OAAApD,OAAck3C,MAGvBF,EAAK5zC,EAAM8zC,EAAS,eACb,IACJ,SAAS9zC,EAAM8zC,GAClB,SAAID,EAAMpyB,MAAOoyB,EAAM7zC,QAGlB+S,SAASw3B,MAAM1N,MAAM78B,KACzB4zC,EAAK5zC,EAAM8zC,EAAS,eACb,KAMV//C,EAAOF,SACNgpC,QACA+W,S/Dq5TM,SAAS7/C,EAAQF,EAASO,GgEl9TjC,IAAMw5B,EAASnxB,EAAQ,IAChBuqC,EAAkBvqC,EAAQ,IAA1BuqC,eACA3uC,EAAaoE,EAAQ,GAArBpE,UAED47C,EhE88TgD,SAAAC,GgE78TrDv2C,cASK,IAAAw2C,EAPF9N,EAOE+N,EAPF/N,IACArgC,EAMEouC,EANFpuC,MACAF,EAKEsuC,EALFtuC,OACAuuC,EAIED,EAJFC,UACAC,EAGEF,EAHFE,SACAC,EAEEH,EAFFG,WACAC,EACEJ,EADFI,YACE,OAAA52C,EAAArB,KAAA03C,IACJE,EAAAx0C,EAAApD,KAAAqD,EAAAq0C,GAAAz/C,KAAA+H,QACKk4C,KAAOpO,EACZ8N,EAAKtkB,OAAS7pB,EACdmuC,EAAKrkB,QAAUhqB,EACfquC,EAAKO,WAAaL,EAClBF,EAAKQ,UAAYL,EACjBH,EAAKS,YAAcL,EACnBJ,EAAKU,aAAeL,EAEpBL,EAAKW,aAGLX,EAAKY,SAAU,EACX18C,EAAUguC,GACbA,EAAI/tC,KAAMlC,YACT+9C,EAAKM,KAAOr+C,EACZ+9C,EAAKa,WAAW5+C,KAGjB+9C,EAAKa,WAAW3O,GApBb8N,EhEo8TgD,OAAA9zC,EAAA4zC,EgE98T5BrmB,GhE88T4B9vB,EAAAm2C,IAAAr+C,IAAA,aAAAN,MAAA,SgE56T1C+wC,GAAK,IAAA4O,EAAA14C,KACTiqC,EAAMjqC,KAAK24C,WAAalO,EAAe,cAAe,GAAIX,GAC5DhuC,EAAUmuC,GACbA,EAAIluC,KAAMhE,YACT2gD,EAAKF,SAAU,EACfE,EAAKC,WAAa5gD,EAElB2gD,EAAKH,UAAUh8C,QAASX,YAAD,OAAQA,QAGhCoE,KAAKw4C,SAAU,KhEk6ToCn/C,IAAA,QAAAN,MAAA,SAAA6/C,GgE/5TxCA,EAANhvC,IACN,OAAO5J,KAAKszB,SAAWtzB,KAAKw4C,QAAUx4C,KAAK24C,WAAWlvC,MAAQ,MhE85TVpQ,IAAA,OAAAN,MAAA,WgE35TpD,OAAO,QhE25T6CM,IAAA,QAAAN,MAAA,WgEx5TpD,OAAO,QhEw5T6CM,IAAA,UAAAN,MAAA,WgEr5TpD,OAAOiH,KAAKw4C,WhEq5TwCn/C,IAAA,UAAAN,MAAA,SgEn5T7C4E,IACH7B,EAAUkE,KAAKk4C,OAASp8C,EAAUkE,KAAK24C,cAC1C34C,KAAKu4C,UAAUh2C,KAAK,kBAAM5E,ShEi5TyBtE,IAAA,OAAAN,MAAA,SAAA8/C,GgEp4ThD,IARFjvC,EAQEivC,EARFjvC,IACA6nB,EAOEonB,EAPFpnB,aACAtnB,EAME0uC,EANF1uC,KACAoE,EAKEsqC,EALFtqC,OACAmH,EAIEmjC,EAJFnjC,WACAgc,EAGEmnB,EAHFnnB,YACA/b,EAEEkjC,EAFFljC,UACAgc,EACEknB,EADFlnB,aAEIsY,EAAMjqC,KAAK24C,WACjBlnB,EAAawR,oBAAoBr5B,EAAKqgC,EACpCjqC,KAAKm4C,YAAc,EAAGn4C,KAAKo4C,WAAa,EACxCp4C,KAAKq4C,aAAepO,EAAIxgC,MAAOzJ,KAAKs4C,cAAgBrO,EAAI1gC,OACxDvJ,KAAKszB,QAAU2W,EAAIxgC,MAAOzJ,KAAKuzB,SAAW0W,EAAI1gC,OAC9CY,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAErCgF,OAAQA,EAAS,EACjB5K,SACCiF,KAAM8M,EACN3M,MAAO2oB,EACPrpB,IAAKsN,EACL1N,OAAQ0pB,QhEu3TwCt4B,IAAA,WAAAN,MAAA,WgEj3TpD,OAAO,KhEi3T6CM,IAAA,WAAAN,MAAA,WgE92TpD,MAAO,OhE82T6C2+C,EAAA,GgE12TtDlgD,EAAOF,QAAUogD,GFuPhB,SAAI9tC,EAAIyZ,EAAJzZ,GG9VL,IAAMynB,EAASnxB,EAAQ,IAEjB+tC,EH4ViC5qB,YG3VtCjiB,cAMK,IAAA03C,EAJFnsC,EAIEosC,EAJFpsC,KACAlD,EAGEsvC,EAHFtvC,MACAF,EAEEwvC,EAFFxvC,OACAhG,EACEw1C,EADFx1C,MACE,OAAAlC,EAAArB,KAAAiuC,IACJ6K,EAAA11C,EAAApD,KAAAqD,EAAA4qC,GAAAh2C,KAAA+H,QAEKg5C,MAAQrsC,EACbmsC,EAAKxlB,OAAS7pB,EACdqvC,EAAKvlB,QAAUhqB,EACfuvC,EAAKx1C,OAASC,EANVu1C,EHqViCz1B,WG5VZgO,GH4VYhO,oCG7UzB41B,EAANrvC,IACN,OAAO5J,KAAKszB,UH4UyBjQ,4BGzUrC,OAAO,QHyU8BA,6BGtUrC,OAAOrjB,KAAKsD,UHsUyB+f,+BGnUrC,OAAO,KHmU8BA,6BGjU9B1lB,OHiU8B0lB,6BGrTjC,IARFzZ,EAQEsvC,EARFtvC,IACA6nB,EAOEynB,EAPFznB,aACAtnB,EAME+uC,EANF/uC,KACAoE,EAKE2qC,EALF3qC,OACAmH,EAIEwjC,EAJFxjC,WACAgc,EAGEwnB,EAHFxnB,YACA/b,EAEEujC,EAFFvjC,UACAgc,EACEunB,EADFvnB,aAEF3xB,KAAKg5C,OACJpvC,MACA6nB,eACAtnB,OACAoE,SACAmH,aACAgc,cACA/b,YACAgc,oBH4SoCtO,gCGxSrC,OAAO,KHwS8BA,gCGrSrC,MAAO,OHqS8BA,KGjSvC7rB,EAAOF,QAAU22C,GH2VfxN,aAAiBH,GAAK,IIxZjBpkC,EAAUgE,EAAQ,GAAlBhE,OACD89B,EAAU95B,EAAQ,IAClBi5C,GACLC,mBACC,OAAOl5C,EAAQ,MAEhBm5C,qBACC,OAAOn5C,EAAQ,MAEhBo5C,WACC,OAAOp5C,EAAQ,MAEhBqZ,UACC,OAAOrZ,EAAQ,MAEhBq5C,WACC,OAAOr5C,EAAQ,MAEhBs5C,kBACC,OAAOt5C,EAAQ,MAEhBu5C,gBACC,OAAOv5C,EAAQ,OAIjB1I,EAAOF,SACNqB,IADgB,WAEf,OAAOuD,EAAOi9C,EAAUnf,MJ/B1B,SAAAxiC,EAAAF,EAAAO,GKEAL,EAAOF,YL8bL,SAAAE,EAAAF,EAAAO,GM9bF,IAAM6hD,KAeN,SAASC,EAASC,GACjB,OAAOna,SAASma,EAAK,IAEtB,SAASC,EAAUjhD,EAAGkhD,EAAGr8B,GACxB,OAAQ7kB,IAAGkhD,IAAGr8B,IAAGD,EADiB3hB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,GAAH,GAUhC,SAASk+C,EAATC,GAA+B,IAAbphD,EAAaohD,EAAbphD,EAAGkhD,EAAUE,EAAVF,EAAGr8B,EAAOu8B,EAAPv8B,EAAGD,EAAIw8B,EAAJx8B,EAC1B,OAAO,GAAK5kB,GAAKA,GAAK,KACrB,GAAKkhD,GAAKA,GAAK,KACf,GAAKr8B,GAAKA,GAAK,KACf,GAAKD,GAAKA,GAAK,EAEjB,SAASy8B,EAAWrhD,GACnB,OAAO0F,KAAKwJ,KAAS,IAAJlP,EAAU,KAE5B,SAASshD,EAAY32C,GACpB,GAAIA,EAAMhI,MAAM,mBACf,OAlBF,SAAA4+C,GAA4C,IAAhBvhD,EAAgBuhD,EAAnB,GAASL,EAAUK,EAAb,GAAS18B,EAAI08B,EAAP,GACpC,OAAON,EAAUF,EAAS/gD,EAAIA,GAAI+gD,EAASG,EAAIA,GAAIH,EAASl8B,EAAIA,IAiBxD28B,CAAe72C,GAEvB,GAAIA,EAAMhI,MAAM,mBACf,OAlBF,SAAA8+C,GAAsE,IAAxC9M,EAAwC8M,EAA3C,GAAU7M,EAAiC6M,EAApC,GAAUC,EAA0BD,EAA7B,GAAUE,EAAmBF,EAAtB,GAAUG,EAAYH,EAAf,GAAUI,EAAKJ,EAAR,GAC7D,OAAOR,EAAUF,EAASpM,EAAKC,GAAKmM,EAASW,EAAKC,GAAKZ,EAASa,EAAKC,IAiB7DC,CAAiBn3C,GAEzB,IAAIwtB,EAAMxtB,EAAMhI,MAAM,6DACtB,GAAIw1B,EAAK,CACR,IAAM4pB,EAAMd,EAAU9oB,EAAI,GAAK,EAAGA,EAAI,GAAK,EAAGA,EAAI,GAAK,GACvD,GAAIgpB,EAAQY,GACX,OAAOA,EAIT,GADA5pB,EAAMxtB,EAAMhI,MAAM,gFACT,CACR,IAAMo/C,EAAMd,EAAU9oB,EAAI,GAAK,EAAGA,EAAI,GAAK,EAAGA,EAAI,GAAK,EAAGA,EAAI,GAAK,GACnE,GAAIgpB,EAAQY,GACX,OAAOA,EAIT,GADA5pB,EAAMxtB,EAAMhI,MAAM,qFACT,CACR,IAAMo/C,EAAMd,EAAUI,EAAWlpB,EAAI,IAAKkpB,EAAWlpB,EAAI,IAAKkpB,EAAWlpB,EAAI,KAC7E,GAAIgpB,EAAQY,GACX,OAAOA,EAIT,GADA5pB,EAAMxtB,EAAMhI,MAAM,wGACT,CACR,IAAMo/C,EAAMd,EAAUI,EAAWlpB,EAAI,IAAKkpB,EAAWlpB,EAAI,IAAKkpB,EAAWlpB,EAAI,IAAKA,EAAI,GAAK,GAC3F,GAAIgpB,EAAQY,GACX,OAAOA,EAGT,OAAO,KAaRnjD,EAAOF,SACNw2C,WAZD,SAAoBvqC,GACnB,MAAqB,iBAAVA,EACHs2C,EAAU,EAAG,EAAG,EAAG,IAE3Bt2C,EAAQA,EAAMjI,cAAcqnB,OACxB+2B,EAAOn2C,GACHm2C,EAAOn2C,GAER22C,EAAY32C,KAAWm2C,EAAOn2C,GAjFtC,SAAyBA,GACxB,IAAMi8B,EAAQhpB,SAAS6C,cAAc,OAC9BxZ,EAAS2/B,EAAT3/B,MACPA,EAAM0D,MAAQA,EACd1D,EAAM3B,SAAW,QACjB2B,EAAM0J,OAAS,MACf1J,EAAM4J,MAAQ,MACd5J,EAAM8rB,QAAU,EAChBnV,SAASC,KAAKgD,YAAY+lB,GARK,IASjBob,EAAcpkC,SAASiiB,YAAYC,iBAAiB8G,EAAO,IAAlEj8B,MAEP,OADAiT,SAASC,KAAK0D,YAAYqlB,GACnB0a,EAAYU,GAsE2BC,CAAgBt3C,QpEixUxD,SAAS/L,EAAQF,EAASO,GqEl2UjC,IAAMijD,EAAO56C,EAAQ,IACf66C,EAAQ76C,EAAQ,IAChB86C,EAAU96C,EAAQ,IAClB+6C,EAAU/6C,EAAQ,KAClBm6B,EAASn6B,EAAQ,IACjBtF,EAAOsF,EAAQ,IAEfg7C,EAAWh7C,EAAQ,KACnBsyC,EAAmBtyC,EAAQ,IAE3BiwB,EAAQjwB,EAAQ,IAChBi7C,EAAWj7C,EAAQ,KAOzB1I,EAAOF,SACNwjD,OACAC,QAGAG,WAGAF,UACAC,UACA5gB,SACAz/B,OAGA43C,mBACAriB,YACC,OAAOA,EAAMx3B,OAIdwiD,WAEAC,gBAEC,OADArR,QAAQO,KAAK,mBAEZ/mC,MAAOrD,EAAQ,IACfqd,KAAMrd,EAAQ,IACdqE,KAAMrE,EAAQ,IACdm7C,cAAen7C,EAAQ,GACvBo7C,cAAep7C,EAAQ,QPgjBvB0J,WAAI0B,EAAJ1B,GQhmBH,IAAMuV,EAAWjf,EAAQ,GAQzB1I,EAAOF,SACN6nB,aRomBU,SAAA3nB,EADP24B,GS9mBJ,IAAA2pB,EAGAA,EAAA,WACA,OAAA95C,KADA,GAIA,IAEA85C,KAAAyB,SAAA,cAAAA,KAAA,EAAAC,MAAA,QACC,MAAAt8C,GAED,WAAA3H,EAAAJ,KAAA2iD,EAAA3iD,GAOAK,EAAAF,QAAAwiD,GvEk8UO,SAAStiD,EAAQF,EAASO,GwEn9UjC,IAAMsJ,EAAejB,EAAQ,GACvBL,EAAQK,EAAQ,IAGhBu7C,EAFYv7C,EAAQ,GAAnBlE,QAEoBC,YAAc,IAEzC,SAASy/C,EAAQtrC,GAChB,IAAIurC,EACJ,GAAIvrC,EAAWmjB,QAAUkoB,EAAY,CACpC,IAAMG,EAAS/7C,EAAM+a,mBACd+F,EAAgBvQ,EAAW8I,YAA3ByH,aACDk7B,EAAeJ,EAAa96B,EAAei7B,EAC3CE,EAAe1rC,EAAWmjB,QAAU5S,EAAei7B,EACzDxrC,EAAW2rC,GAAKF,EAAeC,EAC/BH,EAAYF,OAEZrrC,EAAW2rC,GAAK,EAChBJ,EAAYvrC,EAAWmjB,QAGxBnjB,EAAW4rC,iBAAiBn8C,MAAMwI,IAAlC+H,UAA2CurC,EAAU9gC,UAArDzK,MACAA,EAAW4rC,iBAAiBn8C,MAAM+I,KAAlCwH,UAA4CA,EAAWkjB,OAAOzY,UAA9DzK,MxE87UqD,IwE17UhD/L,ExE07UgD,WwEz7UrDjD,aAAcC,EAAArB,KAAAqE,GACbrE,KAAK8V,SAAW,IAAI3U,EAEpBnB,KAAKkZ,YAAc1C,SAAS6C,cAAc,OAC1CrZ,KAAKkZ,YAAYI,UAAUC,IAAI,mBAC/BvZ,KAAKuzB,QAAU,EACfvzB,KAAKszB,OAAS,EAEdtzB,KAAKg8C,iBAAmBxlC,SAAS6C,cAAc,OAC/CrZ,KAAKg8C,iBAAiB1iC,UAAUC,IAAI,yBACpCmiC,EAAQ17C,MACRA,KAAKkZ,YAAYO,YAAYzZ,KAAKg8C,kBxE86UkB,OAAAz6C,EAAA8C,IAAAhL,IAAA,UAAAN,MAAA,SwEr6U7CsP,GACP,IAAM4zC,EAAc5zC,EAAMrI,KAAKgT,UAC/B,OAAOhT,KAAKkZ,YAAYlG,UAAYipC,KxEm6UgB5iD,IAAA,aAAAN,MAAA,WwEh6UpD,OAAOiH,KAAKkZ,exEg6UwC7f,IAAA,gBAAAN,MAAA,SwE95UvC0Q,EAAOF,GACpBvJ,KAAKszB,OAAS7pB,EACdzJ,KAAKuzB,QAAUhqB,EACfmyC,EAAQ17C,SxE25U4C3G,IAAA,WAAAN,MAAA,SwE/3U5C6C,GACRoE,KAAK8V,SAAS5T,GAAGlC,KAAKkZ,YAAa,SAAUtd,MxE83UOvC,IAAA,UAAAN,MAAA,WwE33UpDiH,KAAK8V,SAASsB,axE23UsC/d,IAAA,cAAAV,IAAA,WwEx5UpD,OAAOqH,KAAKszB,QxEw5UwC52B,IAAA,SwEt5UrC+M,GACfzJ,KAAKszB,OAAS7pB,EACdiyC,EAAQ17C,SxEo5U4C3G,IAAA,eAAAV,IAAA,WwEj5UpD,OAAOqH,KAAKuzB,SxEi5UwC72B,IAAA,SwE/4UpC6M,GAChBvJ,KAAKuzB,QAAUhqB,EACfmyC,EAAQ17C,SxE64U4C3G,IAAA,aAAAV,IAAA,WwE14UpD,OAAO2F,KAAKwJ,KAAK9H,KAAKkZ,YAAYpG,axE04UkBpW,IAAA,SwEx4UtCoW,GACd9S,KAAKkZ,YAAYpG,WAAaA,KxEu4UsBzZ,IAAA,YAAAV,IAAA,WwEp4UpD,OAAO2F,KAAKwJ,KAAK9H,KAAKkZ,YAAYlG,UAAYhT,KAAK+7C,KxEo4UCr/C,IAAA,SwEl4UvCsW,GACbhT,KAAKkZ,YAAYlG,UAAYA,EAAYhT,KAAK+7C,OxEi4UM13C,EAAA,GwEt3UtD7M,EAAOF,QAAU+M,GxEo/UV,SAAS7M,EAAQF,EAASO,GyEllVjC,IAAAgsB,EAAchsB,EAAQ,IAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAA8DgsB,EAAAliB,GAE3EkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,SX4uBE,SAAA3kD,EAASF,EAAUO,IY7vBrBL,EAAAF,QAA2BO,EAAQ,EAARA,EAA0D,IAKrF0K,MAAc/K,EAAAO,EAAS,g0BAAg0B,MZLv1B,SAAAP,EAAAF,GacAE,EAAAF,QAAA,SAAAmvB,GAEA,IAAA21B,OAAA,IAAAjlD,KAAAilD,SAEA,IAAAA,EACA,UAAAv5B,MAAA,oCAIA,IAAA4D,GAAA,iBAAAA,EACA,OAAAA,EAGA,IAAA41B,EAAAD,EAAAE,SAAA,KAAAF,EAAAG,KACAC,EAAAH,EAAAD,EAAAK,SAAAhoC,QAAA,iBA2DA,OA/BAgS,EAAAhS,QAAA,+DAAAioC,EAAAC,GAEA,IAWAC,EAXAC,EAAAF,EACAh6B,OACAlO,QAAA,oBAAAlc,EAAAukD,GAAwC,OAAAA,IACxCroC,QAAA,oBAAAlc,EAAAukD,GAAwC,OAAAA,IAGxC,0DAAAloC,KAAAioC,GACAH,GAQAE,EAFA,IAAAC,EAAArhD,QAAA,MAEAqhD,EACG,IAAAA,EAAArhD,QAAA,KAEH6gD,EAAAQ,EAGAL,EAAAK,EAAApoC,QAAA,YAIA,OAAA2P,KAAAC,UAAAu4B,GAAA,SbowBKhzC,aAAI0Z,Gcr1BT,IAiBMhf,Edo0BDsF,Wcn0BJxI,aAAcC,EAAArB,KAAAsE,GACbtE,KAAK+8C,SACL/8C,KAAKg9C,SACLh9C,KAAKi9C,SAAU,Edg0BZrzC,sCc9zBAvQ,EAAKN,GACFM,KAAO2G,KAAKg9C,QACjBh9C,KAAK+8C,MAAMx6C,KAAKlJ,GAChB2G,KAAKi9C,SAAU,GAEhBj9C,KAAKg9C,MAAM3jD,GAAON,KdyzBf6Q,yBcvzBAvQ,GACH,OAAO2G,KAAKg9C,MAAM3jD,MdszBfuQ,6BcpzBIhO,GAAI,IAAAshD,EAAAl9C,KACXA,KAAK+8C,MAAMxgD,QAASlD,YACnBuC,EAAGshD,EAAKvkD,IAAIU,GAAMA,QdkzBhBuQ,0Bc/yBCuzC,EAASC,EAAOxhD,GAAI,IACVuP,EAAQnL,KAAf+8C,MACAriD,EAAUyQ,EAAVzQ,OACFsF,KAAKi9C,UACT9xC,EAAKoS,KAAK,SAACC,EAAGC,GACb,OAAID,EAAIC,GAAa,EACjBD,EAAIC,EAAY,EACb,IAERzd,KAAKi9C,SAAU,GAGhB,IAAK,IAAIllD,EAlDQ,SAACslD,EAAKC,GAGxB,IAFA,IAAIC,EAAM,EACNC,EAAOH,EAAI3iD,OAAS,EACjB6iD,GAAOC,GAAM,CACnB,IAAMzlD,EAAIuG,KAAKC,OAAOg/C,EAAMC,GAAQ,GACpC,GAAIH,EAAItlD,KAAOulD,EACd,OAAOvlD,EACGslD,EAAItlD,GAAKulD,EACnBE,EAAOzlD,EAAI,EAEXwlD,EAAMxlD,EAAI,EAGZ,OAAOylD,EAAO,EAAI,EAAIA,EAqCRC,CAAWtyC,EAAMgyC,GAAUplD,EAAI2C,EAAQ3C,IAAK,CACxD,IAAMsB,EAAM8R,EAAKpT,GACjB,GAAIolD,GAAW9jD,GAAOA,GAAO+jD,EAC5BxhD,EAAGoE,KAAKrH,IAAIU,GAAMA,QACZ,GAAI+jD,EAAQ/jD,EAClB,Yd8xBCuQ,KcxxBLpS,EAAOF,QAAUgN,Gdk2BN,SAAA9M,EADP24B,EACOt4B,GAAA,Ie35BP6lD,EAJGzjD,EAAUiG,EAAQ,GAAlBjG,OAEDiW,EAAU,IADKhQ,EAAQ,IAI7B,SAASy9C,IACJ1jD,EACHyjD,EAAQ,GAERA,EAAQp/C,KAAKwJ,KAAK3Q,EAAOymD,kBAAoB,IACjC,GAAMF,EAAQ,GAAO,IAChCA,GAAS,GAIZC,IACK1jD,GACJiW,EAAQhO,GAAG/K,EAAQ,SAAUwmD,GAG9BnmD,EAAOF,SACN2oB,UADgB,SACNzW,GACT,IAAMI,EAAMJ,EAAOqV,WAAW,MAEvBg/B,EAA8Br0C,EAA9Bq0C,aAAcpiC,EAAgBjS,EAAhBiS,aACrBjS,EAAOq0C,aAAe,SAASxlD,GAAe,QAAAylD,EAAAjiD,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAA0jD,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAN1hD,EAAM0hD,EAAA,GAAAliD,UAAAkiD,GAC7C,IAAI5hD,EAAS0hD,EAAa5lD,KAAb4lD,SAAkB79C,KAAM3H,GAAZgI,OAAqBhE,IAI9C,MAHa,UAAThE,GAA6B,WAATA,IACvB8D,GAAUuhD,GAEJvhD,GAERqN,EAAOiS,aAAe,SAASpjB,EAAMsE,GACpC,IAAMqhD,EAAc,UAAT3lD,GAA6B,WAATA,EAC3B2lD,IACHrhD,GAAO+gD,GAH0C,QAAAO,EAAApiD,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAA6jD,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAN7hD,EAAM6hD,EAAA,GAAAriD,UAAAqiD,GAKlD,IAAM/hD,EAASsf,EAAaxjB,KAAbwjB,SAAkBzb,KAAM3H,EAAMsE,GAAlB0D,OAA0BhE,IAIrD,OAHI2hD,GACHp0C,EAAI0zB,MAAMogB,EAAOA,GAEXvhD,GAGR3D,OAAOC,eAAe+Q,EAAQ,SAC7B7Q,IADsC,WAErC,OAAO6Q,EAAOq0C,aAAa,UAE5BnhD,IAAMC,YACL6M,EAAOiS,aAAa,QAASnd,KAAKC,MAAM5B,KAEzCC,cAAc,EACdlE,YAAY,IAEbF,OAAOC,eAAe+Q,EAAQ,UAC7B7Q,IADuC,WAEtC,OAAO6Q,EAAOq0C,aAAa,WAE5BnhD,IAAMC,YACL6M,EAAOiS,aAAa,SAAUnd,KAAKC,MAAM5B,KAE1CC,cAAc,EACdlE,YAAY,IAzCI,IA2CVwa,EAAatJ,EAAbsJ,UAqBP,OApBAtJ,EAAIsJ,UAAY,SAAS+2B,GAAc,QAAAkU,EAAAtiD,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAA+jD,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAN/hD,EAAM+hD,EAAA,GAAAviD,UAAAuiD,GACtC,GAAInU,IAAQzgC,GAAoB,IAAVk0C,EACrB,OAAOxqC,EAAUjb,KAAVib,SAAelT,KAAMiqC,GAAZ5pC,OAAoBhE,IAErC2D,KAAKuK,OACL,IASC,OARAvK,KAAKs9B,MAAM,EAAIogB,EAAO,EAAIA,GACtBrhD,EAAK3B,OAAS,GACjB2B,EAAK,IAAMqhD,EACXrhD,EAAK,IAAMqhD,IAEXrhD,EAAK,IAAMqhD,EACXrhD,EAAK,IAAMqhD,GAELxqC,EAAUjb,KAAVib,SAAelT,KAAMiqC,GAAZ5pC,OAAoBhE,IATrC,QAWC2D,KAAKsL,YAIA9B,KdzBR82B,SADgB9oC,EAAAF,EAAAO,Ge3DjB,IAAM45B,EAAevxB,EAAQ,IAQ7B1I,EAAOF,SACNm6B,iB9Ey8TqD,SAAAj6B,EAAAF,EAAAO,G+El9TtD,IAAM26B,EAAatyB,EAAQ,IACrBqkC,EAASrkC,EAAQ,IACjBuyB,EAASvyB,EAAQ,IACjBm+C,EAAcn+C,EAAQ,IACtBo+C,EAAep+C,EAAQ,IACvBq+C,EAAyBr+C,EAAQ,IACjCs+C,EAAoBt+C,EAAQ,IAC5Bu+C,EAAmBv+C,EAAQ,IAE3Bw+C,E/Ey8TgD,SAAAC,GAAA,SAAAD,IAAA,OAAAr9C,EAAArB,KAAA0+C,GAAAt7C,EAAApD,KAAAqD,EAAAq7C,GAAAthD,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA46C,E+Ez8TnBL,G/Ey8TmB98C,EAAAm9C,IAAArlD,IAAA,WAAAV,IAAA,W+Ev8TpD,OAAOqH,KAAKm2B,a/Eu8TwC98B,IAAA,WAAAV,IAAA,W+Ep8TpD,OAAOqH,KAAK4yB,c/Eo8TwC8rB,EAAA,G+Ej8ThDE,E/Ei8TgD,SAAAC,GAAA,SAAAD,IAAA,OAAAv9C,EAAArB,KAAA4+C,GAAAx7C,EAAApD,KAAAqD,EAAAu7C,GAAAxhD,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA86C,E+Ej8TnBL,G/Ei8TmBh9C,EAAAq9C,IAAAvlD,IAAA,WAAAV,IAAA,W+E/7TpD,OAAOqH,KAAKm2B,a/E+7TwC98B,IAAA,WAAAV,IAAA,W+E57TpD,OAAOqH,KAAK4yB,c/E47TwCgsB,EAAA,G+El7ThDza,GACLiH,SACCE,MAAO,IAAIoT,EACXI,MAAO,IAAIF,GAEZpsB,iBACC,OAAOA,GAERC,aACC,OAAOA,GAER8R,aACC,OAAOA,GAER8Z,kBACC,OAAOA,GAERC,mBACC,OAAOA,GAERC,6BACC,OAAOA,GAERC,wBAEC,OADAzU,QAAQO,KAAK,4CACNkU,GAERC,uBACC,OAAOA,GAERtxB,GA9Bc,SA8BX4xB,GACF,OAAKA,EAE8B,iBAAjBA,EACV5a,EAAOiH,QAAQ2T,EAAavT,gBAAkBrH,EAAOhX,GAAG,MAExD4xB,OAJP,IAQHvnD,EAAOF,QAAU6sC,GfcZ51B,WAAQA,EAAS1W,GADlB,IAAAmnD,EgB/EA9+C,EAAQ,GALLtC,EhBoFHohD,EgBpFHrjD,IAAMiC,YACN9B,EhBmFGkjD,EgBnFHljD,UAESoI,EhBiFN86C,EgBlFHhgD,MACCU,OhBiFEu/C,EgB9E6C/+C,EAAQ,IAAlDmkC,EhB8EH4a,EgB9EG5a,oBAAqBC,EhB8ExB2a,EgB9EwB3a,kBACtBpZ,EAAUhrB,EAAQ,IAElBuyB,EAASvyB,EAAQ,IAChBM,EAAyBN,EAAQ,GAAjCM,sBAGNwG,EACI9G,EAAQ,GAFNgG,WACNc,WAMD,SAASk4C,EAAYviD,GACpB,GAAmB,iBAARA,EACV,OAAY,IAARA,EACI,EAEA,EAEF,GAAmB,iBAARA,EAAkB,CACnC,GAAY,UAARA,EACH,MAAO,OACD,GAAY,QAARA,EACV,MAAO,KACD,GAAIA,EAAIpB,MAAM,QACpB,OAAOoB,EAAI8X,QAAQ,UAAW,OACxB,GAAY,SAAR9X,EACV,MAAO,QACD,GAAY,OAARA,EACV,MAAO,MACD,GAAIA,EAAIpB,MAAM,SACpB,OAAOoB,EAAI8X,QAAQ,UAAW,OAGhC,OAAQ9X,EhB2CL,IgBxCE0hD,EhBwCF,SAAAc,GAAA,SAAAd,IAAA,OAAAh9C,EAAArB,KAAAq+C,GAAAj7C,EAAApD,KAAAqD,EAAAg7C,GAAAjhD,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAu6C,EgBxCsB5rB,GhBwCtBlxB,EAAA88C,IAAAhlD,IAAA,QAAAN,MAAA,WgBtCF,OAAO,IAAIslD,EAAYr+C,ShBsCrB3G,IAAA,gBAAAN,MAAA,SgBpCWyO,EAAMsB,EAAKglB,GAAM,IAAAsxB,EAAAp/C,KACzBwH,EAAKhH,IACT5C,EAAY4J,EAAMhH,MAEnB,IAAMirB,EAAQjkB,EAAKhH,GAEb2jC,EAAU5zB,YACf,IAAM8uC,EAAO,GAAAh/C,OAAMkQ,EAAKzH,IAAX,KAAAzI,OAAkBkQ,EAAKhI,KAC9B+2C,EAAQ,GAAAj/C,OAAMg/C,EAAN,WACRE,EAAU,GAAAl/C,OAAMg/C,EAAN,aAChB,KAAID,EAAK5lC,UAAY4lC,EAAKhpB,UAAY3K,EAAM6zB,IAA5C,CAGA,IAAMvuB,EAAMvpB,EAAKg4C,cAAcjvC,EAAKzH,IAAKyH,EAAKhI,IAAK22C,GACnD,GAAInuB,EAAK,CAER,IAAM0uB,EAAW,WAEhBv0B,EAAQ,IAAMM,YACC,IAAVA,SACIC,EAAM8zB,GAEb9zB,EAAM8zB,GAAc/zB,EAErBhkB,EAAKw9B,eAAez0B,EAAKzH,IAAKyH,EAAKhI,QAGjCzM,EAAUi1B,IACbtF,EAAM6zB,IAAY,EAClBvuB,EAAIh1B,KAAK,kBACD0vB,EAAM6zB,GACbG,OAGDA,OAIH,OAAAnmB,EACI+K,EAAoB78B,EAAMsB,EAAKglB,GACjCqW,SACAW,UAAY5lC,YACX,OAAIkgD,EAAKhpB,WAGT3K,EAAMsZ,iBACLj8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,KAERf,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,MACtB,IAER08B,SAAW/lC,mBACHusB,EAAMsZ,gBACbv9B,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,SAhBhClI,OAAAi5B,EAmBIgL,EAAkB98B,EAAMsB,EAAKglB,GAC/BqW,OAASjlC,YAGR,IAFA,IAAMwgD,EAAWl4C,EAAKqD,UAAU6D,MACzB5F,EAAOtB,EAAKqD,UAAU4G,OAAtB3I,IACGP,EAAOm3C,EAAS/wC,MAAhBpG,IAAuBA,GAAOm3C,EAAS9wC,IAAIrG,IAAKA,IACpDulB,EAAKwX,SAASx8B,EAAKP,IAGxB47B,GACCr7B,MACAP,SAIHk9B,YAvGc,GACA,QA0Gfj+B,EAAKgL,OAAOxL,EAAa9H,YACxB,IAAIA,EAAEyV,OAIDmZ,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,KAA5B,CAGA,IAAMo3C,EAAazgD,EAAEsV,eAAemO,OACpCnb,EAAKo4C,eAAe1gD,EAAE4J,IAAK5J,EAAEqJ,IAAMxP,YAClC,IAAM8mD,EAAWX,EAAYnmD,GACxB,GAAAsH,OAAEw/C,GAAWl9B,SAAWg9B,IAC5Bz7C,EAAYhF,EAAEF,OAEdmlC,GACCr7B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,kBhBvDV81C,EAAA,GgBgEJ7mD,EAAOF,QAAU+mD,GhFgkUjB,SAAA7mD,EAAAF,EAAAO,GAAA,IiFrtUa+F,EAAgBsC,EAAQ,GAA9BvE,IAAMiC,YACP2mC,EAASrkC,EAAQ,IAChBO,EAA0BP,EAAQ,GAAlCO,uBACD69C,EjFktUN,SAAAwB,GAAA,SAAAxB,IAAA,OAAAj9C,EAAArB,KAAAs+C,GAAAl7C,EAAApD,KAAAqD,EAAAi7C,GAAAlhD,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAw6C,EiFltU2B/Z,GjFktU3BhjC,EAAA+8C,IAAAjlD,IAAA,WAAAN,MAAA,SiFjtUUyO,GAIR,OAHKA,EAAK/G,IACT7C,EAAY4J,EAAM/G,MAEZ+G,EAAK/G,OjF6sUd69C,EAAA,GiFzsUA9mD,EAAOF,QAAUgnD,GbOF7gC,SAAPjmB,EAAAF,EAAAO,IcrBR,SAAAiC,GAAA,IACa8D,EAAgBsC,EAAQ,GAA9BvE,IAAMiC,YAEPmiD,EAA0B7/C,EAAQ,IACGwE,EAAKxE,EAAQ,GAAjDU,mCAEHo/C,EAAgB,KAChBC,EAAgB,EACpB,SAASC,EAAY14C,EAAM+I,EAAM4vC,EAAQpnD,GACnCyO,EAAK9C,IACT9G,EAAY4J,EAAM9C,MAEds7C,IACJA,EAAgB,IAAID,GAErB,IAAMt0B,EAAQjkB,EAAK9C,GACd+mB,EAAMtb,UACVsb,EAAMtb,QAAU6vC,EAChBC,IACAz4C,EAAK44C,eACJhpC,QADkB,aAEjB6oC,IAECD,EAAc5oC,UACd4oC,EAAgB,UAMpBA,EAAcjiB,OAAOv2B,EAAM24C,EAAQ5vC,EAAKzH,IAAKyH,EAAKhI,IAAKxP,GAExD,SAASsnD,EAAYC,GAChBN,GACHA,EAAcphB,OAAO0hB,GAGvB,IAAM3a,EAAkBzlC,EAAQ,IAC1Bq+C,EAtCN,SAAAgC,GAuCCn/C,aAAyB,IAAAo/C,EAAbt0B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAu+C,IACxBiC,EAAAp9C,EAAApD,KAAAqD,EAAAk7C,GAAAtmD,KAAA+H,KAAMksB,KACDu0B,YAAcv0B,EAAOw0B,WAC1BF,EAAKG,gBAAkBz0B,EAAO00B,eAC9BJ,EAAKK,WAAa30B,EAAO40B,UACzBN,EAAKO,WAAa70B,EAAO5S,UACzBknC,EAAKQ,MAAQ90B,EAAO1qB,KANIg/C,EAvC1B,OAAA18C,EAAAy6C,EAsCqC5Y,GAtCrCpkC,EAAAg9C,IAAAllD,IAAA,UAAAN,MAAA,WAgDEiH,KAAKihD,oBAAoB7pC,UACzBpX,KAAKihD,oBAAsB,QAjD7B5nD,IAAA,QAAAN,MAAA,WAyEE,OAAO,IAAIwlD,EAAuBv+C,SAzEpC3G,IAAA,sBAAAN,MAAA,SA2EqByO,EAAM+I,EAAMs1B,GAC/Bqa,EAAY14C,EAAM+I,EAAMvQ,KAAM6lC,MA5EhCxsC,IAAA,qBAAAN,MAAA,SA8EoByO,EAAM+I,GAAM,IAAA2wC,EAAAlhD,KAC9BwH,EAAKo4C,eAAervC,EAAKzH,IAAKyH,EAAKhI,IAAMxP,YACxCmnD,EAAY14C,EAAM+I,EAAM2wC,EAAMnoD,QAhFjCM,IAAA,6BAAAN,MAAA,SAmF4ByO,EAAM+I,EAAMkC,GAEtC4tC,OArFFhnD,IAAA,uBAAAN,MAAA,SAuFsByO,GAEpB64C,GAAY,MAzFdhnD,IAAA,2BAAAN,MAAA,WA6FEsnD,GAAY,MA7FdhnD,IAAA,2BAAAN,MAAA,WAiGEsnD,GAAY,MAjGdhnD,IAAA,0BAAAN,MAAA,SAmGyByO,EAAM+I,EAAMuI,GACnCinC,EAAwBoB,cAAcnhD,KAAMwH,EAAMsR,MApGpDzf,IAAA,YAAAV,IAAA,WAoDE,OAAOqH,KAAK+gD,aAAe3mD,EAAc4F,KAAK+gD,YAAc/gD,KAAK+gD,YAAc/gD,KAAK+gD,cApDtFrkD,IAAA,SAsDe4c,GACbtZ,KAAK+gD,WAAaznC,KAvDpBjgB,IAAA,OAAAV,IAAA,WA0DE,OAAOqH,KAAKghD,OA1DdtkD,IAAA,SA4DU8E,GACRxB,KAAKghD,MAAQx/C,KA7DfnI,IAAA,aAAAV,IAAA,WAgEE,OAAOqH,KAAKygD,eAhEdpnD,IAAA,iBAAAV,IAAA,WAmEE,OAAOqH,KAAK2gD,mBAnEdtnD,IAAA,YAAAV,IAAA,WAsEE,OAAOqH,KAAK6gD,eAtEdtC,EAAA,GAwGA/mD,EAAOF,QAAUinD,IbnFAtmD,KAAA+H,KAAAnI,EAAA,mBAahB,SAAAL,EAAAF,EAAAO,GAAA,IAAAupD,Ec1BGlhD,EAAQ,Gd0BXmhD,EAAAD,EchCApiD,MACCM,Ed+BD+hD,Ec/BC/hD,WACQ4E,Ed8BTm9C,Ec9BC3hD,OAED3D,Ed4BAqlD,Ec5BArlD,KACAC,Ed2BAolD,Ec3BAplD,QAGKmF,EAAejB,EAAQ,GAE5BmZ,EACGnZ,EAAQ,IADXmZ,cAGK8kB,EAAY,mCACZmjB,EAAe,GAAAjhD,OAAM89B,EAAN,WACfE,EAAgB,GAAAh+B,OAAM89B,EAAN,YAChBG,EAAe,GAAAj+B,OAAM89B,EAAN,WAKrB,SAAS3qB,EAAOsF,EAAO5I,GAsBtBA,EAAQqxC,iBAAiBzoC,EAAO,OAAQ,YArB1B,WACbA,EAAMc,QAEN,IAAMhL,EAAMkK,EAAM/f,MAAM2B,OACxB,IACC,QAAsC,IAA1Boe,EAAM0oC,eAGjB,OAFA1oC,EAAM0oC,eAAiB5yC,OACvBkK,EAAM2oC,aAAe7yC,GAGrB,MAAO1P,IAGT,GAAIsX,SAAS3L,UAAW,CACvB,IAAM6D,EAAQoK,EAAM4oC,kBACpBhzC,EAAMizC,WACNjzC,EAAMkzC,QAAQ,YAAahzC,GAC3BF,EAAMmzC,UAAU,YAAajzC,GAC7BF,EAAM+C,UAIPmI,KAkCF,SAASunC,EAAchB,EAAQ34C,EAAMsR,GAAO,IACpCtX,EAAQ2+C,EAAR3+C,KACPsX,EAAMtX,KAAOA,GAAQ,GdhDrB,IcmDKu+C,EdnDL,WcuDA3+C,aAAcC,EAAArB,KAAA+/C,GACb//C,KAAK8V,SAAW,IAAI3U,EACpBnB,KAAK8hD,QAzCP,WACC5hD,EAAQ,IACR,IAAMiQ,EAAUkJ,EAAc,OAAQC,WAAY6kB,EAAWE,KACvDvlB,EAAQO,EAAc,SAAUC,UAAWgoC,IAIjD,OAHAxoC,EAAMipC,UAAW,EACjBjpC,EAAMiW,UAAY,EAClB5e,EAAQsJ,YAAYX,GACb3I,EAkCS6xC,GACfhiD,KAAKoZ,OAASpZ,KAAK8hD,QAAQx8B,cAAb,IAAAjlB,OAA+BihD,IAC7CthD,KAAKiiD,oBd3DN,OAAA1gD,EAAAw+C,EAAA,OAAA1mD,IAAA,gBAAAN,MAAA,WcqDCooD,EAAa/jD,WAAb+jD,iBdrDD5/C,EAAAw+C,IAAA1mD,IAAA,UAAAN,MAAA,Wc8DC,IAAMmpD,EAASliD,KAAK8hD,QACpB9hD,KAAK4+B,SACL5+B,KAAK8V,SAASsB,UACdpX,KAAK8hD,QAAU,KACf9hD,KAAKoZ,OAAS,KACdpZ,KAAKmiD,kBAAoB,KACrBD,EAAOnlD,eACVmlD,EAAOnlD,cAAcod,YAAY+nC,MdrEnC7oD,IAAA,SAAAN,MAAA,ScwEOyO,EAAM24C,EAAQr3C,EAAKP,EAAKxP,GAAO,IAAAqpD,EAAApiD,KAC/BkQ,EAAUlQ,KAAK8V,SACfosC,EAASliD,KAAK8hD,QACdhpC,EAAQ9Y,KAAKoZ,OAEfpZ,KAAKmiD,mBAxCX,SAAqB36C,EAAM06C,EAAQppC,EAAOqnC,GAAQ,IAElCkC,EADR/oC,EAAa6mC,EAAb7mC,UACHA,IACH4oC,IAAO5oC,WAAUS,OAAjBmoC,UAA2B5oC,WAErB4oC,EAAO9yB,QAAQsxB,WACtB5nC,EAAMtX,KAAO,GAmCX8gD,CAAY96C,EAAM06C,EAAQppC,EAAO9Y,KAAKmiD,0BAGhCD,EAAO9yB,QAAQmzB,aACtBL,EAAO5oC,UAAUS,OAAOukB,GACxB4jB,EAAO5oC,UAAUC,IAAI8kB,GACrBvlB,EAAMipC,UAAW,EACjBjpC,EAAMiW,SAAW,EAboB,IAAAyzB,EAcbh7C,EAAKu3B,kBAAkBj2B,EAAKP,GAA7C4H,EAd8BqyC,EAc9BryC,QAAShG,EAdqBq4C,EAcrBr4C,KAChB+3C,EAAOriD,MAAMwI,IAAb65C,UAAsB/3C,EAAK9B,IAAIwS,UAA/BqnC,MACAA,EAAOriD,MAAM+I,KAAbs5C,UAAuB/3C,EAAKvB,KAAKiS,UAAjCqnC,MACAA,EAAOriD,MAAM4J,MAAby4C,UAAwB/3C,EAAKV,MAAMoR,UAAnCqnC,MACAppC,EAAMjZ,MAAM0J,OAAZuP,UAAwB3O,EAAKZ,OAAOsR,UAApC/B,MACA3I,EAAQsJ,YAAYyoC,GAEpBppC,EAAM/f,MAAQA,EACd+f,EAAMjZ,MAAM4D,KAAO+D,EAAK/D,MAAQ,kBAChC,IAAMg/C,GAAcj7C,OAAMsB,MAAKP,MAAK43C,UACpCngD,KAAK0iD,cAAc5pC,EAAO2pC,GACrBzmD,EAAQlB,GAIZ0W,WAAW,kBAAMgC,EAAOsF,EAAO5I,KAH/BsD,EAAOsF,EAAO5I,GAKfgyC,EAAO5oC,UAAUC,IAAI+kB,GACrB4jB,EAAO5oC,UAAUS,OAAOskB,GACxBvlB,EAAMipC,UAAW,EA/EnB,SAAmBv6C,EAAM06C,EAAQppC,EAAOqnC,GAAQ,IAEhCwC,EADRrpC,EAAyB6mC,EAAzB7mC,UAAWonC,EAAcP,EAAdO,WACdpnC,IACH4oC,IAAO5oC,WAAUC,IAAjB2oC,UAAwB5oC,IAErBonC,GAAoC,mBAAfA,IACxBwB,EAAO9yB,QAAQsxB,WAAaA,GAE7BS,EAAchB,EAAQ34C,EAAMsR,GAyE3B8pC,CAAUp7C,EAAM06C,EAAQppC,EAAOqnC,GAE/BngD,KAAK6iD,YAAcJ,EACnBziD,KAAKmiD,kBAAoBhC,EAGzBngD,KAAK8iD,YAAa,EAClBtxC,WAAW,kBACH4wC,EAAKU,gBdnHdzpD,IAAA,SAAAN,MAAA,ScsHOunD,GACN,GAAItgD,KAAK+iD,YAAa,CACrB,IAAMb,EAASliD,KAAK8hD,QACdhpC,EAAQ9Y,KAAKoZ,OAEnB8oC,EAAO5oC,UAAUS,OAAOukB,GACxB4jB,EAAO5oC,UAAUC,IAAI8kB,GACrBvlB,EAAMipC,UAAW,EACjBjpC,EAAMiW,UAAY,EAPG,IAAAi0B,EASIhjD,KAAK6iD,YAAvBr7C,EATcw7C,EASdx7C,KAAMsB,EATQk6C,EASRl6C,IAAKP,EATGy6C,EASHz6C,IAElBf,EAAKw9B,eAAel8B,EAAKP,GACrB+3C,GACH94C,EAAKoS,QAGP5Z,KAAK6iD,YAAc,KACnB7iD,KAAKijD,aAAe,QdxIrB5pD,IAAA,iBAAAN,MAAA,Wc0IiB,IAAAmqD,EAAAljD,KAChB,IAAKA,KAAK+iD,YACT,OAAO,EAER,IAAMjqC,EAAQ9Y,KAAKoZ,OACZrgB,EAAS+f,EAAT/f,MACP,OAAOgD,EAAKiE,KAAKmjD,UAAUpqD,GAAS8F,YACnC,GAAIA,GAAO9F,IAAU+f,EAAM/f,MAAO,KAAAqqD,EACRF,EAAKL,YAAvBr7C,EAD0B47C,EAC1B57C,KAAMsB,EADoBs6C,EACpBt6C,IAAKP,EADe66C,EACf76C,IAElB,OADAf,EAAKg4C,cAAc12C,EAAKP,EAAK,kBAAMxP,KAC5B,EAER,OAAO,OdtJTM,IAAA,YAAAN,MAAA,Wc0JC,IAAMmpD,EAASliD,KAAK8hD,QACpB,SAAKI,IAAWA,EAAOnlD,kBAGlBiD,KAAK6iD,ed9JXxpD,IAAA,oBAAAN,MAAA,WcmKoB,IAAAsqD,EAAArjD,KACbkQ,EAAUlQ,KAAK8V,SACfosC,EAASliD,KAAK8hD,QACdhpC,EAAQ9Y,KAAKoZ,OACbkqC,EAAuBpkD,YAAD,OAAOA,EAAEU,mBACrCsQ,EAAQhO,GAAGggD,EAAQ,QAASoB,GAC5BpzC,EAAQhO,GAAGggD,EAAQ,WAAYoB,GAC/BpzC,EAAQhO,GAAGggD,EAAQ,YAAaoB,GAChCpzC,EAAQhO,GAAGggD,EAAQ,aAAcoB,GAEjCpzC,EAAQhO,GAAG4W,EAAO,mBAAqB5Z,YACtC4Z,EAAMQ,UAAUC,IAAI,iBAErBrJ,EAAQhO,GAAG4W,EAAO,iBAAmB5Z,YACpC4Z,EAAMQ,UAAUS,OAAO,eACvBspC,EAAKX,cAAc5pC,KAEpB,IAAMyqC,EAAmBrkD,YACpB4Z,EAAMQ,UAAU0B,SAAS,gBAG7BqoC,EAAKX,cAAc5pC,IAEpB5I,EAAQhO,GAAG4W,EAAO,QAASyqC,GAC3BrzC,EAAQhO,GAAG4W,EAAO,WAAYyqC,GAC9BrzC,EAAQhO,GAAG4W,EAAO,UAAY5Z,YAC7B,IAAI4Z,EAAMQ,UAAU0B,SAAS,eAA7B,CAGA,IAAMzb,EAAUD,EAAWJ,GAC3B,GA9Ma,KA8MTK,EACH8jD,EAAKzkB,QAAO,GACZ16B,EAAYhF,QACN,GAlNQ,KAkNJK,GAA0B8jD,EAAKP,WAUzCO,EAAKX,cAAc5pC,OAVkC,CACrD,IAAMA,EAAQuqC,EAAKjqC,OACZrgB,EAAS+f,EAAT/f,MACPgD,EAAKsnD,EAAKG,iBAAmB5qD,YACxBA,GAAKG,IAAU+f,EAAM/f,OACxBsqD,EAAKzkB,QAAO,KAGd16B,EAAYhF,Ud5Mf7F,IAAA,gBAAAN,MAAA,SckNc+f,EAAO2pC,GACpB,IAAMjmC,EAASxc,KAAKijD,aACblqD,EAAS+f,EAAT/f,MACHyjB,IAAWzjB,GACdiH,KAAKyjD,oBAAoB1qD,EAAOyjB,EAAQimC,GAEzCziD,KAAKijD,aAAelqD,KdxNrBM,IAAA,sBAAAN,MAAA,Sc0NoB0jB,EAAOD,EAAQimC,GAClCA,EAAaA,GAAcziD,KAAK6iD,YAChC,IAAMX,EAASliD,KAAK8hD,QAF0Be,EAGbJ,EAA1Bj7C,EAHuCq7C,EAGvCr7C,KAAMsB,EAHiC+5C,EAGjC/5C,IAAKP,EAH4Bs6C,EAG5Bt6C,IAAK43C,EAHuB0C,EAGvB1C,OACvB,GAAiC,mBAAtBA,EAAOO,WAA2B,CAC5C,IAAMA,EAAaP,EAAOO,WAAWjkC,GAAQjV,OAAMsB,MAAKP,QACpDm4C,EACHwB,EAAO9yB,QAAQsxB,WAAaA,SAErBwB,EAAO9yB,QAAQsxB,WAGpB,iBAAkBwB,EAAO9yB,SAC5BpvB,KAAKmjD,UAAU1mC,GAAO,MdvOxBpjB,IAAA,YAAAN,MAAA,Sc0OUA,EAAO2qD,GAChB,IAAMxB,EAASliD,KAAK8hD,QACdhpC,EAAQ9Y,KAAKoZ,OAFQuqC,EAGM3jD,KAAK6iD,YAA/Br7C,EAHoBm8C,EAGpBn8C,KAAMsB,EAHc66C,EAGd76C,IAAKP,EAHSo7C,EAGTp7C,IAAK43C,EAHIwD,EAGJxD,OACnBxyB,EAAU,KAId,OAHIwyB,EAAOS,iBACVjzB,EAAUwyB,EAAOS,eAAe7nD,GAAQyO,OAAMsB,MAAKP,SAE7CxM,EAAK4xB,EAAUA,YAIrB,OAHKA,IAAWwyB,EAAOW,WAAc4C,IACpC/1B,EAAUwyB,EAAOW,UAAU/nD,GAAQyO,OAAMsB,MAAKP,SAExCxM,EAAK4xB,EAAUA,YAMrB,OALIA,GAAW50B,IAAU+f,EAAM/f,MAC9BmpD,EAAO9yB,QAAQmzB,aAAe50B,SAEvBu0B,EAAO9yB,QAAQmzB,cAEf50B,Ud5PXoyB,EAAA,GckQDvoD,EAAOF,QAAUyoD,GPxPd50C,WAAKoS,EAAK1lB,GQ3Cb,IAAAgsB,EAAchsB,EAAQ,IAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAoEgsB,EAAAliB,GAEjFkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,SpFyyXO,SAAS3kD,EAAQF,EAASO,IqF1zXjCL,EAAAF,QAA2BO,EAAQ,EAARA,EAAgE,IAK3F0K,MAAc/K,EAAAO,EAAS,s/DAAs/D,MrF+yVv9D,S6ElzV/CkC,E7EkzV+C3C,EAAAO,IsFpzVtD,SAAAiC,GAAA,IAEa8D,EAAgBsC,EAAQ,GAA9BvE,IAAMiC,YACP+nC,EAAkBzlC,EAAQ,IAC1B0jD,EAAqB1jD,EAAQ,IACEwE,EAAKxE,EAAQ,GAA3CW,6BAGHm/C,EAAgB,KAChBC,EAAgB,EACpB,SAASC,EAAY14C,EAAM+I,EAAM4vC,EAAQpnD,GACnCyO,EAAK9C,IACT9G,EAAY4J,EAAM9C,MAEds7C,IACJA,EAAgB,IAAI4D,GAErB,IAAMn4B,EAAQjkB,EAAK9C,GACd+mB,EAAMtb,UACVsb,EAAMtb,QAAU6vC,EAChBC,IACAz4C,EAAK44C,eACJhpC,QADkB,aAEjB6oC,IAECD,EAAc5oC,UACd4oC,EAAgB,UAMpBA,EAAcjiB,OAAOv2B,EAAM24C,EAAQ5vC,EAAKzH,IAAKyH,EAAKhI,IAAKxP,GAExD,SAASsnD,EAAYC,GAChBN,GACHA,EAAcphB,OAAO0hB,GAGvB,SAASd,EAAch4C,GAClBw4C,GACHA,EAAcR,gBAzChB,IA8CMhB,EA9CN,SAAAqF,GA+CCziD,aAAyB,IAAA0iD,EAAb53B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAw+C,IACxBsF,EAAA1gD,EAAApD,KAAAqD,EAAAm7C,GAAAvmD,KAAA+H,KAAMksB,KACD60B,WAAa70B,EAAO5S,UACzBwqC,EAAK9C,MAAQ90B,EAAO1qB,KAHIsiD,EA/C1B,OAAAhgD,EAAA06C,EA8CgC7Y,GA9ChCpkC,EAAAi9C,IAAAnlD,IAAA,QAAAN,MAAA,WAiEE,OAAO,IAAIylD,EAAkBx+C,SAjE/B3G,IAAA,sBAAAN,MAAA,SAmEqByO,EAAM+I,EAAMs1B,GAC/Bqa,EAAY14C,EAAM+I,EAAMvQ,KAAM6lC,MApEhCxsC,IAAA,qBAAAN,MAAA,SAsEoByO,EAAM+I,GAAM,IAAAwzC,EAAA/jD,KAC9BwH,EAAKo4C,eAAervC,EAAKzH,IAAKyH,EAAKhI,IAAMxP,YACxCmnD,EAAY14C,EAAM+I,EAAMwzC,EAAMhrD,QAxEjCM,IAAA,6BAAAN,MAAA,SA2E4ByO,EAAM+I,EAAMkC,GACtC+sC,IACAa,OA7EFhnD,IAAA,uBAAAN,MAAA,SA+EsByO,GACpBg4C,IACAa,GAAY,MAjFdhnD,IAAA,2BAAAN,MAAA,WAqFEsnD,GAAY,MArFdhnD,IAAA,2BAAAN,MAAA,WAyFEsnD,GAAY,MAzFdhnD,IAAA,0BAAAN,MAAA,SA2FyByO,EAAM+I,EAAMuI,GACnC8qC,EAAmBzC,cAAcnhD,KAAMwH,EAAMsR,MA5F/Czf,IAAA,YAAAV,IAAA,WAqDE,OAAOqH,KAAK+gD,aAAe3mD,EAAc4F,KAAK+gD,YAAc/gD,KAAK+gD,YAAc/gD,KAAK+gD,cArDtFrkD,IAAA,SAuDe4c,GACbtZ,KAAK+gD,WAAaznC,KAxDpBjgB,IAAA,OAAAV,IAAA,WA2DE,OAAOqH,KAAKghD,OA3DdtkD,IAAA,SA6DU8E,GACRxB,KAAKghD,MAAQx/C,MA9Dfg9C,EAAA,GAgGAhnD,EAAOF,QAAUknD,ItFw2XYvmD,KAAK+H,KAAMnI,EAAoB,GAApB,gBAIjC,SAASL,EAAQF,EAASO,GAAqB,IAAAmsD,EuFt8XlD9jD,EAAQ,GAJXlB,MACCM,EvFy8XoD0kD,EuFz8XpD1kD,WACQ4E,EvFw8X4C8/C,EuFx8XpDtkD,OAIIyB,EAAejB,EAAQ,GAE5BmZ,EACGnZ,EAAQ,IADXmZ,cAIK8kB,EAAY,6BAOlB,SAASgjB,EAAchB,EAAQ34C,EAAMsR,GAAO,IAE5BmrC,EADR3qC,EAAmB6mC,EAAnB7mC,UAAW9X,EAAQ2+C,EAAR3+C,KACd8X,IACHR,IAAMQ,WAAUC,IAAhBT,UAAuBQ,IAExBR,EAAMtX,KAAOA,GAAQ,GvFk7XgC,IuF/6XhDoiD,EvF+6XgD,WuF36XrDxiD,aAAcC,EAAArB,KAAA4jD,GACb5jD,KAAK8V,SAAW,IAAI3U,EACpBnB,KAAKoZ,QAlBNlZ,EAAQ,IACDmZ,EAAc,SAAUC,UAAW6kB,KAkBzCn+B,KAAKkkD,mBvFw6X+C,OAAA3iD,EAAAqiD,EAAA,OAAAvqD,IAAA,gBAAAN,MAAA,WuF76XpDooD,EAAa/jD,WAAb+jD,iBvF66XoD5/C,EAAAqiD,IAAAvqD,IAAA,UAAAN,MAAA,WuFr6XpDiH,KAAK4+B,SACL5+B,KAAK8V,SAASsB,UACdpX,KAAKoZ,OAAS,KACdpZ,KAAKmiD,kBAAoB,QvFk6X2B9oD,IAAA,SAAAN,MAAA,SuFh6X9CyO,EAAM24C,EAAQr3C,EAAKP,EAAKxP,GAAO,IAAAorD,EAAAnkD,KAC/B8Y,EAAQ9Y,KAAKoZ,OACblJ,EAAUlQ,KAAK8V,SAErB,GAAI9V,KAAKmiD,kBAAmB,KAEZiC,EADR9qC,EAAatZ,KAAKmiD,kBAAlB7oC,UACP,GAAIA,GACHR,IAAMQ,WAAUS,OAAhBjB,UAA0BQ,IAI5BR,EAAMjZ,MAAM4D,KAAO+D,EAAK/D,MAAQ,kBAXK,IAAA4gD,EAab78C,EAAKu3B,kBAAkBj2B,EAAKP,GAA7C4H,EAb8Bk0C,EAa9Bl0C,QAAShG,EAbqBk6C,EAarBl6C,KAChB2O,EAAMjZ,MAAMwI,IAAZyQ,UAAqB3O,EAAK9B,IAAIwS,UAA9B/B,MACAA,EAAMjZ,MAAM+I,KAAZkQ,UAAsB3O,EAAKvB,KAAKiS,UAAhC/B,MACAA,EAAMjZ,MAAM4J,MAAZqP,UAAuB3O,EAAKV,MAAMoR,UAAlC/B,MACAA,EAAMjZ,MAAM0J,OAAZuP,UAAwB3O,EAAKZ,OAAOsR,UAApC/B,MACA3I,EAAQsJ,YAAYX,GAEpBqoC,EAAchB,EAAQ34C,EAAMsR,GAC5BA,EAAM/f,MAAQA,EAEdiH,KAAK6iD,aAAer7C,OAAMsB,MAAKP,MAAK43C,UACpCngD,KAAKmiD,kBAAoBhC,EAuBzBjwC,EAAQqxC,iBAAiBzoC,EAAO,OAAQ,YArB1B,WACbA,EAAMc,QAEN,IAAMhL,EAAMkK,EAAM/f,MAAM2B,OACxB,IACC,QAAsC,IAA1Boe,EAAM0oC,eAGjB,OAFA1oC,EAAM0oC,eAAiB5yC,OACvBkK,EAAM2oC,aAAe7yC,GAGrB,MAAO1P,IAGT,GAAIsX,SAAS3L,UAAW,CACvB,IAAM6D,EAAQoK,EAAM4oC,kBACpBhzC,EAAMizC,WACNjzC,EAAMkzC,QAAQ,YAAahzC,GAC3BF,EAAMmzC,UAAU,YAAajzC,GAC7BF,EAAM+C,UAIPmI,KAGD5Z,KAAK8iD,YAAa,EAClBtxC,WAAW,kBACH2yC,EAAKrB,gBvF22XuCzpD,IAAA,SAAAN,MAAA,SuFx2X9CunD,GACN,GAAItgD,KAAK+iD,YAAa,KAAAuB,EACItkD,KAAK6iD,YAAvBr7C,EADc88C,EACd98C,KAAMsB,EADQw7C,EACRx7C,IAAKP,EADG+7C,EACH/7C,IACZuQ,EAAQ9Y,KAAKoZ,OACnBpZ,KAAK8V,SAASyrC,iBAAiBzoC,EAAO,OAAQ,WAC7CA,EAAM/b,cAAcod,YAAYrB,KAEjCtR,EAAKw9B,eAAel8B,EAAKP,GACrB+3C,GACH94C,EAAKoS,QAGP5Z,KAAK6iD,YAAc,QvF41XiCxpD,IAAA,gBAAAN,MAAA,WuFz1XpD,GAAKiH,KAAK+iD,YAAV,CAGA,IACOhqD,EADOiH,KAAKoZ,OACZrgB,MALQwrD,EAMUvkD,KAAK6iD,YAAvBr7C,EANQ+8C,EAMR/8C,KAAMsB,EANEy7C,EAMFz7C,IAAKP,EANHg8C,EAMGh8C,IAClBf,EAAKg4C,cAAc12C,EAAKP,EAAK,kBAAMxP,QvFm1XiBM,IAAA,YAAAN,MAAA,WuFh1XpD,IAAM+f,EAAQ9Y,KAAKoZ,OACnB,SAAKN,IAAUA,EAAM/b,kBAGhBiD,KAAK6iD,evF40X0CxpD,IAAA,mBAAAN,MAAA,WuFv0XlC,IAAAyrD,EAAAxkD,KACZkQ,EAAUlQ,KAAK8V,SACfgD,EAAQ9Y,KAAKoZ,OACbkqC,EAAuBpkD,YAAD,OAAOA,EAAEU,mBACrCsQ,EAAQhO,GAAG4W,EAAO,QAASwqC,GAC3BpzC,EAAQhO,GAAG4W,EAAO,YAAawqC,GAC/BpzC,EAAQhO,GAAG4W,EAAO,aAAcwqC,GAChCpzC,EAAQhO,GAAG4W,EAAO,WAAYwqC,GAE9BpzC,EAAQhO,GAAG4W,EAAO,mBAAqB5Z,YACtC4Z,EAAMQ,UAAUC,IAAI,iBAErBrJ,EAAQhO,GAAG4W,EAAO,iBAAmB5Z,YACpC4Z,EAAMQ,UAAUS,OAAO,iBAExB7J,EAAQhO,GAAG4W,EAAO,UAAY5Z,YAC7B,IAAI4Z,EAAMQ,UAAU0B,SAAS,gBAzId,KA4IX1b,EAAWJ,GAAkB,CAChC,IAAKslD,EAAKzB,aAAeyB,EAAK1B,WAC7B,OAF+B,IAIzBt7C,EAAQg9C,EAAK3B,YAAbr7C,KAEPg9C,EAAKhF,gBACDh4C,GACHA,EAAKoS,QAEN4qC,EAAK5lB,SACL16B,EAAYhF,MAGdgR,EAAQhO,GAAG4W,EAAO,OAAS5Z,YAC1BslD,EAAKhF,gBACLgF,EAAK5lB,evFoyX8CglB,EAAA,GuF/xXtDpsD,EAAOF,QAAUssD,GP1Gb,SAAApsD,EAAMioD,EAAW5nD,GQlErB,IAAAgsB,EAAchsB,EAAQ,IAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAoEgsB,EAAAliB,GAEjFkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,SRwEE,SAAA3kD,EAAAF,EAAAO,ISzFFL,EAAAF,QAA2BO,EAAQ,EAARA,EAAgE,IAK3F0K,MAAc/K,EAAAO,EAAS,sKAAoK,MTkGvLktC,WAAQ3tC,EAAG4H,IUvGf,SAAApF,GAAA,IAAA2qD,EAQIvkD,EAAQ,GANLtC,EAFP6mD,EAEC9oD,IAAMiC,YACEzD,EAHTsqD,EAGCvqD,MAAQC,KAEC+J,EALVugD,EAICzlD,MACCU,OAED3D,EAPD0oD,EAOC1oD,KAEMsqC,EAAanmC,EAAQ,IAArBmmC,UAED5T,EAASvyB,EAAQ,IAXvBwkD,EAqBKxkD,EAAQ,GATNgG,WACNM,EAbDk+C,EAaCl+C,cACAL,EAdDu+C,EAcCv+C,WACAM,EAfDi+C,EAeCj+C,QACAW,EAhBDs9C,EAgBCt9C,OACAP,EAjBD69C,EAiBC79C,eACAC,EAlBD49C,EAkBC59C,cACAJ,EAnBDg+C,EAmBCh+C,eACAM,EApBD09C,EAoBC19C,WAEK29C,EAAoBzkD,EAAQ,IACEwE,EAAKxE,EAAQ,GAA1CY,4BAEHk/C,EAAgB,KAChBC,EAAgB,EAyBpB,SAAS2E,EAAWtE,GACfN,GACHA,EAAcphB,OAAO0hB,GAIvB,IAGM7B,EA5DN,SAAAoG,GA6DCzjD,aAAyB,IAAA0jD,EAAb54B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAy+C,IACxBqG,EAAA1hD,EAAApD,KAAAqD,EAAAo7C,GAAAxmD,KAAA+H,KAAMksB,KACD60B,WAAa70B,EAAO5S,UACzBwrC,EAAKC,SAAW1e,EAAUna,EAAOvqB,SAHTmjD,EA7D1B,OAAAhhD,EAAA26C,EA4D+BhsB,GA5D/BlxB,EAAAk9C,IAAAplD,IAAA,UAAAN,MAAA,eAAAM,IAAA,QAAAN,MAAA,WAiFE,OAAO,IAAI0lD,EAAiBz+C,SAjF9B3G,IAAA,2BAAAN,MAAA,WAqFE6rD,GAAW,MArFbvrD,IAAA,2BAAAN,MAAA,WAyFE6rD,GAAW,MAzFbvrD,IAAA,gBAAAN,MAAA,SA2FeyO,EAAMsB,EAAKglB,GAAM,IAAAk3B,EAAAhlD,KACxB+lC,EAAQx1B,YACTy0C,EAAKxrC,UAAYwrC,EAAK5uB,UAG1B5uB,EAAKo4C,eAAervC,EAAKzH,IAAKyH,EAAKhI,IAAMxP,aArE5C,SAAoByO,EAAM+I,EAAM4vC,EAAQpnD,GAClCyO,EAAK9C,IACT9G,EAAY4J,EAAM9C,MAEds7C,IACJA,EAAgB,IAAI2E,GAErB,IAAMl5B,EAAQjkB,EAAK9C,GACd+mB,EAAMtb,UACVsb,EAAMtb,QAAU6vC,EAChBC,IACAz4C,EAAK44C,eACJhpC,QADkB,aAEjB6oC,IAECD,EAAc5oC,UACd4oC,EAAgB,UAMpBA,EAAcjiB,OAAOv2B,EAAM24C,EAAQ5vC,EAAKzH,IAAKyH,EAAKhI,IAAKxP,GAgDpDksD,CAAWz9C,EAAM+I,EAAMy0C,EAAMjsD,MAI/B,OACCyO,EAAKgL,OAAOrM,EAAaoK,YACnBud,EAAKwX,SAAS/0B,EAAKzH,IAAKyH,EAAKhI,MAGlCw9B,GACCj9B,IAAKyH,EAAKzH,IACVP,IAAKgI,EAAKhI,QAGZf,EAAKgL,OAAO/L,EAAS,SAAClH,EAASL,GAC9B,GAtDW,MAsDPK,GAvDU,KAuDYA,EAA1B,CAGA,IAAMif,EAAMhX,EAAKqD,UAAU4G,OACtBqc,EAAKwX,SAAS9mB,EAAI1V,IAAK0V,EAAIjW,MAGhCw9B,GACCj9B,IAAK0V,EAAI1V,IACTP,IAAKiW,EAAIjW,SAGXf,EAAKgL,OAAOhM,EAAgBtH,YAC3B0lD,MAEDp9C,EAAKgL,OAAOpL,EAAQ,WACnBw9C,GAAW,KAIZp9C,EAAKgL,OAAO3L,EAAiB3H,YACxB8lD,EAAKxrC,UAAYwrC,EAAK5uB,UAGrBtI,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAG5Bf,EAAK2K,aAAatS,MAAMwS,OAAS,aAElC7K,EAAKgL,OAAO9L,EAAiBxH,YACxB8lD,EAAKxrC,UAAYwrC,EAAK5uB,UAGrBtI,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAGvBf,EAAK2K,aAAatS,MAAMwS,SAC5B7K,EAAK2K,aAAatS,MAAMwS,OAAS,cAGnC7K,EAAKgL,OAAO1L,EAAgB5H,YACtB4uB,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,OAG5Bf,EAAK2K,aAAatS,MAAMwS,OAAS,MAIlC7K,EAAKgL,OAAOxL,EAAa9H,YACxB,IAAIA,EAAEyV,OAIDmZ,EAAKwX,SAASpmC,EAAE4J,IAAK5J,EAAEqJ,KAA5B,CAGA,IAAMo3C,EAAazgD,EAAEsV,eAAemO,OAC9BuiC,EAAW/qD,EAAK6qD,EAAKD,SAAWI,YAAD,MAAU,GAAA9kD,OAAE8kD,EAAIpsD,OAAQ4pB,SAAWg9B,IACpEuF,IACHhhD,EAAYhF,EAAEF,OACdjD,EACEyL,EAAKg4C,cAActgD,EAAE4J,IAAK5J,EAAEqJ,IAAK,kBAAM28C,EAASnsD,QAChD,kBAAMyO,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,eA9K1ClP,IAAA,YAAAV,IAAA,WAqEE,OAAOqH,KAAK+gD,aAAe3mD,EAAc4F,KAAK+gD,YAAc/gD,KAAK+gD,YAAc/gD,KAAK+gD,cArEtFrkD,IAAA,SAuEe4c,GACbtZ,KAAK+gD,WAAaznC,KAxEpBjgB,IAAA,UAAAV,IAAA,WA2EE,OAAOqH,KAAK+kD,UA3EdroD,IAAA,SA6EaiF,GACX3B,KAAK+kD,SAAW1e,EAAU1kC,OA9E5B88C,EAAA,GAsLAjnD,EAAOF,QAAUmnD,IRzFHxmD,KAAZooD,0BA7FF,SAAA7oD,EAAAF,EAAAO,ISAA,SAAAiC,GAAA,IAAAsrD,EAOIllD,EAAQ,GALXvF,EAFDyqD,EAECzqD,MAFD0qD,EAAAD,EAGCpmD,MACCM,EAJF+lD,EAIE/lD,WACQ4E,EALVmhD,EAKE3lD,OAIIyB,EAAejB,EAAQ,GAT7BolD,EAkBIplD,EAAQ,IAPXmZ,EAXDisC,EAWCjsC,cACA4V,EAZDq2B,EAYCr2B,WACAD,EAbDs2B,EAaCt2B,MACAG,EAdDm2B,EAcCn2B,aACAL,EAfDw2B,EAeCx2B,YACAU,EAhBD81B,EAgBC91B,yBACAE,EAjBD41B,EAiBC51B,yBASKyO,EAAY,4BACZonB,EAAc,GAAAllD,OAAM89B,EAAN,eACdE,EAAgB,GAAAh+B,OAAM89B,EAAN,YAChBG,EAAe,GAAAj+B,OAAM89B,EAAN,WACfqnB,EAAoB,GAAAnlD,OAAMklD,EAAN,WAE1B,SAASE,EAAgB3oD,GAExB,IADA,IAAIge,EAAKhe,GACDge,EAAGxB,UAAU0B,SAASuqC,IAE7B,KADAzqC,EAAKA,EAAG/d,gBACG+d,EAAGxB,UAAU0B,SAASmjB,GAChC,OAGF,OAAOrjB,EAOR,SAAS4qC,EAAcv1C,EAAShG,EAAMw7C,GACrCA,EAAK9lD,MAAMwI,IAAXs9C,UAAoBx7C,EAAK9B,IAAIwS,UAA7B8qC,MACAA,EAAK9lD,MAAM+I,KAAX+8C,UAAqBx7C,EAAKvB,KAAKiS,UAA/B8qC,MACAA,EAAK9lD,MAAM4J,MAAXk8C,UAAsBx7C,EAAKV,MAAMoR,UAAjC8qC,MACAA,EAAK9lD,MAAM,eAAX8lD,UAA+Bx7C,EAAKZ,OAAOsR,UAA3C8qC,MACAx1C,EAAQsJ,YAAYksC,GAyBrB,SAASC,EAASp+C,EAAM24C,EAAQr3C,EAAKP,EAAKxP,EAAO4sD,GAAM,IAC/ChkD,EAAsBw+C,EAAtBx+C,QAAS2X,EAAa6mC,EAAb7mC,UAChBqsC,EAAKrsC,UAAUS,OAAOukB,GACtBqnB,EAAKrsC,UAAUC,IAAI8kB,GACnBrP,EAAM22B,GACNA,EAAK9lD,MAAM4D,KAAO+D,EAAK/D,MAAQ,kBAC/B,IAAIoiD,EAAc,KACdC,EAAc,KAElBnkD,EAAQpF,QAAQ,SAAC2vB,EAAQn0B,GACxB,IAAM6rB,EAhCR,SAAAmiC,EAAuDxrD,GAAO,IAI9CyrD,EAJK1sC,EAAyCysC,EAAzCzsC,UAAWgtB,EAA8Byf,EAA9Bzf,QAASvtC,EAAqBgtD,EAArBhtD,MAAOo1B,EAAc43B,EAAd53B,KACzCvK,EAAOvK,EAAc,MAAOC,UAAWisC,IAO7C,GANA3hC,EAAKmL,SAAW,EAChBnL,EAAKwL,QAAQ62B,WAAa1rD,EACtB+e,IACHsK,IAAKtK,WAAUC,IAAfqK,UAAuBxpB,EAAckf,GAAaA,GAAaA,KAG5DgtB,EAAS,CACZ,IAAM4f,EAAO7sC,EAAc,QAAS6U,KAAMoY,IAC1C1iB,EAAKnK,YAAYysC,QACP/3B,GACVc,EAAWrL,EAAMuK,GAOlB,MAJc,KAAVp1B,GAAiB4B,EAAM5B,IAC1B6qB,EAAKtK,UAAUC,IAAIisC,GAGb5hC,EAaOuiC,CAAWj6B,EAAQn0B,GAChC4tD,EAAKlsC,YAAYmK,GACbsI,EAAOnzB,QAAUA,IACpB+sD,EAAcliC,EACdA,EAAKwL,QAAQ3d,QAAS,GAEnBmS,EAAKtK,UAAU0B,SAASwqC,KAC3BK,EAAcjiC,KAGhB,IACewiC,EADTC,EAAUP,GAAeD,GAAeF,EAAKr2B,SAAS,GACxDhW,IACHqsC,IAAKrsC,WAAUC,IAAfosC,UAAsBrsC,IAEvB,IAAMgW,EAAWl1B,MAAMV,UAAUg1B,MAAMz2B,KAAK0tD,EAAKr2B,SAAU,GACrDg3B,EAAah3B,EAAS9zB,QAAQ6qD,GAzBkBE,EA0B9B/+C,EAAKu3B,kBAAkBj2B,EAAKP,GAA7C4H,EA1B+Co2C,EA0B/Cp2C,QAAShG,EA1BsCo8C,EA0BtCp8C,KAGhBA,EAAKV,QAGLi8C,EAAcv1C,EAAShG,EAAMw7C,GAK7B,IAFA,IAAIp3C,EAAS,EACTi4C,EAAY,EACPzuD,EAAI,EAAGA,EAAIu3B,EAAS50B,OAAQ3C,IAAK,KAClC4oB,EAAgB2O,EAASv3B,GAAzB4oB,aACH5oB,EAAIuuD,IACP/3C,GAAUoS,GAEX6lC,GAAa7lC,EAEdxW,EAAKwL,WAAWpH,GAChBo3C,EAAK9lD,MAAM,oBAAX8lD,iBAA2Cp3C,EAASjQ,KAAKwJ,KAAKwnB,EAASg3B,GAAY3lC,aAAe,GAAlGglC,UACAD,EAAcv1C,EAAShG,EAAMw7C,GAG7B,IAAMc,EAAiBd,EAAK91C,wBACtB62C,GAAcF,EAAYC,EAAel9C,QAAU,EACnDo9C,EAAaF,EAAep+C,IAAMq+C,EACpCE,EAAUD,EACRE,EAAaD,EAAUJ,EACvBM,EAAY3vD,EAAO4vD,YAErBF,EAAcC,EADA,KAGjBF,GADaC,EAAaC,EAFT,IAKdF,EAAU,KACbA,EANiB,IAQdA,IAAYD,IACfx8C,EAAKwL,YAAYgxC,EAAaC,IAE9BlB,EAAcv1C,EAAShG,EAAMw7C,IAG1BU,GACHA,EAAQzsC,QAET+rC,EAAKrsC,UAAUS,OAAOskB,GACtBsnB,EAAKrsC,UAAUC,IAAI+kB,GAtJpB,IA+JMqmB,EA/JN,WAgKCvjD,aAAcC,EAAArB,KAAA2kD,GACb3kD,KAAK8V,SAAW,IAAI3U,EACpBnB,KAAKgnD,OAtHN9mD,EAAQ,IACDmZ,EAAc,MAAOC,UAAW6kB,KAsHtCn+B,KAAKinD,kBAnKP,OAAA1lD,EAAAojD,IAAAtrD,IAAA,UAAAN,MAAA,WAsKE,IAAM4sD,EAAO3lD,KAAKgnD,MAClBhnD,KAAK4+B,SACL5+B,KAAK8V,SAASsB,UACdpX,KAAKgnD,MAAQ,KACbhnD,KAAKmiD,kBAAoB,KACrBwD,EAAK5oD,eACR4oD,EAAK5oD,cAAcod,YAAYwrC,MA5KlCtsD,IAAA,SAAAN,MAAA,SA+KQyO,EAAM24C,EAAQr3C,EAAKP,EAAKxP,GAC9B,IAAM4sD,EAAO3lD,KAAKgnD,MAElB,GAAIhnD,KAAKmiD,kBAAmB,KAEZ+E,EADR5tC,EAAatZ,KAAKmiD,kBAAlB7oC,UACP,GAAIA,GACHqsC,IAAKrsC,WAAUS,OAAf4rC,UAAyBrsC,IAI3BssC,EAASp+C,EAAM24C,EAAQr3C,EAAKP,EAAKxP,EAAO4sD,GACxC3lD,KAAK6iD,aAAer7C,OAAMsB,MAAKP,MAAK43C,UACpCngD,KAAKmiD,kBAAoBhC,KA3L3B9mD,IAAA,SAAAN,MAAA,SA6LQunD,GACN,GAAItgD,KAAK+iD,YAAa,KAAAoE,EACInnD,KAAK6iD,YAAvBr7C,EADc2/C,EACd3/C,KAAMsB,EADQq+C,EACRr+C,IAAKP,EADG4+C,EACH5+C,KAtCrB,SAAmBf,EAAMsB,EAAKP,EAAKo9C,GAClCA,EAAKrsC,UAAUS,OAAOukB,GACtBqnB,EAAKrsC,UAAUC,IAAI8kB,GACnBlP,EAAaw2B,GAqCXyB,CAAU5/C,EAAMsB,EAAKP,EADRvI,KAAKgnD,OAGlBx/C,EAAKw9B,eAAel8B,EAAKP,GACrB+3C,GACH94C,EAAKoS,QAGP5Z,KAAK6iD,YAAc,QAxMrBxpD,IAAA,iBAAAN,MAAA,SA0MgBktD,GACd,GAAKjmD,KAAK+iD,YAAV,CAD0B,IAAAsE,EAIOrnD,KAAK6iD,YAA/Br7C,EAJmB6/C,EAInB7/C,KAAMsB,EAJau+C,EAIbv+C,IAAKP,EAJQ8+C,EAIR9+C,IACXxP,EALmBsuD,EAIHlH,OACAx+C,QAAQskD,GAAxBltD,MACPyO,EAAKg4C,cAAc12C,EAAKP,EAAK,kBAAMxP,QAhNrCM,IAAA,YAAAN,MAAA,WAmNE,IAAM4sD,EAAO3lD,KAAKgnD,MAClB,SAAKrB,IAASA,EAAK5oD,kBAGdiD,KAAK6iD,eAvNZxpD,IAAA,kBAAAN,MAAA,WA4NmB,IAAAuuD,EAAAtnD,KACXkQ,EAAUlQ,KAAK8V,SACf6vC,EAAO3lD,KAAKgnD,MAEZ1D,EAAuBpkD,YAAD,OAAOA,EAAEU,mBAErCsQ,EAAQhO,GAAGyjD,EAAM,YAAarC,GAC9BpzC,EAAQhO,GAAGyjD,EAAM,aAAcrC,GAC/BpzC,EAAQhO,GAAGyjD,EAAM,WAAYrC,GAE7BpzC,EAAQhO,GAAGyjD,EAAM,QAAUzmD,YAC1BA,EAAEU,kBACF,IAAMgkB,EAAO6hC,EAAgBvmD,EAAEpC,QAC/B,GAAK8mB,EAAL,CAHgC,IAMzBqiC,EAAcriC,EAAKwL,QAAnB62B,WACPqB,EAAK9D,eAAeyC,GACpBqB,EAAK1oB,QAAO,MAEb1uB,EAAQhO,GAAGyjD,EAAM,UAAYzmD,YAC5B,IAAM0kB,EAAO6hC,EAAgBvmD,EAAEpC,QAC/B,GAAK8mB,EAAL,CAGA,IAAMrkB,EAAUD,EAAWJ,GAC3B,GAjOe,KAiOXK,EAAuB,KACnB0mD,EAAcriC,EAAKwL,QAAnB62B,WACPqB,EAAK9D,eAAeyC,GACpBqB,EAAK1oB,QAAO,GACZ16B,EAAYhF,QACN,GAnOM,KAmOFK,EACV+nD,EAAK1oB,QAAO,GACZ16B,EAAYhF,QACN,GAxOK,KAwODK,EAAoB,CAC9B,IAAMhG,EAAIi2B,EAAyB5L,GAC/BrqB,IACHA,EAAEqgB,QACF1V,EAAYhF,SAEP,GA7OO,KA6OHK,EAAsB,CAChC,IAAMhG,EAAIm2B,EAAyB9L,GAC/BrqB,IACHA,EAAEqgB,QACF1V,EAAYhF,SAEP,GAtPM,IAsPFK,EACV,GAAKL,EAAEoP,UAYN,IAAKkhB,EAAyB5L,GAAO,CACpC,IAAMrJ,EAAQorC,EAAK4B,iBAAL5B,WAA0BJ,IACpChsD,EAAIghB,EAAMA,EAAM7f,OAAS,GACxBo0B,EAAYv1B,KAChBA,EAAIi2B,EAAyBj2B,IAE1BA,IACHA,EAAEqgB,QACF1V,EAAYhF,UAnBd,IAAKwwB,EAAyB9L,GAAO,CACpC,IAAIrqB,EAAIosD,EAAKrgC,cAALqgC,WAAuBJ,IAC1Bz2B,EAAYv1B,KAChBA,EAAIm2B,EAAyBn2B,IAE1BA,IACHA,EAAEqgB,QACF1V,EAAYhF,YAnRnBylD,EAAA,GAwSAntD,EAAOF,QAAUqtD,I3F6mWqC1sD,KAAA+H,KAAAnI,EmFzpW1B2kB,GnFypW0B,gBmFzpWN,SAAAhlB,EAAAF,EAAAO,GS3PhD,IAAAgsB,EAAchsB,EAAQ,IAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAoEgsB,EAAAliB,GAEjFkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,S5Fo4WsD,SAAA3kD,EAAAF,EAAAO,I6Fr5WtDL,EAAAF,QAA2BO,EAAQ,EAARA,EAAgE,IAK3F0K,MAAc/K,EAAAO,EAAS,ylDAA2lD,MV6Q5jDwQ,gBWhRtD,IAAMqnB,EAAS1vB,EAAQ,IACjBsnD,EAAetnD,EAAQ,IACvBunD,EAAcvnD,EAAQ,IACtBwnD,EAAexnD,EAAQ,IACvBynD,EAAcznD,EAAQ,IACtB0nD,EAA2B1nD,EAAQ,IACnC2nD,EAAa3nD,EAAQ,IACrB4nD,EAAoB5nD,EAAQ,IAC5B6nD,EAAa7nD,EAAQ,KACrB8nD,EAAsB9nD,EAAQ,KAQ9BsB,GACL6qC,OACC9b,QAAS,IAAIX,EACbq4B,OAAQ,IAAIT,EACZlc,MAAO,IAAImc,EACXS,OAAQ,IAAIR,EACZS,MAAO,IAAIR,EACXS,cAAe,IAAIJ,GAEpBp4B,aACC,OAAOA,GAER43B,mBACC,OAAOA,GAERC,kBACC,OAAOA,GAERC,mBACC,OAAOA,GAERC,kBACC,OAAOA,GAERC,+BACC,OAAOA,GAERC,iBACC,OAAOA,GAERC,wBACC,OAAOA,GAERC,iBACC,OAAOA,GAERC,0BACC,OAAOA,GAER76B,GAvCY,SAuCTk7B,GACF,OAAKA,EAE4B,iBAAfA,EACV7mD,EAAK6qC,MAAMgc,EAAW7c,gBAAkBhqC,EAAK2rB,GAAG,MAEhDk7B,EAJA7mD,EAAK6qC,MAAM9b,UAQrB/4B,EAAOF,QAAUkK,G9Fs4ZV,SAAShK,EAAQF,EAASO,G+Fx8ZjC,IAEIywD,EAFE14B,EAAS1vB,EAAQ,IACjBqmC,EAAcrmC,EAAQ,IAEtBsnD,E/Fq8ZgD,SAAAe,G+F97ZrDnnD,aAAyB,IAAAonD,EAAbt8B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAwnD,IACxBgB,EAAAplD,EAAApD,KAAAqD,EAAAmkD,GAAAvvD,KAAA+H,KAAMksB,KACDu8B,QAAUv8B,EAAOw8B,OAFEF,E/F87Z4B,OAAA1kD,EAAA0jD,E+Fr8Z3B53B,G/Fq8Z2BruB,EAAAimD,EAAA,OAAAnuD,IAAA,gBAAAV,IAAA,W+Fn8ZpD,OAAO2vD,IAAkBA,EAAgB,IAAIK,KAAKC,e/Fm8ZElsD,IAAA,S+Fj8Z5BmsD,GACxBP,EAAgBO,M/Fg8ZoCtnD,EAAAimD,IAAAnuD,IAAA,QAAAN,MAAA,W+Ft7ZpD,OAAO,IAAIyuD,EAAaxnD,S/Fs7Z4B3G,IAAA,aAAAN,MAAA,S+Fj7Z1C2vD,GACV,IAAMvwD,EAAI6H,KAAK8oD,QAEf,OADA3wD,EAAEswD,QAAUC,EACLvwD,K/F86Z6CkB,IAAA,kBAAAN,MAAA,S+F56ZrCA,GACf,OAAIgwD,MAAMhwD,EAAQ,GACVA,GAEOiH,KAAKyoD,SAAWjB,EAAac,eAC9BI,OAAO3vD,EAAQ,M/Fu6ZuBM,IAAA,aAAAV,IAAA,W+Fz7ZpD,OAAO4tC,K/Fy7Z6CltC,IAAA,SAAAV,IAAA,W+Fn7ZpD,OAAOqH,KAAKyoD,Y/Fm7ZwCjB,EAAA,G+Fn6ZtDhwD,EAAOF,QAAUkwD,GT8Bf,SAAAhwD,EAAAF,EAAAO,GAAA,IUnEK8C,EAASuF,EAAQ,GAAjBvF,MACDsxB,EAAa/rB,EAAQ,GACrBsmC,EAAatmC,EAAQ,IACpBM,EAAyBN,EAAQ,GAAjCM,sBVgEL,IUhDIinD,EVgDJ,SAAAuB,GAAA,SAAAvB,IAAA,OAAApmD,EAAArB,KAAAynD,GAAArkD,EAAApD,KAAAqD,EAAAokD,GAAArqD,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA2jD,EUhDwBx7B,GVgDxB1qB,EAAAkmD,IAAApuD,IAAA,QAAAN,MAAA,WU3CA,OAAO,IAAI0uD,EAAYznD,SV2CvB3G,IAAA,kBAAAN,MAAA,SUzCeA,GACf,OArBF,SAAmB4D,GAClB,GAAmB,iBAARA,EAAkB,CAC5B,GAAY,UAARA,EACH,OAAO,EACD,GAAY,QAARA,EACV,OAAO,EACD,GAAIA,EAAIpB,MAAM,QACpB,OAAO,EAGT,OAAOoB,EAWCssD,CAAUlwD,MVwCjBM,IAAA,eAAAN,MAAA,SUtCYA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EVsC3C0hD,GUtCiE,IAAf39B,EAAe29B,EAAf39B,aAEjDnI,EAMGvjB,EANHujB,UACAC,EAKGxjB,EALHwjB,aACAwd,EAIGhhC,EAJHghC,YACAF,EAGG9gC,EAHH8gC,aACAF,EAEG5gC,EAFH4gC,eACAzQ,EACGnwB,EADHmwB,QAEGA,GACHzE,GACCyE,YAX+D,IAe1DlnB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACN82C,EAAO,GAAAh/C,OAAMyI,EAAN,KAAAzI,OAAakI,GACpBg3C,EAAU,GAAAl/C,OAAMg/C,EAAN,aACV8J,EAAU3hD,EAAKhH,IAA0BgH,EAAKhH,GAAuB++C,GAErE4F,GACL/hC,YACAC,eACAwd,cACAF,eACAF,kBAEG9lC,EAAMwuD,KACThE,EAAIjU,gBAAkBiY,GAEvB18B,EAAO2kB,SAASr4C,EAAOgS,EAASo6C,MVQhC9rD,IAAA,gBAAAN,MAAA,SUNayO,EAAMsB,EAAKglB,GACxB,YVKAz0B,IAAA,aAAAV,IAAA,WU9CA,OAAO6tC,MV8CPihB,EAAA,GUDFjwD,EAAOF,QAAUmwD,GT/C2B,SACzBjmD,EAAQ2+C,EADiBtoD,GUnB5C,IAAM+3B,EAAS1vB,EAAQ,IACjBumC,EAAcvmC,EAAQ,IACrBO,EAA0BP,EAAQ,GAAlCO,uBACDkvB,EAAQzvB,EAAQ,IAGhBwnD,EVasC,SAAA0B,GUZ3ChoD,aAAyB,IAAAioD,EAAbn9B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA0nD,IACxB2B,EAAAjmD,EAAApD,KAAAqD,EAAAqkD,GAAAzvD,KAAA+H,KAAMksB,KACDo9B,SAAWp9B,EAAOoa,QAFC+iB,EVYkB,OAAAvlD,EAAA4jD,EUbjB93B,GVaiBruB,EAAAmmD,IAAAruD,IAAA,cAAAN,MAAA,SUF/ButC,GACX,IAAMnuC,EAAI6H,KAAK8oD,QAEf,OADA3wD,EAAEmxD,SAAWhjB,EACNnuC,KVDmCkB,IAAA,QAAAN,MAAA,WUI1C,OAAO,IAAI2uD,EAAa1nD,SVJkB3G,IAAA,kBAAAN,MAAA,SUM3BA,GACf,OAAOiH,KAAKspD,UAAYvwD,KVPkBM,IAAA,eAAAN,MAAA,SUS9BA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EVTD+hD,GUSgC,IAAxBh+B,EAAwBg+B,EAAxBh+B,aAAcwE,EAAUw5B,EAAVx5B,QAE/D3M,EAQGvjB,EARHujB,UACAC,EAOGxjB,EAPHwjB,aACA2M,EAMGnwB,EANHmwB,QACAzsB,EAKG1D,EALH0D,MACAqkC,EAIG/nC,EAJH+nC,cACAnkC,EAGG5D,EAHH4D,KACAE,EAEG9D,EAFH8D,QACAE,EACGhE,EADHgE,aAEGmsB,GACHzE,GACCyE,YAGFvD,EAAOwD,aAAaxsB,EAAM1K,EAAOgS,GAhByC,IAiBnEjC,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACRihD,GAAS,EACP/9B,EAAQjkB,EAAK/G,GACfgrB,IACCA,EAAMsZ,iBACRtZ,EAAMsZ,gBAAgBj8B,MAAQA,GAC9B2iB,EAAMsZ,gBAAgBx8B,MAAQA,EAC/BihD,GAAS,EACCz+C,EAAQ8qC,iBAAiBpjC,WACnC+2C,GAAS,IAIX75B,EAAMO,UAAUH,IAAWhlB,EAAS0hB,EAAQ,SAAC0D,EAAOplB,GACnD0hB,EAAOptB,OAAOtG,EAAOgS,GACpBqY,YACAC,eACA2M,QAAS4X,EACTrkC,QACAE,OACAE,UACAu+B,QAAQsnB,IACPjmD,MAAO,sBACP8+B,KAAM,EACNnF,QAAS,GAEVr5B,eACAssB,eVrDwC92B,IAAA,aAAAV,IAAA,WUP1C,OAAO8tC,KVOmCptC,IAAA,UAAAV,IAAA,WUJ1C,OAAOqH,KAAKspD,aVI8B5B,EAAA,GU2D5ClwD,EAAOF,QAAUowD,GVWf,SAAAx3C,OWzFF,IAAMw2B,EAAaxmC,EAAQ,IACpBuqC,EAAkBvqC,EAAQ,IAA1BuqC,eACA/gB,EAAqBxpB,EAAQ,GAA7BwpB,kBACDuC,EAAa/rB,EAAQ,GAErBupD,EAAqB,GXoFzBv5C,IW9DIy3C,EX8DJz3C,wFW9DwB+b,GX8DxB/b,sCW1DUmc,EAAWC,EAAMvhB,EAASvD,GACpC,OAAAmU,EAAAtY,EAAAskD,EAAAjuD,WAAA,aAAAsG,MAAA/H,KAAA+H,KA1BF,SAAkBqqC,GACjB,OAAOI,EAAe,cAAegf,EAAoBpf,GAyBhCqf,CAASr9B,GAAYC,EAAMvhB,EAASvD,MXyD5D0I,6BWtDA,OAAO,IAAIy3C,EAAY3nD,SXsDvBkQ,kCWpDYnX,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EXoD3C0I,GWpDiE,IAAfqb,EAAeo+B,EAAfp+B,aAClD,GAAIxyB,EAAO,KAETqqB,EAIGvjB,EAJHujB,UACAC,EAGGxjB,EAHHwjB,aACA+kB,EAEGvoC,EAFHuoC,OACApY,EACGnwB,EADHmwB,QAEGA,GACHzE,GACCyE,YAGFvD,EAAOinB,aAAa3oC,EAAUnB,YAE7BA,EAAIwZ,UAAYA,EAChBxZ,EAAIyZ,aAAeA,EACnB,IAAMlZ,EAAOY,EAAQk0B,UACrB,GAA0B,sBAAtBp/B,EAAMqoC,YAAqC,KAAA0hB,EA7CnD,SAAiCngD,EAAOF,EAAQmmC,EAAUma,GACzD,IAAI/oC,EAAWrX,EACXoX,EAAYtX,EAShB,OARIuX,EAAW4uB,IAEd7uB,GADAC,EAAW4uB,GACanmC,EAAUE,GAE/BoX,EAAYgpC,IAEf/oC,GADAD,EAAYgpC,GACYpgD,EAASF,IAGjCE,MAAOqX,EACPvX,OAAQsX,GAiCmBipC,CACtB/wD,EAAM0Q,MAAO1Q,EAAMwQ,OACnBY,EAAKV,MAAiB,EAAT2+B,EAAYj+B,EAAKZ,OAAkB,EAAT6+B,GAFlC3+B,EADuCmgD,EACvCngD,MAAOF,EADgCqgD,EAChCrgD,OAIRm4B,EAAMhY,EAAkB9f,EAAKO,EAAMV,EAAOF,GAC/CgF,OAAQ65B,IAETx+B,EAAIsJ,UAAUna,EACZ,EAAG,EAAGA,EAAM0Q,MAAO1Q,EAAMwQ,OACzBm4B,EAAI5xB,EAAG4xB,EAAI3xB,EAAGtG,EAAOF,QAGvBK,EAAIsJ,UAAUna,EACZ,EAAG,EAAGA,EAAM0Q,MAAO1Q,EAAMwQ,OACzBY,EAAKvB,KAAOw/B,EAAQj+B,EAAK9B,IAAM+/B,EAAQj+B,EAAKV,MAAiB,EAAT2+B,EAAYj+B,EAAKZ,OAAkB,EAAT6+B,SXmBnFl4B,gCW5DA,OAAOw2B,MX4DPx2B,KWZF1Y,EAAOF,QAAUqwD,GXkFZ,SAAAnwD,EAAAF,EAAAO,GAAA,IY/JC8xC,EZ+JD,WY9JJvoC,WAAYupC,GAAWtpC,EAAArB,KAAA2pC,GACtB3pC,KAAK2d,SACL3d,KAAK+pD,QACL/pD,KAAKgqD,WAAarf,GAAa,GZ2J5B,OAAAppC,EAAAooC,IAAAtwC,IAAA,MAAAN,MAAA,SYzJAM,GACH,IAAMsD,EAAMqD,KAAK+pD,KAAK1wD,GACtB,GAAIsD,EAAK,CACR,IAAMyF,EAAOpC,KAAK2d,MACZyJ,EAAMhlB,EAAK5G,QAAQnC,GACzB+I,EAAKilB,OAAOD,EAAK,GACjBhlB,EAAKG,KAAKlJ,GAEX,OAAOsD,KZiJJtD,IAAA,MAAAN,MAAA,SY/IAM,EAAKN,GACR,IAAMqJ,EAAOpC,KAAK2d,MACZgG,EAAM3jB,KAAK+pD,KACjB,GAAIpmC,EAAItqB,GAAM,CACb,IAAM+tB,EAAMhlB,EAAK5G,QAAQnC,GACzB+I,EAAKilB,OAAOD,EAAK,IAElBzD,EAAItqB,GAAON,EACXqJ,EAAKG,KAAKlJ,GACN+I,EAAK1H,OAASsF,KAAKgqD,oBAEfrmC,EADQvhB,EAAKkzB,aZqIlBqU,EAAA,GYhILnyC,EAAOF,QAAUqyC,GV7BjB,SAAAnyC,EAAAF,EAAAO,GWFA,IAAM+uC,EAA0B1mC,EAAQ,IXExC+pD,EWD0B/pD,EAAQ,GAA3B7C,EXCP4sD,EWDO5sD,WAAYU,EXCnBksD,EWDmBlsD,IACb6xB,EAAS1vB,EAAQ,IAKjB0nD,EXLN,SAAAsC,GWMC9oD,aAAyB,IAAA+oD,EAAbj+B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA4nD,IACxBuC,EAAA/mD,EAAApD,KAAAqD,EAAAukD,GAAA3vD,KAAA+H,KAAMksB,KACDk+B,KAAOl+B,EAAOrkB,KAAO,EAC1BsiD,EAAKE,KAAOn+B,EAAO5hB,KAAQ6/C,EAAKC,KAAO,IACvCD,EAAKG,WAAap+B,EAAOq+B,WAAez5C,YAAD,OAAOA,GAJtBq5C,EXN1B,OAAArmD,EAAA8jD,EWKuCh4B,GXLvCruB,EAAAqmD,IAAAvuD,IAAA,QAAAN,MAAA,WWgBE,OAAO,IAAI6uD,EAAyB5nD,SXhBtC3G,IAAA,eAAAN,MAAA,SWkBcA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,GACjD3Q,EAAAtY,EAAAukD,EAAAluD,WAAA,eAAAsG,MAAA/H,KAAA+H,KAAmBA,KAAKsqD,WAAWvxD,GAAQgS,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,GADlB,IAGtDoc,EAGG7oC,EAHH6oC,SACAE,EAEG/oC,EAFH+oC,WACAE,EACGjpC,EADHipC,UAGG0hB,EAAM,GAAAnqD,OAAMtH,GACZgF,EAAIC,SAASwsD,EAAQ,OACxBA,EAASA,EAAO5xB,OAAO,EAAG4xB,EAAO9vD,OAAS,IAE3C,IAAMg7B,EAAM80B,EAAS,EACfC,EAAO/0B,EAAM11B,KAAKoqD,KAAO,EAC5B10B,EAAM11B,KAAKqqD,KAAO,GACjB30B,EAAM11B,KAAKoqD,OAASpqD,KAAKqqD,KAAOrqD,KAAKoqD,MAEzC39B,EAAOinB,aAAa3oC,EAAUnB,YAC7B,IAAMO,EAAOY,EAAQk0B,UAEfyrB,EAAcvgD,EAAKV,MAAQkhD,EAAa,EACxCC,EAASzgD,EAAKlC,OApCR,EAoC0B6gC,EAAY,EAC5C+hB,EAAU1gD,EAAKvB,KArCT,EAsCZgB,EAAIkC,UAAYzO,EAAWurC,EAAmB,IAAP6hB,IAAe,UACtD7gD,EAAIiC,YACJjC,EAAIO,KAAK0gD,EAASD,EAAQF,EAAa5hB,GACvCl/B,EAAIoC,OAGJ,IAAM8+C,EAAUxsD,KAAKuJ,IAAI6iD,EAAcD,EAAMC,GAC7C9gD,EAAIkC,UAAYzO,EAAWqrC,EAAiB,IAAP+hB,IAAe,UACpD7gD,EAAIiC,YACJjC,EAAIO,KAAK0gD,EAASD,EAAQE,EAAShiB,GACnCl/B,EAAIoC,YXnDP3S,IAAA,aAAAV,IAAA,WWaE,OAAOiuC,MXbTghB,EAAA,GWuDApwD,EAAOF,QAAUswD,GVNf5H,aAAcphB,GWnDhB,IAAM+H,EAAYzmC,EAAQ,IACpB0vB,EAAS1vB,EAAQ,IACjBiwB,EAAQjwB,EAAQ,IXiDpB8/C,IWpCI6H,EXoCJ7H,YWnCD5+C,aAAyB,IAAA2pD,EAAb7+B,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA6nD,IACxBkD,EAAA3nD,EAAApD,KAAAqD,EAAAwkD,GAAA5vD,KAAA+H,KAAMksB,KACD8+B,SAAW9+B,EAAO6B,SAAW,IAClCg9B,EAAKE,WAAa/+B,EAAOoM,UACzByyB,EAAKz5B,SAAWpF,EAAOrI,QACvBknC,EAAKG,MAAQh/B,EAAO7zB,KACpB0yD,EAAKI,WAAaj/B,EAAOk/B,UANDL,EXmCxB/K,WWpCuBpwB,GXoCvBowB,mCWvBA,OAAO,IAAI6H,EAAW7nD,SXuBtBggD,kCWrBYjnD,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,GACjD,IAAMoJ,EAAM38B,EAAQ,EACpB,GAAKgwD,MAAMrzB,GAeVpJ,EAAKyD,QAAU,kBAAM,UAfL,CAChB,IAAM+C,KACN3C,EAAMuJ,aAAan9B,QAASmB,YAC3Bo1B,EAAKp1B,GAAKmC,EAAMnC,KAEjBo1B,EAAKwF,UAAYt4B,KAAKirD,WACtBn4B,EAAK/E,QAAU/tB,KAAKgrD,SACpBl4B,EAAKjP,QAAU7jB,KAAKsxB,SACpBwB,EAAKz6B,KAAO2H,KAAKkrD,MACblrD,KAAKmrD,aACRr4B,EAAKrpB,MAAQzJ,KAAKmrD,YAGnB7+B,EAAKyD,QAAU,kBAzClB,SAAqBpzB,EAAKsP,GACrBA,IAAUo/C,MACbp/C,EAAQ,GAGT,IADA,IAAMuR,KACGzlB,EAAI,EAAGA,EAAIkU,EAAOlU,IAC1BylB,EAAEjb,KAAK5F,GAER,OAAO6gB,EAiCgB8tC,CAAYx4B,EAAM4C,IAIxC/Z,EAAAtY,EAAAwkD,EAAAnuD,WAAA,eAAAsG,MAAA/H,KAAA+H,KAAmB,GAAI+K,EAASlL,EAAO4sB,EAAQjlB,EAAM8kB,MXErD0zB,gCW1BA,OAAOrZ,MX0BPqZ,KWCFxoD,EAAOF,QAAUuwD,GX6Db,SAAArwD,EAAMgnB,EAAW3T,IYnHrB,SAAA/Q,GAAA,IAAAyxD,EACwDrrD,EAAQ,GAAzDvF,EADP4wD,EACO5wD,MAAO0C,EADdkuD,EACcluD,WAAYvB,EAD1ByvD,EAC0BzvD,UAAiBgC,EAD3CytD,EACqC5vD,IAAMmC,SACrC0tD,EAAmBtrD,EAAQ,KAC3B+rB,EAAa/rB,EAAQ,GACUwE,EAAKxE,EAAQ,GAA3CS,6BAJP,IAwCM8qD,EACLrqD,cAAqD,IAAxCsqD,EAAwCC,EAAxCD,UAAWE,EAA6BD,EAA7BC,QAASC,EAAoBF,EAApBE,WAAYrgC,EAAQmgC,EAARngC,MAAQnqB,EAAArB,KAAAyrD,GACpDzrD,KAAK0rD,UAAYA,EACjB1rD,KAAK4rD,QAAUA,EACf5rD,KAAK6rD,WAAaA,EAClB7rD,KAAKwrB,MAAQA,GAGTsgC,EAhDN,WAiDC1qD,cAAsD,IAAzC7G,EAAyCwxD,EAAzCxxD,MAAyCyxD,EAAAD,EAAlCE,cAAkC,IAAAD,KAAAE,EAAAH,EAAlBI,aAAkB,IAAAD,OAANE,EAAML,EAANK,IAAM/qD,EAAArB,KAAA8rD,GACrD9rD,KAAKzF,MAAQA,EACbyF,KAAKisD,OAASA,EACdjsD,KAAKmsD,MAAQA,EACbnsD,KAAKosD,IAAMA,EArDb,OAAA7qD,EAAAuqD,EAAA,OAAAzyD,IAAA,aAAAN,MAAA,SAuDmBozD,GACjB,IAAMhwD,EAASgwD,EAAM9iC,OAASrxB,YAAD,OAAO2C,EAAM3C,EAAE0zD,YAAc/wD,EAAM3C,EAAE4zD,WAE5DS,EAAQF,EAAM9iC,OAASrxB,YAAD,OAAO2C,EAAM3C,EAAE0zD,aAAe/wD,EAAM3C,EAAE4zD,WAC5DU,EAAMH,EAAM9iC,OAASrxB,YAAD,OAAQ2C,EAAM3C,EAAE0zD,YAAc/wD,EAAM3C,EAAE4zD,WAkBhE,OAhBAS,EAAM9vD,QAASyvB,YACd,IAAK,IAAIj0B,EAAI,EAAGA,EAAIu0D,EAAI5xD,OAAQ3C,IAAK,CACpC,IAAMiB,EAAIszD,EAAIv0D,GACd,IAAIiB,EAAEwyB,OAGFQ,EAAE6/B,aAAe7yD,EAAE6yD,WAAY,CAClC7/B,EAAE4/B,QAAU5yD,EAAE4yD,QACdU,EAAIjlC,OAAOtvB,EAAG,GACd,OAIFoE,EAAOoG,KAAKypB,KAGN7vB,EAAOkE,OAAOisD,MA7EvBjzD,IAAA,QAAAN,MAAA,SA+EcykB,EAAGC,GACf,OAAKD,EAGE,IAAIsuC,GACVvxD,MAAOijB,EAAEjjB,MACT0xD,OAAQzuC,EAAEyuC,QAAUxuC,EAAEwuC,OACtBE,MAAOL,EAAYS,WAAW/uC,EAAE2uC,MAAM9rD,OAAOod,EAAE0uC,QAC/CC,IAAK5uC,EAAE4uC,KAAO3uC,EAAE2uC,MANT3uC,MAjFVquC,EAAA,GA4FA,SAASU,EAASC,EAAUC,GAE3B,IADA,IAAMC,EAAUrzB,EAAImzB,GAAUE,UACrB50D,EAAI,EAAGA,EAAI40D,EAAQjyD,OAAQ3C,IAAK,CACxC,IAAMi0B,EAAI2gC,EAAQ50D,GAAG20D,GACrB,GAAI1gC,EAAG,CACNA,EAAEmgC,MAAQL,EAAYS,WAAWvgC,EAAEmgC,MAAM9rD,QAAQ,IAAIorD,GACpDG,QAASc,EACTb,WAAYa,OAGb,IAAK,IAAIxmC,EAAI,EAAGA,EAAInuB,EAAGmuB,IAAK,CAChBymC,EAAQzmC,GAChBwmC,GAAe,IAAIZ,GACrBvxD,MAAOmyD,EACPP,OAAQ,IAAIV,GACXC,UAAWgB,EACXd,QAASc,EACTb,WAAYa,OAIf,OAAO,GAGT,OAAO,EAyIR,SAASE,EAAYtgC,EAAMugC,GAAS,IAC5BJ,EAAYngC,EAAZmgC,SACDK,MAEW1yD,EAAcyyD,GAAWA,GAAWA,IAC5CtwD,QAASwwD,YACjB,GAAKA,EAAL,CAGA,IAAIvhC,EACJ,GAAoB,WAAhBuhC,EAAIF,QAAsB,CAC7B,IAAMG,EAAOlvD,EAASivD,EAAIE,QAAUF,EAAIE,OAAOD,KAAO,KAChDE,EAAKpvD,EAASivD,EAAIE,QAAUF,EAAIE,OAAOC,GAAKH,EAAIE,OACtDzhC,EAnJH,SAAA2hC,EAAsCH,EAAME,GAAI,IAA/BT,EAA+BU,EAA/BV,SAAUW,EAAqBD,EAArBC,SACpB1B,EAAY0B,EAAS5xD,QAAQwxD,GAC/BpB,EAAUwB,EAAS5xD,QAAQ0xD,GAiB/B,GAhBItB,EAAU,IACbA,EAAUwB,EAAS1yD,OACnB0yD,EAAS7qD,KAAK2qD,IAcXxB,EAAY,EACf,OAAO,IAAII,GACVvxD,MAAOqxD,IAGR,IAAMyB,EAhBP,WACC,IAAK,IAAI9yD,EAAQkyD,EAAS/xD,OAAS,EAAGH,GAAS,EAAGA,IAAS,CAC1D,IACMyyD,EADKP,EAASlyD,GACJmxD,GAChB,GAAIsB,GAAQA,EAAKf,OAChB,OAAO1xD,EAGT,OAAQ,EAQgB+yD,GACxB,IAAyB,IAArBD,EACH,OAAO,KAER,IAQI7hC,EACArvB,EATEoxD,EAAwBF,EAAkB,EAC1CG,EAAc,IAAI1B,GACvBvxD,MAAOqxD,EACPO,OAAQ,IAAIV,GACXC,YACAG,WAAYD,OAKd,GAAI2B,EAAwBd,EAAS/xD,OAAQ,CAC5C,IAAM+yD,EAAahB,EAASc,GAC5B/hC,EAAQiiC,EAAW7B,GAAWE,EAAY4B,MAAMD,EAAW7B,GAAU4B,QAErEhiC,EAAQgiC,EACRrxD,EAASqxD,EAEV,IAAMR,EAAOP,EAASY,GAAiB3B,GAMvC,OALAsB,EAAKb,MAAQL,EAAYS,WAAWS,EAAKb,MAAM9rD,QAAQ,IAAIorD,GAC1DG,UACAC,WAAYD,EACZpgC,aAEMrvB,EAgGE8wD,CAAO3gC,EAAM0gC,EAAME,QACrB,GAAoB,WAAhBH,EAAIF,QAAsB,KAC7BI,EAAUF,EAAVE,OACPzhC,EA9FH,SAAAmiC,EAAsCt1D,GAAM,IAA3Bo0D,EAA2BkB,EAA3BlB,SACVlyD,EADqCozD,EAAjBP,SACH5xD,QAAQnD,GAC/B,GAAIkC,EAAQ,EACX,OAAO,KAER,IAAM4B,EAAS,IAAI2vD,GAClBvxD,QACA0xD,QAAQ,IAST,OANIO,EAASC,EAAUlyD,KACtB4B,EAAOgwD,MAAQL,EAAYS,WAAWpwD,EAAOgwD,MAAM9rD,QAAQ,IAAIorD,GAC9DC,UAAWnxD,EACXsxD,WAAYtxD,QAGP4B,EA8EG8vD,CAAO3/B,EAAM2gC,QACf,GAAoB,UAAhBF,EAAIF,QAAqB,KAAAe,EAChBb,EAAIE,OAAhBD,EAD4BY,EAC5BZ,KAAME,EADsBU,EACtBV,GACb1hC,EAlEH,SAAAqiC,EAA2Cb,EAAME,GAAI,IAA/BT,EAA+BoB,EAA/BpB,SAAUW,EAAqBS,EAArBT,SACzB1B,EAAY0B,EAAS5xD,QAAQwxD,GAC7BpB,EAAUwB,EAAS5xD,QAAQ0xD,GACjC,GAAItB,EAAU,GAAKF,EAAY,EAC9B,OAAO,IAAII,GACVvxD,MAAOqxD,EACPK,QAAQ,IAGV,IAAM9vD,EAAS,IAAI2vD,GAClBvxD,MAAOqxD,EACPK,QAAQ,EACRE,OACC,IAAIV,GACHC,YACAG,WAAYH,IAEb,IAAID,GACHC,UAAWE,EACXC,WAAYD,OAGTS,EAAK/yB,EAAOmzB,GACZqB,EAAiBzB,EAAMp7B,MAqB7B,OApBI68B,IACHA,EAAepC,GAAaI,EAAY4B,MAAMI,EAAepC,GAAY,IAAII,GAC5EvxD,MAAOqxD,EACPO,OAAQ,IAAIV,GACXG,UACAC,WAAYH,SAMXc,EAASH,EAAOX,IAAcoC,IACjCA,EAAepC,GAAWS,MAAQL,EAAYS,WAC5CuB,EAAepC,GAAWS,MAAM9rD,QAAQ,IAAIorD,GAC3CC,YACAG,WAAYH,QAGhBc,EAASC,EAAUb,GAEZzvD,EAsBG4xD,CAAYzhC,EAAM0gC,EAAME,QAC1B,GAAoB,QAAhBH,EAAIF,QAAmB,KAC1BI,EAAeF,EAAfE,OAAQb,EAAOW,EAAPX,IACf5gC,EAjFH,SAAAwiC,EAAyC31D,EAAM+zD,GAAK4B,EAAhCvB,SAAgC,IAAtBW,EAAsBY,EAAtBZ,SACzB7yD,EAAQ6yD,EAAS5xD,QAAQnD,GAK7B,OAJIkC,EAAQ,IACXA,EAAQ6yD,EAAS1yD,OACjB0yD,EAAS7qD,KAAKlK,IAER,IAAIyzD,GACVvxD,QACA6xD,QAyES6B,CAAU3hC,EAAM2gC,EAAQb,GAE7B5gC,GAASA,EAAMjxB,OAAS,IAC3BuyD,EAAathC,EAAMjxB,OAASuxD,EAAY4B,MAAMZ,EAAathC,EAAMjxB,OAAQixB,OAG3EihC,EAASlqD,KAAKuqD,GAGf,SAASoB,EAAiBv/C,EAAOnH,EAAMsB,GACtC,IAAM3M,GACLixD,YACAX,aAWD,OApSD,SAA0BjlD,EAAMsB,EAAKnL,GAAU,IACvCq9B,EAAcxzB,EAAdwzB,WACHQ,EAAQh0B,EAAK80B,SAASxzB,GACtBhL,EAAS09B,IAAUA,EAAM7iC,KAAO6iC,EAAM9+B,MACzC8+B,EAAQA,EAAM7iC,KAIf,IAFA,IACIg0B,EADEwhC,KANwCC,EAAA,SAQrC7zD,GACR,IAAMK,EAAOogC,EAAWsB,SAAS/hC,EAAOihC,GACxC,GAAI1/B,EAAUlB,GAAO,CACpB,IAAMyzD,EAAYF,EAAQzzD,OAC1ByzD,EAAQ5rD,KAAK3H,GAMZ+xB,EALIA,EAKMA,EAAQ5wB,KAAK,kBAAMnB,IAAMmB,KAAM3D,YACxC+1D,EAAQE,GAAaj2D,IALZwC,EAAKmB,KAAM3D,YACpB+1D,EAAQE,GAAaj2D,SAQvB+1D,EAAQ5rD,KAAK3H,IAfNL,EAAQ,EAAGA,EAAQygC,EAAWtgC,OAAQH,IAAS6zD,EAA/C7zD,GAmBLoyB,EACHA,EAAQ5wB,KAAK,kBAAM4B,EAASwwD,KAE5BxwD,EAASwwD,GA6PVG,CAAiB9mD,EAAMsB,EAAMlO,YACd,QAAV+T,IACH/T,EAAO0+B,EAAI1+B,GAAM+xD,WAElB/xD,EAAK2B,QAASswD,YACbD,EAAYzwD,EAAQ0wD,OAIf1wD,EA1SR,IAyaM2rD,EAzaN,SAAAyG,GA0aCntD,aAAyB,IAAAotD,EAAbtiC,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA8nD,IACxB0G,EAAAprD,EAAApD,KAAAqD,EAAAykD,GAAA7vD,KAAA+H,KAAMksB,KACDlQ,OAASkQ,EAAOvd,OAAS,SAC9B6/C,EAAKC,SAAS9zD,EAAMuxB,EAAO0e,QAAS1e,EAAO0e,MAHnB4jB,EA1a1B,OAAA1qD,EAAAgkD,EAyagC77B,GAzahC1qB,EAAAumD,IAAAzuD,IAAA,aAAAN,MAAA,SAkbYyO,UACHA,EAAK9C,MAnbdrL,IAAA,aAAAN,MAAA,SAqbYszB,EAAWC,EAAMvhB,EAASvD,GACpC,GAAIxH,KAAKyuD,OAAQ,CAChB,IAAMhjC,EAAQjkB,EAAK9C,KAAO8C,EAAK9C,OACxBoE,EAAOiC,EAAPjC,IACF2iB,EAAM3iB,KACV2iB,EAAM3iB,GAAOolD,EAAiBluD,KAAKgc,OAAQxU,EAAMsB,IAGnD,OAAA6S,EAAAtY,EAAAykD,EAAApuD,WAAA,aAAAsG,MAAA/H,KAAA+H,KAAwBqsB,EAAWC,EAAMvhB,EAASvD,MA7bpDnO,IAAA,QAAAN,MAAA,WAgcE,OAAO,IAAI+uD,EAAkB9nD,SAhc/B3G,IAAA,eAAAN,MAAA,SAkccA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EAlc7CknD,GAkcmE,IAAfnjC,EAAemjC,EAAfnjC,aAC3CziB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IADqDomD,EAEnC3uD,KAAKyuD,QAAUjnD,EAAK9C,GAAM8C,EAAK9C,GAAGoE,GAAOolD,EAAiBluD,KAAKgc,OAAQxU,EAAMsB,GAApG2jD,EAF0DkC,EAE1DlC,SAAUW,EAFgDuB,EAEhDvB,SAFgDwB,EAIN,QAAhB5uD,KAAKgc,QAAoB6yC,eAAgB,UAAWC,iBAAkB,cAAgBD,eAAgB,YAAaC,iBAAkB,WAAzKD,EAJ0DD,EAI1DC,eAAgBC,EAJ0CF,EAI1CE,iBACjBl0D,EAAuB,QAAhBoF,KAAKgc,OAAmBywC,EAASA,EAAS/xD,QAAU6N,EAAMf,EAAK0B,gBAAkB,GAAKujD,EAASlkD,EAAMf,EAAK0B,gBAGtH6lD,EAMGlvD,EANHkvD,aACAC,EAKGnvD,EALHmvD,gBACAC,EAIGpvD,EAJHovD,WACAC,EAGGrvD,EAHHqvD,WACA9mB,EAEGvoC,EAFHuoC,OACApY,EACGnwB,EADHmwB,QAEGA,GACHzE,GACCyE,YAIF,IAAM7lB,EAAOY,EAAQk0B,UACfa,EAASmvB,EAAa,EACtBxlD,EAAQU,EAAKV,MAAiB,EAAT2+B,EAE3B3b,EAAOinB,aAAa3oC,EAAUnB,YAC7BA,EAAIwZ,UAAY,OAChBxZ,EAAIyZ,aAAe,SACnB,IAAM8rC,EAjLT,SAA2BvlD,EAAKhB,EAAMa,EAAOq2B,EAAQstB,EAAUX,GAC9D,IAAI9+C,EAAIrP,KAAKgM,IAAIb,EAAQ2jD,EAAS1yD,OAAS,EAAG,GAC9C+xD,EAASlwD,QAAS6yD,YACjBA,EAAG7yD,QAAQ,SAAC3C,EAAGW,GACd,KAAIA,GAAS,IAITX,EAAEwyD,IAAK,CACV,IAAMiD,EAAYzlD,EAAImhB,YAAYnxB,EAAEwyD,KAAK3iD,MACnCkE,EAAIpT,EAAmB,EAATulC,EAAc,EAAIuvB,EAAa5lD,IAClDkE,EAAIrP,KAAKgM,KAAKb,EAAkB,EAATq2B,EAAc,EAAIuvB,GAAa90D,EAAO,SAKjE,IAAM4B,KACF2T,EAAIlH,EAKR,OAJAwkD,EAAS7wD,QAAQ,WAChBJ,EAAOoG,KAAKjE,KAAKwJ,KAAKgI,EAAIgwB,IAC1BhwB,GAAKnC,IAECxR,EA2JiBmzD,CAAkB1lD,EAAKO,EAAKvB,KAAOw/B,EAAQ3+B,EAAOq2B,EAAQstB,EAAUX,GAEpF18C,EAAI5F,EAAK9B,IAAM8B,EAAKZ,OAAS,EAGnC3O,EACC+oB,IAAI,SAAC6H,EAAOjxB,GAAR,OAAkBixB,EAAQA,EAAM2gC,MAAMxoC,IAAK4rC,YAAD,OAC7C1D,WAAY0D,EAAK1D,WACjB2D,YAAaD,EAAKV,GAClBY,cAAeF,EAAKT,GACpBY,WAAYn1D,UAEb20C,OAAO,SAACt1C,EAAGzB,GAAJ,OAAUyB,EAAEyG,OAAOlI,QAE1BolB,KAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEouC,WAAaruC,EAAEquC,aAChCtvD,QAASgzD,YACR,IAAMz/C,EAAIq/C,EAAcI,EAAKG,aAxKlC,SAAqBloD,EAAMoC,EAAKkG,EAAGC,EAAGy/C,EAAaC,EAAe5D,EAAlE8D,EAAAC,GAIG,IAHFT,EAGEQ,EAHFR,cAAuBJ,GAGrBY,EAHavnB,OAGbunB,EAHqBZ,cAAcC,EAGnCW,EAHmCX,gBAAiBE,EAGpDS,EAHoDT,WAE/CpmD,GACL8mD,EADFnmD,MACEmmD,EADK9mD,KAAKP,EACVqnD,EADUrnD,IAAK6kD,EACfwC,EADexC,SAEjB,GAAIzyD,EAAM60D,IAAgB70D,EAAM80D,GAAgB,CAO/C,GANA7lD,EAAIuZ,YAAc9lB,EAAW0xD,EAAc3B,EAASvB,GAAaA,GACjEjiD,EAAI0Z,UAAY0rC,EAChBplD,EAAIimD,QAAU,QACdjmD,EAAIiC,YAGAlR,EAAM60D,GAAc,CACvB,IAAMM,EAAMX,EAAcK,GACpBO,EAASvoD,EAAKiX,oBAAoB3V,EAAKP,EAAM,GAC7CynD,EAAMD,EAAO1nD,IAAM0nD,EAAOxmD,OAAS,EACzCK,EAAIy3B,OAAOyuB,EAAKE,GACG,WAAfd,EACHtlD,EAAIqmD,cACFH,GAAM//C,EAAIigD,GAAO,EACjBlgD,GAAIC,EAAIigD,GAAO,EACflgD,EAAGC,GAGLnG,EAAI03B,OAAOxxB,EAAGC,QAGfnG,EAAIy3B,OAAOvxB,EAAGC,GAGf,GAAIpV,EAAM80D,GAAgB,CACzB,IAAMS,EAAQf,EAAcM,GACtBU,EAAW3oD,EAAKiX,oBAAoB3V,EAAKP,EAAM,GAC/C6nD,EAAQD,EAAS9nD,IAAM8nD,EAAS5mD,OAAS,EAC5B,WAAf2lD,EACHtlD,EAAIqmD,cACFngD,GAAIC,EAAIqgD,GAAS,EACjBF,GAAQngD,EAAIqgD,GAAS,EACrBF,EAAOE,GAGTxmD,EAAI03B,OAAO4uB,EAAOE,GAIpBxmD,EAAIu2B,UA4HDkwB,CAAY7oD,EAAMoC,EAAKkG,EAAGC,EAAGw/C,EAAKC,YAAaD,EAAKE,cAAeF,EAAK1D,YACvEzjB,SACA+mB,gBACAH,kBACAD,eACAG,eAEAzlD,QAAOX,MAAKP,MAAK6kD,eAIpBxyD,EAAK2B,QAAQ,SAAC3C,EAAGW,GAChB,GAAIX,GAAKA,EAAEqyD,OAAQ,CAClB,IAAMn8C,EAAIq/C,EAAc50D,GACxBqP,EAAIkC,UAAYzO,EAAW0xD,EAAc3B,EAAS7yD,GAAQA,GAC1DqP,EAAIiC,YACJjC,EAAIm2B,IAAIjwB,EAAGC,EAAG+vB,EAAQ,EAAa,EAAVxhC,KAAKshC,IAAQ,GACtCh2B,EAAIoC,OACJpC,EAAIo2B,eAINplC,EAAK2B,QAAQ,SAAC3C,EAAGW,GACZX,GAAKA,EAAEwyD,MACVxiD,EAAIkC,UAAYzO,EAAW0xD,EAAc3B,EAAS7yD,GAAQA,GAC1DqP,EAAI+3B,SAAS/nC,EAAEwyD,IAAK+C,EAAc50D,GAASulC,EAAS,EAAG/vB,WAxgB5D1W,IAAA,aAAAV,IAAA,WAgbE,OAAO6yD,MAhbT1D,EAAA,GA8gBAtwD,EAAOF,QAAUwwD,IR1cjBtwD,+B9F4icO,SAASA,EAAQF,EAASO,GuG/mcjC,IACIkL,EADEooB,EAAYjrB,EAAQ,IAO1B,IAAMowD,EAAwB,SAACj4D,EAAMkC,GACpC,OAAQA,EAAQ,GAChB,KAAK,EACJ,MAAO,UACR,KAAK,EACJ,MAAO,UACR,KAAK,EACJ,MAAO,UAGR,MAAO,WAEFixD,EvG4lcgD,SAAA+E,GuGxlcrDnvD,aAAwB,IAAAovD,EAAZ3wD,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAwrD,IACvBgF,EAAAptD,EAAApD,KAAAqD,EAAAmoD,GAAAvzD,KAAA+H,KAtBF,SAAaH,GAAO,IAAA4wD,EACY5wD,EAAxBujB,iBADY,IAAAqtC,EACA,SADAA,EAGnB,OADA5wD,EAAMujB,UAAYA,EACXvjB,EAmBAqnC,CAAIrnC,MACL6wD,cAAgB7wD,EAAMkvD,cAAgBuB,EAC3CE,EAAKroB,QAAUtoC,EAAMuoC,QAAU,EAC/BooB,EAAKG,YAAc9wD,EAAMovD,YAAc,GACvCuB,EAAKI,iBAAmB/wD,EAAMmvD,iBAAmB,EACjDwB,EAAKK,YAAmC,aAArBhxD,EAAMqvD,WAA4B,WAAa,SAN3CsB,EvGwlc6B,OAAA1sD,EAAA0nD,EuG5lcvBrgC,GvG4lcuB5pB,EAAAiqD,EAAA,OAAAnyD,IAAA,UAAAV,IAAA,WuG1lcpD,OAAOoK,IAA+BA,EAAe,IAAIyoD,OvG0lcLjqD,EAAAiqD,IAAAnyD,IAAA,QAAAN,MAAA,WuG5icpD,OAAO,IAAIyyD,EAAiBxrD,SvG4icwB3G,IAAA,eAAAV,IAAA,WuG/kcpD,OAAOqH,KAAK0wD,evG+kcwCh0D,IAAA,SuG7kcpCqyD,GAChB/uD,KAAK0wD,cAAgB3B,EACrB/uD,KAAK+D,mBvG2kc+C1K,IAAA,SAAAV,IAAA,WuGxkcpD,OAAOqH,KAAKmoC,SvGwkcwCzrC,IAAA,SuGtkc1C0rC,GACVpoC,KAAKmoC,QAAUC,EACfpoC,KAAK+D,mBvGokc+C1K,IAAA,aAAAV,IAAA,WuGjkcpD,OAAOqH,KAAK2wD,avGikcwCj0D,IAAA,SuG/jctCuyD,GACdjvD,KAAK2wD,YAAc1B,EACnBjvD,KAAK+D,mBvG6jc+C1K,IAAA,kBAAAV,IAAA,WuG1jcpD,OAAOqH,KAAK4wD,kBvG0jcwCl0D,IAAA,SuGxjcjCsyD,GACnBhvD,KAAK4wD,iBAAmB5B,EACxBhvD,KAAK+D,mBvGsjc+C1K,IAAA,aAAAV,IAAA,WuGnjcpD,OAAOqH,KAAK6wD,avGmjcwCn0D,IAAA,SuGjjctCwyD,GACdlvD,KAAK6wD,YAAc3B,EACnBlvD,KAAK+D,oBvG+ic+CynD,EAAA,GuGzictDh0D,EAAOF,QAAUk0D,GPtDf,SAAAh0D,EAAAF,EAAAO,GAAA,IQfKwuC,EAAanmC,EAAQ,IAArBmmC,UACA1rC,EAASuF,EAAQ,GAAjBvF,MACDsxB,EAAa/rB,EAAQ,GACrB4mC,EAAY5mC,EAAQ,IACpByvB,EAAQzvB,EAAQ,IAEhB6nD,ERSJ,SAAA+I,GQRD1vD,aAAyB,IAAA2vD,EAAb7kC,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA+nD,IACxBgJ,EAAA3tD,EAAApD,KAAAqD,EAAA0kD,GAAA9vD,KAAA+H,KAAMksB,KACD64B,SAAW1e,EAAUna,EAAOvqB,SAFTovD,ERQxB,OAAAjtD,EAAAikD,EQTuB97B,GRSvB1qB,EAAAwmD,IAAA1uD,IAAA,QAAAN,MAAA,WQAA,OAAO,IAAIgvD,EAAW/nD,SRAtB3G,IAAA,cAAAN,MAAA,SQKW4I,GACX,IAAMxJ,EAAI6H,KAAK8oD,QAEf,OADA3wD,EAAE4sD,SAAW1e,EAAU1kC,GAChBxJ,KRRPkB,IAAA,eAAAN,MAAA,SQUYA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,ERV3CwpD,GQU0E,IAAxBzlC,EAAwBylC,EAAxBzlC,aAAcwE,EAAUihC,EAAVjhC,QAE/D3M,EAOGvjB,EAPHujB,UACAC,EAMGxjB,EANHwjB,aACA5f,EAKG5D,EALH4D,KACAusB,EAIGnwB,EAJHmwB,QACArsB,EAGG9D,EAHH8D,QACAE,EAEGhE,EAFHgE,aACA4lC,EACG5pC,EADH4pC,WAGAlmC,EACG1D,EADH0D,MAEGysB,GACHzE,GACCyE,YAGF,IAAM9B,EAAOluB,KAAKixD,iBAAiBl4D,GACnC0zB,EAAOwD,aAAaxsB,EAAMyqB,EAAMnjB,GAChC4kB,EAAMO,UAAUH,IAAWhlB,EAAS0hB,EAAQ,SAAC0D,EAAOplB,GACnD,IAAMmmD,EAAczkC,EAAOknB,gBAAgBhwC,GAAW,EAAGoH,EAAStH,GAC5D0tD,EAAcD,EAAYxiC,MAAM,GACtCyiC,EAAY,IAAM,GAClB,IAAMC,EAAcF,EAAYxiC,MAAM,GACtC0iC,EAAY,IAAM,EACbz2D,EAAM4I,IAAY5I,EAAM5B,IAAoB,KAAVA,IACtCwK,EAAQ,sBAETkpB,EAAOyB,KAAKA,EAAMnjB,GACjBqY,YACAC,eACA9f,QACAE,OACAE,QAASwtD,EACTttD,eACAssB,UAGkB,oBAAfsZ,EAEHhd,EAAOyB,KAAK,GAAInjB,GACfqY,UAAW,QACXC,eACA9f,QACAE,OACA0sB,QACCkhC,KAAM,iBACN5nD,MAAO,GACPlG,MAAO,uBAERI,QAASytD,IAEe,SAAf3nB,GACVM,QAAQO,KAARP,iCAAuCN,SRhEzCpwC,IAAA,kBAAAN,MAAA,SQoEeA,GACf,OAAOA,KRrEPM,IAAA,mBAAAN,MAAA,SQuEgBA,GAEhB,IADA,IAAM4I,EAAU3B,KAAK+kD,SACZhtD,EAAI,EAAGA,EAAI4J,EAAQjH,OAAQ3C,IAAK,CACxC,IAAMm0B,EAASvqB,EAAQ5J,GACvB,GAAIm0B,EAAOnzB,QAAUA,EAAO,CAC3BA,EAAQmzB,EAAOoa,QACf,OAGF,OAAA3qB,EAAAtY,EAAA0kD,EAAAruD,WAAA,kBAAAsG,MAAA/H,KAAA+H,KAA6BjH,MRhF7BM,IAAA,aAAAV,IAAA,WQHA,OAAOmuC,KRGPztC,IAAA,UAAAV,IAAA,WQGA,OAAOqH,KAAK+kD,aRHZgD,EAAA,GQoFFvwD,EAAOF,QAAUywD,GPvE2D,SAAAvwD,EAIzEw4B,EAJyEn4B,GQ7B5E,IAAMgvC,EAAqB3mC,EAAQ,IAC7B+rB,EAAa/rB,EAAQ,GACrByvB,EAAQzvB,EAAQ,IAChB8nD,ER0BsE,SAAAsJ,GQzB3ElwD,aAAyB,IAAb8qB,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAgoD,GAAA5kD,EAAApD,KAAAqD,EAAA2kD,GAAA/vD,KAAA+H,KAClBksB,IRwBoE,OAAApoB,EAAAkkD,EQ1B1C/7B,GR0B0C1qB,EAAAymD,IAAA3uD,IAAA,QAAAN,MAAA,WQlB1E,OAAO,IAAIivD,EAAoBhoD,SRkB2C3G,IAAA,eAAAN,MAAA,SQhB9DA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,ERgB+B+pD,GQhBA,IAAxBhmC,EAAwBgmC,EAAxBhmC,aAAcwE,EAAUwhC,EAAVxhC,QAE/D3M,EAUGvjB,EAVHujB,UACAC,EASGxjB,EATHwjB,aACA9f,EAQG1D,EARH0D,MACAE,EAOG5D,EAPH4D,KACAusB,EAMGnwB,EANHmwB,QACArsB,EAKG9D,EALH8D,QACAwlC,EAIGtpC,EAJHspC,WACAE,EAGGxpC,EAHHwpC,aACAE,EAEG1pC,EAFH0pC,UACA1lC,EACGhE,EADHgE,aAEGmsB,GACHzE,GACCyE,YAGF,IAAM4jB,EAAa76C,EAAM0b,QAAQ,SAAU,MAAMA,QAAQ,MAAO,MAAMqkB,MAAM,MAC5ErM,EAAOwD,aAAaxsB,EAAM1K,EAAOgS,GACjC4kB,EAAMO,UAAUH,IAAWhlB,EAAS0hB,EAAQ,SAAC0D,EAAOplB,GACnD0hB,EAAO+kC,cAAc5d,EAAY7oC,GAChCqY,YACAC,eACA9f,QACAE,OACAE,UACAwlC,aACAE,eACAE,YACA1lC,eACAssB,eRfwE92B,IAAA,aAAAV,IAAA,WQrB1E,OAAOkuC,MRqBmEmhB,EAAA,GQqB5ExwD,EAAOF,QAAU0wD,GzGwpaqC,SAAAxwD,EAAAF,EAAAO,G0GzsatD,IAAMssC,EAASjkC,EAAQ,IACjBsB,EAAOtB,EAAQ,IACfL,EAAQK,EAAQ,IAQtB1I,EAAOF,SACN6sC,SACA3iC,OACA3B,UROC,SAAArI,EAAAF,EAAAO,GAAA,ISpBKwsC,EAAuBnkC,EAAQ,IAA/BmkC,oBAED7R,EAAatyB,EAAQ,IAErB4qC,ETgBJ,SAAA2mB,GSfDrwD,aAAyB,IAAAswD,EAAbxlC,EAAarwB,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA8qC,IACxB4mB,EAAAtuD,EAAApD,KAAAqD,EAAAynC,GAAA7yC,KAAA+H,KAAMksB,KACDylC,MAAQzlC,EAAO3O,KAFIm0C,ETexB,OAAA5tD,EAAAgnC,EShB6BtY,GTgB7BjxB,EAAAupC,IAAAzxC,IAAA,QAAAN,MAAA,WSHA,OAAO,IAAI+xC,EAAiB9qC,STG5B3G,IAAA,eAAAN,MAAA,SSDY64D,EAAUpqD,GACI,mBAAfxH,KAAK2xD,MACf3xD,KAAK2xD,OACJ/1B,MAAOg2B,EAASh2B,MAChB9yB,IAAK8oD,EAAS9oD,IACdtB,SAGDA,EAAKwzB,WAAWzd,KAAK/V,EAAK80B,SAASs1B,EAAS9oD,KAAM8oD,EAASh2B,UTP5DviC,IAAA,gBAAAN,MAAA,SSUayO,EAAMkH,GAAO,IAAAmjD,EAAA7xD,KAyB1B,OAAAs5B,EACI+K,EAAoB78B,EAAMkH,GAC5By1B,OA1Bc5zB,YACf,IAAIshD,EAAKz7B,SAAT,CAGA,IACIw7B,EADEnmC,EAAQjkB,EAAKsqD,UAGlBF,EADGljD,EAAMq9B,cAActgB,EAAM3iB,IAAKyH,EAAKhI,MAEtCO,IAAK4F,EAAMjB,SACXlF,IAAKmG,EAAMvG,SACXyzB,MAAuB,QAAhBnQ,EAAMmQ,MAAkB,OAAS,QAIxC9yB,IAAK4F,EAAMjB,SACXlF,IAAKmG,EAAMvG,SACXyzB,MAAO,OAGTp0B,EAAKsqD,UAAYF,EACjBC,EAAKE,aAAaH,EAAUpqD,GAC5BA,EAAK8a,mBAAmB,EAAG,EAAG9a,EAAKqB,SAAW,EAAGrB,EAAKQ,SAAW,KAMhE88B,UAAY5lC,YACX,OAAI2yD,EAAKz7B,gBTvCZ/8B,IAAA,OAAAV,IAAA,WSVA,OAAOqH,KAAK2xD,OTUZj1D,IAAA,SSRQ6gB,GACRvd,KAAK2xD,MAAQp0C,EACbvd,KAAKq2B,+BTMLyU,EAAA,GSiDFtzC,EAAOF,QAAUwzC,G3Gm9cV,SAAStzC,EAAQF,EAASO,GAAqB,I4GxhdzC+F,EAAgBsC,EAAQ,GAA9BvE,IAAMiC,Y5GwhdyCo0D,E4GvhdL9xD,EAAQ,IAAlDmkC,E5Guhd+C2tB,E4Gvhd/C3tB,oBAAqBC,E5Guhd0B0tB,E4Gvhd1B1tB,kBACtBpZ,EAAUhrB,EAAQ,IAElBsyB,EAAatyB,EAAQ,IACpBa,EAAyBb,EAAQ,GAAjCa,sBAKDgqC,E5G8gdgD,SAAAknB,GAAA,SAAAlnB,IAAA,OAAA1pC,EAAArB,KAAA+qC,GAAA3nC,EAAApD,KAAAqD,EAAA0nC,GAAA3tC,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAinC,E4G9gdtBvY,G5G8gdsBjxB,EAAAwpC,IAAA1xC,IAAA,QAAAN,MAAA,W4G5gdpD,OAAO,IAAIgyC,EAAkB/qC,S5G4gduB3G,IAAA,gBAAAN,MAAA,S4G1gdvCyO,EAAMkH,GAAO,IAAAwjD,EAAAlyD,KACrBwH,EAAKzG,IACTnD,EAAY4J,EAAMzG,MAEnB,IAAM0qB,EAAQjkB,EAAKzG,GAEbojC,EAAS,SAAAguB,GAAgB,IAAdrpD,EAAcqpD,EAAdrpD,IAAKP,EAAS4pD,EAAT5pD,IACf82C,EAAO,GAAAh/C,OAAMyI,EAAN,KAAAzI,OAAakI,GACpB+2C,EAAQ,GAAAj/C,OAAMg/C,EAAN,WACRE,EAAU,GAAAl/C,OAAMg/C,EAAN,aAChB,IAAI6S,EAAK97B,WAAY3K,EAAM6zB,GAA3B,CAGA,IAAM8S,EAAU5qD,EAAK6qD,eAAevpD,EAAKP,GACzCf,EAAK8qD,eAAexpD,EAAKP,GAAM6pD,GAI9BlnC,EAAQ,IAAMM,YACC,IAAVA,SACIC,EAAM8zB,GAEb9zB,EAAM8zB,GAAc/zB,EAErBhkB,EAAK8a,mBAAmB5T,EAAMjB,SAAUiB,EAAMvG,SAAUuG,EAAMhB,OAAQgB,EAAMZ,YAK/E,OAAAwrB,EACI+K,EAAoB78B,EAAMkH,GAC5By1B,SACAW,UAAY5lC,YACX,OAAIgzD,EAAK97B,WAGT3K,EAAMsZ,iBACLj8B,IAAK5J,EAAE4J,IACPP,IAAKrJ,EAAEqJ,KAERf,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,MACtB,IAER08B,SAAW/lC,mBACHusB,EAAMsZ,gBACbv9B,EAAKw9B,eAAe9lC,EAAE4J,IAAK5J,EAAEqJ,SAhBhClI,OAAAi5B,EAmBIgL,EAAkB98B,EAAMkH,GAC1By1B,SACAsB,YAzDc,GACA,Y5GghdoCsF,EAAA,G4Gl9ctDvzC,EAAOF,QAAUyzC,G5GsjdV,SAASvzC,EAAQF,EAASO,G6G5ndjC,IAEIkL,EAFEooB,EAAYjrB,EAAQ,IAGpB8C,E7GyndgD,SAAAuvD,G6GrndrDnxD,aAAwB,IAAAoxD,EAAZ3yD,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAgD,IACvBwvD,EAAApvD,EAAApD,KAAAqD,EAAAL,GAAA/K,KAAA+H,KAAMH,KACD+3B,WAAa/3B,EAAMujB,WAAa,OACrCovC,EAAK36B,cAAgBh4B,EAAMwjB,cAAgB,SAHpBmvC,E7Gqnd6B,OAAA1uD,EAAAd,E6Gznd3BmoB,G7Gynd2B5pB,EAAAyB,EAAA,OAAA3J,IAAA,UAAAV,IAAA,W6GvndpD,OAAOoK,IAA+BA,EAAe,IAAIC,O7GundLzB,EAAAyB,IAAA3J,IAAA,QAAAN,MAAA,W6GjmdpD,OAAO,IAAIiK,EAAahD,S7Gimd4B3G,IAAA,YAAAV,IAAA,W6G/mdpD,OAAOqH,KAAK43B,Y7G+mdwCl7B,IAAA,S6G7mdvC0mB,GACbpjB,KAAK43B,WAAaxU,EAClBpjB,KAAK+D,mB7G2md+C1K,IAAA,eAAAV,IAAA,W6GxmdpD,OAAOqH,KAAK63B,e7GwmdwCn7B,IAAA,S6GtmdpC2mB,GAChBrjB,KAAK63B,cAAgBxU,EACrBrjB,KAAK+D,oB7Gomd+Cf,EAAA,G6G9ldtDxL,EAAOF,QAAU0L,GR7BjB,SAAM4sB,EAAS1vB,KSDf,IAEI6C,EAFEE,EAAQ/C,EAAQ,IAGhBkwB,ETFN,SAAAqiC,GSMCrxD,aAAwB,IAAAsxD,EAAZ7yD,EAAYhE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAAowB,IACvBsiC,EAAAtvD,EAAApD,KAAAqD,EAAA+sB,GAAAn4B,KAAA+H,KAAMH,KACD8yD,gBAAkB9yD,EAAM0yC,eAFNmgB,ETNzB,OAAA5uD,EAAAssB,ESE8BntB,GTF9B1B,EAAA6uB,EAAA,OAAA/2B,IAAA,UAAAV,IAAA,WSIE,OAAOoK,IAA+BA,EAAe,IAAIqtB,OTJ3D7uB,EAAA6uB,IAAA/2B,IAAA,QAAAN,MAAA,WSkBE,OAAO,IAAIq3B,EAAgBpwB,STlB7B3G,IAAA,iBAAAV,IAAA,WSWE,OAAOqH,KAAK2yD,iBTXdj2D,IAAA,SSaoB61C,GAClBvyC,KAAK2yD,gBAAkBpgB,EACvBvyC,KAAK+D,oBTfPqsB,EAAA,GSuBA54B,EAAOF,QAAU84B,G9G0rdV,SAAS54B,EAAQF,EAASO,G+GltdjC,IACOoL,EADe/C,EAAQ,IACvB+C,MACDkwB,EAAajzB,EAAQ,IAErBgsC,E/G8sdgD,SAAA0mB,GAAA,SAAA1mB,IAAA,OAAA7qC,EAAArB,KAAAksC,GAAA9oC,EAAApD,KAAAqD,EAAA6oC,GAAA9uC,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAooC,E+G9sdjC/Y,G/G8sdiC5xB,EAAA2qC,IAAA7yC,IAAA,eAAAN,MAAA,S+G1sdxCA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,E/G0sdSqrD,G+G1sda,IAAftnC,EAAesnC,EAAftnC,aAEjDnI,EAMGvjB,EANHujB,UACAC,EAKGxjB,EALHwjB,aACA9f,EAIG1D,EAJH0D,MACAE,EAGG5D,EAHH4D,KACAusB,EAEGnwB,EAFHmwB,QACAnsB,EACGhE,EADHgE,aAGGmsB,GACHzE,GACCyE,YAIFvD,EAAOyB,KAAKn1B,EAAOgS,GAClBqY,YACAC,eACA9f,QACAE,OACAI,oB/GqrdmDxK,IAAA,gBAAAN,MAAA,S+GlrdvCyO,EAAMkH,GACnB,Y/GirdoDrV,IAAA,aAAAV,IAAA,W+G5sdpD,OAAOsK,M/G4sd6CipC,EAAA,G+G9qdtD10C,EAAOF,QAAU40C,G/GqudV,SAAS10C,EAAQF,EAASO,GgHzwdjC,IACOu4B,EADelwB,EAAQ,IACvBkwB,gBACD+C,EAAajzB,EAAQ,IACpBvF,EAASuF,EAAQ,GAAjBvF,MACA6J,EAAetE,EAAQ,GAAvBsE,YAED2nC,EhHmwdgD,SAAA2mB,GAAA,SAAA3mB,IAAA,OAAA9qC,EAAArB,KAAAmsC,GAAA/oC,EAAApD,KAAAqD,EAAA8oC,GAAA/uC,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAqoC,EgHnwd7BhZ,GhHmwd6B5xB,EAAA4qC,IAAA9yC,IAAA,eAAAN,MAAA,SgH/vdxCA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EhH+vdSurD,GgH/vda,IAAfxnC,EAAewnC,EAAfxnC,aAEjDnI,EAOGvjB,EAPHujB,UAFgE4vC,EAS7DnzD,EANHwjB,oBAHgE,IAAA2vC,EAGjD,SAHiDA,EAIhEzvD,EAKG1D,EALH0D,MACAysB,EAIGnwB,EAJHmwB,QACAvsB,EAGG5D,EAHH4D,KACAI,EAEGhE,EAFHgE,aACA0uC,EACG1yC,EADH0yC,eAGGviB,GACHzE,GACCyE,YAIF,IAAMvE,EAAQjkB,EAAKsqD,UACfl2B,OAAQnhC,EACLqO,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACNmG,EAAQlH,EAAKyrD,mBAAmBnqD,EAAKP,GACvCmG,EAAMq9B,cAActgB,EAAM3iB,IAAK4F,EAAMvG,YACtCyzB,EAASnQ,EAATmQ,OAGH,IAAMhyB,EAAMmB,EAAQ8T,aACdq0C,EAA2C,IAA/B1uD,EAAYoF,EAAKnG,GAAMgG,MAEzCgjB,EAAOyB,KAAKn1B,EAAOgS,GAClBqY,YACAC,eACA9f,QACAE,OACAI,eACAssB,QACC93B,KAAMsC,EAAMihC,GAAoB,QAAVA,EAAkB,iBAAmB,eAAkB,KAC7EnyB,MAAOypD,EACP3vD,MAAOkpB,EAAO0hB,SAASoE,GAAkB9lB,EAAOqN,MAAMq5B,OAAO5gB,eAAgBzpC,EAAKP,EAAKqB,IAAQ,6BhH0td7CvQ,IAAA,aAAAV,IAAA,WgHjwdpD,OAAOy3B,MhHiwd6C+b,EAAA,GgHrtdtD30C,EAAOF,QAAU60C,GVLsC,SAAA30C,EAAAF,EAAAO,GAAA,IW9ChD8C,EAASuF,EAAQ,GAAjBvF,MACDw4B,EAAajzB,EAAQ,IACrBmwB,EAAmBnwB,EAAQ,IAC1Ba,EAAyBb,EAAQ,GAAjCa,sBAEDqrC,EXyCiD,SAAAgnB,GAAA,SAAAhnB,IAAA,OAAA/qC,EAAArB,KAAAosC,GAAAhpC,EAAApD,KAAAqD,EAAA+oC,GAAAhvC,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAAsoC,EWzC7BjZ,GXyC6B5xB,EAAA6qC,IAAA/yC,IAAA,QAAAN,MAAA,WWpCrD,OAAO,IAAIqzC,EAAYpsC,SXoC8B3G,IAAA,eAAAN,MAAA,SWlCzCA,EAAOgS,EAASlL,EAAO4sB,EAAQjlB,EXkCU6rD,GWlCY,IAAf9nC,EAAe8nC,EAAf9nC,aAEjDnI,EASGvjB,EATHujB,UACAC,EAQGxjB,EARHwjB,aACAwd,EAOGhhC,EAPHghC,YACAF,EAMG9gC,EANH8gC,aACAF,EAKG5gC,EALH4gC,eACAzQ,EAIGnwB,EAJHmwB,QACAzsB,EAGG1D,EAHH0D,MACAE,EAEG5D,EAFH4D,KACAI,EACGhE,EADHgE,aAEGmsB,GACHzE,GACCyE,YAd+D,IAkB1DlnB,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACN82C,EAAO,GAAAh/C,OAAMyI,EAAN,KAAAzI,OAAakI,GACpBg3C,EAAU,GAAAl/C,OAAMg/C,EAAN,aACK8J,GAAW3hD,EAAKzG,QAA7Bw+C,GAEF6S,EAAU5qD,EAAK6qD,eAAevpD,EAAKP,GAEnC48C,GACL/hC,YACAC,eACAwd,cACAF,eACAF,kBAEG9lC,EAAMwuD,KACThE,EAAIjU,gBAAkBiY,GAEvB,IAAMmK,EAAe7mC,EAAO8mC,sBAAsBnB,EAASrnD,EAASo6C,GAEpE14B,EAAOyB,MAAMolC,EAAav6D,GAAQgS,GACjCqY,YACAC,eACA9f,QACAE,OACAI,oBXRoDxK,IAAA,gBAAAN,MAAA,SWWxCyO,EAAMsB,EAAKglB,GACxB,YXZqDz0B,IAAA,aAAAV,IAAA,WWvCrD,OAAO03B,MXuC8C+b,EAAA,GWgBvD50C,EAAOF,QAAU80C,GXiDd,SAAA50C,EAAAF,EAAAO,GAAA,IY/GImF,EAAgBkD,EAAQ,GAAxBlD,aAED0H,EAAIxE,EAAQ,GAA6BvH,MAE/C,SAAS66D,EAAQ73D,EAAK83D,EAAUv2D,EAAOw2D,GACtC,OAAO12D,EAAYI,WAAZJ,GAAarB,GAAbqB,SAAqBE,MAC3BF,EAAYI,WAAZJ,GAAay2D,GAAbz2D,SAA0BE,MACzBw2D,GAAY12D,EAAYI,WAAZJ,GAAarB,GAAbqB,SAAqB02D,MACjCA,GAAY12D,EAAYI,WAAZJ,GAAay2D,GAAbz2D,SAA0B02D,KZuGtC,IYpGG35B,EZoGH,WYnGF34B,aAAuC,IAA3BzF,EAA2BE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAjB83D,EAAiB93D,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAA+5B,GAClCp+B,EAAIi4D,oBAAsBj4D,EAAI46C,uBAEjCxM,QAAQO,KAAK,oFACb3uC,EAAI46C,qBAAuB56C,EAAIi4D,mBAEhC5zD,KAAK0E,IACJ/I,MACAg4D,cZ2FA,OAAApyD,EAAAw4B,IAAA1gC,IAAA,UAAAN,MAAA,SYZM4C,GACP,OAAO,IAAIo+B,EAAMp+B,EAAKqE,SZWrB3G,IAAA,OAAAV,IAAA,WYxFS,IAAAk7D,EACgB7zD,KAAK0E,GAC/B,OAAO8uD,EAFGK,EACHl4D,IADGk4D,EACEF,YACqB,YZsFhCt6D,IAAA,0BAAAV,IAAA,WYpF4B,IAAAm7D,EACH9zD,KAAK0E,GAC/B,OAAO8uD,EAFsBM,EACtBn4D,IADsBm4D,EACjBH,YACqB,+BZkFhCt6D,IAAA,QAAAV,IAAA,WY/EU,IAAAo7D,EACe/zD,KAAK0E,GAC/B,OAAO8uD,EAFIO,EACJp4D,IADIo4D,EACCJ,YACqB,aZ6EhCt6D,IAAA,kBAAAV,IAAA,WY3EoB,IAAAq7D,EACKh0D,KAAK0E,GAC/B,OAAO8uD,EAFcQ,EACdr4D,IADcq4D,EACTL,YACqB,oBAAqB,aZyErDt6D,IAAA,iBAAAV,IAAA,WYtEmB,IAAAs7D,EACMj0D,KAAK0E,GAC/B,OAAO8uD,EAFaS,EACbt4D,IADas4D,EACRN,YACqB,sBZoEhCt6D,IAAA,oBAAAV,IAAA,WYlEsB,IAAAu7D,EACGl0D,KAAK0E,GAC/B,OAAO8uD,EAFgBU,EAChBv4D,IADgBu4D,EACXP,YACqB,sBAAuB,sBZgEvDt6D,IAAA,mBAAAV,IAAA,WY9DqB,IAAAw7D,EACIn0D,KAAK0E,GAC/B,OAAO8uD,EAFeW,EACfx4D,IADew4D,EACVR,YACqB,qBAAsB,sBZ4DtDt6D,IAAA,cAAAV,IAAA,WYzDgB,IAAAy7D,EACSp0D,KAAK0E,GAC/B,OAAO8uD,EAFUY,EACVz4D,IADUy4D,EACLT,YACqB,mBZuDhCt6D,IAAA,wBAAAV,IAAA,WYrD0B,IAAA07D,EACDr0D,KAAK0E,GAC/B,OAAO8uD,EAFoBa,EACpB14D,IADoB04D,EACfV,YACqB,0BAA2B,mBZmD3Dt6D,IAAA,uBAAAV,IAAA,WYjDyB,IAAA27D,EACAt0D,KAAK0E,GAC/B,OAAO8uD,EAFmBc,EACnB34D,IADmB24D,EACdX,YACqB,yBAA0B,mBZ+C1Dt6D,IAAA,WAAAV,IAAA,WY7Ca,IAAA47D,EACYv0D,KAAK0E,GAAxB/I,EADO44D,EACP54D,IAAKg4D,EADEY,EACFZ,WACZ,OAAO3zD,KAAKoyC,YAAcpyC,KAAKoyC,WAC9B3R,qBACC,OAAO+yB,EAAQ73D,EAAKg4D,GAAa,WAAY,mBAAoB,oBAElEhzB,mBACC,OAAO6yB,EAAQ73D,EAAKg4D,GAAa,WAAY,iBAAkB,oBAEhE9yB,kBACC,OAAO2yB,EAAQ73D,EAAKg4D,GAAa,WAAY,gBAAiB,sBZmC/Dt6D,IAAA,SAAAV,IAAA,WY/BW,IAAA67D,EACcx0D,KAAK0E,GAAxB/I,EADK64D,EACL74D,IAAKg4D,EADAa,EACAb,WACZ,OAAO3zD,KAAKqyC,UAAYryC,KAAKqyC,SAC5B9uC,YACC,OAAOiwD,EAAQ73D,EAAKg4D,GAAa,SAAU,UAAW,WAEvD3jC,cACC,OAAOwjC,EAAQ73D,EAAKg4D,GAAa,SAAU,YAAa,yBZwBzDt6D,IAAA,SAAAV,IAAA,WYpBW,IAAA87D,EACcz0D,KAAK0E,GAAxB/I,EADK84D,EACL94D,IAAKg4D,EADAc,EACAd,WACZ,OAAO3zD,KAAKsyC,UAAYtyC,KAAKsyC,SAC5BC,qBACC,OAAOihB,EAAQ73D,EAAKg4D,GAAa,SAAU,mBAAoB,iBZgBhE55B,EAAA,GYAHviC,EAAOF,SACNyiC,UZ2JQ,SAAAviC,EAGAF,EAAQu1D,GapQjB,IAAM6H,KAoCNl9D,EAAOF,SACNiM,MAAO,OAGPkyC,eAnDD,SAA0Bp5C,GAKzB,OADIA,EAFHkM,IAEGlM,EADHmL,KAAO0B,eAEuB,EAGvB,UAFA,QA8CR6sC,kBAvBD,SAA8B15C,GAAM,IAElCyM,EAIGzM,EAJHyM,IACAtB,EAGGnL,EAHHmL,KACO0B,EAEJ7M,EAFHmL,KAAO0B,eACP6B,EACG1O,EADH0O,QALkC4pD,EAOfntD,EAAKiX,oBAAoB3V,EAAK,GAA3CF,EAP4B+rD,EAO5B/rD,KAGP,OA3BD,SAA2BmC,EAASnC,EAAMP,EAAKU,EAAOd,EAAQ2sD,GAC7D,IAAIC,EACEC,KACN,IAAKD,KAAQD,EACZE,EAASvyD,KAATuyD,UAAiBD,EAAjBC,YAAyBF,EAAWC,KAErC,IAAMx7D,EAAG,GAAAgH,OAAMuI,EAAN,KAAAvI,OAAcgI,EAAd,KAAAhI,OAAqB0I,EAArB,KAAA1I,OAA8B4H,EAA9B,KAAA5H,OAAwCy0D,EAASpwC,KAAK,MACzDqM,EAAM2jC,EAAoBr7D,GAChC,GAAI03B,EACH,OAAOA,EAER,IAAMgkC,EAAOhqD,EAAQiqD,qBAAqBpsD,EAAMP,EAAKO,EAAMX,GAC3D,IAAK4sD,KAAQD,EACZG,EAAKE,aAAaJ,EAAMD,EAAWC,IAEpC,OAAQH,EAAoBr7D,GAAO07D,EAY5BG,CAAkBnqD,EAASnC,EAVC+rD,EAOtBtsD,IAGgCO,EAF5BpB,EAAKiX,oBAAoB3V,EAAKI,EAAiB,GAAzDjB,QAEqDktD,EAAG,OAAQC,EAAG,aAc1Etf,iBAAkB,UAElBjV,YAAa,OAEb0V,qBAAsB,UAEtBnF,UACC3Q,eAAgB,OAChBE,aAAc,mBAGfthC,QACCkE,MAAO,OACPysB,QAAS,WAEVmjC,QACC5gB,eAAgB,uBAEjBxmC,wBAAyB,Yb2SxB,SAAAvU,EAAAF,EAAAO,GclVFL,EAAOF,SACNiM,MAAO,sBACPkwC,gBAAiB,sBAEjBgC,eAAgB,OAEhBK,iBAAkB,UAElBjV,YA5BD,SAAsBxkC,GAAM,IAE1ByM,EAEGzM,EAFHyM,IAF0BusD,EAIvBh5D,EADHmL,KAAOqB,EAHmBwsD,EAGnBxsD,SAER,OAL2BwsD,EAGThsD,eAEG,IAAMP,GAClB,UAAW,UAAW,UAAW,MAEtCD,EAAW,IAAMC,GACZ,UAAW,UAAW,UAAW,OAElC,UAAW,OAkBnB2tC,sBAxCD,SAAkCp6C,GAAM,IAEtCkM,EAEGlM,EAFHkM,IAGD,OADIlM,EADHmL,KAAO0B,eAEa,IAAMX,GAClB,UAAW,UAAW,UAAW,YAEjC,YAiCTguC,qBAAsB,UAEtBnF,UAECzQ,aAAc,kBACdE,YAAa,uBAEdxhC,QACCkE,MAAO,OACPysB,QAAS,WAEVmjC,QACC5gB,eAAgB,uBAEjBxmC,wBAAyB,Sd1D1B,SAAAvU,EAAAF,EAAAO,GAkbkB,IehbXmF,EAAgBkD,EAAQ,GAAxBlD,aACDm+B,EAAaj7B,EAAQ,If+aT,IelaZ0sC,EfkaY,SAAA0oB,GexZjBl0D,aAAsB,IAAAm0D,EAAVpQ,EAAUtpD,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,aAAAwF,EAAArB,KAAA4sC,IACrB2oB,EAAAnyD,EAAApD,KAAAqD,EAAAupC,GAAA30C,KAAA+H,KAAMmlD,KACDqQ,WACLD,EAAKE,WAHgBF,EfwZL,OAAAzxD,EAAA8oC,EelaazR,Gfkab55B,EAAAqrC,EAAA,OAAAvzC,IAAA,UAAAN,MAAA,Se9ZFmB,GACd,OAAO,IAAI0yC,GACVj0C,IAAM4B,YAAD,OAAWL,EAAMK,IACtBG,OAAQR,EAAMQ,Yf2ZCrB,IAAA,aAAAV,IAAA,WehahB,OAAOwiC,EAAWj1B,efgaF3E,EAAAqrC,IAAAvzC,IAAA,cAAAN,MAAA,SenZLwB,GACX,OAAIyF,KAAKw1D,SAAWx1D,KAAKw1D,QAAQj7D,GACzByF,KAAKw1D,QAAQj7D,GAErBohB,EAAAtY,EAAAupC,EAAAlzC,WAAA,cAAAsG,MAAA/H,KAAA+H,KAAyBzF,Mf+YTlB,IAAA,mBAAAN,MAAA,Se7YAwB,EAAOihC,GACvB,IAAMoP,EAAQ5tC,EAAagD,KAAKy1D,QAASl7D,EAAOihC,GAChD,OAAIoP,GAGJjvB,EAAAtY,EAAAupC,EAAAlzC,WAAA,mBAAAsG,MAAA/H,KAAA+H,KAA8BzF,EAAOihC,MfwYrBniC,IAAA,mBAAAN,MAAA,SetYAwB,EAAOihC,EAAOziC,GAC9B,IAAM28D,EAAS11D,KAAKy1D,QAIpB,OAHIC,GAAUA,EAAOn7D,WACbm7D,EAAOn7D,GAEfohB,EAAAtY,EAAAupC,EAAAlzC,WAAA,mBAAAsG,MAAA/H,KAAA+H,KAA8BzF,EAAOihC,EAAOziC,MfiY5BM,IAAA,aAAAN,MAAA,We9XZiH,KAAKw1D,UACRx1D,KAAKw1D,YAEFx1D,KAAKy1D,UACRz1D,KAAKy1D,ef0XUp8D,IAAA,+BAAAN,MAAA,SevXYwB,EAAOihC,EAAO7+B,IAtD5C,SAAAg5D,EAAmCp7D,EAAOihC,EAAOziC,GAAO,IAA/B08D,EAA+BE,EAA/BF,SACPA,EAAQl7D,KAAWk7D,EAAQl7D,QACnCihC,GAASziC,EAqDjB68D,CAAe51D,KAAMzF,EAAOihC,EAAO7+B,MfsXnBtD,IAAA,gCAAAN,MAAA,SepXawB,EAAOoC,GACpCqD,KAAKw1D,QAAQj7D,GAASoC,KfmXNtD,IAAA,UAAAN,MAAA,WehXhB4iB,EAAAtY,EAAAupC,EAAAlzC,WAAA,UAAAsG,MAAA/H,KAAA+H,UfgXgB4sC,EAAA,Ge5WlBp1C,EAAOF,QAAUs1C,GfubZhjC,aAAIkC,GAAuBijD,IgB5fzBjzD,EAAaoE,EAAQ,GAArBpE,UACDq/B,EAAaj7B,EAAQ,IACrBiB,EAAejB,EAAQ,GAEtBgG,EAAci1B,EAAdj1B,WAED2vD,EhBsf0B9G,WgBrf/B3tD,WAAY45B,GAAY35B,EAAArB,KAAA61D,GACvB71D,KAAK81D,YAAc96B,EACnBh7B,KAAK+1D,WAAa,EAClB/1D,KAAKg2D,ShBkfyBjH,4CgB/e9B,IAAMnwD,EAAOoB,KAAK+1D,UAAY,EAC9B,OAAO/1D,KAAK81D,YAAYp7D,OAASkE,KhB8eHmwD,4BgB3e9B,IAAMnwD,EAAOoB,KAAK+1D,UAAY,EACxBn7D,EAAOoF,KAAKi2D,cAAcr3D,GAEhC,OADAoB,KAAK+1D,UAAYn3D,EACVhE,KhBweuBm0D,gCgBre9B/uD,KAAK+1D,ehBqeyBhH,mCgBnejBx0D,EAAO27D,GACpB,IAAMl7B,EAAah7B,KAAK81D,YAClBl7D,EAAOoF,KAAKg2D,MAClB,GAAIz7D,EAAQK,EAAKF,OAChB,OAAOE,EAAKL,GAGb,KAAIygC,EAAWtgC,QAAUH,GAAzB,CAGA,IAAMqyB,EAAS5sB,KAAK81D,YAAYn9D,IAAI4B,GAEpC,GADAK,EAAKL,GAASqyB,EACV9wB,EAAU8wB,KACbA,EAAO7wB,KAAMY,YACZ/B,EAAKL,GAASoC,KAEVu5D,GACJ,IAAK,IAAIn+D,EAAI,EAAGA,GAAK,IAAKA,IACzBiI,KAAKi2D,cAAc17D,EAAQxC,GAAG,GAIjC,OAAO60B,OhB6cuBmiC,KgBzc1BoH,EhByc0BpH,WgBxc/B3tD,WAAYg1D,EAAIC,EAAUhtC,GAAQhoB,EAAArB,KAAAm2D,GACjCn2D,KAAKs2D,OAASF,EACdp2D,KAAKu2D,eAAiB,IAAIV,EAAmBQ,GAC7Cr2D,KAAKw2D,QAAUntC,EACfrpB,KAAKy2D,gBACLz2D,KAAK02D,WhBmcyB3H,sCgBjc3Bx0D,GACH,IAAIyF,KAAKue,QAAT,CAGA,IAAMo4C,EAAc32D,KAAKy2D,aACzB,GAAIl8D,EAAQo8D,EAAYj8D,OACvB,OAAOi8D,EAAYp8D,GAEpB,IAAMq8D,EAAS52D,KAAK02D,QACpB,OAAIE,EAAOr8D,GACHq8D,EAAOr8D,GAERq8D,EAAOr8D,IAAUyF,KAAK62D,WAAWt8D,OhBqbVw0D,8BgBlb9B/uD,KAAKue,SAAU,KhBkbewwC,gCgBhbpBx0D,GACV,GAAIpD,EAAOgd,QAAS,CACnB,IAAM2iD,EAAUjqC,KAAKC,MAAQ,IACzB7gB,EAAQ,EACZ,OAAOjM,KAAK+2D,sBAAsBx8D,EAAO,WAExC,QADA0R,GACa,MACZA,EAAQ,EACD6qD,EAAUjqC,KAAKC,SAKzB,OAAO9sB,KAAK+2D,sBAAsBx8D,EAAO,kBAAM,OhBmajBw0D,2CgBjaTx0D,EAAOy8D,GAQ5B,IARyC,IAAAC,EAAAj3D,KACnC22D,EAAc32D,KAAKy2D,aACnBptC,EAASrpB,KAAKw2D,QACdU,EAAgBl3D,KAAKu2D,eAErBK,EAAS52D,KAAK02D,QAGbQ,EAAcviB,WAAW,CAC/B,GAAI30C,KAAKue,QACR,OAED,IAAMqO,EAASsqC,EAAct4D,OAC7B,GAAI9C,EAAU8wB,GAEb,OADAsqC,EAAcC,WACNP,EAAOr8D,GAASqyB,EAAO7wB,KAAMhD,YAEpC,OADA69D,EAAOr8D,GAAS,KACT08D,EAAKt+D,IAAI4B,KAGlB,GAAI8uB,EAAOuD,KACV+pC,EAAYp0D,KAAKqqB,GACbryB,EAAQo8D,EAAYj8D,QACvB,OAAOi8D,EAAYp8D,GAGrB,GAAIy8D,IAAe,CAClB,IAAMrqC,EAAU,IAAIxY,QAASqjB,YAC5BhmB,WAAW,WACVgmB,KACE,OAMJ,OAJAo/B,EAAOr8D,GAASoyB,EAAQ5wB,KAAK,WAE5B,OADA66D,EAAOr8D,GAAS,KACT08D,EAAKt+D,IAAI4B,KAEVq8D,EAAOr8D,IAGLyF,KAAKs2D,OACb57D,OAASi8D,EAAYj8D,WhByXMq0D,KgB7W1BliB,EhB6W0BkiB,YgBzW/B3tD,WAAY45B,EAAY3R,GAAQ,IAAA+tC,EAAA/1D,EAAArB,KAAA6sC,IAC/BuqB,EAAAh0D,EAAApD,KAAAqD,EAAAwpC,GAAA50C,KAAA+H,KAAMg7B,KACD86B,YAAc96B,EACnBo8B,EAAK/tC,OAASA,EACd,IAAMnZ,EAAUknD,EAAKthD,SAAW,IAAI3U,EACpC+O,EAAQhO,GAAG84B,EAAY90B,EAAW00B,cAAe,WAEhDw8B,EAAK/tC,OAAS+tC,EAAK/tC,SAPW,IAAAguC,EAAA,SASpB35D,GACV,IAAM8D,EAAO0E,EAAWxI,GACxBwS,EAAQhO,GAAG84B,EAAYx5B,EAAM,mBAAA81D,EAAAC,EAAA17D,UAAAnB,OAAI2B,EAAJ,IAAAjC,MAAAm9D,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAIn7D,EAAJm7D,GAAA37D,UAAA27D,GAAA,OAAaF,EAAAF,GAAKvmD,cAALzT,MAAAk6D,GAAmB91D,GAAnBnB,OAA4BhE,OAFvE,IAAK,IAAMqB,KAAKwI,EAAYmxD,EAAjB35D,GAToB,OAAA05D,EhByWDrI,WgB7WD5zB,GhB6WC4zB,2CgB3W9B,OAAO7oD,MhB2WuB6oD,uCgBjVnBx0D,GACX,OAAKyF,KAAKy3D,YAGHz3D,KAAKy3D,YAAY9+D,IAAI4B,GAF3BohB,EAAAtY,EAAAwpC,EAAAnzC,WAAA,cAAAsG,MAAA/H,KAAA+H,KAAyBzF,MhB+UIw0D,4BgB3UjB,IAAA2I,EACb,OAAOA,EAAA13D,KAAK81D,aAAYv4C,KAAjBngB,MAAAs6D,EAAA77D,chB0UuBkzD,+BgBvU9B/uD,KAAK8V,SAASsB,UACduE,EAAAtY,EAAAwpC,EAAAnzC,WAAA,UAAAsG,MAAA/H,KAAA+H,ShBsU8B+uD,4BgB1V9B,OAAO/uD,KAAKy3D,aAAez3D,KAAKy3D,YAAYjB,cAAW/7D,GhB0VzBs0D,agBxVpB1lC,GACNrpB,KAAKy3D,aACRz3D,KAAKy3D,YAAY/3D,SAElBM,KAAKy3D,YAAcpuC,EAAS,IAAI8sC,EAAWn2D,KAAMA,KAAK81D,YAAazsC,QAAU5uB,EAC7EuF,KAAKtF,OAASsF,KAAK81D,YAAYp7D,WhBmVDq0D,KgBlUhCv3D,EAAOF,QAAUu1C,GdzHd,SAAAr1C,EAAIiyC,EAAU5xC,IelEjB,SAAAiC,GAAA,IAAA69D,EAEkDz3D,EAAQ,GAAnDvF,EAFPg9D,EAEOh9D,MAAOmB,EAFd67D,EAEc77D,UAAWC,EAFzB47D,EAEyB57D,KAAY+B,EAFrC65D,EAE+Bh8D,IAAMmC,SAC/B00C,EAAmBtyC,EAAQ,IAC3B86C,EAAU96C,EAAQ,IACjBirB,EAAa6vB,EAAQn7C,MAArBsrB,UACDmhB,EAAapsC,EAAQ,IACrBqrC,EAAerrC,EAAQ,IACX03D,EAAmB13D,EAAQ,IAAtCirB,UACDhM,EAAWjf,EAAQ,GATzB23D,EAUuC33D,EAAQ,IAAxCi7B,EAVP08B,EAUO18B,WAAYyR,EAVnBirB,EAUmBjrB,iBACbvS,EAASn6B,EAAQ,IACjBiwB,EAAQjwB,EAAQ,IAChB43D,EAAiB53D,EAAQ,KACzB63D,EAAiB73D,EAAQ,KACzBgG,EAAahG,EAAQ,IAGFwE,EAAKxE,EAAQ,GAA/BK,iBAEHy3D,EAAW,EAEf,SAASC,EAAoBzwD,EAAMsB,EAAKP,GACvC,OAAOf,EAAK9C,GAAGwzD,UAAUjF,mBAAmBnqD,EAAKP,GAwBlD,SAAS4vD,EAAc3wD,EAAMsB,EAAKP,GACjC,GAAIA,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAC3B,OAAOR,EAAK9C,GAAGwzD,UAAUE,QAAQtvD,EAAKP,GAAK+9B,QACrC,IACD9K,EAASh0B,EAAK9C,GAAGwzD,UAAUld,QAAQlyC,GAAnC0yB,MAIL,OAHI19B,EAAS09B,IAAUA,EAAM7iC,KAAO6iC,EAAM9+B,MACzC8+B,EAAQA,EAAM7iC,KAER0/D,EAAU7wD,EAAMg0B,EAAOjzB,GAiBhC,SAAS+vD,EAAgB9wD,EAAMsB,EAAKP,GACnC,GAAIA,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAC3B,OAAO,KACD,IACC2lB,EAAWnmB,EAAK9C,GAAGwzD,UAAUld,QAAQlyC,GAArC6kB,QACP,OAAKA,EAGE0qC,EAAU7wD,EAAMmmB,EAASplB,GAFxB,KAKV,SAASgwD,EAAc/wD,EAAMsrB,EAAMvqB,GAClC,IAAK5N,EAAMm4B,GACV,OAAO,KAER,GAAI14B,EAAc04B,GACjB,OAAOA,EAAKnP,IAAK5rB,YAAD,OAAOwgE,EAAc/wD,EAAMzP,EAAGwQ,KAE/C,IAAKzK,EAASg1B,IAAyB,mBAATA,EAC7B,OAAOulC,EAAU7wD,EAAMsrB,EAAMvqB,GAE9B,IAAMiwD,KAaN,OAZAroC,EAAMuJ,aAAan9B,QAASmB,YAC3B,GAAIo1B,EAAKp1B,GAAI,CACZ,IAAMsuB,EAAIqsC,EAAU7wD,EAAMsrB,EAAKp1B,GAAI6K,GAC/B5N,EAAMqxB,GACTwsC,EAAQ96D,GAAKsuB,EAyBjB,SAAmBxkB,EAAMg0B,EAAOjzB,GAC/B,IAAK5N,EAAM6gC,GACV,OAAO,EAER,GAAIjzB,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAC3B,OAAO,EAEP,IAAMzN,EAAQk+D,EAAmBjxD,EAAMe,GACvC,OAAOf,EAAK9C,GAAGs2B,WAAW09B,SAASn+D,EAAOihC,GA/BnCm9B,CAAUnxD,EAAMsrB,EAAKp1B,GAAI6K,KAC7BiwD,EAAQ96D,GAAKo1B,EAAKp1B,OAKf86D,EAMR,SAASH,EAAU7wD,EAAMg0B,EAAOjzB,GAC/B,IAAK5N,EAAM6gC,GACV,OAAO,KAER,GAAIjzB,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAC3B,OAAO,KAEP,IAAMzN,EAAQk+D,EAAmBjxD,EAAMe,GACvC,OAAOf,EAAK9C,GAAGs2B,WAAWsB,SAAS/hC,EAAOihC,GAc5C,SAASo9B,EAAapxD,EAAM6kB,EAAWthB,EAAvC8tD,EAA4Dh5D,EAAO8M,GAAM,IAAxB7D,EAAwB+vD,EAAxB/vD,IAAKP,EAAmBswD,EAAnBtwD,IAC/CkkB,EAASjlB,EAAK9C,GAAGo0D,iBAEjBC,EAAa,WAAoB,IAChCC,GACL55B,WAFqCvjC,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,OAAlBm0B,SAKpBvD,EAAOwsC,kBAAkBluD,EAASiuD,IAE7BE,EAAiB,WAEtB,GAAInuD,EAAQjC,MAAQtB,EAAK6B,eAAiB,EAAG,CAE5C,IAAMc,EAAOY,EAAQk0B,UACrBxS,EAAOinB,aAAa3oC,EAAUnB,YAC7B,IAAMi3B,EAAc91B,EAAQxC,KAAOf,EAAK0B,eAAiBujB,EAAOqN,MAAM+G,YACnEpU,EAAOqN,MAAM2c,sBAEV7S,EAAenX,EAAO3sB,WAC1B2sB,EAAO0hB,SAAStN,EAAa91B,EAAQjC,IAAKiC,EAAQxC,IAAKqB,IAErDg6B,EAAa,KAChBh6B,EAAI0Z,UAAY,EAChB1Z,EAAIuZ,YAAcygB,EAAa,GAC/Bh6B,EAAIiC,YACJjC,EAAIy3B,OAAOl3B,EAAKpB,MAAQ,IAAKoB,EAAK9B,KAClCuB,EAAI03B,OAAOn3B,EAAKpB,MAAQ,IAAKoB,EAAKlC,QAClC2B,EAAIu2B,YAKHp1B,EAAQxC,IAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAyBtC,SAAgCR,EAAMilB,EAAQ1hB,GAAS,IAC/CjC,EAAYiC,EAAZjC,IAAKP,EAAOwC,EAAPxC,IACNiW,EAAMhX,EAAKqD,UAAU4G,OAC3B,GAAI+M,EAAIjW,KAAOf,EAAK9C,GAAGwzD,UAAUlwD,SAGhC,YADAykB,EAAO0sC,gBAAgBpuD,GAL8B,IAS/CjJ,EAAM0F,EAAK9C,GAAGwzD,UAAUE,QAAQtvD,EAAKP,GAArCzG,GAEDqI,EAAOY,EAAQk0B,UACf/S,KAEKktC,EAAS5xD,EAAK9C,GAAGwzD,UAAUE,QAAQ55C,EAAI1V,IAAK0V,EAAIjW,KAApDzG,GAEP,GAAIs3D,IAAUt3D,EACboqB,EAAO2U,YAAcpU,EAAOqN,MAAMyc,qBAClCrqB,EAAO5I,UAAY,EACnBmJ,EAAO+pB,OAAOzrC,EAASmhB,OACjB,CACNA,EAAO5I,UAAY,EAEnB,IAAMvE,EAAevX,EAAKuX,aAAajW,EAAKP,GACxCwW,GAAgBA,EAAaxW,MAChC2jB,EAAO2U,YAAcpU,EAAOqN,MAAM2c,uBAEnChqB,EAAO+pB,OAAOzrC,EAASmhB,GAGnBpjB,EAAM,GAAKtB,EAAK9C,GAAGwzD,UAAUE,QAAQtvD,EAAM,EAAGP,GAAKzG,KAAOs3D,EAE7D3sC,EAAO2pB,mBAAmBrrC,EAAUnB,YACnC,IAAMg6B,EAAenX,EAAO3sB,WAC1B2sB,EAAO0hB,SAAS1hB,EAAOqN,MAAMyc,qBAAsB/3B,EAAI1V,IAAK0V,EAAIjW,IAAKqB,IAEnEg6B,EAAa,KAChBh6B,EAAI0Z,UAAY,EAChB1Z,EAAIuZ,YAAcygB,EAAa,GAC/Bh6B,EAAIiC,YACJjC,EAAIy3B,OAAOl3B,EAAKvB,KAAO,GAAKuB,EAAK9B,KACjCuB,EAAI03B,OAAOn3B,EAAKvB,KAAO,GAAKuB,EAAKlC,QACjC2B,EAAIu2B,YAGI53B,EAAM,GACbf,EAAK9C,GAAGwzD,UAAUE,QAAQtvD,EAAKP,EAAM,GAAGzG,KAAOs3D,GAElD3sC,EAAO2pB,mBAAmBrrC,EAAUnB,YACnC,IAAMg6B,EAAenX,EAAO3sB,WAC1B2sB,EAAO0hB,SAAS1hB,EAAOqN,MAAMyc,qBAAsB/3B,EAAI1V,IAAK0V,EAAIjW,IAAKqB,IAEnEg6B,EAAa,KAChBh6B,EAAI0Z,UAAY,EAChB1Z,EAAIuZ,YAAcygB,EAAa,GAC/Bh6B,EAAIiC,YACJjC,EAAIy3B,OAAOl3B,EAAKvB,KAAMuB,EAAK9B,IAAM,IACjCuB,EAAI03B,OAAOn3B,EAAKpB,MAAOoB,EAAK9B,IAAM,IAClCuB,EAAIu2B,aAlFNk5B,CAAuB7xD,EAAMilB,EAAQ1hB,GAErC0hB,EAAO0sC,gBAAgBpuD,IAoBzB,OAAO4B,EAAK0f,GAVXG,UAAW,kBAAMhlB,EAAKq9B,aAAat8B,IACnCwnB,QAAS,kBAzEX,SAAsBvoB,EAAMsB,EAAKP,GAEhC,OAAOgwD,EAAc/wD,EADNA,EAAK9C,GAAGwzD,UAAUld,QAAQlyC,GAAlCgqB,KAC0BvqB,GAuEjB+wD,CAAa9xD,EAAMsB,EAAKP,IACvCglB,WAAY,kBAAM+qC,EAAgB9wD,EAAMsB,EAAKP,IAC7CqlB,eAAgBpmB,EAAK9C,GAAGkpB,eACxB/tB,QACA0rB,aAVoB,WAAoB,IAAlByE,GAAkBn0B,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,OAAlBm0B,QACtB+oC,GAAY/oC,YACZkpC,KASAH,aACAG,kBAG4BnuD,EAASvD,GAkEvC,SAAS+xD,EAAe/xD,GACnBA,EAAK9C,GAAG80D,cACXhyD,EAAK9C,GAAG80D,aAAaj9D,QAASuF,YAAD,OAAQ0F,EAAK4qB,SAAStwB,KAEpD0F,EAAK9C,GAAGwzD,UAAY,IAAIuB,EAAUjyD,EAAK9C,GAAGyuD,QAC1C3rD,EAAK9C,GAAG80D,gBACRhyD,EAAK9C,GAAGwzD,UAAUwB,cAAcn9D,QAASgU,YAAS,IAAAopD,EAC3CC,EAAMrpD,EAAK+7B,WAAWutB,cAAcryD,EAAM+I,EAAK7B,OAErD,IADAlH,IAAK9C,GAAG80D,cAAaj3D,KAArBiF,UAA6BoyD,IACzBrpD,EAAK1Q,OACJ0Q,EAAK1Q,iBAAiB+3D,EAAiB,CAC1C,IAAM91D,EAAKyO,EAAK1Q,MAAM2S,OAAOolD,EAAgB1xD,WAAW4xB,aAAc,WACrEtwB,EAAKoR,eAENpR,EAAK9C,GAAG80D,aAAaj3D,KAAKT,GAG5B,GAAIyO,EAAK4zB,OAAQ,KAAA21B,EACVF,EAAMrpD,EAAK4zB,OAAO01B,cAAcryD,EAAM+I,EAAK7B,QACjDlH,IAAK9C,GAAG80D,cAAaj3D,KAArBiF,UAA6BoyD,OAG/BpyD,EAAK9C,GAAGwzD,UAAUld,QAAQz+C,QAAQ,SAACuM,EAAKvO,GACvC,GAAIuO,EAAIq7B,OAAQ,KAAA41B,EACTH,EAAM9wD,EAAIq7B,OAAO01B,cAAcryD,EAAMjN,GAC1C+qC,SADiD,SACxCx8B,EAAKP,GACb,OAAOhO,IAAUuO,GAAOtB,EAAK0B,gBAAkBX,MAGjDf,IAAK9C,GAAG80D,cAAaj3D,KAArBiF,UAA6BoyD,IAE9B,GAAI9wD,EAAIu/C,WAAY,KAAA2R,EACbJ,EAAM9wD,EAAIu/C,WAAWwR,cAAcryD,EAAMjN,GAC9C+qC,SADqD,SAC5Cx8B,EAAKP,GACb,OAAOhO,IAAUuO,GAAOtB,EAAK0B,gBAAkBX,MAGjDf,IAAK9C,GAAG80D,cAAaj3D,KAArBiF,UAA6BoyD,IAE9B,GAAI9wD,EAAIjJ,OACHiJ,EAAIjJ,iBAAiBsrB,EAAW,CACnC,IAAMrpB,EAAKgH,EAAIjJ,MAAM2S,OAAOwoC,EAAQn7C,MAAMqG,WAAW4xB,aAAc,WAClEtwB,EAAKoR,eAENpR,EAAK9C,GAAG80D,aAAaj3D,KAAKT,MAI7B0F,EAAKqB,SAAWrB,EAAK9C,GAAGwzD,UAAUld,QAAQtgD,OAC1Cu/D,EAAiBzyD,GACjBA,EAAK0B,eAAiB1B,EAAK9C,GAAGwzD,UAAUlwD,SACxC,IAAK,IAAIc,EAAM,EAAGA,EAAMtB,EAAK9C,GAAGwzD,UAAUld,QAAQtgD,OAAQoO,IAAO,CAChE,IAAM0kB,EAAShmB,EAAK9C,GAAGwzD,UAAUld,QAAQlyC,GAClCW,EAA6B+jB,EAA7B/jB,MAAOywD,EAAsB1sC,EAAtB0sC,SAAUxqB,EAAYliB,EAAZkiB,SACpBjmC,IAAUA,EAAQ,GAAsB,iBAAVA,IACjCjC,EAAK2yD,YAAYrxD,EAAKW,GAEnBywD,IAAaA,EAAW,GAAyB,iBAAbA,IACvC1yD,EAAK4yD,eAAetxD,EAAKoxD,GAEtBxqB,IAAaA,EAAW,GAAyB,iBAAbA,IACvCloC,EAAK6yD,eAAevxD,EAAK4mC,GAI3B,IADA,IAAM4qB,EAAyBlgE,EAAcoN,EAAK9C,GAAG61D,iBAC5ChyD,EAAM,EAAGA,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAAUO,IAAO,CAC1D,IAAMgB,EAAS+wD,EAAyB9yD,EAAK9C,GAAG61D,gBAAgBhyD,GAAOf,EAAK9C,GAAG61D,gBAC3EhxD,GAAUA,EAAS,GACtB/B,EAAKgzD,aAAajyD,EAAKgB,IAK1B,SAAS0wD,EAAiBzyD,GACzBA,EAAKQ,SAAWR,EAAK9C,GAAGs2B,WAAWtgC,OAAS8M,EAAK9C,GAAGwzD,UAAUlwD,SAE/D,SAASyyD,EAAyBjzD,EAAM5L,GACnC4L,EAAK9C,GAAGg2D,oBACXlzD,EAAK9C,GAAGg2D,mBAAmBn+D,QAASuF,YAAD,OAAQ0F,EAAK9C,GAAGwL,QAAQ/N,IAAIL,KAGhElG,EAAG4L,GAEHA,EAAK9C,GAAGg2D,oBACPlzD,EAAK9C,GAAGwL,QAAQhO,GAAGsF,EAAK9C,GAAGs2B,WAAYG,EAAWj1B,WAAWy0B,eAAgB,WAC5Es/B,EAAiBzyD,GACjBA,EAAKoR,eAENpR,EAAK9C,GAAGwL,QAAQhO,GAAGsF,EAAK9C,GAAGs2B,WAAYG,EAAWj1B,WAAW00B,cAAe,WAC3EpzB,EAAKoR,gBAIR,SAAS+hD,EAAYnzD,GAAoB,IAAdozD,EAAc/+D,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MACxC4+D,EAAyBjzD,EAAM,WAC9BA,EAAK9C,GAAGk2D,QAAUA,EAClBpzD,EAAK9C,GAAGs2B,WAAa4R,EAAiBiuB,QAAQrzD,EAAK9C,GAAGk2D,WAGxD,SAASE,EAAetzD,EAAMwzB,GAC7By/B,EAAyBjzD,EAAM,WAG5BA,EAAK9C,GAAGs2B,WAFNA,EACCA,aAAsBG,EACJH,EAEA,IAAI4R,EAAiB5R,GAGtBG,EAAWuB,MAEjCl1B,EAAK9C,GAAGk2D,QAAU,OAIpB,SAASnC,EAAmBjxD,EAAMe,GACjC,OAAIA,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,cAC3B,EAEOO,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAtXjC,IA8XMyxD,EA9XN,WA+XCr4D,WAAY+xD,GAAQ9xD,EAAArB,KAAAy5D,GACnBz5D,KAAK+6D,YACL/6D,KAAKg7D,gBACLh7D,KAAKi7D,kBAELj7D,KAAKk7D,YAAY,EAAG/H,MACpBnzD,KAAKm7D,0BArYP,OAAA55D,EAAAk4D,IAAApgE,IAAA,UAAAN,MAAA,SAgZS+P,EAAKP,GACZ,OAAOvI,KAAKg7D,aAAazyD,GAAKO,MAjZhCzP,IAAA,yBAAAN,MAAA,SAmZwB+I,GACtB,IAAK,IAAIlJ,EAAI,EAAGA,EAAIoH,KAAKgI,SAAUpP,IAClC,IAAK,IAAIT,EAAI,EAAGA,EAAI6H,KAAKg7C,QAAQtgD,OAAQvC,IACxC,GAAI2J,IAAO9B,KAAKo4D,QAAQjgE,EAAGS,GAAGkJ,GAC7B,OAAO9B,KAAKizD,mBAAmB96D,EAAGS,MAvZvCS,IAAA,qBAAAN,MAAA,SA6ZoB+P,EAAKP,GAYvB,IAXA,IAAMpM,GACLsR,SAAU3E,EACVX,SAAUI,EACVmF,OAAQ5E,EACRgF,OAAQvF,EACRwjC,cALc,SAKAjjC,EAAKP,GAClB,OAAOvI,KAAKyN,UAAY3E,GAAOA,GAAO9I,KAAK0N,QACxC1N,KAAKmI,UAAYI,GAAOA,GAAOvI,KAAK8N,SAGlChM,EAAM9B,KAAKo4D,QAAQtvD,EAAKP,GAAxBzG,GACE3J,EAAI2Q,EAAM,EAAG3Q,GAAK,GACtB2J,IAAO9B,KAAKo4D,QAAQjgE,EAAGoQ,GAAKzG,GADH3J,IAI7BgE,EAAOsR,SAAWtV,EAEnB,IAAK,IAAIA,EAAI2Q,EAAM,EAAG3Q,EAAI6H,KAAKg7C,QAAQtgD,QAClCoH,IAAO9B,KAAKo4D,QAAQjgE,EAAGoQ,GAAKzG,GADc3J,IAI9CgE,EAAOuR,OAASvV,EAEjB,IAAK,IAAIS,EAAI2P,EAAM,EAAG3P,GAAK,GACtBkJ,IAAO9B,KAAKo4D,QAAQtvD,EAAKlQ,GAAGkJ,GADHlJ,IAI7BuD,EAAOgM,SAAWvP,EAEnB,IAAK,IAAIA,EAAI2P,EAAM,EAAG3P,EAAIoH,KAAKgI,UAC1BlG,IAAO9B,KAAKo4D,QAAQtvD,EAAKlQ,GAAGkJ,GADQlJ,IAIxCuD,EAAO2R,OAASlV,EAEjB,OAAOuD,KAjcT9C,IAAA,cAAAN,MAAA,SAmcawP,EAAK4qD,EAAQiI,GAAO,IAAAC,EAAAr7D,KACzBs7D,EAAWt7D,KAAKg7D,aAAazyD,IAAQvI,KAAKu7D,QAAQhzD,GACxD4qD,EAAO52D,QAASi/D,YACf,IAAM1yD,EAAMuyD,EAAKN,SAASrgE,OACpB6V,GACLzO,GAAIk2D,IACJ1xB,QAASk1B,EAAGl1B,QACZ9K,MAAOggC,EAAGC,aAAeD,EAAGhgC,MAC5B37B,MAAO27D,EAAGlrC,YACVgc,WAAYkvB,EAAGlvB,WACfnI,OAAQq3B,EAAGjwB,aACXhuB,KAAMi+C,EAAGj+C,KACT9lB,OAAQ+jE,GAETH,EAAKJ,eAAe14D,KAAKgO,GACzB+qD,EAASxyD,GAAOyH,EAChB,IAAK,IAAI3X,EAAI2P,EAAM,EAAG3P,GAAK,EAAGA,IAC7ByiE,EAAKL,aAAapiE,GAAGkQ,GAAOsyD,EAAMxiE,GAEnC,GAAI4iE,EAAGxgB,QACNqgB,EAAKH,YAAY3yD,EAAM,EAAGizD,EAAGxgB,QAA7B1hB,EAA0C8hC,GAA1C/6D,QAAiDkQ,SAC3C,CACN8qD,EAAKN,SAASx4D,MACbi5B,MAAOggC,EAAGhgC,MACV/xB,MAAO+xD,EAAG/xD,MACVywD,SAAUsB,EAAGtB,SACbxqB,SAAU8rB,EAAG9rB,SACb5c,KAAM0oC,EAAG1oC,KACTnF,QAAS6tC,EAAG7tC,QACZ06B,WAAYrN,EAAQx5C,KAAK2rB,GAAGquC,EAAGnT,YAC/BlkB,OAAQ6W,EAAQ7W,OAAOhX,GAAGquC,EAAGr3B,QAC7BtkC,MAAO27D,EAAG37D,MACVpI,OAAQ+jE,IAET,IAAK,IAAI5iE,EAAI2P,EAAM,EAAG3P,EAAIyiE,EAAKL,aAAatgE,OAAQ9B,IACnDyiE,EAAKL,aAAapiE,GAAGkQ,GAAOyH,QAtejClX,IAAA,0BAAAN,MAAA,WA2e2B,IAAA2iE,EAAA17D,KACzBA,KAAKi7D,eAAe1+D,QAASgU,YAC5BA,EAAK7B,MAAQgtD,EAAKC,uBAAuBprD,EAAKzO,IAC9CyO,EAAK+7B,WAAaA,EAAWb,OAAOl7B,GACpCA,EAAK4zB,OAASoH,EAAaE,OAAOl7B,QA/erClX,IAAA,UAAAN,MAAA,SAkfSwP,GACP,IAAMuP,EAAS9X,KAAKg7D,aAAazyD,MACjC,IAAKvI,KAAK+6D,SAASrgE,OAClB,OAAOod,EAGR,IADA,IAAM8jD,EAAO57D,KAAKg7D,aAAazyD,EAAM,GAC5BO,EAAM,EAAGA,EAAM8yD,EAAKlhE,OAAQoO,IACpCgP,EAAOhP,GAAO8yD,EAAK9yD,GAEpB,OAAOgP,KA3fTze,IAAA,UAAAV,IAAA,WAwYE,OAAOqH,KAAK+6D,YAxYd1hE,IAAA,WAAAV,IAAA,WA2YE,OAAOqH,KAAKg7D,aAAatgE,UA3Y3BrB,IAAA,gBAAAV,IAAA,WA8YE,OAAOqH,KAAKi7D,mBA9YdxB,EAAA,OA8gBMve,EA9gBN,SAAA2gB,GAuiBCz6D,aAA0B,IAAA06D,EAAdn6D,EAAc9F,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAAwF,EAAArB,KAAAk7C,GAEzB,IAAMr7B,GADNi8C,EAAA14D,EAAApD,KAAAqD,EAAA63C,GAAAjjD,KAAA+H,KAzCF,SAA8B2B,GAM7B,OALIA,WACIA,EAAQuH,sBACRvH,EAAQkH,gBACRlH,EAAQqG,UAETrG,EAmCAo6D,CAAqBp6D,MACC+C,GAFH,OAGzBmb,EAAeszC,OAASxxD,EAAQwxD,WAChCtzC,EAAe06C,gBAAkB54D,EAAQ44D,oBACrC54D,EAAQq5B,WACX8/B,EAAc96C,IAAA87C,IAAOn6D,EAAQq5B,YAE7B2/B,EAAW36C,IAAA87C,IAAOn6D,EAAQi5D,SAE3BrB,EAAcv5C,IAAA87C,KACdj8C,EAAeiyC,WACdhpD,KAAM,EACNP,KAAM,EACNqzB,WAAOnhC,GAERolB,EAAei5C,iBAAmB,IAAItmB,EAAJxyB,IAAA87C,KAClCj8C,EAAeia,MAAQO,EAAOlN,GAAGxrB,EAAQm4B,OACzCja,EAAe+N,eAAiB,IAAIkqC,EAAJ93C,IAAA87C,IAAyB,SAAChzD,EAAKP,GAAN,OAAc+vD,EAAet4C,IAAA87C,IAAOhzD,EAAKP,KAClGsX,EAAem8C,eAAiB,IAAIjE,EAAJ/3C,IAAA87C,KAChCA,EAAKljD,aACLiH,EAAe3P,QAAQhO,GAAG/K,EAAQ,SAAU,WAC3C2kE,EAAKx7C,aACLw7C,EAAKnjD,eACLmjD,EAAKljD,eAxBmBkjD,EAviB3B,OAAAh4D,EAAAo3C,EA8gBuB/7B,GA9gBvB5d,EAAA25C,EAAA,OAAA7hD,IAAA,aAAAV,IAAA,WAghBE,OAAOuN,MAhhBT3E,EAAA25C,IAAA7hD,IAAA,UAAAN,MAAA,WAukBE,IAAM8mB,EAAiB7f,KAAK0E,GAC5Bmb,EAAe+N,eAAexW,UAC9ByI,EAAem8C,eAAe5kD,UAC9BuE,EAAAtY,EAAA63C,EAAAxhD,WAAA,UAAAsG,MAAA/H,KAAA+H,SA1kBF3G,IAAA,WAAAN,MAAA,SAwwBU+P,GACR,OAAO9I,KAAK0E,GAAGwzD,UAAUld,QAAQlyC,GAAK0yB,SAzwBxCniC,IAAA,kBAAAN,MAAA,SAgxBiB+P,GACf,OAAO9I,KAAK0E,GAAGwzD,UAAUld,QAAQlyC,GAAKrR,UAjxBxC4B,IAAA,iBAAAN,MAAA,SAyxBgB+P,EAAKP,GAEnB,OADWvI,KAAK0E,GAAGwzD,UAAUE,QAAQtvD,EAAKP,GAChCizB,SA3xBZniC,IAAA,kBAAAN,MAAA,SAmyBiB+P,EAAKP,GAEpB,OADWvI,KAAK0E,GAAGwzD,UAAUE,QAAQtvD,EAAKP,GAChC9Q,UAryBZ4B,IAAA,eAAAN,MAAA,SA4yBcwP,GACZ,OAAIA,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,cAC3B,EAEOhI,KAAK0E,GAAGs2B,WAAWriC,IAAI8/D,EAAmBz4D,KAAMuI,OAhzB1DlP,IAAA,wBAAAN,MAAA,SAwzBuByiC,GACrB,IAAK,IAAMygC,KAAej8D,KAAK0E,GAAGwzD,UAAUld,QAC3C,GAAIh7C,KAAK0E,GAAGwzD,UAAUld,QAAQihB,GAAazgC,QAAUA,EACpD,OAAOygC,EAAc,EAGvB,OAAO,QA9zBT5iE,IAAA,gBAAAN,MAAA,SAs0BeyiC,EAAOjhC,GAAO,IAAA2hE,EAIvBl8D,KAAK6K,UAAU6D,MAJQytD,EAAAD,EAE1BvtD,MAAalB,EAFa0uD,EAElBrzD,IAAoBX,EAFFg0D,EAEH5zD,IAFG6zD,EAAAF,EAG1BttD,IAAWlB,EAHe0uD,EAGpBtzD,IAAkBgF,EAHEsuD,EAGP7zD,IAGdsP,EAAS7X,KAAKq8D,sBAAsB7gC,GACpC1jB,EAASvd,EAAQyF,KAAK0E,GAAGwzD,UAAUlwD,SACzChI,KAAKkP,UAAU2I,EAAQC,GACvB9X,KAAK6K,UAAU4G,QACd3I,IAAK+O,EACLtP,IAAKuP,GAEN9X,KAAKsiB,mBAAmB7U,EAAUtF,EAAUuF,EAAQI,GACpD9N,KAAKglC,eAAentB,EAAQC,MAp1B9Bze,IAAA,sBAAAN,MAAA,SA41BqByiC,EAAOjhC,GAC1ByF,KAAKiP,gBAAgBjP,KAAKq8D,sBAAsB7gC,GAAQjhC,EAAQyF,KAAK0E,GAAGwzD,UAAUlwD,aA71BpF3O,IAAA,sBAAAN,MAAA,WAg2BE,OAAOiH,KAAK0E,GAAGo0D,oBAh2BjBz/D,IAAA,qBAAAN,MAAA,SAw2BoB+P,EAAKP,GACvB,OAAO0vD,EAAoBj4D,KAAM8I,EAAKP,MAz2BxClP,IAAA,mBAAAN,MAAA,SA22BkB+P,EAAKP,GACrB,GAAIA,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,SAAU,KAAAs0D,EACRrE,EAAoBj4D,KAAM8I,EAAKP,GAArDkF,EAD8B6uD,EAC9B7uD,SAAUtF,EADoBm0D,EACpBn0D,SACjB,GAAIsF,IAAa3E,GAAOX,IAAaI,EACpC,MAAO,GAGT,OAAO4vD,EAAcn4D,KAAM8I,EAAKP,MAl3BlClP,IAAA,aAAAN,MAAA,SAo3BY+P,EAAKP,EAAKwC,GAAS,IAIzB4B,EACA9M,EAJGq4D,EAAal4D,KAAK0E,GAAlBwzD,UACD1qC,EAAS0qC,EAAUld,QAAQlyC,GAIjC,GAAIP,EAAM2vD,EAAUlwD,SAAU,CAC7B,IAAMwzD,EAAKtD,EAAUE,QAAQtvD,EAAKP,GAClCoE,EAAO6uD,EAAGlvB,WAAWxhC,WACnBjL,EAAS27D,EAAT37D,MAp2BL,SAAqB2H,EAAMsB,EAAKP,EAAKwC,GAQpC,IAPA,IAAMZ,EAAOY,EAAQk0B,UADwBs9B,EAOzCtE,EAAoBzwD,EAAMsB,EAAKP,GAJlCkF,EAH4C8uD,EAG5C9uD,SACAC,EAJ4C6uD,EAI5C7uD,OACAvF,EAL4Co0D,EAK5Cp0D,SACA2F,EAN4CyuD,EAM5CzuD,OAEQ3V,EAAI2Q,EAAM,EAAG3Q,GAAKsV,EAAUtV,IACpCgS,EAAKvB,MAAQpB,EAAKiR,YAAYtgB,GAE/B,IAAK,IAAIA,EAAI2Q,EAAM,EAAG3Q,GAAKuV,EAAQvV,IAClCgS,EAAKpB,OAASvB,EAAKiR,YAAYtgB,GAEhC,IAAK,IAAIS,EAAI2P,EAAM,EAAG3P,GAAKuP,EAAUvP,IACpCuR,EAAK9B,KAAOb,EAAKg1D,aAAa5jE,GAE/B,IAAK,IAAIA,EAAI2P,EAAM,EAAG3P,GAAKkV,EAAQlV,IAClCuR,EAAKlC,QAAUT,EAAKg1D,aAAa5jE,GAElCmS,EAAQ0xD,QAAQtyD,GAi1BduyD,CAAY18D,KAAM8I,EAAKP,EAAKwC,QAE5B4B,EAAO6gB,EAAO66B,WAAWv9C,WACvBjL,EAAS2tB,EAAT3tB,MAGH,OAAO+4D,EAAa54D,KADFm4D,EAAcn4D,KAAM8I,EAAKP,GACNwC,GAAUjC,MAAKP,OAAM1I,EAAO8M,MAp4BnEtT,IAAA,iBAAAN,MAAA,SAs4BgB+P,EAAKP,EAAKo0D,GACxB,GAAIp0D,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,SAE3B,OAAO,EAEP,IAAMjP,EAAQo/D,EAAcn4D,KAAM8I,EAAKP,GACvC,OAAIzM,EAAU/C,KAId4jE,EAAc5jE,IAER,MAl5BTM,IAAA,gBAAAN,MAAA,SAo5Be+P,EAAKP,EAAKq0D,GAAqB,IAAAC,EAAA78D,KAC5C,GAAIuI,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,SAE3B,OAAO,EAEP,IAAMwU,EAAS27C,EAAcn4D,KAAM8I,EAAKP,GACxC,GAAIzM,EAAU0gB,GAEb,OAAO,EAER,IAAMC,EAAQmgD,EAAoBpgD,GAClC,YAAc/hB,IAAVgiB,GAGG1gB,EAx2BV,SAAuByL,EAAMsB,EAAKP,EAAKxP,GACtC,GAAIwP,EAAMf,EAAK9C,GAAGwzD,UAAUlwD,SAE3B,OAAO,EACD,IACDwzB,EAASh0B,EAAK9C,GAAGwzD,UAAUld,QAAQlyC,GAAnC0yB,MACD19B,EAAS09B,IAAUA,EAAM7iC,KAAO6iC,EAAM9+B,MACzC8+B,EAAQA,EAAM9+B,KAEf,IAAMnC,EAAQk+D,EAAmBjxD,EAAMe,GACjC1J,EAAM2I,EAAK9C,GAAGs2B,WAAWyB,SAASliC,EAAOihC,EAAOziC,GACtD,OAAO+C,EAAU+C,IAAOA,EA61BXi+D,CAAc98D,KAAM8I,EAAKP,EAAKkU,GAASsU,YAClD,GAAIA,EAAK,KACDyK,EAASqhC,EAAKn4D,GAAGwzD,UAAUld,QAAQlyC,GAAnC0yB,MACDkb,EAAOmmB,EACbA,EAAKhsD,cAAc3K,EAAWs3B,eAC7B10B,MACAP,MACAqkB,aACC,OAAO8pB,EAAK7R,aAAat8B,IAE1BizB,QACAziC,MAAO0jB,EACPsgD,SAAUvgD,IAGZ,OAAOuU,OAj7BX13B,IAAA,iBAAAN,MAAA,SAq7BgB+P,EAAKP,GACnB,IAAMizB,EAAQx7B,KAAKg9D,eAAel0D,EAAKP,GACvC,OAAOvI,KAAKi9D,aAAazhC,MAv7B3BniC,IAAA,iBAAAN,MAAA,SAy7BgB+P,EAAKP,EAAKs3C,GACxB,IAAMrkB,EAAQx7B,KAAKg9D,eAAel0D,EAAKP,GAEjCw0D,EAAW/8D,KAAKi9D,aAAazhC,GACnCx7B,KAAKi9D,aAAazhC,GAASqkB,EAE3B7/C,KAAK6Q,cAAc3K,EAAWu3B,sBAC7B30B,MACAP,MACAizB,QACAziC,MAAO8mD,EACPkd,gBAp8BH1jE,IAAA,qBAAAN,MAAA,WAu8BsB,IAAAmkE,EAAAl9D,KACpBA,KAAKwS,OAAOtM,EAAWM,cAAgBtH,YACtC,GAAIA,EAAEqJ,IAAM20D,EAAKx4D,GAAGwzD,UAAUlwD,SAAU,KAAAm1D,EACMlF,EAAoBiF,EAAMh+D,EAAE4J,IAAK5J,EAAEqJ,KAAzEkF,EADgC0vD,EAChC1vD,SAAUC,EADsByvD,EACtBzvD,OAAQvF,EADcg1D,EACdh1D,SAAU2F,EADIqvD,EACJrvD,OAC/BL,IAAaC,GAAUvF,IAAa2F,GACvCovD,EAAK56C,mBAAmB7U,EAAUtF,EAAUuF,EAAQI,SA58BzDzU,IAAA,kCAAAN,MAAA,SAAAqkE,GAi9B6C,IAAXt0D,EAAWs0D,EAAXt0D,IAAKP,EAAM60D,EAAN70D,IACjCA,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,WAE3Bc,EADmBmvD,EAAoBj4D,KAAM8I,EAAKP,GAA3CkF,UAGR,OAAAkO,EAAAtY,EAAA63C,EAAAxhD,WAAA,kCAAAsG,MAAA/H,KAAA+H,MAA8C8I,MAAKP,WAt9BrDlP,IAAA,mCAAAN,MAAA,SAAAskE,GAw9B8C,IAAXv0D,EAAWu0D,EAAXv0D,IAAKP,EAAM80D,EAAN90D,IAClCA,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,WAE3Bc,EADiBmvD,EAAoBj4D,KAAM8I,EAAKP,GAAzCmF,QAGR,OAAAiO,EAAAtY,EAAA63C,EAAAxhD,WAAA,mCAAAsG,MAAA/H,KAAA+H,MAA+C8I,MAAKP,WA79BtDlP,IAAA,gCAAAN,MAAA,SAAAukE,GA+9B2C,IAAXx0D,EAAWw0D,EAAXx0D,IAAKP,EAAM+0D,EAAN/0D,IAC/BA,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,WAE3BO,EADmB0vD,EAAoBj4D,KAAM8I,EAAKP,GAA3CJ,UAGR,OAAAwT,EAAAtY,EAAA63C,EAAAxhD,WAAA,gCAAAsG,MAAA/H,KAAA+H,MAA4C8I,MAAKP,WAp+BnDlP,IAAA,kCAAAN,MAAA,SAAAwkE,GAs+B6C,IAAXz0D,EAAWy0D,EAAXz0D,IAAKP,EAAMg1D,EAANh1D,IACjCA,EAAMvI,KAAK0E,GAAGwzD,UAAUlwD,WAE3BO,EADiB0vD,EAAoBj4D,KAAM8I,EAAKP,GAAzCuF,QAGR,OAAA6N,EAAAtY,EAAA63C,EAAAxhD,WAAA,kCAAAsG,MAAA/H,KAAA+H,MAA8C8I,MAAKP,WA3+BrDlP,IAAA,2BAAAN,MAAA,WA8+BE,OAAO,KA9+BTM,IAAA,SAAAV,IAAA,WAilBE,OAAOqH,KAAK0E,GAAGyuD,QAjlBjBz2D,IAAA,SAmnBYy2D,GACVnzD,KAAK0E,GAAGyuD,OAASA,EACjBoG,EAAev5D,SArnBjB3G,IAAA,UAAAV,IAAA,WA4nBE,OAAOqH,KAAK0E,GAAGk2D,SA5nBjBl+D,IAAA,SAmoBak+D,GACXD,EAAY36D,KAAM46D,GAClBX,EAAiBj6D,MACjBA,KAAK4Y,gBAtoBPvf,IAAA,aAAAV,IAAA,WA6oBE,OAAOqH,KAAK0E,GAAGs2B,YA7oBjBt+B,IAAA,SAopBgBs+B,GACd8/B,EAAe96D,KAAMg7B,GACrBi/B,EAAiBj6D,MACjBA,KAAK4Y,gBAvpBPvf,IAAA,QAAAV,IAAA,WA8pBE,OAAOqH,KAAK0E,GAAGo1B,OA9pBjBp9B,IAAA,SAqqBWo9B,GACT95B,KAAK0E,GAAGo1B,MAAQO,EAAOlN,GAAG2M,GAC1B95B,KAAK4Y,gBAvqBPvf,IAAA,OAAAV,IAAA,WA+qBE,OAAOgjB,EAAAtY,EAAA63C,EAAAxhD,WAAA,OAAAsG,OAAcA,KAAK0E,GAAGo0D,iBAAiBh/B,MAAMr2B,MA/qBtD/G,IAAA,SAurBU+G,GACR+5D,EAAAn6D,EAAA63C,EAAAxhD,WAAA,OAAa+J,EAAbzD,MAAA,MAxrBF3G,IAAA,0BAAAV,IAAA,WAgsBE,OAAOgjB,EAAAtY,EAAA63C,EAAAxhD,WAAA,0BAAAsG,OAAiCA,KAAK0E,GAAGo0D,iBAAiBh/B,MAAM/tB,yBAhsBzErP,IAAA,SAwsB6BqP,GAC3ByxD,EAAAn6D,EAAA63C,EAAAxhD,WAAA,0BAAgCqS,EAAhC/L,MAAA,MAzsBF3G,IAAA,YAAAV,IAAA,WAgtBE,OAAOqH,KAAK0E,GAAGotD,WAhtBjBp1D,IAAA,SAytBeo1D,GACb,IACI2L,EADEC,EAAW19D,KAAK8xD,UAElB4L,EAAS50D,KAAO,GAAK40D,EAASn1D,KAAO,IACxCk1D,EAAWz9D,KAAKg9D,eAAeU,EAAS50D,IAAK40D,EAASn1D,MAGvD,IAMIo1D,EANE/L,EAAW5xD,KAAK0E,GAAGotD,UAAYn3D,EAAMm3D,GAAaA,GACvDhpD,KAAM,EACNP,KAAM,EACNqzB,WAAOnhC,GAIJm3D,EAAS9oD,KAAO,GAAK8oD,EAASrpD,KAAO,IACxCo1D,EAAW39D,KAAKg9D,eAAepL,EAAS9oD,IAAK8oD,EAASrpD,MAInD5N,EAAM8iE,IAAaA,IAAaE,GACnC39D,KAAKsyD,eAAeoL,EAAS50D,IAAK40D,EAASn1D,SAAK9N,GAE7CE,EAAMgjE,IACT39D,KAAKsyD,eAAeV,EAAS9oD,IAAK8oD,EAASrpD,IAAKqpD,EAASh2B,UAhvB5DviC,IAAA,eAAAV,IAAA,WAwvBE,OAAOqH,KAAK0E,GAAGu4D,eAAiBj9D,KAAK0E,GAAGu4D,kBAxvB1CvgE,IAAA,SAgwBkBugE,GAChBj9D,KAAK0E,GAAGu4D,aAAeA,UAjwBzB/hB,EAAA,GAi/BA1jD,EAAOF,QAAU4jD,IvHg5cqCjjD,KAAA+H,KAAAnI,EAAA,4BAAAL,EAAAF,EAAAO,IwHj4etD,SAAAiC,GAGA,IAAMu3B,EAASnxB,EAAQ,IACjB09D,EAAa19D,EAAQ,KACrBw3C,EAAcx3C,EAAQ,IACtB29D,EAAY39D,EAAQ,KACpB+tC,EAAe/tC,EAAQ,IACvB49D,EAAe59D,EAAQ,KACtBvF,EAASuF,EAAQ,GAAjBvF,MACA+uB,EAAqBxpB,EAAQ,GAA7BwpB,kBACDyG,EAAQjwB,EAAQ,IAChBo7C,EAAgBp7C,EAAQ,IAoC9B1I,EAAOF,SACNymE,OADgB,SACTjrC,GACN,GAAIA,aAAgBzB,EACnB,OAAOyB,EAER,IAAKA,EACJ,OAAO,KAER,GAAIA,EAAKrvB,MAAQqvB,EAAKjP,QACrB,OAAO,IAAI+5C,EAAW9qC,GAEvB,GAAIA,EAAKgX,IACR,OAAO,IAAI4N,GACV5N,IAAKhX,EAAKgX,IACVrgC,MAAOqpB,EAAKrpB,MACZF,OAAQupB,EAAKrpB,QAGf,GAAIqpB,EAAKkrC,IACR,OAAO,IAAIH,GACVG,IAAKlrC,EAAKkrC,IACVv0D,MAAOqpB,EAAKrpB,MACZF,OAAQupB,EAAKrpB,QAGf,GAAIqpB,EAAKu+B,KACR,OAAO,IAAIyM,GACVzM,KAAMv+B,EAAKu+B,KACX5nD,MAAOqpB,EAAKrpB,MACZF,OAAQupB,EAAKrpB,MACblG,MAAOuvB,EAAKvvB,QAGd,IAAM06D,EAAa9tC,EAAMx3B,MACzB,GAAIm6B,EAAKz6B,MAAQ4lE,EAAWnrC,EAAKz6B,MAAO,CACvC,IAAM6lE,EAAYD,EAAWnrC,EAAKz6B,MAC5BoR,EAAQqpB,EAAKrpB,OAASnL,KAAKgM,IAAI4zD,EAAUz0D,MAAOy0D,EAAU30D,QAChE,OAAO,IAAI0kC,GACVthC,KADuB,SAAAwxD,GAUpB,IARFv0D,EAQEu0D,EARFv0D,IAEAO,GAMEg0D,EAPF1sC,aAOE0sC,EANFh0D,MACAoE,EAKE4vD,EALF5vD,OACAmH,EAIEyoD,EAJFzoD,WACAgc,EAGEysC,EAHFzsC,YACA/b,EAEEwoD,EAFFxoD,UACAgc,EACEwsC,EADFxsC,cAhFL,SAA4B/nB,EAAKkpB,EAC/BsrC,EAAWC,EACXz1D,EAAMP,EAAKoB,EAAOF,GAIV,IAAA+0D,EAAAziE,UAAAnB,OAAA,QAAAD,IAAAoB,UAAA,GAAAA,UAAA,MAAA0iE,EAAAD,EAFP/vD,cAEO,IAAAgwD,EAFE,EAEFA,EADP56D,EACO26D,EADP36D,QAEIwG,GACLvB,OACAP,MACAoB,QACAF,SACAR,MAAOH,EAAOa,EACdxB,OAAQI,EAAMkB,GAEfK,EAAIW,OACJ,IACCX,EAAIiC,YACJjC,EAAIO,KAAKA,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAE/CK,EAAI63B,OAGJ,IAAMC,EAAMhY,EAAkB9f,EAAKO,EAAMi0D,EAAWC,GACnD9vD,SACA5K,YAED23C,EAActvC,KAAK8mB,EAAMlpB,EAAK83B,EAAI5xB,EAAG4xB,EAAI3xB,EAAGquD,EAAWC,GAXxD,QAaCz0D,EAAI0B,WAqDDkzD,CAAmB50D,EAAKs0D,EACtBz0D,EAAOA,EACPU,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAErCgF,OAAQA,EAAS,EACjB5K,SACCiF,KAAM8M,EACN3M,MAAO2oB,EACPrpB,IAAKsN,EACL1N,OAAQ0pB,MAIbloB,QACAF,OAAQE,EACRlG,MAAOuvB,EAAKvvB,QAGd,OAAO,IAAIq6D,EAAW9qC,IAEvB3F,GApEgB,SAoEbtJ,GACF,OAAKlpB,EAAMkpB,GAGPA,aAAmBwN,EACfxN,EAED,IAAIwN,EAAOxN,GALV,MAOTurB,aA7EgB,SA6EHjf,EAAO2e,GAAQ,IAAA2vB,EAAAz+D,KACrB7D,KAIN,GAHIg0B,GACHh0B,EAAOoG,KAAPpG,QAAMm9B,EAAUnJ,EAAMxM,IAAKmP,YAAD,OAAU2rC,EAAKV,OAAOjrC,KAAOzJ,OAAQnqB,YAAD,QAASA,MAEpE9E,EAAc00C,IAAWA,EAAOzlB,OAAQq1C,YAAD,OAAQA,aAAcrtC,IAAQ32B,OACxEyB,EAAOoG,KAAPpG,QAAMm9B,EAAUwV,EAAOnrB,IAAK+6C,YAAD,OAAQD,EAAKtxC,GAAGuxC,KAAKr1C,OAAQnqB,YAAD,QAASA,UAC1D,CACN,IAAMw/D,EAAK1+D,KAAKmtB,GAAG2hB,GACf4vB,GACHviE,EAAOoG,KAAKm8D,GAGd,OAAOviE,GAERmzC,OA5FgB,SA4FTR,GACN,OAAO9uC,KAAKovC,kBAAa30C,EAAWq0C,GAAQpqB,KAAK,QxHoveGzsB,KAAA+H,KAAAnI,EAAA,mBsHltenD,SAAAL,EAAAF,EAAAO,GG5KH,IAAMw5B,EAASnxB,EAAQ,IACjB8tC,EAAQ9tC,EAAQ,IAEhB09D,EHyKH,SAAAe,GGxKFv9D,WAAY0xB,GAAM,IAAA8rC,EAAA,OAAAv9D,EAAArB,KAAA49D,IACjBgB,EAAAx7D,EAAApD,KAAAqD,EAAAu6D,GAAA3lE,KAAA+H,QACK6+D,MAAQ/rC,MAFI8rC,EHwKhB,OAAA96D,EAAA85D,EGzKsBvsC,GHyKtB9vB,EAAAq8D,IAAAvkE,IAAA,QAAAN,MAAA,SAAA+lE,GGpKW,IAANl1D,EAAMk1D,EAANl1D,IACAkpB,EAAO9yB,KAAK6+D,MAClB,GAAI/rC,EAAKrpB,MACR,OAAOqpB,EAAKrpB,MAEb,GAAIqpB,EAAKrvB,MAAQuqC,EAAM1N,MAAMxN,EAAKrvB,KAAMqvB,EAAKjP,SAAU,CACtDja,EAAIW,OACJ,IAEC,OADAX,EAAInG,KAAOqvB,EAAKrvB,MAAQmG,EAAInG,KACrBmG,EAAImhB,YAAY+H,EAAKjP,SAASpa,MAFtC,QAICG,EAAI0B,WAGN,OAAO,QHsJNjS,IAAA,OAAAN,MAAA,WGnJD,OAAOiH,KAAK6+D,MAAMp7D,QHmJjBpK,IAAA,QAAAN,MAAA,WGhJD,OAAOiH,KAAK6+D,MAAMt7D,SHgJjBlK,IAAA,UAAAN,MAAA,WG7ID,IAAM+5B,EAAO9yB,KAAK6+D,MAClB,OAAO/rC,EAAKrvB,MAAOuqC,EAAM1N,MAAMxN,EAAKrvB,KAAMqvB,EAAKjP,YH4I9CxqB,IAAA,UAAAN,MAAA,SG1IM4E,GACP,IAAMm1B,EAAO9yB,KAAK6+D,MACd/rC,EAAKrvB,OAASuqC,EAAM1N,MAAMxN,EAAKrvB,KAAMqvB,EAAKjP,UAC7CmqB,EAAMqJ,KAAKvkB,EAAKrvB,KAAMqvB,EAAKjP,QAASlmB,MHuIpCtE,IAAA,OAAAN,MAAA,SAAAgmE,GG1HG,IARFn1D,EAQEm1D,EARFn1D,IACA6nB,EAOEstC,EAPFttC,aACAtnB,EAME40D,EANF50D,KACAoE,EAKEwwD,EALFxwD,OACAmH,EAIEqpD,EAJFrpD,WACAgc,EAGEqtC,EAHFrtC,YACA/b,EAEEopD,EAFFppD,UACAgc,EACEotC,EADFptC,aAEImB,EAAO9yB,KAAK6+D,MACd/rC,EAAKjP,SACR4N,EAAaG,aAAahoB,EAAKkpB,EAAKjP,QAClC1Z,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAErCgF,OAAQA,EAAS,EACjB5K,SACCiF,KAAM8M,EACN3M,MAAO2oB,EACPrpB,IAAKsN,EACL1N,OAAQ0pB,QH+GZt4B,IAAA,WAAAN,MAAA,WGzGD,OAAO,KHyGNM,IAAA,WAAAN,MAAA,WGtGD,MAAO,OHsGN6kE,EAAA,GGlGHpmE,EAAOF,QAAUsmE,GFpD6B,SAK5Cz1D,EAL4C7Q,EAAAO,GGpB9C,IAAMmnE,EAAY9+D,EAAQ,KAGpB++D,GACLC,MAAO,QACPC,WAAY,cAIPC,KAEAC,EHcJl3D,WGFD/G,WAAYqC,EAAM8zC,GAASl2C,EAAArB,KAAAq/D,GAC1Br/D,KAAKs/D,mBACLt/D,KAAKu/D,qBACLv/D,KAAKw/D,OAAS,KACdx/D,KAAKy/D,qBAELz/D,KAAK0/D,YAAc,IAAIV,EAAJ,GAAA3+D,OAAiBoD,EAAjB,KAAApD,OAAyB4+D,EAAgBC,OAAS3nB,GACrEv3C,KAAK2/D,YAAc,IAAIX,EAAJ,GAAA3+D,OAAiBoD,EAAjB,KAAApD,OAAyB4+D,EAAgBE,YAAc5nB,GAC1E,IAAMqoB,EAAmB,IAAIZ,EAAJ,OAAA3+D,OAAqB4+D,EAAgBC,OAAS3nB,GACjEsoB,EAAmB,IAAIb,EAAJ,OAAA3+D,OAAqB4+D,EAAgBE,YAAc5nB,GAG5Ev3C,KAAKy/D,kBAAkBR,EAAgBC,OAASU,EAAiBlvC,WACjE1wB,KAAKy/D,kBAAkBR,EAAgBE,YAAcU,EAAiBnvC,WAEtEkvC,EAAiB7lD,SACjB8lD,EAAiB9lD,SAEjB/Z,KAAK8/D,SAAWjzC,KAAKC,MAErB9sB,KAAK+/D,SHlBL53D,4CGbW1E,EAAM8zC,EAASyoB,EAAgBC,GAC1C,IAAM9nE,EAAIinE,EAAa37D,KAAU27D,EAAa37D,QAG1CtL,EAFJo/C,GAAW,IAGDp/C,EAAEo/C,GAEDp/C,EAAEo/C,GAAW,IAAI8nB,EAAgB57D,EAAM8zC,IAE3Cx7C,KAAKikE,EAAgBC,OHI5B93D,gCGoBI63D,EAAgBC,GAChBjgE,KAAKw/D,OACY,OAAhBx/D,KAAKw/D,OACRQ,IAEAC,KAGDjgE,KAAKs/D,gBAAgB/8D,KAAKy9D,GAC1BhgE,KAAKu/D,kBAAkBh9D,KAAK09D,OH7B7B93D,8BGiCQ,IAAA+3D,EAAAlgE,KACFmgE,EAASngE,KAAK0/D,YAAYhvC,WAC1B0vC,EAASpgE,KAAK2/D,YAAYjvC,WAE5B1wB,KAAKqgE,gBAAgBF,EAAQC,IAAWpgE,KAAKsgE,kBAAkBH,EAAQC,GACtEvzC,KAAKC,MAAQ9sB,KAAK8/D,UAAY,IAC7B9/D,KAAKsgE,kBAAkBH,EAAQC,IAClCpgE,KAAKugE,QAAQvgE,KAAKs/D,iBAClBt/D,KAAKw/D,OAAS,OAEdx/D,KAAKugE,QAAQvgE,KAAKu/D,mBAClBv/D,KAAKw/D,OAAS,MAGfhuD,WAAW,WACV0uD,EAAKH,UACH,KAGJ//D,KAAKugE,QAAQvgE,KAAKs/D,iBAClBt/D,KAAKw/D,OAAS,SHrDfr3D,qCGwDeqV,EAAGC,GAClB,OAAOzd,KAAKwgE,cAAchjD,EAAGyhD,EAAgBC,QAAUl/D,KAAKwgE,cAAc/iD,EAAGwhD,EAAgBE,eHzD7Fh3D,kDG2D4BqV,EAAGC,GAC/B,IAAK,IAAMha,KAAQw7D,EAClB,GAAIA,EAAgBtlE,eAAe8J,IAC9BzD,KAAKwgE,cAAchjD,EAAGyhD,EAAgBx7D,KACxCzD,KAAKwgE,cAAc/iD,EAAGwhD,EAAgBx7D,IACvC,OAAO,EAIV,OAAO,KHpEP0E,mCGsEasB,EAAOg3D,GACpB,OAAOh3D,IAAUzJ,KAAKy/D,kBAAkBgB,MHvExCt4D,uCGyEiBqV,EAAGC,GACpB,OAYF,WACC,GAAgC,OAA5BijD,EAAkC,CACrC,IAAMnlE,EAAQ,sCAAsCuD,KAAK3H,EAAOiE,UAAUC,WAE1EqlE,IAA4BnlE,IAC1BkkC,SAASlkC,EAAM,GAAI,IAAM,KACE,MAA3BkkC,SAASlkC,EAAM,GAAI,KACpBkkC,SAASlkC,EAAM,GAAI,KAAO,IAE5B,OAAOmlE,EArBCC,IAA0B3gE,KAAK4gE,6BAA6BpjD,EAAGC,MH1EtEtV,6BG4EO04D,GAAW,IAAAC,EAAA9gE,KAClBwR,WAAW,WACVsvD,EAAKpB,YAAY3lD,SACjB+mD,EAAKnB,YAAY5lD,SACjB8mD,EAAUtkE,QAASwkE,YAAD,OAAQA,OACxB,OHjFH54D,KGqFEu4D,EAA0B,KAa9BlpE,EAAOF,QAAU+nE,GHMjB,SAAA7nE,EAASohE,EAAapxD,GAAiBuD,II9GjCi0D,EJ8GiCj0D,WI7GtC3J,WAAYqC,EAAM8zC,GAASl2C,EAAArB,KAAAg/D,GAC1B,IAAM9/D,EAAIsX,SAAS6C,cAAc,QACjCna,EAAEuc,aAAa,cAAe,QAC9Bvc,EAAEkvB,YAAcmpB,GAAW,UAzB7B,SAAsB9zC,GACrB,QACCu9D,QAAW,QACX9iE,SAAY,WACZmK,IAAO,UACPO,KAAQ,UACRa,MAAS,OACTF,OAAU,OACV6+B,OAAU,IACVzkC,QAAW,IACXs9D,cAAe,SACfx9D,SAEAy9D,eAAgB,SAChBC,YAAa,QACbC,aAAc,SACdC,cAAe,MACfC,cAAe,WAUfC,CAAa99D,GAAMlH,QAASsD,YAC3B,IAAK,IAAMxG,KAAOwG,EACjBX,EAAEW,MAAMxG,GAAOwG,EAAMxG,KAGvBmd,SAASC,KAAKgD,YAAYva,GAC1Bc,KAAKwhE,IAAMtiE,EJkG0B6L,6CI/FrC,OAAO/K,KAAKwhE,IAAI9gD,eJ+FqB3V,8BI5FrCyL,SAASC,KAAK0D,YAAYna,KAAKwhE,SJ4FMz2D,KIxFvCvT,EAAOF,QAAU0nE,GJsIJ,SAAAxnE,EAAMgQ,EAAKq9B,GKlLxB,IAAM6S,EAAcx3C,EAAQ,IACrBnE,EAAQmE,EAAQ,GAAhBnE,KAEP,SAAS0lE,EAAgBzD,GACxB,IAAMpjE,EAAuB,iBAARojE,EAAoBA,GAAM,IAAI0D,eAAgBC,kBAAkB3D,GAErF,MADS,oCAAA39D,OAAuC8jB,mBAAmBvpB,IAGpE,SAASgnE,EAAc5D,GACtB,MAAmB,iBAARA,GACK,IAAI6D,WACLC,gBAAgB9D,EAAK,iBAE5BA,ELqKI,IKjKPH,ELiKO,SAAAkE,GKhKZ3gE,cASK,IAPF48D,EAOEgE,EAPFhE,IACAv0D,EAMEu4D,EANFv4D,MACAF,EAKEy4D,EALFz4D,OAKEy4D,EAJFlqB,UAIEkqB,EAHFjqB,SAGEiqB,EAFFhqB,WAEEgqB,EADF/pB,YACE52C,EAAArB,KAAA69D,GACJ,IAAMoE,EAAUlmE,EAAKiiE,EAAK4D,GACpBM,EAAWD,EAAQpkB,aAAeokB,EAAQpkB,aAAa,SAAW,KAClEskB,EAAYF,EAAQpkB,aAAeokB,EAAQpkB,aAAa,UAAY,KAHtE,OAAAz6C,EAAApD,KAAAqD,EAAAw6D,GAAA5lE,KAAA+H,MAKH8pC,IAAK/tC,EAAKiiE,EAAKyD,GACfh4D,MAAOA,GAASy4D,EAChB34D,OAAQA,GAAU44D,EAClBnqB,WAAYkqB,EACZjqB,YAAakqB,KL8IH,OAAAr+D,EAAA+5D,EKjKWnmB,GLiKXn2C,EAAAs8D,IAAAxkE,IAAA,WAAAN,MAAA,WK1IX,OAAO,KL0IIM,IAAA,WAAAN,MAAA,WKvIX,MAAO,OLuII8kE,EAAA,GKnIbrmE,EAAOF,QAAUumE,GLwLZj0D,WAAI03B,EAAOn3B,GMvOhB,IAAMknB,EAASnxB,EAAQ,IAChBwpB,EAAqBxpB,EAAQ,GAA7BwpB,kBACD4xB,EAAgBp7C,EAAQ,IAExB49D,ENmOgC71D,YMlOrC7G,cAMK,IAAAghE,EAJF/Q,EAIEgR,EAJFhR,KACA5nD,EAGE44D,EAHF54D,MACAF,EAEE84D,EAFF94D,OACAhG,EACE8+D,EADF9+D,MACE,OAAAlC,EAAArB,KAAA89D,IACJsE,EAAAh/D,EAAApD,KAAAqD,EAAAy6D,GAAA7lE,KAAA+H,QAEKsiE,MAAQ,IAAIhnB,EAAc1e,OAAOy0B,GACtC+Q,EAAK9uC,OAAS7pB,EACd24D,EAAK7uC,QAAUhqB,EACf64D,EAAK9+D,OAASC,EANV6+D,EN4NgCn6D,WMnOXopB,GNmOWppB,oCMpNxBs6D,EAAN34D,IACN,OAAO5J,KAAKszB,UNmNwBrrB,4BMhNpC,OAAO,QNgN6BA,6BM7MpC,OAAOjI,KAAKsD,UN6MwB2E,+BM1MpC,OAAO,KN0M6BA,6BMxM7BtK,ONwM6BsK,6BM7LlC,IARF2B,EAQE44D,EARF54D,IAEAO,GAMEq4D,EAPF/wC,aAOE+wC,EANFr4D,MACAoE,EAKEi0D,EALFj0D,OACAmH,EAIE8sD,EAJF9sD,WACAgc,EAGE8wC,EAHF9wC,YACA/b,EAEE6sD,EAFF7sD,UACAgc,EACE6wC,EADF7wC,aAEApjB,IACA,IAAM5K,GACLiF,KAAM8M,EACN3M,MAAO2oB,EACPrpB,IAAKsN,EACL1N,OAAQ0pB,GAET/nB,EAAIW,OACJ,IACCX,EAAIiC,YACJjC,EAAIO,KAAKA,EAAKvB,KAAMuB,EAAK9B,IAAK8B,EAAKV,MAAOU,EAAKZ,QAE/CK,EAAI63B,OAGJ,IAAMC,EAAMhY,EAAkB9f,EAAKO,EAAMnK,KAAKszB,OAAQtzB,KAAKuzB,SAC1DhlB,SACA5K,YAEDiG,EAAIyzB,UAAUqE,EAAI5xB,EAAG4xB,EAAI3xB,GACzBnG,EAAIoC,KAAKhM,KAAKsiE,OAZf,QAcC14D,EAAI0B,cNsK+BrD,gCMlKpC,OAAO,KNkK6BA,gCM/JpC,MAAO,ON+J6BA,KM3JtCzQ,EAAOF,QAAUwmE,GNoOhBt2D,SAAIhQ,EAAC0R,EAAL1B,GOhTD,IACMi7D,EAAS,IADYviE,EAAQ,MAG7B08B,EACLx7B,WAAYktB,GAAK,IAAAo0C,EAAA1iE,KAehB,GAfgBqB,EAAArB,KAAA48B,GAChB58B,KAAK2iE,SAEJ,YACA,SACA,SACA,gBACA,mBACA,MACA,QACCpmE,QAASlE,YACVqqE,EAAKrqE,GAAQ,WAAa,QAAAuqE,EAAA/mE,UAAAnB,OAAT2B,EAAS,IAAAjC,MAAAwoE,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAATxmE,EAASwmE,GAAAhnE,UAAAgnE,GACzBH,EAAKC,KAAKpgE,MAAM6yB,GAAI/8B,EAAMgE,iBAGhB5B,IAAR6zB,EAGJ,GAAmB,iBAARA,EACV,IACCtuB,KAAK2iE,KAAOF,EAAO3tC,MAAMxG,GACxB,MAAOpvB,GACR,MAAMA,MAED,KAAIovB,EAAI30B,eAAe,QAG7B,MAAM,IAAIkpB,MAAJ,UAAAxiB,OAAA9I,EAA2B+2B,GAA3B,qCAFNtuB,KAAK2iE,KAALrpC,EAAgBt5B,KAAK2iE,QAOjBG,EAA4B3rE,EAA5B2rE,yBAEDC,EAAeD,EAAyBppE,UAAUsS,KAExD82D,EAAyBppE,UAAUsS,KAAO,WAAkB,QAAAg3D,EAAAhjE,KAAAijE,EAAApnE,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAA6oE,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAN7mE,EAAM6mE,GAAArnE,UAAAqnE,GAC3D,GAAI7mE,EAAK,aAAcugC,EAAQ,CAC9B,IAAMy0B,EAAOh1D,EAAK,GAClB2D,KAAK6L,YACLwlD,EAAKsR,KAAKpmE,QAAS64B,YAClB4tC,EAAK5tC,EAAGA,IAARh4B,MAAA4lE,EAAA1pC,EAAelE,EAAG/4B,SAEnB0mE,EAAa3lE,MAAM4C,KAAM5F,MAAMV,UAAUg1B,MAAMz2B,KAAKoE,EAAM,SAE1D0mE,EAAa3lE,MAAM4C,KAAM3D,IAI3B7E,EAAOF,QAAUslC,GP8Sf,SAAAplC,EAAIwjC,EAAYnjC,GQnWlB,IAAMsrE,EAAejjE,EAAQ,KA2C7B,SAAS2sD,EAAQuW,EAASrW,EAAKsW,GAC9B,MAA0B,MAAtBtW,EAAIvhB,eAA+C,MAAtBuhB,EAAIvhB,eAA+C,MAAtBuhB,EAAIvhB,eACjE43B,EAAQvW,QAAQE,EAAKsW,EAAazkE,OAAQykE,EAAazkE,QACxC,MAARmuD,EAAc,IACV,MAARA,EAAc,IACdA,GAC6B,MAAtBA,EAAIvhB,eAA+C,MAAtBuhB,EAAIvhB,eAC3C43B,EAAQvW,QAAQE,EAAKsW,EAAazkE,QAC3BmuD,GACyB,MAAtBA,EAAIvhB,eACd43B,EAAQvW,QAAQE,GACTA,GACyB,MAAtBA,EAAIvhB,eACd43B,EAAQvW,QAAQE,EACdsW,EAAazkE,OAAQykE,EAAazkE,OAClCykE,EAAazkE,OAAQykE,EAAazkE,OAClCykE,EAAazkE,OAAQykE,EAAazkE,QAE7BmuD,GACyB,MAAtBA,EAAIvhB,eAA+C,MAAtBuhB,EAAIvhB,eAC3C43B,EAAQvW,QAAQE,EACdsW,EAAazkE,OAAQykE,EAAazkE,OAClCykE,EAAazkE,OAAQykE,EAAazkE,QAE7BmuD,GACyB,MAAtBA,EAAIvhB,eACd43B,EAAQvW,QAAQE,EACdsW,EAAazkE,OAAQykE,EAAazkE,OAClCykE,EAAazkE,OAAQykE,EAAazkE,OAAQykE,EAAazkE,OACvDykE,EAAazkE,OAAQykE,EAAazkE,QAE7BmuD,IAGPhjB,QAAQO,KAARP,sBAA4BgjB,IAEtB,MAGR,IAAMuW,EAAmBnsE,EAAO2rE,yBAA2BtqE,OAAO2S,KAAKhU,EAAO2rE,yBAAyBppE,YACtG,OACA,UACA,YACA,YACA,SACA,SACA,gBACA,mBACA,MACA,QACA,UACA,OACA,YACA,SACA,SAGK6pE,ER+PY,WQ9PjBniE,aAAc,IAAAoiE,EAAAxjE,KAAAqB,EAAArB,KAAAujE,GACbvjE,KAAKyjE,UAAY,IAAIN,EAAanjE,MAClCsjE,EAAiB/mE,QAAS64B,YACzBouC,EAAKpuC,GAAM,WAAa,QAAAsuC,EAAA7nE,UAAAnB,OAAT2B,EAAS,IAAAjC,MAAAspE,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAATtnE,EAASsnE,GAAA9nE,UAAA8nE,GACvBH,EAAKb,KAAKpgE,MACT6yB,KACA/4B,YRwPa,OAAAkF,EAAAgiE,IAAAlqE,IAAA,UAAAN,MAAA,SQnPTV,GAAe,QAAAurE,EAAAC,EAAAhoE,UAAAnB,OAAN2B,EAAM,IAAAjC,MAAAypE,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANznE,EAAMynE,EAAA,GAAAjoE,UAAAioE,GACtBznE,EAAOA,MACP,IAAK,IAAItE,EAAI,EAAGA,EAAIsE,EAAK3B,OAAQ3C,IAChCsE,EAAKtE,IAAM,GAEZ6rE,EAAA5jE,KAAKyjE,WAAUprE,GAAf+E,MAAAwmE,EAAAtqC,EAAyBj9B,OR8OThD,IAAA,QAAAN,MAAA,SQ5OXX,GAAG,IAAA2rE,EAAA/jE,KACFgkE,EAAMhkE,KAAK2iE,QACX1tC,EAvHR,SAAoB78B,GACnB,IAAIgvB,EAAM,EACV,OACCxoB,KADM,WAGL,IADA,IAAI/E,EAAI,GACDzB,EAAEsC,OAAS0sB,GAAK,CACtB,IAAMjvB,EAAIC,EAAEgvB,GAEZ,GADAA,IACI,WAAW5rB,QAAQrD,IAAM,GAC5B,GAAI0B,EACH,OAAOA,MAEF,CAEN,GAAa,QADA,gBAAgB2B,QAAQrD,IAAM,EAAI,MAAQ,OAEtD,OAAI0B,GACHutB,IACOvtB,GAED1B,EAER,GAAI,KAAKqD,QAAQrD,IAAM,GAClB0B,EAEH,OADAutB,IACOvtB,EAGT,GAAU,MAAN1B,GACC0B,EAAE2B,QAAQ,MAAQ,EAErB,OADA4rB,IACOvtB,EAGTA,GAAK1B,GAGP,OAAO0B,GAAK,OAmFEoqE,CAAW7rE,GAC1B,KAAI,WAGH,IAFA,IAAI20D,EACAmX,EACInX,EAAM93B,EAAOr2B,QACfmqD,MAAMgE,EAAM,GAahBmX,EAAoBrX,EAAQkX,EAAMhX,EAAK93B,GAbnB,WACpB,IAAIkvC,GAAM,EAUVD,EAAoBrX,EAAQkX,EAAMG,GARjCtlE,KADoB,WAEnB,OAAIulE,GACHA,GAAM,EACCpX,GAED93B,EAAOr2B,UARI,GAJnB,GAoBF,MAAOM,GAER,MADA6qC,QAAQq6B,IAARr6B,iBAAsB3xC,IAChB8G,EAEP,OAAO8kE,MRiNST,EAAA,GQ7MlB/rE,EAAOF,QAAUisE,GR2UZ9rE,aAAQ+jE,GSheb,SAAS6I,EAAIvzD,GACZ,OAAOxS,KAAKgmE,KAAKhmE,KAAKimE,IAAIzzD,EAAE,GAAI,GAAKxS,KAAKimE,IAAIzzD,EAAE,GAAI,IAerD,SAAS0zD,EAAM/mE,EAAGqT,GACjB,IAAI2zD,EAAO,EAIX,OAHKhnE,EAAE,GAAKqT,EAAE,GAAKrT,EAAE,GAAKqT,EAAE,GAAM,IACjC2zD,GAAQ,GAEFA,EAAOnmE,KAAKomE,KATpB,SAAe3rE,EAAO8O,EAAKyC,GAC1B,OAAOhM,KAAKuJ,IAAIvJ,KAAKgM,IAAIvR,EAAO8O,GAAMyC,GAQdq6D,CAbzB,SAAelnE,EAAGqT,GACjB,OALD,SAAarT,EAAGqT,GACf,OAAQrT,EAAE,GAAKqT,EAAE,GAAKrT,EAAE,GAAKqT,EAAE,GAIxB8zD,CAAInnE,EAAGqT,IAAMuzD,EAAI5mE,GAAK4mE,EAAIvzD,IAYH4sC,CAAMjgD,EAAGqT,KAAM,EAAG,GAyCjD,SAAS+zD,EAAyBj7D,EAAK+pB,EAAIE,EAAIixC,EAAIC,EAAIC,EAAKC,EAAIC,EAAI3uC,EAAIC,GAGvE,GAAW,IAAPsuC,GAAmB,IAAPC,EAAhB,CAIAC,GAAQ1mE,KAAKshC,GAAK,IAClBklC,EAAKxmE,KAAK2U,IAAI6xD,GACdC,EAAKzmE,KAAK2U,IAAI8xD,GACd,IAAMI,EAhDP,SAAsBr0D,EAAG0zD,GACxB,IAAMY,EAAO9mE,KAAK+mE,IAAIb,GAChBc,EAAOhnE,KAAKinE,IAAIf,GACtB,OAAQY,EAAOt0D,EAAE,GAAKw0D,EAAOx0D,EAAE,IAAK,EAAIw0D,EAAOx0D,EAAE,GAAKs0D,EAAOt0D,EAAE,IA6ChD00D,CApChB,SAAkB/nE,EAAGqT,GACpB,QAASrT,EAAE,GAAKqT,EAAE,IAAM,GAAMrT,EAAE,GAAKqT,EAAE,IAAM,GAmCjB20D,CAAS9xC,EAAI4C,GAAKyuC,GACxCU,EA7BP,SAAkBjoE,EAAGqT,GACpB,OAAQrT,EAAE,GAAKqT,EAAE,GAAIrT,EAAE,GAAKqT,EAAE,IA4Bd60D,CAASR,EAAQA,GAC7BS,EAAMtnE,KAAKimE,IAAIO,EAAI,GACnBe,EAAMvnE,KAAKimE,IAAIQ,EAAI,GAEjBe,EAASxnE,KAAKgmE,KAAKoB,EAAQ,GAAKE,EAAMF,EAAQ,GAAKG,GACrDC,EAAS,IACZhB,GAAMgB,EACNf,GAAMe,EACNF,EAAMtnE,KAAKimE,IAAIO,EAAI,GACnBe,EAAMvnE,KAAKimE,IAAIQ,EAAI,IAEpB,IAAIgB,EAASznE,KAAKgmE,KAAKhmE,KAAK2U,IAAI2yD,EAAMC,EAAMD,EAAMF,EAAQ,GAAKG,EAAMH,EAAQ,KAC/DE,EAAMF,EAAQ,GAAKG,EAAMH,EAAQ,KAC3CT,IAAOC,IACVa,IAAW,GAEZ,IAAMC,EAzCP,SAAe7tE,EAAG2Y,GACjB,OAAQ3Y,EAAI2Y,EAAE,GAAI3Y,EAAI2Y,EAAE,IAwCTwsB,CAAMyoC,GAASjB,EAAKK,EAAO,GAAKJ,GAAKA,EAAKI,EAAO,GAAKL,IAC/D3sE,EAtCP,SAAasF,EAAGqT,GACf,OAAQrT,EAAE,GAAKqT,EAAE,GAAIrT,EAAE,GAAKqT,EAAE,IAqCpBm1D,CA5DX,SAA6Bn1D,EAAG0zD,GAC/B,IAAMY,EAAO9mE,KAAK+mE,IAAIb,GAChBc,EAAOhnE,KAAKinE,IAAIf,GACtB,OAAQY,EAAOt0D,EAAE,GAAKw0D,EAAOx0D,EAAE,GAAIw0D,EAAOx0D,EAAE,GAAKs0D,EAAOt0D,EAAE,IAyD5Co1D,CAAoBF,EAAQhB,GAlD3C,SAAiBvnE,EAAGqT,GACnB,QAASrT,EAAE,GAAKqT,EAAE,IAAM,GAAMrT,EAAE,GAAKqT,EAAE,IAAM,GAiDGq1D,CAAQxyC,EAAI4C,IACtD6vC,IAAiBjB,EAAO,GAAKa,EAAO,IAAMlB,GAAKK,EAAO,GAAKa,EAAO,IAAMjB,GACxEsB,KAAkB,EAAMlB,EAAO,GAAKa,EAAO,IAAMlB,IAAM,EAAMK,EAAO,GAAKa,EAAO,IAAMjB,GACtFuB,EAAQ9B,GAAO,EAAG,GAAI4B,GAEtBz3D,EAAQ23D,EACR13D,EAAM03D,EAFO9B,EAAM4B,EAAcC,GAGvCz8D,EAAIW,OACJX,EAAIyzB,UAAUllC,EAAE,GAAIA,EAAE,IACtByR,EAAI28D,OAAOvB,GACXp7D,EAAI0zB,MAAMwnC,EAAIC,GACdn7D,EAAIm2B,IAAI,EAAG,EAAG,EAAGpxB,EAAOC,EAAK,EAAIs2D,GACjCt7D,EAAI0B,eApCH1B,EAAI03B,OAAO/K,EAAI5C,GAiJjBn8B,EAAOF,QAzGN8J,WAAYwI,GAAK,IACZ48D,EACAC,EAFYC,EAAA1mE,KAAAqB,EAAArB,KAAAmjE,GAGhB,IAEIwD,EAFAC,EAAK,EACLC,EAAK,EAELC,EAAc,GAClB,SAASC,IACR,MAAI,WAAWvrE,QAAQsrE,GAAe,GAC7Bh3D,EAAG82D,EAAI72D,EAAG82D,GAEZF,EAGR3mE,KAAKgnE,EAAI,SAACC,EAAIC,GAOb,OANAt9D,EAAIy3B,OAAO4lC,EAAIC,GACfV,EAAMS,EACNR,EAAMS,EACNN,EAAKK,EACLJ,EAAKK,EACLJ,EAAc,IACPJ,GAER1mE,KAAK9H,EAAI,SAAC+uE,EAAIC,GAAL,OAAYR,EAAKM,EAAEC,EAAKL,EAAIM,EAAKL,IAC1C7mE,KAAKmnE,EAAI,SAACF,EAAIC,GAKb,OAJAt9D,EAAI03B,OAAO2lC,EAAIC,GACfN,EAAKK,EACLJ,EAAKK,EACLJ,EAAc,IACPJ,GAER1mE,KAAKhI,EAAI,SAACivE,EAAIC,GAAL,OAAYR,EAAKS,EAAEF,EAAKL,EAAIM,EAAKL,IAC1C7mE,KAAKonE,EAAKH,YAAD,OAAQP,EAAKS,EAAEF,EAAIJ,IAC5B7mE,KAAKgO,EAAKi5D,YAAD,OAAQP,EAAKU,EAAEH,EAAKL,IAC7B5mE,KAAKqnE,EAAKH,YAAD,OAAQR,EAAKS,EAAEP,EAAIM,IAC5BlnE,KAAK8Q,EAAKo2D,YAAD,OAAQR,EAAKW,EAAEH,EAAKL,IAC7B7mE,KAAKsnE,EAAI,WAKR,OAJA19D,EAAIo2B,YACJ4mC,EAAKJ,EACLK,EAAKJ,EACLK,EAAc,IACPJ,GAER1mE,KAAKunE,EAAI,kBAAMb,EAAKY,KAEpBtnE,KAAKwnE,EAAI,SAACC,EAAMC,EAAMC,EAAMC,EAAMX,EAAIC,GASrC,OARAt9D,EAAIqmD,cAAcwX,EAAMC,EAAMC,EAAMC,EAAMX,EAAIC,GAC9CN,EAAKK,EACLJ,EAAKK,EACLP,GACC72D,EAAG,EAAIm3D,EAAKU,EACZ53D,EAAG,EAAIm3D,EAAKU,GAEbd,EAAc,IACPJ,GAER1mE,KAAK7H,EAAI,SAACsvE,EAAMC,EAAMC,EAAMC,EAAMX,EAAIC,GAA7B,OAAoCR,EAAKc,EAChDC,EAAOb,EAAIc,EAAOb,EAClBc,EAAOf,EAAIgB,EAAOf,EAClBI,EAAKL,EAAIM,EAAKL,IAGhB7mE,KAAK6nE,EAAI,SAACC,EAAKC,EAAKd,EAAIC,GAAO,IAAAc,EACHjB,IAAjBU,EADoBO,EACvBl4D,EAAY43D,EADWM,EACdj4D,EAChB,OAAO22D,EAAKc,EAAEC,EAAMC,EAAMI,EAAKC,EAAKd,EAAIC,IAEzClnE,KAAKnG,EAAI,SAACiuE,EAAKC,EAAKd,EAAIC,GAAf,OAAsBR,EAAKmB,EAAEC,EAAMlB,EAAImB,EAAMlB,EAAII,EAAKL,EAAIM,EAAKL,IAExE7mE,KAAKioE,EAAI,SAACH,EAAKC,EAAKd,EAAIC,GASvB,OARAt9D,EAAIs+D,iBAAiBJ,EAAKC,EAAKd,EAAIC,GACnCN,EAAKK,EACLJ,EAAKK,EACLP,GACC72D,EAAG,EAAIm3D,EAAKa,EACZ/3D,EAAG,EAAIm3D,EAAKa,GAEbjB,EAAc,IACPJ,GAER1mE,KAAKmoE,EAAI,SAACL,EAAKC,EAAKd,EAAIC,GAAf,OAAsBR,EAAKuB,EAAEH,EAAMlB,EAAImB,EAAMlB,EAAII,EAAKL,EAAIM,EAAKL,IAExE7mE,KAAKooE,EAAI,SAACnB,EAAIC,GAAO,IAAAmB,EACKtB,IAAfe,EADUO,EACbv4D,EAAWi4D,EADEM,EACLt4D,EACf,OAAO22D,EAAKuB,EAAEH,EAAKC,EAAKd,EAAIC,IAE7BlnE,KAAKhH,EAAI,SAACiuE,EAAIC,GAAL,OAAYR,EAAK0B,EAAEnB,EAAKL,EAAIM,EAAKL,IAE1C7mE,KAAKsoE,EAAI,SAACxD,EAAIC,EAAIwD,EAAeC,EAAcC,EAAWxB,EAAIC,GAS7D,OALArC,EAAyBj7D,EAHdg9D,EAGuB/yC,EAAIixC,EAAIC,EAAIwD,EAAeC,EAAcC,EAAWxB,GAEtFL,EAAKK,EACLJ,EAAKK,EACLJ,EAAc,IACPJ,GAGR1mE,KAAKwd,EAAI,SAACsnD,EAAIC,EAAIwD,EAAeC,EAAcC,EAAWxB,EAAIC,GAArD,OAA4DR,EAAK4B,EACxExD,EAAIC,EAAIwD,EAAeC,EAAcC,EAAWxB,EAAKL,EAAIM,EAAKL,MhImxjB3D,SAASrvE,EAAQF,GiIp+jBxBE,EAAAF,SAMAc,EAAA,mEACAqR,MAAA,GACAF,OAAA,KVq0BE,SAAA/R,EAAMsgB,GW70BRtgB,EAAAF,SAMAc,EAAA,sEACAqR,MAAA,GACAF,OAAA,KXRA,SAAA/R,EAAAF,GYAAE,EAAAF,SAMAc,EAAA,kJACAqR,MAAA,GACAF,OAAA,KnI4gkBO,SAAS/R,EAAQF,GoIphkBxBE,EAAAF,SAMAc,EAAA,4CACAqR,MAAA,GACAF,OAAA,Kbw2BI,SAAA/R,EAAAF,Gch3BJE,EAAAF,SAMAc,EAAA,2FACAqR,MAAA,GACAF,OAAA,Kdq3BK1J,WAH2BvI,Ge13BhCE,EAAAF,SAMAc,EAAA,mMACAqR,MAAA,GACAF,OAAA,KfRA,SAAA/R,EAAAF,GgBAAE,EAAAF,SAMAc,EAAA,2JACAqR,MAAA,GACAF,OAAA,KhB04BE,SAAA/R,EAAOF,EAAPO,GAAA,IiB/4BKiE,EAAaoE,EAAQ,GAArBpE,UjB+4BL4sE,EiB14BExoE,EAAQ,IAHXsG,EjB64BCkiE,EiB74BDliE,cACAY,EjB44BCshE,EiB54BDthE,OACAo2B,EjB24BCkrC,EiB34BDlrC,cAEKmrC,EAAezoE,EAAQ,KACvB0oE,EAAiB1oE,EAAQ,KACzB2oE,EAAc3oE,EAAQ,KAEtB4oE,GACLtnE,KAAM,QACNmsB,aAASlzB,GAGJsuE,GACL/+B,MADgC,SAC1BxiC,GACL,OAAO,IAAImhE,EAAanhE,IAEzB8kB,KAJgC,SAI3B9kB,GACJ,OAAO,IAAIqhE,EAAYrhE,IAExBwhE,QAPgC,SAOxBxhE,GACP,OAAO,IAAIohE,EAAephE,KAI5B,SAASyhE,EAAiBt7C,GACzB,IAAKA,GAAW7xB,EAAU6xB,GACzB,OAAOm7C,EAER,GAAuB,iBAAZn7C,EACV,OACCnsB,KAAM,QACNmsB,UACA0oC,SAAU1oC,GAGZ,IAAMnsB,EAAOmsB,EAAQnsB,MAAQ,QAC7B,OAAIA,GAAQA,KAAQunE,GAElBvnE,KAAMA,EAAKlG,cACXqyB,QAAO,GAAAttB,OAAKstB,EAAQA,SACpB0oC,SAAU1oC,IAIXnsB,KAAM,QACNmsB,QAAO,GAAAttB,OAAKstB,GACZ0oC,SAAU1oC,GAKZ,SAASu7C,EAAWv7C,GACnB,QAASs7C,EAAiBt7C,GAASA,QjBw1BlC,IiBt1BImqC,EjBs1BJ,WiBr1BD12D,WAAYoG,EAAM+lB,GAAYlsB,EAAArB,KAAA83D,GAC7B93D,KAAK6V,MAAQrO,EACbxH,KAAKmpE,qBACLnpE,KAAKopE,eAAe5hE,EAAM+lB,GjBk1B1B,OAAAhsB,EAAAu2D,IAAAz+D,IAAA,UAAAN,MAAA,WiB/0BA,IAAMswE,EAAmBrpE,KAAKmpE,kBAC9B,IAAK,IAAMzrE,KAAK2rE,EACfA,EAAiB3rE,GAAG0Z,UAErBpX,KAAKmpE,kBAAoB,QjB20BzB9vE,IAAA,kBAAAN,MAAA,SiBz0Be40B,EAAS5iB,EAASlL,EAAO4sB,EAAQH,GAE3C48C,EAAWv7C,IAGC3tB,KAAKspE,6BAA6B37C,GAC1CE,gBAAgBF,EAAS5iB,EAASlL,EAAO4sB,EAAQH,MjBm0B1DjzB,IAAA,UAAAN,MAAA,SiBj0BO+P,EAAKP,EAAKolB,GACjB,IAAMrB,EAAOtsB,KAAKupE,YACZC,EAAWxpE,KAAKspE,6BAA6B37C,GAC/CrB,GAAQA,EAAKk9C,WAAaA,GAC7Bl9C,EAAKk9C,SAAS7rC,uBAEf6rC,EAASC,qBAAqB3gE,EAAKP,EAAK0gE,EAAiBt7C,IACzD3tB,KAAKupE,aAAezgE,MAAKP,MAAKihE,ejB0zB9BnwE,IAAA,QAAAN,MAAA,SiBxzBK+P,EAAKP,GACV,IAAM+jB,EAAOtsB,KAAKupE,YACbj9C,GAAQA,EAAKxjB,MAAQA,GAAOwjB,EAAK/jB,MAAQA,GAG3B+jB,EAAZk9C,SACEE,mBAAmB5gE,EAAKP,MjBkzBjClP,IAAA,UAAAN,MAAA,WiB/yBA,IAAMuzB,EAAOtsB,KAAKupE,YACbj9C,IAGcA,EAAZk9C,SACE7rC,uBACT39B,KAAKupE,YAAc,SjByyBnBlwE,IAAA,iBAAAN,MAAA,SiBvyBcyO,EAAM+lB,GAAY,IAAAo8C,EAAA3pE,KAC1B4pE,EAAmBprD,YACxB,IAAMmP,EAAUJ,EAAW/O,EAAI1V,IAAK0V,EAAIjW,KACnC2gE,EAAWv7C,GAGfg8C,EAAKE,QAAQrrD,EAAI1V,IAAK0V,EAAIjW,IAAKolB,GAF/Bg8C,EAAK1rC,WAMPz2B,EAAKgL,OAAOhM,EAAgBtH,YACtBA,EAAEuT,WAGHvT,EAAEsd,OAAO1T,MAAQ5J,EAAE4J,KAAO5J,EAAEsd,OAAOjU,MAAQrJ,EAAEqJ,KAGjDqhE,EAAgB1qE,MAEjBsI,EAAKgL,OAAOpL,EAAQ,WACnB,IAAMoX,EAAMhX,EAAKqD,UAAU4G,OAC3Bk4D,EAAKG,MAAMtrD,EAAI1V,IAAK0V,EAAIjW,OAEzBf,EAAKgL,OAAOgrB,EAAgBt+B,YAC3B,IAAMsf,EAAMhX,EAAKqD,UAAU4G,OACvB+M,EAAI1V,MAAQ5J,EAAE4J,KAAO0V,EAAIjW,MAAQrJ,EAAEqJ,KAGvCqhE,EAAgB1qE,QjB2wBjB7F,IAAA,+BAAAN,MAAA,SiBxwB4B40B,GAC5B,IAAM07C,EAAmBrpE,KAAKmpE,kBACvB3nE,EAAQynE,EAAiBt7C,GAAzBnsB,KACP,OAAO6nE,EAAiB7nE,KAAU6nE,EAAiB7nE,GAAQunE,EAAyBvnE,GAAMxB,KAAK6V,YjBqwB/FiiD,EAAA,GiBjwBFtgE,EAAOF,QAAUwgE,GxIyokBV,SAAStgE,EAAQF,EAASO,GyIxxkBjC,IAAM6lC,EAAcx9B,EAAQ,IACtB6pE,EAAsB7pE,EAAQ,KAC9B8pE,EAAe9pE,EAAQ,IAIvByoE,EzIkxkBgD,SAAAsB,GAAA,SAAAtB,IAAA,OAAAtnE,EAAArB,KAAA2oE,GAAAvlE,EAAApD,KAAAqD,EAAAslE,GAAAvrE,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA6kE,EyIlxkB3BjrC,GzIkxkB2Bn8B,EAAAonE,IAAAtvE,IAAA,+BAAAN,MAAA,WyIhxkBpD,OAAO,IAAIgxE,KzIgxkByC1wE,IAAA,0BAAAN,MAAA,SyI9wkB7B40B,EAAS5iB,EAASlL,EAAO4sB,EAAQH,GAAM,IACvD0D,EAAWnwB,EAAXmwB,QACAvd,EAAY1H,EAAQ8qC,iBAApBpjC,SAEPga,EAAO2pB,mBAAmBrrC,EAAUnB,YAC9B6I,GACJu3D,EAAahrC,uBAAuBj0B,GACnCilB,QAbY,UAcZzsB,MAAOysB,GACLvD,SzIqwkB+Ck8C,EAAA,GyI/vkBtDnxE,EAAOF,QAAUqxE,GlBonBhB,SAAAnxE,EAAAF,EAAAO,GmB9oBD,IAAM0mC,EAAiBr+B,EAAQ,IAEzBi+B,EAAY,sCACZC,EAAiB,GAAA/9B,OAAM89B,EAAN,aAGjB4rC,EnBwoBL,SAAAG,GmBvoBA9oE,aAAc,IAAA+oE,EAAA,OAAA9oE,EAAArB,KAAA+pE,GACbI,EAAA/mE,EAAApD,KAAAqD,EAAA0mE,GAAA9xE,KAAA+H,OACAE,EAAQ,KACRiqE,EAAK1rC,aAAanlB,UAAUC,IAAI4kB,GAChCgsC,EAAKvsC,gBAAgBtkB,UAAUC,IAAI6kB,GAJtB+rC,EnBuoBd,OAAArmE,EAAAimE,EmBxoBiCxrC,GnBwoBjCwrC,EAAA,GmB/nBDvyE,EAAOF,QAAUyyE,G1I80kBV,SAASvyE,EAAQF,EAASO,G2I71kBjC,IAAAgsB,EAAchsB,EAAQ,KAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAoEgsB,EAAAliB,GAEjFkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,SpBuqBE,SAAA3kD,EAAAF,EAAAO,IqBxrBFL,EAAAF,QAA2BO,EAAQ,EAARA,EAAgE,IAK3F0K,MAAc/K,EAAAO,EAAS,4qBAA0qB,M5Ig4kB1rB,SAASP,EAAQF,EAASO,G6Ip4kBjC,IAAAgsB,EAAchsB,EAAQ,KAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAoEgsB,EAAAliB,GAEjFkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,S7I64kBO,SAAS3kD,EAAQF,EAASO,I8I95kBjCL,EAAAF,QAA2BO,EAAQ,EAARA,EAAgE,IAK3F0K,MAAc/K,EAAAO,EAAS,iGAAiG,MvB2tBlD,SAAAP,EAApEF,EAAAO,GwB9tBF,IAAM6lC,EAAcx9B,EAAQ,IACtBkqE,EAAwBlqE,EAAQ,KAChC8pE,EAAe9pE,EAAQ,IAIvB0oE,ExBwtBJ,SAAAyB,GAAA,SAAAzB,IAAA,OAAAvnE,EAAArB,KAAA4oE,GAAAxlE,EAAApD,KAAAqD,EAAAulE,GAAAxrE,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA8kE,EwBxtB2BlrC,GxBwtB3Bn8B,EAAAqnE,IAAAvvE,IAAA,+BAAAN,MAAA,WwBttBA,OAAO,IAAIqxE,KxBstBX/wE,IAAA,0BAAAN,MAAA,SwBptBuB40B,EAAS5iB,EAASlL,EAAO4sB,EAAQH,GAAM,IACvD0D,EAAWnwB,EAAXmwB,QACAvd,EAAY1H,EAAQ8qC,iBAApBpjC,SAEPga,EAAO2pB,mBAAmBrrC,EAAUnB,YAC9B6I,GACJu3D,EAAahrC,uBAAuBj0B,GACnCilB,QAboB,UAcpBzsB,MAAOysB,GACLvD,SxB2sBLm8C,EAAA,GwBrsBFpxE,EAAOF,QAAUsxE,GxBs9BjBpxE,SAAMA,EAANA,EAAiB0jD,GyBh/BjB,IAAM3c,EAAiBr+B,EAAQ,IAEzBi+B,EAAY,wCACZC,EAAiB,GAAA/9B,OAAM89B,EAAN,aAGjBisC,EzB0+BN5yE,YyBz+BC4J,aAAc,IAAAkpE,EAAA,OAAAjpE,EAAArB,KAAAoqE,GACbE,EAAAlnE,EAAApD,KAAAqD,EAAA+mE,GAAAnyE,KAAA+H,OACAE,EAAQ,KACRoqE,EAAK7rC,aAAanlB,UAAUC,IAAI4kB,GAChCmsC,EAAK1sC,gBAAgBtkB,UAAUC,IAAI6kB,GAJtBksC,EzBy+Bf9yE,WyB1+BoC+mC,GzB0+BpC/mC,KyBj+BAA,EAAOF,QAAU8yE,GhJg+kBV,SAAS5yE,EAAQF,EAASO,GiJ/+kBjC,IAAAgsB,EAAchsB,EAAQ,KAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAoEgsB,EAAAliB,GAEjFkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,SzBcEvyC,WAAIiC,EAAJjC,I0B/BFpS,EAAAF,QAA2BO,EAAQ,EAARA,EAAgE,IAK3F0K,MAAc/K,EAAAO,EAAS,mGAAmG,MlJkhlBnH,SAASP,EAAQF,EAASO,GmJrhlBjC,IAAM6lC,EAAcx9B,EAAQ,IACtBq+B,EAAiBr+B,EAAQ,IACzB8pE,EAAe9pE,EAAQ,IAIvB2oE,EnJ+glBgD,SAAA0B,GAAA,SAAA1B,IAAA,OAAAxnE,EAAArB,KAAA6oE,GAAAzlE,EAAApD,KAAAqD,EAAAwlE,GAAAzrE,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA+kE,EmJ/glB5BnrC,GnJ+glB4Bn8B,EAAAsnE,IAAAxvE,IAAA,+BAAAN,MAAA,WmJ7glBpD,OAAO,IAAIwlC,KnJ6glByCllC,IAAA,0BAAAN,MAAA,SmJ3glB7B40B,EAAS5iB,EAASlL,EAAO4sB,EAAQH,GAAM,IACvD0D,EAAWnwB,EAAXmwB,QACAvd,EAAY1H,EAAQ8qC,iBAApBpjC,SAEPga,EAAO2pB,mBAAmBrrC,EAAUnB,YAC9B6I,GACJu3D,EAAa1qC,sBAAsBv0B,GAClCilB,QAbW,UAcXzsB,MAAOysB,GACLvD,SnJkglB+Co8C,EAAA,GmJ5/kBtDrxE,EAAOF,QAAUuxE,GnJqilBV,SAASrxE,EAAQF,EAASO,GAAqB,IAAA2yE,EoJxjlBlDtqE,EAAQ,IALXsG,EpJ6jlBqDgkE,EoJ7jlBrDhkE,cACAY,EpJ4jlBqDojE,EoJ5jlBrDpjE,OACAo2B,EpJ2jlBqDgtC,EoJ3jlBrDhtC,cACA32B,EpJ0jlBqD2jE,EoJ1jlBrD3jE,eACAC,EpJyjlBqD0jE,EoJzjlBrD1jE,cAEK2jE,EAAUvqE,EAAQ,KAElBwqE,GACLC,gBADgC,SAChBnjE,GACf,OAAO,IAAIijE,EAAQjjE,KpJmjlBiC,IoJlilBhDuwD,EpJkilBgD,WoJjilBrD32D,WAAYoG,GAAMnG,EAAArB,KAAA+3D,GACjB/3D,KAAK6V,MAAQrO,EACbxH,KAAK4qE,qBACL5qE,KAAKopE,eAAe5hE,GpJ8hlBgC,OAAAjG,EAAAw2D,IAAA1+D,IAAA,UAAAN,MAAA,WoJ3hlBpD,IAAM8xE,EAAmB7qE,KAAK4qE,kBAC9B,IAAK,IAAMltE,KAAKmtE,EACfA,EAAiBntE,GAAG0Z,UAErBpX,KAAK4qE,kBAAoB,QpJuhlB2BvxE,IAAA,UAAAN,MAAA,SoJrhlB7C+P,EAAKP,GACZ,IAAM+jB,EAAOtsB,KAAKupE,YACZuB,EAAe9qE,KAAK+qE,wBAAwBjiE,EAAKP,GAKvD,IAJI+jB,GAAUw+C,GAAgBx+C,EAAKk9C,WAAasB,EAAatB,WAC5Dl9C,EAAKk9C,SAASwB,uBACdhrE,KAAKupE,YAAc,MAEfuB,EAAL,CAPiB,IAUVtB,EAAYsB,EAAZtB,SACPA,EAASyB,qBAAqBniE,EAAKP,EAAKuiE,EAAajnD,SACrD7jB,KAAKupE,aAAezgE,MAAKP,MAAKihE,gBpJyglBsBnwE,IAAA,QAAAN,MAAA,SoJvglB/C+P,EAAKP,GACV,IAAM+jB,EAAOtsB,KAAKupE,YACbj9C,GAAQA,EAAKxjB,MAAQA,GAAOwjB,EAAK/jB,MAAQA,GAG3B+jB,EAAZk9C,SACE0B,mBAAmBpiE,EAAKP,MpJiglBmBlP,IAAA,UAAAN,MAAA,WoJ9/kBpD,IAAMuzB,EAAOtsB,KAAKupE,YACbj9C,IAGcA,EAAZk9C,SACEwB,uBACThrE,KAAKupE,YAAc,SpJw/kBiClwE,IAAA,gBAAAN,MAAA,SoJt/kBvC+P,EAAKP,GAClB,IAAM+jB,EAAOtsB,KAAKupE,YAClB,QAAKj9C,IAGGA,EAAKxjB,MAAQA,GAAOwjB,EAAK/jB,MAAQA,MpJi/kBWlP,IAAA,iBAAAN,MAAA,SoJ/+kBtCyO,GAAM,IAAA2jE,EAAAnrE,KACpBwH,EAAKgL,OAAO3L,EAAiB3H,YAC5BisE,EAAKtB,QAAQ3qE,EAAE4J,IAAK5J,EAAEqJ,OAEvBf,EAAKgL,OAAO1L,EAAgB5H,YAC3BisE,EAAKltC,YAENz2B,EAAKgL,OAAOhM,EAAgBtH,YACvBisE,EAAKC,cAAclsE,EAAE4J,IAAK5J,EAAEqJ,MAC/B4iE,EAAKltC,QAAQ/+B,KAGfsI,EAAKgL,OAAOpL,EAAQ,WACnB,IAAMklB,EAAO6+C,EAAK5B,YACbj9C,GAGL6+C,EAAKrB,MAAMx9C,EAAKxjB,IAAKwjB,EAAK/jB,OAE3Bf,EAAKgL,OAAOgrB,EAAgBt+B,YACvBisE,EAAKC,cAAclsE,EAAE4J,IAAK5J,EAAEqJ,OAC/B4iE,EAAKltC,UACLktC,EAAKtB,QAAQ3qE,EAAE4J,IAAK5J,EAAEqJ,WpJy9kB4BlP,IAAA,0BAAAN,MAAA,SoJr9kB7B+P,EAAKP,GAC5B,IAAMf,EAAOxH,KAAK6V,MACZg1D,EAAmB7qE,KAAK4qE,kBACxBt+C,EA7FR,SAAgC9kB,EAAMsB,EAAKP,GAG1C,IAAMma,EAAelb,EAAK6jE,oBAAoBviE,EAAKP,GACnD,OAAIma,GAEFlhB,KAAM,gBACNqiB,QAASnB,GAGJ,KAmFO4oD,CAAuB9jE,EAAMsB,EAAKP,GAC/C,IAAK+jB,EACJ,OAAO,KALyB,IAO1B9qB,EAAQ8qB,EAAR9qB,KAEP,OACCgoE,SAFgBqB,EAAiBrpE,KAAUqpE,EAAiBrpE,GAAQkpE,EAAyBlpE,GAAMgG,IAGnGhG,OACAqiB,QAASyI,EAAKzI,apJy8kBqCk0C,EAAA,GoJp8kBtDvgE,EAAOF,QAAUygE,G3B9DVhvD,aAAO2oB,G4B5Dd,IAAM65C,EAAcrrE,EAAQ,KACtBsrE,EAAiBtrE,EAAQ,KAEzBuqE,E5BuDS,SAAAgB,GAAA,SAAAhB,IAAA,OAAAppE,EAAArB,KAAAyqE,GAAArnE,EAAApD,KAAAqD,EAAAonE,GAAArtE,MAAA4C,KAAAnE,YAAA,OAAAiI,EAAA2mE,E4BvDOc,G5BuDPhqE,EAAAkpE,IAAApxE,IAAA,+BAAAN,MAAA,W4BrDb,OAAO,IAAIyyE,M5BqDEf,EAAA,G4BjDfjzE,EAAOF,QAAUmzE,GrJqkiBqC,SAAAjzE,EAAAF,EAAAO,GAAA,IsJ9kiBhD0zE,EtJ8kiBgD,WsJ7kiBrDnqE,WAAYoG,GAAMnG,EAAArB,KAAAurE,GACjBvrE,KAAK6V,MAAQrO,EtJ4kiBuC,OAAAjG,EAAAgqE,IAAAlyE,IAAA,UAAAN,MAAA,WsJzkiBpDiH,KAAKgrE,uBACDhrE,KAAK0rE,iBACR1rE,KAAK0rE,gBAAgBt0D,UAEtBpX,KAAK0rE,gBAAkB,QtJqkiB6BryE,IAAA,qBAAAN,MAAA,WsJlkiBpD,OAAOiH,KAAK0rE,kBAAoB1rE,KAAK0rE,gBAAkB1rE,KAAK2rE,mCtJkkiBRtyE,IAAA,+BAAAN,MAAA,eAAAM,IAAA,uBAAAN,MAAA,SsJ7jiBhC+P,EAAKP,EAAKsb,GACP7jB,KAAK4rE,qBACb7tC,OAAO/9B,KAAK6V,MAAO/M,EAAKP,EAAKsb,MtJ2jiBQxqB,IAAA,qBAAAN,MAAA,SsJzjiBlC+P,EAAKP,GACAvI,KAAK4rE,qBACb5tC,KAAKh+B,KAAK6V,MAAO/M,EAAKP,MtJujiBelP,IAAA,uBAAAN,MAAA,WsJpjiB7BiH,KAAK4rE,qBACb3tC,ctJmjiBqCstC,EAAA,GsJ/iiBtD/zE,EAAOF,QAAUi0E,G5BIf,SAAM1L,IAAgBhoE,G6BpCxB,IAAMsJ,EAAejB,EAAQ,GAE5BmZ,EACGnZ,EAAQ,IADXmZ,cAGK8kB,EAAY,gCACZ0tC,EAAiB,GAAAxrE,OAAM89B,EAAN,aACjBE,EAAgB,GAAAh+B,OAAM89B,EAAN,YAChBG,EAAe,GAAAj+B,OAAM89B,EAAN,W7B4BM,I6BjBrBqtC,E7BiBqB,W6BhB1BpqE,aAAcC,EAAArB,KAAAwrE,GACbxrE,KAAK8V,SAAW,IAAI3U,EACpB,IAAMq9B,EAAcx+B,KAAKy+B,aAZ3B,WACCv+B,EAAQ,KACR,IAAMs+B,EAAcnlB,EAAc,OAAQC,WAAY6kB,EAAWE,KAC3DK,EAAiBrlB,EAAc,OAAQC,WAAYuyD,KAEzD,OADArtC,EAAY/kB,YAAYilB,GACjBF,EAOkCstC,GACxC9rE,KAAK49B,gBAAkBY,EAAYlZ,cAAZkZ,WAA8BqtC,I7Ba5B,OAAAtqE,EAAAiqE,IAAAnyE,IAAA,UAAAN,MAAA,W6BVzBiH,KAAK4+B,SAEL,IAAMJ,EAAcx+B,KAAKy+B,aACrBD,EAAYzhC,eACfyhC,EAAYzhC,cAAcod,YAAYqkB,GAGvCx+B,KAAK8V,SAASsB,UACdpX,KAAKy+B,aAAe,KACpBz+B,KAAK49B,gBAAkB,Q7BCEvkC,IAAA,SAAAN,MAAA,S6BCnByO,EAAMsB,EAAKP,EAAKsb,GACtB,IAAM2a,EAAcx+B,KAAKy+B,aACnBC,EAAiB1+B,KAAK49B,gBAE5BY,EAAYllB,UAAUS,OAAOukB,GAC7BE,EAAYllB,UAAUC,IAAI8kB,GAEtBr+B,KAAK6+B,YAAYr3B,EAAMsB,EAAKP,IAC/Bi2B,EAAYllB,UAAUC,IAAI+kB,GAC1BE,EAAYllB,UAAUS,OAAOskB,GAE7BK,EAAetQ,YAAcvK,GAE7B7jB,KAAKi+B,a7BdmB5kC,IAAA,OAAAN,MAAA,S6BiBrByO,EAAMsB,EAAKP,GACf,IAAMi2B,EAAcx+B,KAAKy+B,aACrBz+B,KAAK6+B,YAAYr3B,EAAMsB,EAAKP,IAE/Bi2B,EAAYllB,UAAUC,IAAI+kB,GAC1BE,EAAYllB,UAAUS,OAAOskB,IAE7Br+B,KAAKi+B,a7BxBmB5kC,IAAA,SAAAN,MAAA,W6B4BzBiH,KAAKi+B,a7B5BoB5kC,IAAA,UAAAN,MAAA,W6B+BzB,IAAMylC,EAAcx+B,KAAKy+B,aACrBD,EAAYzhC,gBAEfyhC,EAAYllB,UAAUS,OAAOukB,GAC7BE,EAAYllB,UAAUC,IAAI8kB,O7BnCFhlC,IAAA,cAAAN,MAAA,S6BsCdyO,EAAMsB,EAAKP,GACtB,IAAMi2B,EAAcx+B,KAAKy+B,aADEstC,EAEHvkE,EAAKu3B,kBAAkBj2B,EAAKP,GAA7C4H,EAFoB47D,EAEpB57D,QAAShG,EAFW4hE,EAEX5hE,KAED9B,EAAoB8B,EAA5BlC,OAAaW,EAAeuB,EAAfvB,KAAMa,EAASU,EAATV,MACnBP,EAAkC1B,EAAlC0B,eAAgBG,EAAkB7B,EAAlB6B,eACvB,GAAId,GAAOW,GAAkBA,EAAiB,GAE7C,GAAIb,EADuBb,EAAKu3B,kBAAkBj2B,EAAKI,EAAiB,GAAjEiB,KACclC,OACpB,OAAO,OAGR,GAAII,EAAM,EACT,OAAO,EAGT,GAAIS,GAAOO,GAAkBA,EAAiB,GAE7C,GAAIT,EADuBpB,EAAKu3B,kBAAkB11B,EAAiB,EAAGd,GAA/D4B,KACepB,MACrB,OAAO,OAGR,GAAIH,EAAO,EACV,OAAO,EAvBkB,IA0BpB+X,EAA6BxQ,EAA7BwQ,aAAcD,EAAevQ,EAAfuQ,YACrB,QAAIC,EAAetY,OAGfqY,EAAc9X,KAIlB41B,EAAY3+B,MAAMwI,IAAlBm2B,UAA2Bn2B,EAAIwS,UAA/B2jB,MACAA,EAAY3+B,MAAM+I,KAAlB41B,WAA6B51B,EAAOa,EAAQ,GAAGoR,UAA/C2jB,MACAA,EAAY3+B,MAAM,aAAlB2+B,UAAoC/0B,EAAMoR,UAA1C2jB,MACIA,EAAYzhC,gBAAkBoT,GACjCA,EAAQsJ,YAAY+kB,IAEd,Q7B9EkBgtC,EAAA,G6BkF3Bh0E,EAAOF,QAAUk0E,GvJisiBqC,SAAAh0E,EAAAF,EAAAO,GwJvziBtD,IAAAgsB,EAAchsB,EAAQ,KAEtB,iBAAAgsB,QAA4CrsB,EAAAO,EAAS8rB,EAAA,MAOrD,IAAAliB,GAAeu6C,KAAA,EAEfv6C,eAPAse,EAQAte,gBAAAlH,GAEa5C,EAAQ,EAARA,CAAiEgsB,EAAAliB,GAE9EkiB,EAAAs4B,SAAA3kD,EAAAF,QAAAusB,EAAAs4B,S5BXC,SAAMvhD,EAAQtD,EAAAO,I6BNfL,EAAAF,QAA2BO,EAAQ,EAARA,EAA6D,IAKxF0K,MAAc/K,EAAAO,EAAS,0+BAAw+B,MzJy/lBx/B,SAASP,EAAQF,EAASO,G0J5/lBjC,IAAMm0E,EAAe9rE,EAAQ,IACvB+rE,EAAc/rE,EAAQ,IAE5B,SAASi7C,EAASx/C,EAAKtD,EAAMU,GAC5B,GAAIA,EAAO,CACV,IAAMs0C,EAAM1xC,EAAItD,GAEhB,OADAsD,EAAItD,GAAQU,EACLs0C,EAEP,OAAO1xC,EAAItD,GAQbb,EAAOF,SACNwiC,MADgB,SACVzhC,EAAMyhC,GACX,OAAOqhB,EAAS6wB,EAAc3zE,EAAMyhC,IAErChH,KAJgB,SAIXz6B,EAAMy6B,GACV,OAAOqoB,EAAS8wB,EAAa5zE,EAAMy6B,IAEpC3C,MAPgB,SAOVA,IAZP,SAAmBx0B,EAAKuwE,GACvB,IAAK,IAAMxuE,KAAKwuE,EACfvwE,EAAI+B,GAAKwuE,EAAOxuE,GAWhByuE,CAAUF,EAAa97C,Y1J8gmBtBl4B,KAAuB,oBAAXgI,OAAyBA,OAAS9I,OAA0B,oBAAX8I,OAAyBA,OAAS9I","file":"cheetahGrid.es5.min.js","sourcesContent":["(function(window){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 66);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst isNode = typeof window === 'undefined';\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n  get find() {\n    if (arrayFind) {\n      return arrayFind;\n    }\n\n    if (Array.prototype.find) {\n      arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n    } else {\n      arrayFind = (arr, predicate) => {\n        const index = array.findIndex(arr, predicate);\n        return index >= 0 ? arr[index] : undefined;\n      };\n    }\n\n    return arrayFind;\n  },\n\n  get findIndex() {\n    if (arrayFindIndex) {\n      return arrayFindIndex;\n    }\n\n    if (Array.prototype.findIndex) {\n      arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n    } else {\n      arrayFindIndex = (arr, predicate) => {\n        const {\n          length\n        } = arr;\n\n        for (let i = 0; i < length; i++) {\n          const value = arr[i];\n\n          if (predicate(value, i, arr)) {\n            return i;\n          }\n        }\n\n        return -1;\n      };\n    }\n\n    return arrayFindIndex;\n  }\n\n};\n\nfunction isDef(data) {\n  return data !== null && typeof data !== 'undefined';\n}\n\nfunction analyzeUserAgent() {\n  if (isNode) {\n    return {\n      IE: false,\n      Edge: false,\n      Chrome: false,\n      Firefox: false,\n      Safari: false\n    };\n  } else {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return {\n      IE: ua.match(/(msie)/) || ua.match(/trident/),\n      Edge: ua.indexOf('edge') > -1,\n      Chrome: ua.indexOf('chrome') > -1 && ua.indexOf('edge') === -1,\n      Firefox: ua.indexOf('firefox') > -1,\n      Safari: ua.indexOf('safari') > -1 && ua.indexOf('edge') === -1\n    };\n  }\n}\n\nconst {\n  IE,\n  Chrome,\n  Firefox,\n  Edge,\n  Safari\n} = analyzeUserAgent();\n\nfunction setReadonly(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    enumerable: false,\n    configurable: true,\n    value\n  });\n}\n\nfunction each(obj, fn) {\n  for (const key in obj) {\n    fn(obj[key], key, obj);\n  }\n}\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\nfunction extend(...args) {\n  const result = {};\n  args.forEach(source => {\n    for (const key in source) {\n      Object.defineProperty(result, key, {\n        get() {\n          return source[key];\n        },\n\n        set(val) {\n          source[key] = val;\n        },\n\n        configurable: true,\n        enumerable: true\n      });\n    }\n  });\n  return result;\n}\n\nfunction isDescendantElement(root, target) {\n  while (target.parentElement) {\n    const p = target.parentElement;\n\n    if (root === p) {\n      return true;\n    }\n\n    target = p;\n  }\n\n  return false;\n}\n\nfunction applyChainSafe(obj, fn, ...names) {\n  let value = obj;\n\n  for (let i = 0; i < names.length && isDef(value); i++) {\n    value = fn(value, names[i]);\n  }\n\n  return value;\n}\n\nfunction getChainSafe(obj, ...names) {\n  return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\n\nfunction getOrApply(value, ...args) {\n  if (typeof value === 'function') {\n    return value(...args);\n  } else {\n    return value;\n  }\n}\n\nfunction endsWith(str, searchString, position) {\n  const subjectString = str.toString();\n\n  if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n    position = subjectString.length;\n  }\n\n  position -= searchString.length;\n  const lastIndex = subjectString.lastIndexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\nfunction genChars(s) {\n  // Surrogate Code Point\n  // [\\uD800-\\uDBFF]\n  // Variation Selectors\n  // FVS [\\u180B-\\u180D]\n  // VS1VS16 [\\uFE00-\\uFE0F]\n  // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n  const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n\n  };\n}\n\nfunction genWords(s) {\n  const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n\n  };\n}\n\nconst isPromise = data => data && typeof data.then === 'function';\n\nconst then = (result, callback) => isPromise(result) ? result.then(r => callback(r)) : callback(result);\n\nfunction getMouseButtons(e) {\n  if (isDef(e.buttons)) {\n    return e.buttons;\n  }\n  /*for legacy*/\n\n\n  if (isDef(e.which)) {\n    if (e.which === 3) {\n      //right?\n      return 4;\n    }\n\n    if (e.which === 2) {\n      //middle?\n      return 4;\n    }\n\n    return e.which; //left or no\n  }\n\n  if (e.button === 0 || e.button === 1) {\n    return 1; //candidate left\n  }\n\n  if (e.button === 2) {\n    return 2; // right\n  }\n\n  return 0; //no or middle?\n}\n\nfunction getKeyCode(e) {\n  return e.keyCode || e.which;\n}\n\nfunction isTouchEvent(e) {\n  return !!e.changedTouches;\n}\n\nfunction getIgnoreCase(obj, name) {\n  if (obj[name]) {\n    return obj[name];\n  }\n\n  const l = name.toLowerCase();\n\n  if (obj[l]) {\n    return obj[l];\n  }\n\n  const u = name.toLowerCase();\n\n  if (obj[u]) {\n    return obj[u];\n  }\n\n  for (const k in obj) {\n    if (k.toLowerCase() === l) {\n      return obj[k];\n    }\n  }\n\n  return undefined;\n}\n\nfunction cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nfunction toBoxArray(obj) {\n  if (!__webpack_provided_Array_dot_isArray(obj)) {\n    return [obj\n    /*top*/\n    , obj\n    /*right*/\n    , obj\n    /*bottom*/\n    , obj\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 3) {\n    return [obj[0]\n    /*top*/\n    , obj[1]\n    /*right*/\n    , obj[2]\n    /*bottom*/\n    , obj[1]\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 2) {\n    return [obj[0]\n    /*top*/\n    , obj[1]\n    /*right*/\n    , obj[0]\n    /*bottom*/\n    , obj[1]\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 1) {\n    return [obj[0]\n    /*top*/\n    , obj[0]\n    /*right*/\n    , obj[0]\n    /*bottom*/\n    , obj[0]\n    /*left*/\n    ];\n  }\n\n  return obj;\n}\n\nmodule.exports = {\n  isNode,\n  isDef,\n  browser: {\n    IE,\n    Edge,\n    Chrome,\n    Firefox,\n    Safari,\n    // Chrome 33554431\n    // FireFox 17895588\n    // IE 10737433\n    heightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433 // default IE limit\n\n  },\n  extend,\n  isDescendantElement,\n  getChainSafe,\n  applyChainSafe,\n  getOrApply,\n  getIgnoreCase,\n  isPromise,\n  then,\n  array,\n  obj: {\n    setReadonly,\n    each,\n    isObject\n  },\n  str: {\n    endsWith,\n    genChars,\n    genWords\n  },\n  event: {\n    getMouseButtons,\n    getKeyCode,\n    isTouchEvent,\n    cancel\n  },\n  style: {\n    toBoxArray\n  },\n\n  emptyFn() {}\n\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nconst {\n  isNode\n} = __webpack_require__(0);\n\nconst Symbol = isNode ? global.Symbol : window.Symbol ? window.Symbol : (() => {\n  function random() {\n    const c = 'abcdefghijklmnopqrstuvwxyz0123456789';\n    const cl = c.length;\n    let r = '';\n\n    for (let i = 0; i < 10; i++) {\n      r += c[Math.floor(Math.random() * cl)];\n    }\n\n    return r;\n  }\n\n  return name => {\n    if (name) {\n      return `#${name}_${random()}`;\n    } else {\n      return `#_${random()}`;\n    }\n  };\n})();\nconst mem = {};\nmodule.exports = {\n  get(name) {\n    if (name) {\n      return mem[name] ? mem[name] : mem[name] = Symbol(name);\n    } else {\n      return Symbol();\n    }\n  },\n\n  get PROTECTED_SYMBOL() {\n    return this.get('protected');\n  },\n\n  get CHECK_COLUMN_STATE_ID() {\n    return this.get('chkcol.stateID');\n  },\n\n  get BUTTON_COLUMN_STATE_ID() {\n    return this.get('btncol.stateID');\n  },\n\n  get COLUMN_FADEIN_STATE_ID() {\n    return this.get('col.fadein_stateID');\n  },\n\n  get BRANCH_GRAPH_COLUMN_STATE_ID() {\n    return this.get('branch_graph_col.stateID');\n  },\n\n  get SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n    return this.get('small_dialog_input_editor.stateID');\n  },\n\n  get INLINE_INPUT_EDITOR_STATE_ID() {\n    return this.get('inline_input_editor.stateID');\n  },\n\n  get INLINE_MENU_EDITOR_STATE_ID() {\n    return this.get('inline_menu_editor.stateID');\n  },\n\n  get CHECK_HEADER_STATE_ID() {\n    return this.get('check_header.stateID');\n  }\n\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(68)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nmodule.exports = {\n  'Array_isArray': typeof window === 'undefined' ? __webpack_provided_Array_dot_isArray : window.Array.isArray\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    each\n  }\n} = __webpack_require__(0);\n\nlet nextId = 1;\n\nclass EventHandler {\n  constructor() {\n    this._listeners = {};\n  }\n\n  on(target, type, listener, ...options) {\n    if (target.addEventListener) {\n      target.addEventListener(type, listener, ...options);\n    }\n\n    const obj = {\n      target,\n      type,\n      listener,\n      options\n    };\n    const id = nextId++;\n    this._listeners[id] = obj;\n    return id;\n  }\n\n  once(target, type, listener, ...options) {\n    const id = this.on(target, type, (...args) => {\n      listener(...args);\n      this.off(id);\n    }, ...options);\n    return id;\n  }\n\n  tryWithOffEvents(target, type, call) {\n    const list = [];\n\n    try {\n      each(this._listeners, obj => {\n        if (obj.target === target && obj.type === type) {\n          if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n          }\n\n          list.push(obj);\n        }\n      });\n      call();\n    } finally {\n      list.forEach(obj => {\n        if (obj.target.addEventListener) {\n          obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n        }\n      });\n    }\n  }\n\n  off(id) {\n    if (!id) {\n      return;\n    }\n\n    const obj = this._listeners[id];\n\n    if (!obj) {\n      return;\n    }\n\n    delete this._listeners[id];\n\n    if (obj.target.removeEventListener) {\n      obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n    }\n  }\n\n  fire(target, type, ...args) {\n    each(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        obj.listener.call(obj.target, ...args);\n      }\n    });\n  }\n\n  hasListener(target, type) {\n    let result = false;\n    each(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        result = true;\n      }\n    });\n    return result;\n  }\n\n  clear() {\n    each(this._listeners, obj => {\n      if (obj.target.removeEventListener) {\n        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n      }\n    });\n    this._listeners = {};\n  }\n\n  dispose() {\n    this.clear();\n    this._listeners = null;\n  }\n\n}\n\nmodule.exports = EventHandler;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(22);\n\nlet defaultStyle;\n\nclass Style extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._padding = style.padding;\n    this._textOverflow = style.textOverflow || 'clip';\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n\n  get font() {\n    return this._font;\n  }\n\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n\n  get padding() {\n    return this._padding;\n  }\n\n  set padding(padding) {\n    this._padding = padding;\n    this.doChangeStyle();\n  }\n\n  get textOverflow() {\n    return this._textOverflow;\n  }\n\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new Style(this);\n  }\n\n}\n\nmodule.exports = Style;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef,\n  browser,\n  isDescendantElement,\n  array,\n  isPromise,\n  event: {\n    isTouchEvent,\n    getMouseButtons,\n    getKeyCode,\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst EventTarget = __webpack_require__(14);\n\nconst Rect = __webpack_require__(18);\n\nconst Scrollable = __webpack_require__(69);\n\nconst EventHandler = __webpack_require__(3);\n\nconst NumberMap = __webpack_require__(73);\n\nconst style = __webpack_require__(34);\n\nconst calc = __webpack_require__(19);\n\nconst {\n  getFontSize\n} = __webpack_require__(8);\n\nconst hiDPI = __webpack_require__(74); //protected symbol\n\n\nconst {\n  PROTECTED_SYMBOL: _\n} = __webpack_require__(1);\n\nfunction createRootElement() {\n  const element = document.createElement('div');\n  element.classList.add('cheetah-grid');\n  return element;\n}\n\nconst KEY_END = 35;\nconst KEY_HOME = 36;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_ALPHA_C = 67;\nconst KEY_ALPHA_V = 86;\nconst EV_CLICK_CELL = 'click_cell';\nconst EV_DBLCLICK_CELL = 'dblclick_cell';\nconst EV_DBLTAP_CELL = 'dbltap_cell';\nconst EV_MOUSEDOWN_CELL = 'mousedown_cell';\nconst EV_MOUSEUP_CELL = 'mouseup_cell';\nconst EV_SELECTED_CELL = 'selected_cell';\nconst EV_KEYDOWN = 'keydown';\nconst EV_MOUSEMOVE_CELL = 'mousemove_cell';\nconst EV_MOUSEENTER_CELL = 'mouseenter_cell';\nconst EV_MOUSELEAVE_CELL = 'mouseleave_cell';\nconst EV_MOUSEOVER_CELL = 'mouseover_cell';\nconst EV_MOUSEOUT_CELL = 'mouseout_cell';\nconst EV_INPUT_CELL = 'input_cell';\nconst EV_PASTE_CELL = 'paste_cell';\nconst EV_EDITABLEINPUT_CELL = 'editableinput_cell';\nconst EV_MODIFY_STATUS_EDITABLEINPUT_CELL = 'modify_status_editableinput_cell';\nconst EV_RESIZE_COLUMN = 'resize_column';\nconst EV_SCROLL = 'scroll';\nconst EVENT_TYPE = {\n  CLICK_CELL: EV_CLICK_CELL,\n  DBLCLICK_CELL: EV_DBLCLICK_CELL,\n  DBLTAP_CELL: EV_DBLTAP_CELL,\n  MOUSEDOWN_CELL: EV_MOUSEDOWN_CELL,\n  MOUSEUP_CELL: EV_MOUSEUP_CELL,\n  SELECTED_CELL: EV_SELECTED_CELL,\n  KEYDOWN: EV_KEYDOWN,\n  MOUSEMOVE_CELL: EV_MOUSEMOVE_CELL,\n  MOUSEENTER_CELL: EV_MOUSEENTER_CELL,\n  MOUSELEAVE_CELL: EV_MOUSELEAVE_CELL,\n  MOUSEOVER_CELL: EV_MOUSEOVER_CELL,\n  MOUSEOUT_CELL: EV_MOUSEOUT_CELL,\n  INPUT_CELL: EV_INPUT_CELL,\n  PASTE_CELL: EV_PASTE_CELL,\n  EDITABLEINPUT_CELL: EV_EDITABLEINPUT_CELL,\n  MODIFY_STATUS_EDITABLEINPUT_CELL: EV_MODIFY_STATUS_EDITABLEINPUT_CELL,\n  RESIZE_COLUMN: EV_RESIZE_COLUMN,\n  SCROLL: EV_SCROLL\n}; //private methods\n\nfunction _vibrate(e) {\n  if (navigator.vibrate && isTouchEvent(e)) {\n    navigator.vibrate(50);\n  }\n}\n\nfunction _getTargetRowAt(grid, absoluteY) {\n  const internal = grid.getTargetRowAtInternal(absoluteY);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  const findBefore = (startRow, startBottom) => {\n    let bottom = startBottom;\n\n    for (let row = startRow; row >= 0; row--) {\n      const height = _getRowHeight(grid, row);\n\n      const top = bottom - height;\n\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n\n      bottom = top;\n    }\n\n    return null;\n  };\n\n  const findAfter = (startRow, startBottom) => {\n    let top = startBottom - _getRowHeight(grid, startRow);\n\n    const {\n      rowCount\n    } = grid[_];\n\n    for (let row = startRow; row < rowCount; row++) {\n      const height = _getRowHeight(grid, row);\n\n      const bottom = top + height;\n\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n\n      top = bottom;\n    }\n\n    return null;\n  };\n\n  const candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\n  const bottom = _getRowsHeight(grid, 0, candRow);\n\n  if (absoluteY >= bottom) {\n    return findAfter(candRow, bottom);\n  } else {\n    return findBefore(candRow, bottom);\n  }\n}\n\nfunction _getTargetColAt(grid, absoluteX) {\n  let left = 0;\n  const {\n    colCount\n  } = grid[_];\n\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    const right = left + width;\n\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n\n    left = right;\n  }\n\n  return null;\n}\n\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n\n  let {\n    top\n  } = grid[_].scroll;\n  const rowCount = grid[_].frozenRowCount;\n\n  for (let row = 0; row < rowCount; row++) {\n    const height = _getRowHeight(grid, row);\n\n    const bottom = top + height;\n\n    if (bottom > absoluteY) {\n      return {\n        top,\n        row\n      };\n    }\n\n    top = bottom;\n  }\n\n  return null;\n}\n\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n\n  let {\n    left\n  } = grid[_].scroll;\n  const colCount = grid[_].frozenColCount;\n\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    const right = left + width;\n\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n\n    left = right;\n  }\n\n  return null;\n}\n\nfunction _getFrozenRowsRect(grid) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n\n  const {\n    top\n  } = grid[_].scroll;\n  let height = 0;\n  const rowCount = grid[_].frozenRowCount;\n\n  for (let row = 0; row < rowCount; row++) {\n    height += _getRowHeight(grid, row);\n  }\n\n  return new Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n\nfunction _getFrozenColsRect(grid) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n\n  const {\n    left\n  } = grid[_].scroll;\n  let width = 0;\n  const colCount = grid[_].frozenColCount;\n\n  for (let col = 0; col < colCount; col++) {\n    width += _getColWidth(grid, col);\n  }\n\n  return new Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n\nfunction _getCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return null;\n  }\n\n  return grid[_].drawCells[row][col];\n}\n\nfunction _putCellDrawing(grid, col, row, context) {\n  if (!grid[_].drawCells[row]) {\n    grid[_].drawCells[row] = {};\n  }\n\n  grid[_].drawCells[row][col] = context;\n}\n\nfunction _removeCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return;\n  }\n\n  delete grid[_].drawCells[row][col];\n\n  if (Object.keys(grid[_].drawCells[row]).length === 0) {\n    delete grid[_].drawCells[row];\n  }\n}\n\nfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n  const rect = new Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n  const drawRect = Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n\n  if (drawRect.height > 0 && drawRect.width > 0) {\n    ctx.save();\n\n    try {\n      const cellDrawing = _getCellDrawing(grid, col, row);\n\n      if (cellDrawing) {\n        cellDrawing.cancel();\n      }\n\n      const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, grid[_].selection, drawLayers);\n      const p = grid.onDrawCell(col, row, dcContext);\n\n      if (isPromise(p)) {\n        //\n        _putCellDrawing(grid, col, row, dcContext);\n\n        const pCol = col;\n\n        dcContext._delayMode(grid, () => {\n          _removeCellDrawing(grid, pCol, row);\n        });\n\n        p.then(() => {\n          dcContext.terminate();\n        });\n      }\n    } finally {\n      ctx.restore();\n    }\n  }\n}\n\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n  const {\n    colCount\n  } = grid[_];\n\n  const drawOuter = (col, absoluteLeft) => {\n    //\n    if (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n      const outerLeft = absoluteLeft - visibleRect.left;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n      ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n\n  let skipAbsoluteLeft = 0;\n\n  if (initFrozenCol) {\n    let absoluteLeft = initFrozenCol.left;\n    const count = grid[_].frozenColCount;\n\n    for (let {\n      col\n    } = initFrozenCol; col < count; col++) {\n      const width = _getColWidth(grid, col);\n\n      _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n\n      absoluteLeft += width;\n\n      if (drawRight <= absoluteLeft) {\n        //\n        drawOuter(col, absoluteLeft);\n        return;\n      }\n    }\n\n    skipAbsoluteLeft = absoluteLeft;\n  }\n\n  let absoluteLeft = initCol.left;\n\n  for (let {\n    col\n  } = initCol; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n\n    absoluteLeft += width;\n\n    if (drawRight <= absoluteLeft) {\n      //\n      drawOuter(col, absoluteLeft);\n      return;\n    }\n  }\n\n  drawOuter(colCount - 1, absoluteLeft);\n}\n\nfunction _invalidateRect(grid, drawRect) {\n  const visibleRect = _getVisibleRect(grid);\n\n  const {\n    rowCount\n  } = grid[_];\n\n  const ctx = grid._getInitContext();\n\n  const initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n    top: _getRowsHeight(grid, 0, rowCount - 1),\n    row: rowCount\n  };\n  const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n    left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n    col: grid[_].colCount\n  };\n  const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n  const drawRight = Math.min(visibleRect.right, drawRect.right);\n\n  const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\n  const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n  const drawLayers = new DrawLayers();\n\n  const drawOuter = (row, absoluteTop) => {\n    //\n    if (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n      const outerTop = absoluteTop - visibleRect.top;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n      ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n\n  let skipAbsoluteTop = 0;\n\n  if (initFrozenRow) {\n    let absoluteTop = initFrozenRow.top;\n    const count = grid[_].frozenRowCount;\n\n    for (let {\n      row\n    } = initFrozenRow; row < count; row++) {\n      const height = _getRowHeight(grid, row);\n\n      _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n\n      absoluteTop += height;\n\n      if (drawBottom <= absoluteTop) {\n        //\n        drawOuter(row, absoluteTop);\n        drawLayers.draw(ctx);\n        return;\n      }\n    }\n\n    skipAbsoluteTop = absoluteTop;\n  }\n\n  let absoluteTop = initRow.top;\n\n  for (let {\n    row\n  } = initRow; row < rowCount; row++) {\n    const height = _getRowHeight(grid, row); //\n\n\n    _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n\n    absoluteTop += height;\n\n    if (drawBottom <= absoluteTop) {\n      //\n      drawOuter(row, absoluteTop);\n      drawLayers.draw(ctx);\n      return;\n    }\n  }\n\n  drawOuter(rowCount - 1, absoluteTop);\n  drawLayers.draw(ctx);\n}\n\nfunction _toPxWidth(grid, width) {\n  return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n\nfunction _getDefaultColPxWidth(grid) {\n  return _toPxWidth(grid, grid.defaultColWidth);\n}\n\nfunction _adjustColWidth(grid, col, orgWidth) {\n  const limit = grid[_].colWidthsLimit[col];\n\n  if (!limit) {\n    return orgWidth;\n  }\n\n  if (limit.min) {\n    const min = _toPxWidth(grid, limit.min);\n\n    if (min > orgWidth) {\n      return min;\n    }\n  }\n\n  if (limit.max) {\n    const max = _toPxWidth(grid, limit.max);\n\n    if (max < orgWidth) {\n      return max;\n    }\n  }\n\n  return orgWidth;\n}\n\nfunction _getColWidth(grid, col) {\n  const width = grid[_].colWidthsMap.get(col);\n\n  if (width) {\n    return _adjustColWidth(grid, col, _toPxWidth(grid, width));\n  }\n\n  return _getDefaultColPxWidth(grid);\n}\n\nfunction _setColWidth(grid, col, width) {\n  grid[_].colWidthsMap.put(col, width);\n}\n\nfunction _getColsWidth(grid, startCol, endCol) {\n  const colCount = endCol - startCol + 1;\n  let w = _getDefaultColPxWidth(grid) * colCount;\n\n  grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n    w += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n  });\n\n  return w;\n}\n\nfunction _getRowHeight(grid, row) {\n  const internal = grid.getRowHeightInternal(row);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  const height = grid[_].rowHeightsMap.get(row);\n\n  if (height) {\n    return height;\n  }\n\n  return grid[_].defaultRowHeight;\n}\n\nfunction _setRowHeight(grid, row, height) {\n  grid[_].rowHeightsMap.put(row, height);\n}\n\nfunction _getRowsHeight(grid, startRow, endRow) {\n  const internal = grid.getRowsHeightInternal(startRow, endRow);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  const rowCount = endRow - startRow + 1;\n  let h = grid[_].defaultRowHeight * rowCount;\n\n  grid[_].rowHeightsMap.each(startRow, endRow, height => {\n    h += height - grid[_].defaultRowHeight;\n  });\n\n  return h;\n}\n\nfunction _getScrollWidth(grid) {\n  let w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\n  grid[_].colWidthsMap.eachAll((width, col) => {\n    w += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n  });\n\n  return w;\n}\n\nfunction _getScrollHeight(grid, row) {\n  const internal = grid.getScrollHeightInternal(row);\n\n  if (isDef(internal)) {\n    return internal;\n  }\n\n  let h = grid[_].defaultRowHeight * grid[_].rowCount;\n\n  grid[_].rowHeightsMap.eachAll(height => {\n    h += height - grid[_].defaultRowHeight;\n  });\n\n  return h;\n}\n\nfunction _onScroll(grid, e) {\n  const lastLeft = grid[_].scroll.left;\n  const lastTop = grid[_].scroll.top;\n  const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n  const moveY = grid[_].scrollable.scrollTop - lastTop; //\n\n  grid[_].scroll = {\n    left: grid[_].scrollable.scrollLeft,\n    top: grid[_].scrollable.scrollTop\n  };\n\n  const visibleRect = _getVisibleRect(grid);\n\n  if (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n    //\n    _invalidateRect(grid, visibleRect);\n  } else {\n    //\n    grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n    if (moveX !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n\n      if (moveX < 0) {\n        redrawRect.width = -moveX;\n\n        if (grid[_].frozenColCount > 0) {\n          //\n          const frozenRect = _getFrozenColsRect(grid);\n\n          redrawRect.width += frozenRect.width;\n        }\n      } else if (moveX > 0) {\n        redrawRect.left = redrawRect.right - moveX;\n      } //\n\n\n      _invalidateRect(grid, redrawRect);\n\n      if (moveX > 0) {\n        if (grid[_].frozenColCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenColsRect(grid));\n        }\n      }\n    }\n\n    if (moveY !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n\n      if (moveY < 0) {\n        redrawRect.height = -moveY;\n\n        if (grid[_].frozenRowCount > 0) {\n          //\n          const frozenRect = _getFrozenRowsRect(grid);\n\n          redrawRect.height += frozenRect.height;\n        }\n      } else if (moveY > 0) {\n        redrawRect.top = redrawRect.bottom - moveY;\n      } //\n\n\n      _invalidateRect(grid, redrawRect);\n\n      if (moveY > 0) {\n        if (grid[_].frozenRowCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenRowsRect(grid));\n        }\n      }\n    }\n  }\n}\n\nfunction _onKeyDownMove(grid, e) {\n  const {\n    shiftKey\n  } = e;\n  const keyCode = getKeyCode(e);\n  const focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\n  if (keyCode === KEY_LEFT) {\n    const col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\n    if (col < 0) {\n      return;\n    }\n\n    _moveFocusCell(grid, col, focusCell.row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_UP) {\n    const row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\n    if (row < 0) {\n      return;\n    }\n\n    _moveFocusCell(grid, focusCell.col, row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_RIGHT) {\n    const col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\n    if (grid.colCount <= col) {\n      return;\n    }\n\n    _moveFocusCell(grid, col, focusCell.row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_DOWN) {\n    const row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\n    if (grid.rowCount <= row) {\n      return;\n    }\n\n    _moveFocusCell(grid, focusCell.col, row, shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_HOME) {\n    const row = e.ctrlKey ? 0 : focusCell.row;\n\n    _moveFocusCell(grid, 0, row, e.shiftKey);\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_END) {\n    const row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\n    _moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\n    cancelEvent(e);\n  }\n}\n\nfunction _moveFocusCell(grid, col, row, shiftKey) {\n  const offset = grid.getOffsetInvalidateCells();\n\n  function extendRange(range) {\n    if (offset > 0) {\n      range.start.col -= offset;\n      range.start.row -= offset;\n      range.end.col += offset;\n      range.end.row += offset;\n    }\n\n    return range;\n  }\n\n  const beforeRange = extendRange(grid.selection.range);\n  const beforeRect = grid.getCellsRect(beforeRange.start.col, beforeRange.start.row, beforeRange.end.col, beforeRange.end.row);\n\n  grid.selection._setFocusCell(col, row, shiftKey);\n\n  grid.makeVisibleCell(col, row);\n  grid.focusCell(col, row);\n  const afterRange = extendRange(grid.selection.range);\n  const afterRect = grid.getCellsRect(afterRange.start.col, afterRange.start.row, afterRange.end.col, afterRange.end.row);\n\n  if (afterRect.intersection(beforeRect)) {\n    const invalidateRect = Rect.max(afterRect, beforeRect);\n\n    _invalidateRect(grid, invalidateRect);\n  } else {\n    _invalidateRect(grid, beforeRect);\n\n    _invalidateRect(grid, afterRect);\n  }\n}\n\nfunction _getMouseAbstractPoint(grid, e) {\n  if (isTouchEvent(e)) {\n    e = e.changedTouches[0];\n  }\n\n  const clientX = e.clientX || e.pageX + window.scrollX;\n  const clientY = e.clientY || e.pageY + window.scrollY;\n\n  const rect = grid[_].canvas.getBoundingClientRect();\n\n  if (rect.right <= clientX) {\n    return null;\n  }\n\n  if (rect.bottom <= clientY) {\n    return null;\n  }\n\n  const x = clientX - rect.left + grid[_].scroll.left;\n  const y = clientY - rect.top + grid[_].scroll.top;\n  return {\n    x,\n    y\n  };\n}\n\nfunction _bindEvents(grid) {\n  const {\n    handler,\n    element,\n    scrollable\n  } = grid[_];\n\n  const getCellEventArgsSet = e => {\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n\n    if (!abstractPos) {\n      return {};\n    }\n\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\n    if (cell.col < 0 || cell.row < 0) {\n      return {\n        abstractPos,\n        cell\n      };\n    }\n\n    const eventArgs = {\n      col: cell.col,\n      row: cell.row,\n      event: e\n    };\n    return {\n      abstractPos,\n      cell,\n      eventArgs\n    };\n  };\n\n  const canResizeColumn = col => {\n    const limit = grid[_].colWidthsLimit[col];\n\n    if (!limit || !limit.min || !limit.max) {\n      return true;\n    }\n\n    return limit.max !== limit.min;\n  };\n\n  handler.on(element, 'mousedown', e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n\n    if (!abstractPos) {\n      return;\n    }\n\n    if (eventArgs) {\n      const results = grid.fireListeners(EV_MOUSEDOWN_CELL, eventArgs);\n\n      if (array.findIndex(results, v => !v) >= 0) {\n        return;\n      }\n    }\n\n    if (getMouseButtons(e) !== 1) {\n      return;\n    }\n\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      //\n      grid[_].columnResizer.start(resizeCol, e);\n    } else {\n      //\n      grid[_].cellSelector.start(e);\n    }\n  });\n  handler.on(element, 'mouseup', e => {\n    if (!grid.hasListeners(EV_MOUSEUP_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (eventArgs) {\n      grid.fireListeners(EV_MOUSEUP_CELL, eventArgs);\n    }\n  });\n  let doubleTapBefore = null;\n  let longTouchId = null;\n  handler.on(element, 'touchstart', e => {\n    if (!doubleTapBefore) {\n      doubleTapBefore = getCellEventArgsSet(e).eventArgs;\n      setTimeout(() => {\n        doubleTapBefore = null;\n      }, 350);\n    } else {\n      const {\n        eventArgs\n      } = getCellEventArgsSet(e);\n\n      if (eventArgs && eventArgs.col === doubleTapBefore.col && eventArgs.row === doubleTapBefore.row) {\n        grid.fireListeners(EV_DBLTAP_CELL, eventArgs);\n      }\n\n      doubleTapBefore = null;\n\n      if (e.defaultPrevented) {\n        return;\n      }\n    }\n\n    longTouchId = setTimeout(() => {\n      //\n      longTouchId = null;\n\n      const abstractPos = _getMouseAbstractPoint(grid, e);\n\n      if (!abstractPos) {\n        return;\n      }\n\n      const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\n      if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n        //\n        grid[_].columnResizer.start(resizeCol, e);\n      } else {\n        //\n        grid[_].cellSelector.start(e);\n      }\n    }, 500);\n  });\n\n  function cancel(e) {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n      longTouchId = null;\n    }\n  }\n\n  handler.on(element, 'touchcancel', cancel);\n  handler.on(element, 'touchmove', cancel);\n  handler.on(element, 'touchend', e => {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n\n      grid[_].cellSelector.select(e);\n\n      longTouchId = null;\n    }\n  });\n  let isMouseover = false;\n  let mouseEnterCell = null;\n  let mouseOverCell = null;\n\n  function onMouseenterCell(cell) {\n    grid.fireListeners(EV_MOUSEENTER_CELL, cell);\n    mouseEnterCell = cell;\n  }\n\n  function onMouseleaveCell() {\n    const beforeMouseCell = mouseEnterCell;\n    mouseEnterCell = null;\n\n    if (beforeMouseCell) {\n      grid.fireListeners(EV_MOUSELEAVE_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row\n      });\n    }\n  }\n\n  function onMouseoverCell(cell) {\n    grid.fireListeners(EV_MOUSEOVER_CELL, cell);\n    mouseOverCell = cell;\n  }\n\n  function onMouseoutCell() {\n    const beforeMouseCell = mouseOverCell;\n    mouseOverCell = null;\n\n    if (beforeMouseCell) {\n      grid.fireListeners(EV_MOUSEOUT_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row\n      });\n    }\n  }\n\n  const scrollElement = scrollable.getElement();\n  handler.on(scrollElement, 'mouseover', e => {\n    isMouseover = true;\n  });\n  handler.on(scrollElement, 'mouseout', e => {\n    isMouseover = false;\n    onMouseoutCell();\n  });\n  handler.on(element, 'mouseleave', e => {\n    onMouseleaveCell();\n  });\n  handler.on(element, 'mousemove', e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n\n    if (eventArgs) {\n      const beforeMouseCell = mouseEnterCell;\n\n      if (beforeMouseCell) {\n        grid.fireListeners(EV_MOUSEMOVE_CELL, eventArgs);\n\n        if (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n          onMouseoutCell();\n          onMouseleaveCell();\n          const cell = {\n            col: eventArgs.col,\n            row: eventArgs.row\n          };\n          onMouseenterCell(cell);\n\n          if (isMouseover) {\n            onMouseoverCell(cell);\n          }\n        } else if (isMouseover && !mouseOverCell) {\n          onMouseoverCell({\n            col: eventArgs.col,\n            row: eventArgs.row\n          });\n        }\n      } else {\n        const cell = {\n          col: eventArgs.col,\n          row: eventArgs.row\n        };\n        onMouseenterCell(cell);\n\n        if (isMouseover) {\n          onMouseoverCell(cell);\n        }\n\n        grid.fireListeners(EV_MOUSEMOVE_CELL, eventArgs);\n      }\n    } else {\n      onMouseoutCell();\n      onMouseleaveCell();\n    }\n\n    if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n      return;\n    }\n\n    const {\n      style\n    } = element;\n\n    if (!abstractPos) {\n      if (style.cursor === 'col-resize') {\n        style.cursor = '';\n      }\n\n      return;\n    }\n\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      style.cursor = 'col-resize';\n    } else {\n      if (style.cursor === 'col-resize') {\n        style.cursor = '';\n      }\n    }\n  });\n  handler.on(element, 'click', e => {\n    if (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n      return;\n    }\n\n    if (!grid.hasListeners(EV_CLICK_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(EV_CLICK_CELL, eventArgs);\n  });\n  handler.on(element, 'dblclick', e => {\n    if (!grid.hasListeners(EV_DBLCLICK_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(EV_DBLCLICK_CELL, eventArgs);\n  });\n\n  grid[_].focusControl.listen('keydown', (keyCode, e) => {\n    grid.fireListeners(EV_KEYDOWN, keyCode, e);\n  });\n\n  grid[_].selection.listen(EV_SELECTED_CELL, data => {\n    grid.fireListeners(EV_SELECTED_CELL, data, data.selected);\n  });\n\n  scrollable.onScroll(e => {\n    _onScroll(grid, e);\n\n    grid.fireListeners(EV_SCROLL, {\n      event: e\n    });\n  });\n\n  grid[_].focusControl.onKeyDownMove(e => {\n    _onKeyDownMove(grid, e);\n  });\n\n  grid.listen('copydata', range => {\n    let copyValue = '';\n\n    for (let {\n      row\n    } = range.start; row <= range.end.row; row++) {\n      for (let {\n        col\n      } = range.start; col <= range.end.col; col++) {\n        const copyCellValue = grid.getCopyCellValue(col, row);\n\n        if (window.Promise && copyCellValue instanceof window.Promise) {//\n        } else {\n          const strCellValue = `${copyCellValue}`;\n\n          if (strCellValue.match(/^\\[object .*\\]$/)) {//object \n          } else {\n            copyValue += strCellValue;\n          }\n        }\n\n        if (col < range.end.col) {\n          copyValue += '\\t';\n        }\n      }\n\n      copyValue += '\\n';\n    }\n\n    return copyValue;\n  });\n\n  grid[_].focusControl.onCopy(e => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\n  grid[_].focusControl.onPaste(({\n    value,\n    event\n  }) => {\n    const normalizeValue = value.replace(/\\r?\\n$/, '');\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(EV_PASTE_CELL, {\n      col,\n      row,\n      value,\n      normalizeValue,\n      multi: /[\\r\\n\\u2028\\u2029\\t]/.test(normalizeValue),\n      // is multi cell values\n      event\n    });\n  });\n\n  grid[_].focusControl.onInput(value => {\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(EV_INPUT_CELL, {\n      col,\n      row,\n      value\n    });\n  });\n\n  grid.bindEventsInternal();\n}\n\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n  if (grid[_].frozenRowCount <= 0) {\n    return -1;\n  }\n\n  const frozenRect = _getFrozenRowsRect(grid);\n\n  if (!frozenRect.inPoint(abstractX, abstractY)) {\n    return -1;\n  }\n\n  const cell = grid.getCellAt(abstractX, abstractY);\n  const cellRect = grid.getCellRect(cell.col, cell.row);\n\n  if (abstractX < cellRect.left + offset) {\n    return cell.col - 1;\n  }\n\n  if (cellRect.right - offset < abstractX) {\n    return cell.col;\n  }\n\n  return -1;\n}\n\nfunction _getVisibleRect(grid) {\n  const {\n    scroll: {\n      left,\n      top\n    },\n    canvas: {\n      width,\n      height\n    }\n  } = grid[_];\n  return new Rect(left, top, width, height);\n}\n\nfunction _getScrollableVisibleRect(grid) {\n  let frozenColsWidth = 0;\n\n  if (grid[_].frozenColCount > 0) {\n    //\n    const frozenRect = _getFrozenColsRect(grid);\n\n    frozenColsWidth = frozenRect.width;\n  }\n\n  let frozenRowsHeight = 0;\n\n  if (grid[_].frozenRowCount > 0) {\n    //\n    const frozenRect = _getFrozenRowsRect(grid);\n\n    frozenRowsHeight = frozenRect.height;\n  }\n\n  return new Rect(grid[_].scroll.left + frozenColsWidth, grid[_].scroll.top + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n\nfunction _toRelativeRect(grid, absoluteRect) {\n  const rect = absoluteRect.copy();\n\n  const visibleRect = _getVisibleRect(grid);\n\n  rect.offsetLeft(-visibleRect.left);\n  rect.offsetTop(-visibleRect.top);\n  return rect;\n} //end private methods\n//\n//\n//\n//\n\n/**\n * managing mouse down moving\n * @private\n */\n\n\nclass BaseMouseDownMover {\n  constructor(grid) {\n    this._grid = grid;\n    this._handler = new EventHandler();\n    this._events = {};\n    this._started = false;\n    this._moved = false;\n  }\n\n  moving(e) {\n    return !!this._started;\n  }\n\n  lastMoving(e) {\n    // mouseupclick\n    if (this.moving(e)) {\n      return true;\n    }\n\n    const last = this._mouseEndPoint;\n\n    if (!last) {\n      return false;\n    }\n\n    const pt = _getMouseAbstractPoint(this._grid, e);\n\n    return pt.x === last.x && pt.y === last.y;\n  }\n\n  _bindMoveAndUp(e) {\n    const events = this._events;\n    const handler = this._handler;\n\n    if (!isTouchEvent(e)) {\n      events.mousemove = handler.on(document.body, 'mousemove', e => this._mouseMove(e));\n      events.mouseup = handler.on(document.body, 'mouseup', e => this._mouseUp(e));\n    } else {\n      events.touchmove = handler.on(document.body, 'touchmove', e => this._mouseMove(e), {\n        passive: false\n      });\n      events.touchend = handler.on(document.body, 'touchend', e => this._mouseUp(e));\n      events.touchcancel = handler.on(document.body, 'touchcancel', e => this._mouseUp(e));\n    }\n\n    this._started = true;\n    this._moved = false;\n  }\n\n  _mouseMove(e) {\n    if (!isTouchEvent(e)) {\n      if (getMouseButtons(e) !== 1) {\n        this._mouseUp(e);\n\n        return;\n      }\n    }\n\n    this._moved = this._moveInternal(e) || this._moved\n    /*calculation on after*/\n    ;\n    cancelEvent(e);\n  }\n\n  _moveInternal(e) {//protected\n  }\n\n  _mouseUp(e) {\n    const events = this._events;\n    const handler = this._handler;\n    handler.off(events.mousemove);\n    handler.off(events.touchmove);\n    handler.off(events.mouseup);\n    handler.off(events.touchend); // handler.off(this._events.mouseleave);\n\n    handler.off(events.touchcancel);\n    this._started = false;\n\n    this._upInternal(e); // mouseupclick\n\n\n    if (this._moved) {\n      //\n      this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n      setTimeout(() => {\n        this._mouseEndPoint = null;\n      }, 10);\n    }\n  }\n\n  _upInternal(e) {//protected\n  }\n\n  dispose() {\n    this._handler.dispose();\n  }\n\n}\n/**\n * managing cell selection operation with mouse\n * @private\n */\n\n\nclass CellSelector extends BaseMouseDownMover {\n  start(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return;\n    }\n\n    _moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n    this._bindMoveAndUp(e);\n\n    this._cell = cell;\n    cancelEvent(e);\n\n    _vibrate(e);\n  }\n\n  select(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return;\n    }\n\n    _moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n    this._cell = cell;\n  }\n\n  _moveInternal(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return false;\n    }\n\n    const {\n      col: oldCol,\n      row: oldRow\n    } = this._cell;\n    const {\n      col: newCol,\n      row: newRow\n    } = cell;\n\n    if (oldCol === newCol && oldRow === newRow) {\n      return false;\n    }\n\n    const grid = this._grid;\n\n    _moveFocusCell(grid, newCol, newRow, true); //make visible\n\n\n    const makeVisibleCol = (() => {\n      if (newCol < oldCol && 0 < newCol) {\n        // move left\n        return newCol - 1;\n      } else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n        // move right\n        return newCol + 1;\n      }\n\n      return newCol;\n    })();\n\n    const makeVisibleRow = (() => {\n      if (newRow < oldRow && 0 < newRow) {\n        // move up\n        return newRow - 1;\n      } else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n        // move down\n        return newRow + 1;\n      }\n\n      return newRow;\n    })();\n\n    if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n      grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n    }\n\n    this._cell = cell;\n    return true;\n  }\n\n  _getTargetCell(e) {\n    const grid = this._grid;\n\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n\n    if (!abstractPos) {\n      return null;\n    }\n\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\n    if (cell.col < 0 || cell.row < 0) {\n      return null;\n    }\n\n    return cell;\n  }\n\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\n\n\nclass ColumnResizer extends BaseMouseDownMover {\n  constructor(grid) {\n    super(grid);\n    this._targetCol = -1;\n  }\n\n  start(col, e) {\n    let pageX;\n\n    if (!isTouchEvent(e)) {\n      ({\n        pageX\n      } = e);\n    } else {\n      ({\n        pageX\n      } = e.changedTouches[0]);\n    }\n\n    this._x = pageX;\n    this._preX = 0;\n\n    this._bindMoveAndUp(e);\n\n    this._targetCol = col;\n    this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n    cancelEvent(e);\n\n    _vibrate(e);\n  }\n\n  _moveInternal(e) {\n    const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n    const x = pageX - this._x;\n    const moveX = x - this._preX;\n    this._preX = x;\n\n    const pre = this._grid.getColWidth(this._targetCol);\n\n    let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\n    if (afterSize < 10 && moveX < 0) {\n      afterSize = 10;\n    }\n\n    _setColWidth(this._grid, this._targetCol, afterSize);\n\n    const rect = _getVisibleRect(this._grid);\n\n    rect.left = this._invalidateAbsoluteLeft;\n\n    _invalidateRect(this._grid, rect);\n\n    this._grid.fireListeners(EV_RESIZE_COLUMN, {\n      col: this._targetCol\n    });\n\n    return true;\n  }\n\n  _upInternal(e) {\n    const grid = this._grid;\n\n    if (grid.updateScroll()) {\n      grid.invalidate();\n    }\n  }\n\n}\n\nfunction setSafeInputValue(input, value) {\n  const {\n    type\n  } = input;\n  input.type = '';\n  input.value = value;\n\n  if (type) {\n    input.type = type;\n  }\n}\n/**\n * Manage focus\n * @private\n */\n\n\nclass FocusControl extends EventTarget {\n  constructor(grid, parentElement, scrollable) {\n    super();\n    this._grid = grid;\n    this._scrollable = scrollable;\n    const handler = this._handler = new EventHandler();\n    const input = this._input = document.createElement('input');\n    input.classList.add('grid-focus-control');\n    input.readOnly = true;\n    parentElement.appendChild(input);\n    handler.on(input, 'compositionstart', e => {\n      input.classList.add('composition');\n      input.style.font = grid.font || '16px sans-serif';\n      this._isComposition = true;\n\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n\n      grid.focus();\n    });\n    let lastInputValue;\n\n    const inputClear = () => {\n      lastInputValue = input.value;\n\n      if (this._isComposition) {\n        return;\n      }\n\n      setSafeInputValue(input, '');\n    };\n\n    const handleCompositionEnd = () => {\n      this._isComposition = false;\n      input.classList.remove('composition');\n      input.style.font = '';\n      const {\n        value\n      } = input;\n      inputClear();\n\n      if (!input.readOnly) {\n        this.fireListeners('input', value);\n      }\n\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n    };\n\n    handler.on(input, 'compositionend', e => {\n      this._compositionEnd = setTimeout(handleCompositionEnd);\n    });\n    handler.on(input, 'keypress', e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      if (!input.readOnly && e.key && e.key.length === 1) {\n        if (e.key === 'c' && (e.ctrlKey || e.metaKey)) {//copy! for Firefox & Safari\n        } else if (e.key === 'v' && (e.ctrlKey || e.metaKey)) {//paste! for Firefox & Safari\n        } else {\n          this.fireListeners('input', e.key);\n          cancelEvent(e);\n        }\n      }\n\n      inputClear();\n    });\n    handler.on(input, 'keydown', e => {\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n          cancelEvent(e);\n        }\n\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n      this.fireListeners('keydown', keyCode, e);\n\n      if (!input.readOnly && lastInputValue) {\n        // for Safari\n        this.fireListeners('input', lastInputValue);\n      }\n\n      inputClear();\n    });\n    handler.on(input, 'keyup', e => {\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n        }\n      }\n\n      inputClear();\n    });\n    handler.on(input, 'input', e => {\n      inputClear();\n    });\n\n    if (browser.IE) {\n      handler.on(document, 'keydown', e => {\n        if (e.target !== input) {\n          return;\n        }\n\n        const keyCode = getKeyCode(e);\n\n        if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n          // When text is not selected copy-event is not emit, on IE.\n          setSafeInputValue(input, 'dummy');\n          input.select();\n          setTimeout(() => {\n            setSafeInputValue(input, '');\n          }, 100);\n        } else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n          // When input is read-only paste-event is not emit, on IE.\n          if (input.readOnly) {\n            input.readOnly = false;\n            setTimeout(() => {\n              input.readOnly = true;\n              setSafeInputValue(input, '');\n            }, 10);\n          }\n        }\n      });\n    }\n\n    if (browser.Edge) {\n      handler.once(document, 'keydown', e => {\n        if (!isDescendantElement(parentElement, e.target)) {\n          return;\n        } // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n\n\n        const dummyInput = document.createElement('input');\n        grid.getElement().appendChild(dummyInput);\n        dummyInput.focus();\n        input.focus();\n        dummyInput.parentElement.removeChild(dummyInput);\n      });\n    }\n\n    handler.on(document, 'paste', e => {\n      if (!isDescendantElement(parentElement, e.target)) {\n        return;\n      }\n\n      let pasteText = undefined;\n\n      if (browser.IE) {\n        // IE\n        pasteText = window.clipboardData.getData('Text');\n      } else {\n        const {\n          clipboardData\n        } = e;\n\n        if (clipboardData.items) {\n          // Chrome & Firefox & Edge\n          pasteText = clipboardData.getData('text/plain');\n        } else {\n          // Safari\n          if (-1 !== Array.prototype.indexOf.call(clipboardData.types, 'text/plain')) {\n            pasteText = clipboardData.getData('Text');\n          }\n        }\n      }\n\n      if (isDef(pasteText) && pasteText.length) {\n        this.fireListeners('paste', {\n          value: pasteText,\n          event: e\n        });\n      }\n    });\n    handler.on(document, 'copy', e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      if (!isDescendantElement(parentElement, e.target)) {\n        return;\n      }\n\n      setSafeInputValue(input, '');\n      const data = array.find(this.fireListeners('copy'), isDef);\n\n      if (isDef(data)) {\n        cancelEvent(e);\n\n        if (browser.IE) {\n          window.clipboardData.setData('Text', data); // IE\n        } else {\n          e.clipboardData.setData('text/plain', data); // Chrome, Firefox\n        }\n      }\n    });\n  }\n\n  onKeyDownMove(fn) {\n    this._handler.on(this._input, 'keydown', e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n        fn(e);\n      }\n    });\n  }\n\n  onInput(fn) {\n    return this.listen('input', fn);\n  }\n\n  onCopy(fn) {\n    return this.listen('copy', fn);\n  }\n\n  onPaste(fn) {\n    return this.listen('paste', fn);\n  }\n\n  focus() {\n    // this._input.value = '';\n    this._input.focus();\n  }\n\n  setFocusRect(rect) {\n    const input = this._input;\n\n    const top = this._scrollable.calcTop(rect.top);\n\n    input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n  }\n\n  set editMode(editMode) {\n    this._input.readOnly = !editMode;\n  }\n\n  resetInputStatus() {\n    const el = this._input;\n    const composition = el.classList.contains('composition');\n    const atts = el.attributes;\n    const removeNames = [];\n\n    for (let i = 0, n = atts.length; i < n; i++) {\n      const att = atts[i];\n\n      if (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n        removeNames.push(att.name);\n      }\n    }\n\n    removeNames.forEach(removeName => {\n      el.removeAttribute(removeName);\n    });\n\n    for (const name in this._inputStatus) {\n      el.setAttribute(name, this._inputStatus[name]);\n    }\n\n    if (composition) {\n      el.classList.add('composition');\n      el.style.font = this._grid.font || '16px sans-serif';\n    } else {\n      el.classList.remove('composition');\n    }\n  }\n\n  storeInputStatus() {\n    const el = this._input;\n    const inputStatus = this._inputStatus = {};\n    const atts = el.attributes;\n\n    for (let i = 0, n = atts.length; i < n; i++) {\n      const att = atts[i];\n      inputStatus[att.name] = att.value;\n    }\n  }\n\n  setDefaultInputStatus() {// \n    // this._input.style.font = this._grid.font || '16px sans-serif';\n  }\n\n  get editMode() {\n    return !this._input.readOnly;\n  }\n\n  get input() {\n    return this._input;\n  }\n\n  dispose() {\n    super.dispose();\n\n    this._handler.dispose();\n  }\n\n}\n/**\n * Selected area management\n */\n\n\nclass Selection extends EventTarget {\n  constructor(grid) {\n    super();\n    this._grid = grid;\n    this._sel = {\n      col: 0,\n      row: 0\n    };\n    this._focus = {\n      col: 0,\n      row: 0\n    };\n    this._start = {\n      col: 0,\n      row: 0\n    };\n    this._end = {\n      col: 0,\n      row: 0\n    };\n  }\n\n  get range() {\n    const start = this._start;\n    const end = this._end;\n    const startCol = Math.min(start.col, end.col);\n    const startRow = Math.min(start.row, end.row);\n    const endCol = Math.max(start.col, end.col);\n    const endRow = Math.max(start.row, end.row);\n    return {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      },\n\n      inCell(col, row) {\n        return startCol <= col && col <= endCol && startRow <= row && row <= endRow;\n      }\n\n    };\n  }\n\n  get focus() {\n    const {\n      col,\n      row\n    } = this._focus;\n    return {\n      col,\n      row\n    };\n  }\n\n  get select() {\n    const {\n      col,\n      row\n    } = this._sel;\n    return {\n      col,\n      row\n    };\n  }\n\n  set select(cell = {}) {\n    this._wrapFireSelectedEvent(() => {\n      const {\n        col = 0,\n        row = 0\n      } = cell;\n\n      this._setSelectCell(col, row);\n\n      this._setFocusCell(col, row, true);\n    });\n  }\n\n  _setSelectCell(col, row) {\n    this._wrapFireSelectedEvent(() => {\n      this._sel = {\n        col,\n        row\n      };\n      this._start = {\n        col,\n        row\n      };\n    });\n  }\n\n  _setFocusCell(col, row, keepSelect) {\n    this._wrapFireSelectedEvent(() => {\n      if (!keepSelect) {\n        this._setSelectCell(col, row);\n      }\n\n      this._focus = {\n        col,\n        row\n      };\n      this._end = {\n        col,\n        row\n      };\n    });\n  }\n\n  _wrapFireSelectedEvent(callback) {\n    if (this._isWraped) {\n      callback();\n    } else {\n      this._isWraped = true;\n\n      try {\n        const before = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: false\n        };\n        callback();\n        const after = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: true,\n          before: {\n            col: before.col,\n            row: before.row\n          }\n        };\n        before.after = {\n          col: after.col,\n          row: after.row\n        };\n        this.fireListeners(EV_SELECTED_CELL, before);\n        this.fireListeners(EV_SELECTED_CELL, after);\n      } finally {\n        this._isWraped = false;\n      }\n    }\n  }\n\n  _updateGridRange() {\n    const {\n      rowCount,\n      colCount\n    } = this._grid;\n    const points = [this._sel, this._focus, this._start, this._end];\n    let needChange = false;\n\n    for (let i = 0; i < points.length; i++) {\n      if (colCount <= points[i].col || rowCount <= points[i].row) {\n        needChange = true;\n        break;\n      }\n    }\n\n    if (!needChange) {\n      return false;\n    }\n\n    this._wrapFireSelectedEvent(() => {\n      points.forEach(p => {\n        p.col = Math.min(colCount - 1, p.col);\n        p.row = Math.min(rowCount - 1, p.row);\n      });\n    });\n\n    return true;\n  }\n\n}\n/**\n * This class manages the drawing process for each layer\n */\n\n\nclass DrawLayers {\n  constructor() {\n    this._layers = {};\n  }\n\n  addDraw(level, fn) {\n    const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n    l.addDraw(fn);\n  }\n\n  draw(ctx) {\n    const list = [];\n\n    for (const k in this._layers) {\n      list.push(this._layers[k]);\n    }\n\n    list.sort((a, b) => a.level - b.level);\n    list.forEach(l => l.draw(ctx));\n  }\n\n}\n\nclass DrawLayer {\n  constructor(level) {\n    this._level = level;\n    this._list = [];\n  }\n\n  get level() {\n    return this._level;\n  }\n\n  addDraw(fn) {\n    this._list.push(fn);\n  }\n\n  draw(ctx) {\n    this._list.forEach(fn => {\n      ctx.save();\n\n      try {\n        fn(ctx);\n      } finally {\n        ctx.restore();\n      }\n    });\n  }\n\n}\n/**\n * Context of cell drawing\n */\n\n\nclass DrawCellContext {\n  /**\n   * constructor\n   * @param {number} col index of column\n   * @param {number} row index of row\n   * @param {CanvasRenderingContext2D} ctx context\n   * @param {Rect} rect rect of cell area\n   * @param {Rect} drawRect rect of drawing area\n   * @param {boolean} drawing `true` if drawing is in progress\n   * @param {object} selection the selection\n   * @param {Array} drawLayers array of draw layers\n   * @private\n   */\n  constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n    this._col = col;\n    this._row = row;\n    this._mode = 0;\n    this._ctx = ctx;\n    this._rect = rect;\n    this._drawRect = drawRect;\n    this._drawing = drawing;\n    this._selection = selection;\n    this._drawLayers = drawLayers;\n    this._childContexts = [];\n  }\n\n  get drawing() {\n    if (this._mode === 0) {\n      return this._drawing;\n    } else {\n      return true;\n    }\n  }\n\n  get row() {\n    return this._row;\n  }\n\n  get col() {\n    return this._col;\n  }\n\n  cancel() {\n    this._cancel = true;\n\n    this._childContexts.forEach(ctx => {\n      ctx.cancel();\n    });\n  }\n  /**\n   * select status.\n   * @return {object} select status\n   */\n\n\n  getSelectState() {\n    const sel = this._selection.select;\n    return {\n      selected: sel.col === this._col && sel.row === this._row,\n      selection: this._selection.range.inCell(this._col, this._row)\n    };\n  }\n  /**\n   * Canvas context.\n   * @return {CanvasRenderingContext2D} Canvas context.\n   */\n\n\n  getContext() {\n    if (this._mode === 0) {\n      return this._ctx;\n    } else {\n      return this._grid._getInitContext();\n    }\n  }\n  /**\n   * Rectangle of cell.\n   * @return {Rect} rect Rectangle of cell.\n   */\n\n\n  getRect() {\n    if (this._mode === 0) {\n      return this._rect;\n    } else {\n      if (this._rect) {\n        return this._rect;\n      }\n\n      return this._grid.getCellRelativeRect(this._col, this._row);\n    }\n  }\n\n  setRect(rect) {\n    this._rect = rect;\n  }\n  /**\n   * Rectangle of Drawing range.\n   * @return {Rect} Rectangle of Drawing range.\n   */\n\n\n  getDrawRect() {\n    if (this._cancel) {\n      return null;\n    }\n\n    if (this._mode === 0) {\n      return this._drawRect;\n    } else {\n      if (this._isOutOfRange()) {\n        return null;\n      }\n\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n\n      return this._toRelativeDrawRect(absoluteRect);\n    }\n  }\n\n  _isOutOfRange() {\n    const {\n      colCount,\n      rowCount\n    } = this._grid;\n    return colCount <= this._col || rowCount <= this._row;\n  }\n  /**\n   * get Context of current state\n   * @return {DrawCellContext} current DrawCellContext.\n   */\n\n\n  toCurrentContext() {\n    if (this._mode === 0) {\n      return this;\n    } else {\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n\n      const rect = _toRelativeRect(this._grid, absoluteRect);\n\n      const drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n      const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers); // toCurrentContext  toCurrentContext\n\n      context.toCurrentContext = this.toCurrentContext.bind(this);\n\n      this._childContexts.push(context);\n\n      if (this._cancel) {\n        context.cancel();\n      }\n\n      return context;\n    }\n  }\n\n  addLayerDraw(level, fn) {\n    this._drawLayers.addDraw(level, fn);\n  }\n\n  _toRelativeDrawRect(absoluteRect) {\n    const visibleRect = _getVisibleRect(this._grid);\n\n    let rect = absoluteRect.copy();\n\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n\n    const isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\n    if (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n      const fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\n      rect = Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n    }\n\n    if (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n      const fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\n      rect = Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n    }\n\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n  }\n\n  _delayMode(grid, onTerminate) {\n    this._mode = 1;\n    this._ctx = null;\n    this._rect = null;\n    this._drawRect = null;\n    this._grid = grid;\n    this._onTerminate = onTerminate;\n  }\n  /**\n   * terminate\n   * @return {void}\n   */\n\n\n  terminate() {\n    if (this._mode !== 0) {\n      this._onTerminate();\n    }\n  }\n\n}\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @extends EventTarget\n * @memberof cheetahGrid.core\n */\n\n\nclass DrawGrid extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n  /**\n   * constructor\n   *\n   * <pre>\n   * Constructor options\n   * -----\n   * rowCount: grid row count.default 10\n   * colCount: grid col count.default 10\n   * frozenColCount: default 0\n   * frozenRowCount: default 0\n   * defaultRowHeight: default grid row height. default 40\n   * defaultColWidth: default grid col width. default 80\n   * parentElement: canvas parentElement\n   * font: default font\n   * underlayBackgroundColor: underlay background color\n   * -----\n   * </pre>\n   *\n   * @constructor\n   * @param  {Object} options Constructor options\n   */\n\n\n  constructor({\n    rowCount = 10,\n    colCount = 10,\n    frozenColCount = 0,\n    frozenRowCount = 0,\n    defaultRowHeight = 40,\n    defaultColWidth = 80,\n    font,\n    underlayBackgroundColor,\n    parentElement\n  } = {}) {\n    super();\n    const protectedSpace = this[_] = {};\n    style.initDocument();\n    protectedSpace.element = createRootElement();\n    protectedSpace.scrollable = new Scrollable();\n    protectedSpace.handler = new EventHandler();\n    protectedSpace.selection = new Selection(this);\n    protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable);\n    protectedSpace.canvas = hiDPI.transform(document.createElement('canvas'));\n    protectedSpace.context = protectedSpace.canvas.getContext('2d', {\n      alpha: false\n    });\n    protectedSpace.rowCount = rowCount;\n    protectedSpace.colCount = colCount;\n    protectedSpace.frozenColCount = frozenColCount;\n    protectedSpace.frozenRowCount = frozenRowCount;\n    protectedSpace.defaultRowHeight = defaultRowHeight;\n    protectedSpace.defaultColWidth = defaultColWidth;\n    protectedSpace.font = font;\n    protectedSpace.underlayBackgroundColor = underlayBackgroundColor; /////\n\n    protectedSpace.rowHeightsMap = new NumberMap();\n    protectedSpace.colWidthsMap = new NumberMap();\n    protectedSpace.colWidthsLimit = {};\n    protectedSpace.calcWidthContext = {\n      _: protectedSpace,\n\n      get full() {\n        return this._.canvas.width;\n      },\n\n      get em() {\n        return getFontSize(this._.context, this._.font).width;\n      }\n\n    };\n    protectedSpace.columnResizer = new ColumnResizer(this);\n    protectedSpace.cellSelector = new CellSelector(this);\n    protectedSpace.drawCells = {};\n    protectedSpace.cellTextOverflows = {};\n    protectedSpace.element.appendChild(protectedSpace.canvas);\n    protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n    this.updateScroll();\n\n    if (parentElement) {\n      parentElement.appendChild(protectedSpace.element);\n      this.updateSize();\n    } else {\n      this.updateSize();\n    }\n\n    _bindEvents(this);\n  }\n  /**\n   * Get root element.\n   * @returns {HTMLElement} root element\n   */\n\n\n  getElement() {\n    return this[_].element;\n  }\n  /**\n   * Get canvas element.\n   * @type {HTMLCanvasElement}\n   */\n\n\n  get canvas() {\n    return this[_].canvas;\n  }\n  /**\n   * Focus the grid.\n   * @return {void}\n   */\n\n\n  focus() {\n    const {\n      col,\n      row\n    } = this[_].selection.select;\n    this.focusCell(col, row);\n  }\n  /**\n   * Get the selection instance.\n   * @type {Selection}\n   */\n\n\n  get selection() {\n    return this[_].selection;\n  }\n  /**\n   * Get the number of rows.\n   * @type {number}\n   */\n\n\n  get rowCount() {\n    return this[_].rowCount;\n  }\n  /**\n   * Set the number of rows.\n   * @param {number} rowCount the number of rows to set\n   * @type {number}\n   */\n\n\n  set rowCount(rowCount) {\n    this[_].rowCount = rowCount;\n    this.updateScroll();\n\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.focusCell(col, row);\n    }\n  }\n  /**\n   * Get the number of columns.\n   * @type {number}\n   */\n\n\n  get colCount() {\n    return this[_].colCount;\n  }\n  /**\n   * Set the number of columns.\n   * @param {number} colCount the number of columns to set\n   * @type {number}\n   */\n\n\n  set colCount(colCount) {\n    this[_].colCount = colCount;\n    this.updateScroll();\n\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.focusCell(col, row);\n    }\n  }\n  /**\n   * Get the number of frozen columns.\n   * @type {number}\n   */\n\n\n  get frozenColCount() {\n    return this[_].frozenColCount;\n  }\n  /**\n   * Set the number of frozen columns.\n   * @param {number} frozenColCount the number of frozen columns to set\n   * @type {number}\n   */\n\n\n  set frozenColCount(frozenColCount) {\n    this[_].frozenColCount = frozenColCount;\n  }\n  /**\n   * Get the number of frozen rows.\n   * @type {number}\n   */\n\n\n  get frozenRowCount() {\n    return this[_].frozenRowCount;\n  }\n  /**\n   * Set the number of frozen rows.\n   * @param {number} frozenRowCount the number of frozen rows to set\n   * @type {number}\n   */\n\n\n  set frozenRowCount(frozenRowCount) {\n    this[_].frozenRowCount = frozenRowCount;\n  }\n  /**\n   * Get the default row height.\n   * @type {number}\n   *\n   */\n\n\n  get defaultRowHeight() {\n    return this[_].rowCount;\n  }\n  /**\n   * Set the default row height.\n   * @param {number} defaultRowHeight the default row height to set\n   * @type {number}\n   */\n\n\n  set defaultRowHeight(defaultRowHeight) {\n    this[_].defaultRowHeight = defaultRowHeight;\n    this.updateScroll();\n  }\n  /**\n   * Get the default column width.\n   * @type {number}\n   */\n\n\n  get defaultColWidth() {\n    return this[_].defaultColWidth;\n  }\n  /**\n   * Set the default column width.\n   * @param {number} defaultColWidth the default column width to set\n   * @type {number}\n   */\n\n\n  set defaultColWidth(defaultColWidth) {\n    this[_].defaultColWidth = defaultColWidth;\n    this.updateScroll();\n  }\n  /**\n   * Get the font definition as a string.\n   * @type {string}\n   */\n\n\n  get font() {\n    return this[_].font;\n  }\n  /**\n   * Set the font definition with the given string.\n   * @param {string} font the font definition to set\n   * @type {string}\n   */\n\n\n  set font(font) {\n    this[_].font = font;\n  }\n  /**\n   * Get the background color of the underlay.\n   * @type {*}\n   */\n\n\n  get underlayBackgroundColor() {\n    return this[_].underlayBackgroundColor;\n  }\n  /**\n   * Set the background color of the underlay.\n   * @param {*} underlayBackgroundColor the background color of the underlay to set\n   * @type {*}\n   */\n\n\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    this[_].underlayBackgroundColor = underlayBackgroundColor;\n  }\n\n  configure(name, value) {\n    const cfg = this[_].config || (this[_].config = {});\n\n    if (isDef(value)) {\n      cfg[name] = value;\n    }\n\n    return cfg[name];\n  }\n  /**\n   * Apply the changed size.\n   * @return {void}\n   */\n\n\n  updateSize() {\n    //\n    const {\n      canvas\n    } = this[_];\n    canvas.style.width = '';\n    canvas.style.height = '';\n    const width = Math.floor(canvas.offsetWidth || canvas.parentElement.offsetWidth - style.getScrollBarSize()\n    /*for legacy*/\n    );\n    const height = Math.floor(canvas.offsetHeight || canvas.parentElement.offsetHeight - style.getScrollBarSize()\n    /*for legacy*/\n    );\n    canvas.width = width;\n    canvas.height = height; //style\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    const sel = this[_].selection.select;\n\n    this[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n  }\n  /**\n   * Apply the changed scroll size.\n   * @return {boolean} `true` if there was a change in the scroll size\n   */\n\n\n  updateScroll() {\n    const {\n      scrollable\n    } = this[_];\n\n    const newHeight = _getScrollHeight(this);\n\n    const newWidth = _getScrollWidth(this);\n\n    if (newHeight === scrollable.scrollHeight && newWidth === scrollable.scrollWidth) {\n      return false;\n    }\n\n    scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n    this[_].scroll = {\n      left: scrollable.scrollLeft,\n      top: scrollable.scrollTop\n    };\n    return true;\n  }\n  /**\n   * Get the row height of the given the row index.\n   * @param  {number} row The row index\n   * @return {number} The row height\n   */\n\n\n  getRowHeight(row) {\n    return _getRowHeight(this, row);\n  }\n  /**\n   * Set the row height of the given the row index.\n   * @param  {number} row The row index\n   * @param  {number} height The row height\n   * @return {void}\n   */\n\n\n  setRowHeight(row, height) {\n    _setRowHeight(this, row, height);\n\n    this.updateScroll();\n  }\n  /**\n   * Get the column width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column width\n   */\n\n\n  getColWidth(col) {\n    return _getColWidth(this, col);\n  }\n  /**\n   * Set the column widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} width The column width\n   * @return {void}\n   */\n\n\n  setColWidth(col, width) {\n    _setColWidth(this, col, width);\n\n    this.updateScroll();\n  }\n  /**\n   * Get the column max width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column max width\n   */\n\n\n  getMaxColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.max || undefined;\n  }\n  /**\n   * Set the column max widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} maxwidth The column max width\n   * @return {void}\n   */\n\n\n  setMaxColWidth(col, maxwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    obj.max = maxwidth;\n  }\n  /**\n   * Get the column min width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column min width\n   */\n\n\n  getMinColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.min || undefined;\n  }\n  /**\n   * Set the column min widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} minwidth The column min width\n   * @return {void}\n   */\n\n\n  setMinColWidth(col, minwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    obj.min = minwidth;\n  }\n  /**\n   * Get the rect of the cell.\n   * @param {number} col index of column, of the cell\n   * @param {number} row index of row, of the cell\n   * @returns {Rect} the rect of the cell.\n   */\n\n\n  getCellRect(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n\n    let absoluteLeft = _getColsWidth(this, 0, col - 1);\n\n    const width = _getColWidth(this, col);\n\n    if (isFrozenCell && isFrozenCell.col) {\n      absoluteLeft += this[_].scroll.left;\n    }\n\n    let absoluteTop = _getRowsHeight(this, 0, row - 1);\n\n    const height = _getRowHeight(this, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      absoluteTop += this[_].scroll.top;\n    }\n\n    return new Rect(absoluteLeft, absoluteTop, width, height);\n  }\n  /**\n   * Get the relative rectangle of the cell.\n   * @param {number} col index of column, of the cell\n   * @param {number} row index of row, of the cell\n   * @returns {Rect} the rect of the cell.\n   */\n\n\n  getCellRelativeRect(col, row) {\n    return _toRelativeRect(this, this.getCellRect(col, row));\n  }\n  /**\n   * Get the rectangle of the cells area.\n   * @param {number} startCol index of the starting column, of the cell\n   * @param {number} startRow index of the starting row, of the cell\n   * @param {number} endCol index of the ending column, of the cell\n   * @param {number} endRow index of the ending row, of the cell\n   * @returns {Rect} the rect of the cells.\n   */\n\n\n  getCellsRect(startCol, startRow, endCol, endRow) {\n    const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n    const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n    let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\n    let width = _getColsWidth(this, startCol, endCol);\n\n    if (isFrozenStartCell && isFrozenStartCell.col) {\n      const scrollLeft = this[_].scroll.left;\n      absoluteLeft += scrollLeft;\n\n      if (!isFrozenEndCell || !isFrozenEndCell.col) {\n        width -= scrollLeft;\n        width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n      }\n    }\n\n    let absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\n    let height = _getRowsHeight(this, startRow, endRow);\n\n    if (isFrozenStartCell && isFrozenStartCell.row) {\n      const scrollTop = this[_].scroll.top;\n      absoluteTop += scrollTop;\n\n      if (!isFrozenEndCell || !isFrozenEndCell.row) {\n        height -= scrollTop;\n        height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n      }\n    }\n\n    return new Rect(absoluteLeft, absoluteTop, width, height);\n  }\n\n  isFrozenCell(col, row) {\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = this[_];\n    const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n    const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n\n    if (isFrozenRow || isFrozenCol) {\n      return {\n        row: isFrozenRow,\n        col: isFrozenCol\n      };\n    } else {\n      return null;\n    }\n  }\n\n  getRowAt(absoluteY) {\n    const frozen = _getTargetFrozenRowAt(this, absoluteY);\n\n    if (frozen) {\n      return frozen.row;\n    }\n\n    const row = _getTargetRowAt(this, absoluteY);\n\n    return row ? row.row : -1;\n  }\n\n  getColAt(absoluteX) {\n    const frozen = _getTargetFrozenColAt(this, absoluteX);\n\n    if (frozen) {\n      return frozen.col;\n    }\n\n    const col = _getTargetColAt(this, absoluteX);\n\n    return col ? col.col : -1;\n  }\n\n  getCellAt(absoluteX, absoluteY) {\n    return {\n      row: this.getRowAt(absoluteY),\n      col: this.getColAt(absoluteX)\n    };\n  }\n  /**\n   * Scroll to where cell is visible.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  makeVisibleCell(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n      return;\n    }\n\n    const rect = this.getCellRect(col, row);\n\n    const visibleRect = _getScrollableVisibleRect(this);\n\n    if (visibleRect.contains(rect)) {\n      return;\n    }\n\n    const {\n      scrollable\n    } = this[_];\n\n    if (!isFrozenCell || !isFrozenCell.col) {\n      if (rect.left < visibleRect.left) {\n        scrollable.scrollLeft -= visibleRect.left - rect.left;\n      } else if (visibleRect.right < rect.right) {\n        scrollable.scrollLeft -= visibleRect.right - rect.right;\n      }\n    }\n\n    if (!isFrozenCell || !isFrozenCell.row) {\n      if (rect.top < visibleRect.top) {\n        scrollable.scrollTop -= visibleRect.top - rect.top;\n      } else if (visibleRect.bottom < rect.bottom) {\n        scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n      }\n    }\n  }\n  /**\n   * Focus the cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  focusCell(col, row) {\n    const {\n      focusControl\n    } = this[_];\n    const oldEditMode = focusControl.editMode;\n\n    if (oldEditMode) {\n      focusControl.resetInputStatus();\n    }\n\n    focusControl.setFocusRect(this.getCellRect(col, row));\n    const {\n      col: selCol,\n      row: selRow\n    } = this[_].selection.select;\n    const results = this.fireListeners(EV_EDITABLEINPUT_CELL, {\n      col: selCol,\n      row: selRow\n    });\n    const editMode = array.findIndex(results, v => !!v) >= 0;\n    focusControl.editMode = editMode;\n\n    if (editMode) {\n      focusControl.storeInputStatus();\n      focusControl.setDefaultInputStatus();\n      this.fireListeners(EV_MODIFY_STATUS_EDITABLEINPUT_CELL, {\n        col: selCol,\n        row: selRow,\n        input: focusControl.input\n      });\n    } // Failure occurs in IE if focus is not last\n\n\n    focusControl.focus();\n  }\n  /**\n   * Redraws the range of the given cell.\n   * @param  {number} col The column index of cell.\n   * @param  {number} row The row index of cell.\n   * @return {void}\n   */\n\n\n  invalidateCell(col, row) {\n    this.invalidateGridRect(col, row);\n  }\n  /**\n   * Redraws the range of the given cells.\n   * @param {number} startCol index of the starting column, of the cell\n   * @param {number} startRow index of the starting row, of the cell\n   * @param {number} endCol index of the ending column, of the cell\n   * @param {number} endRow index of the ending row, of the cell\n   * @return {void}\n   */\n\n\n  invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n    const offset = this.getOffsetInvalidateCells();\n\n    if (offset > 0) {\n      startCol -= offset;\n      startRow -= offset;\n      endCol += offset;\n      endRow += offset;\n    }\n\n    const visibleRect = _getVisibleRect(this);\n\n    const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n    const invalidateTarget = visibleRect.intersection(cellsRect);\n\n    if (invalidateTarget) {\n      const {\n        frozenColCount,\n        frozenRowCount\n      } = this[_];\n\n      if (frozenColCount > 0 && endCol >= frozenColCount) {\n        const frozenRect = _getFrozenColsRect(this);\n\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n        }\n      }\n\n      if (frozenRowCount > 0 && endRow >= frozenRowCount) {\n        const frozenRect = _getFrozenRowsRect(this);\n\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n        }\n      }\n\n      _invalidateRect(this, invalidateTarget);\n    }\n  }\n  /**\n   * Redraws the whole grid.\n   * @return {void}\n   */\n\n\n  invalidate() {\n    const visibleRect = _getVisibleRect(this);\n\n    _invalidateRect(this, visibleRect);\n  }\n  /**\n   * Get the value of cell with the copy action.\n   * <p>\n   * Please implement\n   * </p>\n   *\n   * @protected\n   * @param  {number} col Column index of cell.\n   * @param  {number} row Row index of cell.\n   * @return {string} the value of cell\n   */\n\n\n  getCopyCellValue(col, row) {} //Please implement get cell value!!\n\n  /**\n   * Draw a cell\n   * <p>\n   * Please implement cell drawing.\n   * </p>\n   *\n   * @protected\n   * @param  {number} col Column index of cell.\n   * @param  {number} row Row index of cell.\n   * @param  {DrawCellContext} context context of cell drawing.\n   * @return {void}\n   */\n\n\n  onDrawCell(col, row, context) {} //Please implement cell drawing!!\n\n  /**\n   * Get the overflowed text in the cell rectangle, from the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {string | null} The text overflowing the cell rect.\n   */\n\n\n  getCellOverflowText(col, row) {\n    const key = `${col}:${row}`;\n    return this[_].cellTextOverflows[key] || null;\n  }\n  /**\n   * Set the overflowed text in the cell rectangle, to the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @param  {boolean} overflowText The overflowed text in the cell rectangle.\n   * @return {void}\n   */\n\n\n  setCellOverflowText(col, row, overflowText) {\n    const key = `${col}:${row}`;\n\n    if (overflowText) {\n      this[_].cellTextOverflows[key] = typeof overflowText === 'string' ? overflowText.trim() : overflowText;\n    } else {\n      delete this[_].cellTextOverflows[key];\n    }\n  }\n\n  addDisposable(disposable) {\n    if (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n      throw new Error('not disposable!');\n    }\n\n    const disposables = this[_].disposables = this[_].disposables || [];\n    disposables.push(disposable);\n  }\n  /**\n   * Dispose the grid instance.\n   * @returns {void}\n   */\n\n\n  dispose() {\n    super.dispose();\n    const protectedSpace = this[_];\n    protectedSpace.handler.dispose();\n    protectedSpace.scrollable.dispose();\n    protectedSpace.focusControl.dispose();\n    protectedSpace.columnResizer.dispose();\n    protectedSpace.cellSelector.dispose();\n\n    if (protectedSpace.disposables) {\n      protectedSpace.disposables.forEach(disposable => disposable.dispose());\n      protectedSpace.disposables = null;\n    }\n\n    const {\n      parentElement\n    } = protectedSpace.element;\n\n    if (parentElement) {\n      parentElement.removeChild(protectedSpace.element);\n    }\n  }\n\n  getAttachCellArea(col, row) {\n    return {\n      element: this.getElement(),\n      rect: _toRelativeRect(this, this.getCellRect(col, row))\n    };\n  }\n\n  bindEventsInternal() {//nop\n  }\n\n  getTargetRowAtInternal(absoluteY) {// \n  }\n\n  getRowsHeightInternal(startRow, endRow) {// \n  }\n\n  getRowHeightInternal(row) {// \n  }\n\n  getScrollHeightInternal(row) {// \n  }\n\n  getMoveLeftColByKeyDownInternal({\n    col,\n    row\n  }) {\n    return col - 1;\n  }\n\n  getMoveRightColByKeyDownInternal({\n    col,\n    row\n  }) {\n    return col + 1;\n  }\n\n  getMoveUpRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    return row - 1;\n  }\n\n  getMoveDownRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    return row + 1;\n  }\n\n  getOffsetInvalidateCells() {\n    return 0;\n  }\n\n  _getInitContext() {\n    const ctx = this[_].context; //\n\n    ctx.fillStyle = 'white';\n    ctx.strokeStyle = 'black';\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'top';\n    ctx.lineWidth = 1;\n    ctx.font = this.font || '16px sans-serif';\n    return ctx;\n  }\n\n}\n\nmodule.exports = DrawGrid;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(72);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst fontSizeCache = {};\n\nfunction getFontSize(ctx, font) {\n  if (fontSizeCache[font]) {\n    return fontSizeCache[font];\n  }\n\n  const bk = ctx.font;\n\n  try {\n    ctx.font = font || ctx.font;\n    const em = ctx.measureText('').width;\n    return fontSizeCache[font] = {\n      width: em,\n      height: em\n    };\n  } finally {\n    ctx.font = bk;\n  }\n}\n\nfunction calcBasePosition(ctx, rect, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  return calcStartPosition(ctx, rect, 0, 0, {\n    offset,\n    padding: {\n      left: paddingLeft,\n      right: paddingRight,\n      top: paddingTop,\n      bottom: paddingBottom\n    }\n  });\n}\n\nfunction calcStartPosition(ctx, rect, width, height, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  const textAlign = ctx.textAlign || 'left';\n  const textBaseline = ctx.textBaseline || 'middle';\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  let x = rect.left + offset + paddingLeft;\n\n  if (textAlign === 'right' || textAlign === 'end') {\n    x = rect.right - width - offset - paddingRight;\n  } else if (textAlign === 'center') {\n    x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n  }\n\n  let y = rect.top + offset + paddingTop;\n\n  if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n    y = rect.bottom - height - offset - paddingBottom;\n  } else if (textBaseline === 'middle') {\n    y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n  }\n\n  return {\n    x,\n    y\n  };\n}\n\nmodule.exports = {\n  calcBasePosition,\n  calcStartPosition,\n  getFontSize\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(41);\n\nconst {\n  isPromise,\n  isDef,\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst animate = __webpack_require__(21);\n\nconst BaseStyle = __webpack_require__(4);\n\nconst {\n  COLUMN_FADEIN_STATE_ID\n} = __webpack_require__(1);\n\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n  if (isDef(column._fadeinWhenCallbackInPromise)) {\n    return column._fadeinWhenCallbackInPromise;\n  }\n\n  return !!grid.configure('fadeinWhenCallbackInPromise');\n}\n\nfunction getFadinState(grid) {\n  if (!grid[COLUMN_FADEIN_STATE_ID]) {\n    setReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n  }\n\n  return grid[COLUMN_FADEIN_STATE_ID];\n}\n\nfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n  return point => {\n    const state = getFadinState(grid);\n    const stateKey = `${col}:${row}`;\n\n    if (point === 1) {\n      delete state[stateKey];\n    } else {\n      state[stateKey] = {\n        opacity: point\n      };\n    }\n\n    drawCellBase();\n    drawInternal();\n    const cellState = state[stateKey];\n\n    if (cellState) {\n      //\n      const ctx = context.getContext();\n      ctx.globalAlpha = 1 - cellState.opacity;\n\n      try {\n        drawCellBase();\n      } finally {\n        ctx.globalAlpha = 1;\n      }\n    }\n  };\n}\n\nconst fadinMgr = {\n  animate(grid, col, row, context, drawInternal, drawCellBase) {\n    // fadein animation\n    const state = getFadinState(grid);\n    const activeFadeins = [_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n    state.activeFadeins = activeFadeins;\n    animate(500, point => {\n      activeFadeins.forEach(f => f(point));\n\n      if (point === 1) {\n        delete state.activeFadeins;\n      }\n    });\n  },\n\n  margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n    const state = getFadinState(grid);\n\n    if (state.activeFadeins) {\n      state.activeFadeins.push(_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n    } else {\n      drawInternal();\n    }\n  }\n\n};\n\nclass BaseColumn {\n  constructor(option = {}) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n    //Promisecallback\n\n    this._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n  }\n\n  get StyleClass() {\n    return BaseStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    const {\n      style,\n      getRecord,\n      drawCellBase\n    } = info;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase();\n    const record = getRecord();\n    let promise;\n\n    if (isPromise(record)) {\n      promise = record.then(() => cellValue);\n    } else if (isPromise(cellValue)) {\n      promise = cellValue;\n    } //\n\n\n    if (promise) {\n      const start = Date.now();\n      return promise.then(val => {\n        const currentContext = context.toCurrentContext();\n        const drawRect = currentContext.getDrawRect();\n\n        if (!drawRect) {\n          return;\n        }\n\n        const time = Date.now() - start;\n\n        const drawInternal = () => {\n          const currentContext = context.toCurrentContext();\n          const drawRect = currentContext.getDrawRect();\n\n          if (!drawRect) {\n            return;\n          }\n\n          const record = getRecord();\n\n          if (isPromise(record)) {\n            return;\n          }\n\n          const actStyle = styleContents.of(style, record, this.StyleClass);\n          this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n          this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n        };\n\n        if (!isFadeinWhenCallbackInPromise(this, grid)) {\n          drawInternal(); //\n        } else {\n          const {\n            col,\n            row\n          } = context;\n\n          if (time < 80) {\n            //80msPromiseCallback\n            fadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n          } else {\n            //\n            fadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n          }\n        }\n      });\n    } else {\n      const actStyle = styleContents.of(style, record, this.StyleClass);\n      this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n      this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info); //\n\n      const {\n        col,\n        row\n      } = context;\n      const stateKey = `${col}:${row}`;\n      const cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\n      if (cellState) {\n        const ctx = context.getContext();\n        ctx.globalAlpha = 1 - cellState.opacity;\n\n        try {\n          drawCellBase();\n        } finally {\n          ctx.globalAlpha = 1;\n        }\n      }\n\n      return null;\n    }\n  }\n\n  clone() {\n    return new BaseColumn(this);\n  }\n\n  convertInternal(value) {\n    return isDef(value) ? value : '';\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {}\n\n  drawMessageInternal(message, context, style, helper, grid, info) {\n    info.messageHandler.drawCellMessage(message, context, style, helper, info);\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n}\n\nmodule.exports = BaseColumn;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nfunction createElement(tagName, {\n  classList,\n  text,\n  html\n} = {}) {\n  const element = document.createElement(tagName);\n\n  if (classList) {\n    if (__webpack_provided_Array_dot_isArray(classList)) {\n      element.classList.add(...classList);\n    } else {\n      element.classList.add(classList);\n    }\n  }\n\n  if (text) {\n    element.textContent = text;\n  } else if (html) {\n    element.innerHTML = html;\n  }\n\n  return element;\n}\n\nfunction empty(dom) {\n  let c;\n\n  while (c = dom.firstChild) {\n    dom.removeChild(c);\n  }\n}\n\nfunction isNode(arg) {\n  return !!(arg.nodeType && arg.nodeName);\n}\n\nfunction toNode(arg) {\n  if (isNode(arg)) {\n    return arg;\n  }\n\n  const dom = createElement('div', {\n    html: arg\n  });\n  return Array.prototype.slice.call(dom.childNodes);\n}\n\nfunction toNodeList(arg) {\n  if (window.jQuery && arg instanceof window.jQuery) {\n    return Array.prototype.map.call(arg, a => a);\n  }\n\n  if (__webpack_provided_Array_dot_isArray(arg)) {\n    return arg.map(toNode);\n  }\n\n  const node = toNode(arg);\n  return __webpack_provided_Array_dot_isArray(node) ? node : [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n  toNodeList(inner).forEach(node => {\n    dom.appendChild(node);\n  });\n}\n\nfunction disableFocus(el) {\n  el.dataset.disableBeforeTabIndex = el.tabIndex;\n  el.tabIndex = -1;\n  Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\n\nfunction enableFocus(el) {\n  if ('disableBeforeTabIndex' in el.dataset) {\n    el.tabIndex = el.dataset.disableBeforeTabIndex;\n  }\n\n  Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n  return isDef(el.tabIndex) && el.tabIndex > -1;\n}\n\nfunction findPrevSiblingFocusable(el) {\n  let n = el.previousSibling;\n\n  while (n && !isFocusable(n)) {\n    n = n.previousSibling;\n  }\n\n  return n;\n}\n\nfunction findNextSiblingFocusable(el) {\n  let n = el.nextSibling;\n\n  while (n && !isFocusable(n)) {\n    n = n.nextSibling;\n  }\n\n  return n;\n}\n\nmodule.exports = {\n  createElement,\n  empty,\n  isNode,\n  toNode,\n  toNodeList,\n  appendHtml,\n  disableFocus,\n  enableFocus,\n  isFocusable,\n  findPrevSiblingFocusable,\n  findNextSiblingFocusable\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst utils = __webpack_require__(16);\n\nclass Column extends BaseColumn {\n  get StyleClass() {\n    return Style;\n  }\n\n  clone() {\n    return new Column(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.testFontLoad(font, value, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.text(value, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nmodule.exports = Column;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(54);\n\nconst Style = __webpack_require__(26);\n\nconst SortHeaderStyle = __webpack_require__(107);\n\nconst CheckHeaderStyle = __webpack_require__(55);\n\nconst style = {\n  get BaseStyle() {\n    return BaseStyle;\n  },\n\n  get Style() {\n    return Style;\n  },\n\n  get SortHeaderStyle() {\n    return SortHeaderStyle;\n  },\n\n  get CheckHeaderStyle() {\n    return CheckHeaderStyle;\n  },\n\n  of(headerStyle, StyleClass) {\n    if (headerStyle) {\n      if (headerStyle instanceof Style) {\n        return headerStyle;\n      } else if (typeof headerStyle === 'function') {\n        return style.of(headerStyle(), StyleClass);\n      }\n\n      return new StyleClass(headerStyle);\n    } else {\n      return StyleClass.DEFAULT;\n    }\n  }\n\n};\nmodule.exports = style;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef,\n  str: {\n    genChars,\n    genWords\n  }\n} = __webpack_require__(0);\n\nfunction getWidth(ctx, content) {\n  return ctx.measureText(content).width;\n}\n\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n  const chars = [];\n  let ret = itr.next();\n\n  for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n    chars.push(ret);\n  }\n\n  let beforeWidth = getWidth(ctx, chars.join(''));\n\n  if (beforeWidth > width) {\n    while (chars.length) {\n      const c = chars.pop();\n      beforeWidth -= getWidth(ctx, c);\n\n      if (beforeWidth <= width) {\n        break;\n      }\n    }\n  } else if (beforeWidth < width) {\n    while (ret !== null) {\n      const charWidth = getWidth(ctx, ret);\n\n      if (beforeWidth + charWidth > width) {\n        break;\n      }\n\n      chars.push(ret);\n      beforeWidth += charWidth;\n      ret = itr.next();\n    }\n  }\n\n  const beforeContent = chars.join('').replace(/\\s+$/, '');\n  const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, '');\n  return {\n    before: beforeContent ? new Inline(beforeContent) : null,\n    after: afterContent ? new Inline(afterContent) : null\n  };\n}\n\nclass Inline {\n  constructor(content) {\n    this._content = isDef(content) ? content : '';\n  }\n\n  width({\n    ctx\n  }) {\n    return getWidth(ctx, this._content);\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return null;\n  }\n\n  canDraw() {\n    return true;\n  }\n\n  onReady(fn) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n\n  canBreak() {\n    return !!this._content;\n  }\n\n  splitIndex(index) {\n    const content = this._content;\n    const itr = genChars(content);\n    const chars = [];\n    let ret = itr.next();\n\n    for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n      chars.push(ret);\n    }\n\n    const beforeContent = chars.join('');\n    const afterContent = content.slice(beforeContent.length);\n    return {\n      before: beforeContent ? new Inline(beforeContent) : null,\n      after: afterContent ? new Inline(afterContent) : null\n    };\n  }\n\n  breakWord(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = genWords(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n\n  breakAll(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = genChars(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n\n  toString() {\n    return this._content;\n  }\n\n}\n\nmodule.exports = Inline;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef,\n  obj: {\n    each\n  }\n} = __webpack_require__(0); //private symbol\n\n\nconst _ = __webpack_require__(1).get();\n\nlet nextId = 1;\n/**\n\t * event target.\n\t */\n\nclass EventTarget {\n  constructor() {\n    this[_] = {};\n    this[_].listeners = {};\n    this[_].listenerData = {};\n  }\n  /**\n  \t * Adds an event listener.\n  \t * @param  {string} type The event type id.\n  \t * @param  {function} listener Callback method.\n  \t * @return {number} unique id for the listener.\n  \t */\n\n\n  listen(type, listener) {\n    const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n    list.push(listener);\n    const id = nextId++;\n    this[_].listenerData[id] = {\n      type,\n      listener,\n      remove: () => {\n        delete this[_].listenerData[id];\n        const index = list.indexOf(listener);\n        list.splice(index, 1);\n\n        if (!this[_].listeners[type].length) {\n          delete this[_].listeners[type];\n        }\n      }\n    };\n    return id;\n  }\n  /**\n  \t * Removes an event listener which was added with listen() by the id returned by listen().\n  \t * @param  {number} id the id returned by listen().\n  \t * @return {void}\n  \t */\n\n\n  unlisten(id) {\n    this[_].listenerData[id].remove();\n  }\n\n  addEventListener(type, listener) {\n    this.listen(type, listener);\n  }\n\n  removeEventListener(type, listener) {\n    each(this[_].listenerData, (obj, id) => {\n      if (obj.type === type && obj.listener === listener) {\n        this.unlisten(id);\n      }\n    });\n  }\n\n  hasListeners(type) {\n    return !!this[_].listeners[type];\n  }\n  /**\n  \t * Fires all registered listeners\n  \t * @param  {string}    type The type of the listeners to fire.\n  \t * @param  {...*} args fire arguments\n  \t * @return {*} the result of the last listener\n  \t */\n\n\n  fireListeners(type, ...args) {\n    const list = this[_].listeners[type];\n\n    if (!list) {\n      return [];\n    }\n\n    return list.map(listener => listener.call(this, ...args)).filter(isDef);\n  }\n\n  dispose() {\n    delete this[_];\n  }\n\n}\n\nmodule.exports = EventTarget;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseAction = __webpack_require__(20);\n\nclass Editor extends BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._readOnly = option.readOnly;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n  set readOnly(readOnly) {\n    this._readOnly = !!readOnly;\n    this.onChangeReadOnlyInternal();\n  }\n\n  clone() {\n    return new Editor(this);\n  }\n\n  onChangeReadOnlyInternal() {}\n\n}\n\nmodule.exports = Editor;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nconst icons = __webpack_require__(24);\n\nmodule.exports = {\n  loadIcons(icon, context, helper, callback) {\n    if (icon) {\n      if (isPromise(icon)) {\n        icon.then(i => {\n          this.loadIcon(i, context.toCurrentContext(), callback);\n        });\n        icon = null;\n      } else {\n        const iconList = icons.toNormarizeArray(icon);\n        iconList.forEach(i => {\n          helper.testFontLoad(i.font, i.content, context);\n        });\n        icon = iconList;\n      }\n    }\n\n    callback(icon, context);\n  }\n\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(12);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst {\n  Style\n} = styleContents;\n\nclass BaseHeader {\n  constructor(options = {}) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n  }\n\n  get StyleClass() {\n    return Style;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    const {\n      style,\n      drawCellBase\n    } = info;\n    delete info.getRecord;\n    delete info.style;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase(); //\n\n    this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n  }\n\n  convertInternal(value) {\n    return isDef(value) ? value : '';\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {}\n\n  bindGridEvent(grid, range) {\n    return [];\n  }\n\n}\n\nmodule.exports = BaseHeader;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass Rect {\n  constructor(left, top, width, height) {\n    this._left = left;\n    this._top = top;\n    this._width = width;\n    this._height = height;\n  }\n\n  static bounds(left, top, right, bottom) {\n    return new Rect(left, top, right - left, bottom - top);\n  }\n\n  static max(rect1, rect2) {\n    return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n  }\n\n  get left() {\n    return this._left;\n  }\n\n  set left(left) {\n    const {\n      right\n    } = this;\n    this._left = left;\n    this.right = right;\n  }\n\n  get top() {\n    return this._top;\n  }\n\n  set top(top) {\n    const {\n      bottom\n    } = this;\n    this._top = top;\n    this.bottom = bottom;\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  set width(width) {\n    this._width = width;\n    this._right = undefined;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  set height(height) {\n    this._height = height;\n    this._bottom = undefined;\n  }\n\n  get right() {\n    return this._right !== undefined ? this._right : this._right = this.left + this.width;\n  }\n\n  set right(right) {\n    this._right = right;\n    this.width = right - this.left;\n  }\n\n  get bottom() {\n    return this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n  }\n\n  set bottom(bottom) {\n    this._bottom = bottom;\n    this.height = bottom - this.top;\n  }\n\n  offsetLeft(offset) {\n    this._left += offset;\n    this._right = undefined;\n  }\n\n  offsetTop(offset) {\n    this._top += offset;\n    this._bottom = undefined;\n  }\n\n  copy() {\n    return new Rect(this.left, this.top, this.width, this.height);\n  }\n\n  intersection(rect) {\n    const x0 = Math.max(this.left, rect.left);\n    const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\n    if (x0 <= x1) {\n      const y0 = Math.max(this.top, rect.top);\n      const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\n      if (y0 <= y1) {\n        return Rect.bounds(x0, y0, x1, y1);\n      }\n    }\n\n    return null;\n  }\n\n  contains(another) {\n    return this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n  }\n\n  inPoint(x, y) {\n    return this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n  }\n\n}\n\nmodule.exports = Rect;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  array: {\n    findIndex\n  }\n} = __webpack_require__(0);\n\nconst TYPE_PUNCTURE = 'p';\nconst TYPE_UNIT = 'u';\nconst TYPE_OPERATOR = 'o';\nconst TYPE_NUMBER = 'n';\nconst NODE_TYPE_UNIT = 'u';\nconst NODE_TYPE_BINARY_EXPRESSION = 'b';\nconst NODE_TYPE_NUMBER = 'n';\n\nfunction createError(calc) {\n  return new Error(`calc parse error: ${calc}`);\n}\n/**\n * tokenize\n * @param {string} calc calc expression\n * @returns {Array} tokens\n * @private\n */\n\n\nfunction tokenize(calc) {\n  let exp = calc.replace(/calc\\(/g, '(');\n  const reUnit = /^[-+]?(\\d*\\.\\d+|\\d+)[a-z%]+/i;\n  const reNum = /^[-+]?(\\d*\\.\\d+|\\d+)/i;\n  const reOp = /^[-+*/]/;\n  const tokens = [];\n  let re;\n\n  while (exp = exp.trim()) {\n    if (exp[0] === '(' || exp[0] === ')') {\n      tokens.push({\n        value: exp[0],\n        type: TYPE_PUNCTURE\n      });\n      exp = exp.slice(1);\n    } else if (re = reUnit.exec(exp)) {\n      tokens.push({\n        value: re[0],\n        type: TYPE_UNIT\n      });\n      exp = exp.slice(re[0].length);\n    } else if (re = reNum.exec(exp)) {\n      tokens.push({\n        value: re[0],\n        type: TYPE_NUMBER\n      });\n      exp = exp.slice(re[0].length);\n    } else if (re = reOp.exec(exp)) {\n      tokens.push({\n        value: re[0],\n        type: TYPE_OPERATOR\n      });\n      exp = exp.slice(re[0].length);\n    } else {\n      throw createError(calc);\n    }\n  }\n\n  return tokens;\n}\n\nconst PRECEDENCE = {\n  '*': 3,\n  '/': 3,\n  '+': 2,\n  '-': 2\n};\n\nfunction lex(tokens, calc) {\n  function buildBinaryExpNode(stack) {\n    const right = stack.pop();\n    const op = stack.pop();\n    const left = stack.pop();\n\n    if (!left || !left.nodeType || !op || op.type !== TYPE_OPERATOR || !right || !right.nodeType) {\n      throw createError(calc);\n    }\n\n    return {\n      nodeType: NODE_TYPE_BINARY_EXPRESSION,\n      left,\n      op,\n      right\n    };\n  }\n\n  const stack = [];\n\n  while (tokens.length) {\n    const token = tokens.shift();\n\n    if (token.type === TYPE_PUNCTURE && token.value === '(') {\n      let deep = 0;\n      const closeIndex = findIndex(tokens, (t, i) => {\n        if (t.type === TYPE_PUNCTURE && t.value === '(') {\n          deep++;\n        } else if (t.type === TYPE_PUNCTURE && t.value === ')') {\n          if (!deep) {\n            return true;\n          }\n\n          deep--;\n        }\n\n        return false;\n      });\n\n      if (closeIndex === -1) {\n        throw createError(calc);\n      }\n\n      stack.push(lex(tokens.slice(0, closeIndex), calc));\n      tokens.splice(0, closeIndex + 1);\n    } else if (token.type === TYPE_OPERATOR) {\n      if (stack.length >= 3) {\n        const beforeOp = stack[stack.length - 2].value;\n\n        if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n          stack.push(buildBinaryExpNode(stack));\n        }\n      }\n\n      stack.push(token);\n    } else if (token.type === TYPE_UNIT) {\n      const {\n        value\n      } = token;\n      const num = parseFloat(value);\n      const unit = /[a-z%]+/i.exec(value)[0];\n      stack.push({\n        nodeType: NODE_TYPE_UNIT,\n        value: num,\n        unit\n      });\n    } else if (token.type === TYPE_NUMBER) {\n      stack.push({\n        nodeType: NODE_TYPE_NUMBER,\n        value: parseFloat(token.value)\n      });\n    }\n  }\n\n  while (stack.length > 1) {\n    stack.push(buildBinaryExpNode(stack));\n  }\n\n  return stack[0];\n}\n\nfunction parse(calcStr) {\n  const tokens = tokenize(calcStr);\n  return lex(tokens, calcStr);\n}\n\nfunction calcNode(node, context) {\n  if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n    const left = calcNode(node.left, context);\n    const right = calcNode(node.right, context);\n\n    switch (node.op.value) {\n      case '+':\n        return left + right;\n\n      case '-':\n        return left - right;\n\n      case '*':\n        return left * right;\n\n      case '/':\n        return left / right;\n\n      default:\n        throw new Error(`calc error. unknown operator: ${node.op.value}`);\n    }\n  } else if (node.nodeType === NODE_TYPE_UNIT) {\n    switch (node.unit) {\n      case '%':\n        return node.value * context.full / 100;\n\n      case 'em':\n        return node.value * context.em;\n\n      case 'px':\n        return node.value;\n\n      default:\n        throw new Error(`calc error. unknown unit: ${node.unit}`);\n    }\n  } else if (node.nodeType === NODE_TYPE_NUMBER) {\n    return node.value;\n  }\n\n  throw new Error('calc error.');\n}\n\nfunction toPx(value, context) {\n  const ast = parse(value);\n  return calcNode(ast, context);\n}\n\nmodule.exports = {\n  toPx(value, context) {\n    if (typeof value === 'string') {\n      return toPx(value.trim(), context);\n    }\n\n    return value - 0;\n  }\n\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = option.disabled;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  set disabled(disabled) {\n    this._disabled = !!disabled;\n    this.onChangeDisabledInternal();\n  }\n\n  clone() {\n    return new BaseAction(this);\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n  onChangeDisabledInternal() {}\n\n}\n\nmodule.exports = BaseAction;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isNode\n} = __webpack_require__(0);\n\nfunction cubicBezier(x2, y2, x3, y3) {\n  let step;\n  const err = 0.0001;\n  x2 *= 3;\n  y2 *= 3;\n  x3 *= 3;\n  y3 *= 3;\n  return function (t) {\n    let p, a, b, c, d, x, s;\n\n    if (t < 0 || 1 < t) {\n      throw new Error(t);\n    }\n\n    p = step || t;\n\n    do {\n      a = 1 - p;\n      b = a * a;\n      c = p * p;\n      d = c * p;\n      x = x2 * b * p + x3 * a * c + d;\n      s = t - x;\n      p += s * 0.5;\n    } while (err < Math.abs(s));\n\n    step = p;\n    return y2 * b * p + y3 * a * c + d;\n  };\n}\n\nconst EASINGS = {\n  linear(p) {\n    return p;\n  },\n\n  easeIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n  easeOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n  easeInOut: cubicBezier(0.420, 0.000, 0.580, 1.000)\n};\nconst raf = isNode ? () => {} : window.requestAnimationFrame || setTimeout;\n\nfunction now() {\n  return Date.now();\n}\n/**\n\t * <pre>\n\t * Animates.\n\t * </pre>\n\t * @function\n\t * @param {number} duration animation time.\n\t * @param {function} step step\n\t * @param {function|string} easing easing\n\t * @returns {object} Deferred object.\n\t */\n\n\nmodule.exports = (duration, step, easing) => {\n  const startedAt = now();\n\n  if (!easing) {\n    easing = EASINGS.easeInOut;\n  } else if (typeof easing === 'string') {\n    easing = EASINGS[easing];\n  }\n\n  let canceledFlg = false;\n\n  const createAnim = (resolve, reject) => {\n    const anim = () => {\n      const point = now() - startedAt;\n\n      if (canceledFlg) {\n        //cancel\n        if (reject) {\n          reject();\n        }\n      } else if (point >= duration) {\n        //end\n        step(1);\n\n        if (resolve) {\n          resolve();\n        }\n      } else {\n        step(easing(point / duration));\n        raf(anim, 1);\n      }\n    };\n\n    return anim;\n  };\n\n  const cancel = () => {\n    canceledFlg = true;\n  };\n\n  if (window.Promise) {\n    const result = new window.Promise((resolve, reject) => {\n      const anim = createAnim(resolve, reject);\n      step(0);\n      anim();\n    });\n    result.cancel = cancel;\n    return result;\n  } else {\n    const anim = createAnim(() => {}, () => {});\n    step(0);\n    anim();\n    return {\n      cancel\n    };\n  }\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(23);\n\nlet defaultStyle;\n\nclass StdBaseStyle extends BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || 'left';\n    this._textBaseline = style.textBaseline || 'middle';\n  }\n\n  get textAlign() {\n    return this._textAlign;\n  }\n\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new StdBaseStyle(this);\n  }\n\n}\n\nmodule.exports = StdBaseStyle;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventTarget = __webpack_require__(14);\n\nconst EVENT_TYPE = {\n  CHANGE_STYLE: 'change_style'\n};\nlet defaultStyle;\n\nclass BaseStyle extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n\n  get bgColor() {\n    return this._bgColor;\n  }\n\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n\n  doChangeStyle() {\n    this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n  }\n\n  clone() {\n    return new BaseStyle(this);\n  }\n\n}\n\nmodule.exports = BaseStyle;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst ICON_PROP_KEYS = ['content', 'font', 'color', 'className', 'isLiga', 'width', 'src', 'svg', 'name', 'path'];\n\nfunction quote(name) {\n  const quoted = [];\n  const split = name.split(/,\\s*/);\n\n  for (let i = 0; i < split.length; i++) {\n    const part = split[i].replace(/['\"]/g, '');\n\n    if (part.indexOf(' ') === -1 && !/^\\d/.test(part)) {\n      quoted.push(part);\n    } else {\n      quoted.push(`'${part}'`);\n    }\n  }\n\n  return quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n  const tagProps = props[tagName] || (props[tagName] = {});\n\n  if (tagProps[className]) {\n    return tagProps[className];\n  }\n\n  const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n  dom.className = className;\n  document.body.appendChild(dom);\n\n  try {\n    const beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n    let content = beforeStyle.getPropertyValue('content');\n\n    if (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n      if (content[0] === content[content.length - 1]) {\n        content = content.substr(1, content.length - 2);\n      }\n    }\n\n    let font = beforeStyle.getPropertyValue('font');\n\n    if (!font) {\n      font = `${beforeStyle.getPropertyValue('font-style')} ${beforeStyle.getPropertyValue('font-variant')} ${beforeStyle.getPropertyValue('font-weight')} ${beforeStyle.getPropertyValue('font-size')}/${beforeStyle.getPropertyValue('line-height')} ${quote(beforeStyle.getPropertyValue('font-family'))}`;\n    }\n\n    const color = beforeStyle.getPropertyValue('color');\n    const width = dom.clientWidth;\n    const isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n    return tagProps[className] = {\n      content,\n      font,\n      color,\n      width,\n      isLiga\n    };\n  } finally {\n    document.body.removeChild(dom);\n  }\n}\n\nfunction toPropArray(prop, count) {\n  const result = [];\n\n  if (__webpack_provided_Array_dot_isArray(prop)) {\n    result.push(...prop);\n\n    for (let i = prop.length; i < count; i++) {\n      result.push(null);\n    }\n  } else {\n    for (let i = 0; i < count; i++) {\n      result.push(prop);\n    }\n  }\n\n  return result;\n}\n\nfunction toSimpleArray(iconProps) {\n  if (!iconProps) {\n    return iconProps;\n  } else if (__webpack_provided_Array_dot_isArray(iconProps)) {\n    return iconProps;\n  }\n\n  const workData = {};\n  let count = 0;\n  ICON_PROP_KEYS.forEach(k => {\n    if (iconProps[k]) {\n      if (__webpack_provided_Array_dot_isArray(iconProps[k])) {\n        count = Math.max(count, iconProps[k].length);\n      } else {\n        count = Math.max(count, 1);\n      }\n    }\n  });\n  ICON_PROP_KEYS.forEach(k => {\n    workData[k] = toPropArray(iconProps[k], count);\n  });\n  const result = [];\n\n  for (let i = 0; i < count; i++) {\n    const data = {};\n    ICON_PROP_KEYS.forEach(k => {\n      data[k] = workData[k][i];\n    });\n    result.push(data);\n  }\n\n  return result;\n}\n\nfunction normarize(iconProps) {\n  const data = {};\n\n  for (const k in iconProps) {\n    if (k === 'className') {\n      continue;\n    }\n\n    data[k] = iconProps[k];\n  }\n\n  if (iconProps.className) {\n    const prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\n    for (const k in prop) {\n      if (!isDef(iconProps[k])) {\n        data[k] = prop[k];\n      }\n    }\n  }\n\n  return data;\n}\n\nmodule.exports = {\n  toNormarizeArray(iconProps) {\n    const icons = toSimpleArray(iconProps);\n\n    if (!icons) {\n      return icons;\n    }\n\n    return icons.map(icon => normarize(icon));\n  },\n\n  get iconPropKeys() {\n    return ICON_PROP_KEYS;\n  },\n\n  getIconProps\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = option.disabled;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  set disabled(disabled) {\n    this._disabled = !!disabled;\n    this.onChangeDisabledInternal();\n  }\n\n  clone() {\n    return new BaseAction(this);\n  }\n\n  bindGridEvent(grid, range) {\n    return [];\n  }\n\n  onChangeDisabledInternal() {}\n\n}\n\nmodule.exports = BaseAction;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(106);\n\nlet defaultStyle;\n\nclass Style extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._textOverflow = style.textOverflow || 'ellipsis';\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n\n  get font() {\n    return this._font;\n  }\n\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n\n  get textOverflow() {\n    return this._textOverflow;\n  }\n\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new Style(this);\n  }\n\n}\n\nmodule.exports = Style;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  extend,\n  getIgnoreCase\n} = __webpack_require__(0);\n\nconst theme = __webpack_require__(111);\n\nconst {\n  Theme\n} = theme;\n\nconst plugins = __webpack_require__(56);\n\nconst BASIC = new Theme(__webpack_require__(112));\nconst MATERIAL_DESIGN = new Theme(__webpack_require__(113));\nconst builtin = {\n  BASIC,\n  MATERIAL_DESIGN\n};\nlet defTheme = MATERIAL_DESIGN;\n/**\n * themes\n * @type {Object}\n * @namespace cheetahGrid.themes\n * @memberof cheetahGrid\n */\n\nconst themes = {\n  get default() {\n    return defTheme;\n  },\n\n  set default(defaultTheme) {\n    defTheme = themes.of(defaultTheme) || defTheme;\n  },\n\n  get MATERIAL_DESIGN() {\n    return MATERIAL_DESIGN;\n  },\n\n  get BASIC() {\n    return BASIC;\n  },\n\n  theme,\n\n  of(value) {\n    if (!value) {\n      return null;\n    }\n\n    if (typeof value === 'string') {\n      const t = getIgnoreCase(themes.choices, value);\n\n      if (t) {\n        return t;\n      }\n\n      return null;\n    }\n\n    if (value instanceof Theme) {\n      return value;\n    }\n\n    return new Theme(value);\n  },\n\n  /**\n   * @namespace cheetahGrid.themes.choices\n   */\n  get choices() {\n    return extend(builtin, plugins);\n  }\n\n};\nmodule.exports = themes;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  array,\n  isDef,\n  isPromise,\n  getOrApply,\n  applyChainSafe,\n  emptyFn\n} = __webpack_require__(0);\n\nconst sort = __webpack_require__(58);\n\nconst EventTarget = __webpack_require__(14);\n\nconst EVENT_TYPE = {\n  UPDATE_LENGTH: 'update_length',\n  UPDATED_LENGTH: 'updated_length',\n  UPDATED_ORDER: 'updated_order'\n};\n\nfunction getValue(value, setPromiseBack) {\n  value = getOrApply(value);\n\n  if (isPromise(value)) {\n    value = value.then(r => {\n      if (!isPromise(r)) {\n        setPromiseBack(r);\n      }\n\n      return getValue(r, setPromiseBack);\n    }); //\n\n    setPromiseBack(value);\n  }\n\n  return value;\n}\n\nfunction getField(record, field, setPromiseBack) {\n  if (!isDef(record)) {\n    return undefined;\n  }\n\n  if (isPromise(record)) {\n    return record.then(r => getField(r, field, setPromiseBack));\n  }\n\n  if (field in record) {\n    return getValue(record[field], setPromiseBack);\n  }\n\n  if (typeof field === 'function') {\n    return getValue(field(record), setPromiseBack);\n  }\n\n  const ss = `${field}`.split('.');\n\n  if (ss.length <= 1) {\n    return getValue(record[field], setPromiseBack);\n  }\n\n  return getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n}\n\nfunction setField(record, field, value) {\n  if (field in record) {\n    record[field] = value;\n  } else if (typeof field === 'function') {\n    return field(record, value);\n  } else if (typeof field === 'string') {\n    const ss = `${field}`.split('.');\n    let obj = record;\n    const {\n      length\n    } = ss;\n\n    for (let i = 0; i < length; i++) {\n      const f = ss[i];\n\n      if (i === length - 1) {\n        obj[f] = value;\n      } else {\n        obj = obj[f] || (obj[f] = {});\n      }\n    }\n  } else {\n    record[field] = value;\n  }\n\n  return true;\n}\n\nfunction _getIndex(dataSource, index) {\n  if (!dataSource._sortedIndexMap) {\n    return index;\n  }\n\n  const mapIndex = dataSource._sortedIndexMap[index];\n  return isDef(mapIndex) ? mapIndex : index;\n}\n/**\n\t * grid data source\n\t *\n\t * @classdesc cheetahGrid.data.DataSource\n\t * @extends EventTarget\n\t * @memberof cheetahGrid.data\n\t */\n\n\nclass DataSource extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static ofArray(array) {\n    return new DataSource({\n      get: index => array[index],\n      length: array.length\n    });\n  }\n\n  constructor(obj = {}) {\n    super();\n    this._get = obj.get && obj.get.bind(obj) || undefined;\n    this._length = obj.length || 0;\n    this._sortedIndexMap = false;\n  }\n\n  get(index) {\n    return this.getOriginal(_getIndex(this, index));\n  }\n\n  getField(index, field) {\n    return this.getOriginalField(_getIndex(this, index), field);\n  }\n\n  hasField(index, field) {\n    return this.hasOriginalField(_getIndex(this, index), field);\n  }\n\n  setField(index, field, value) {\n    return this.setOriginalField(_getIndex(this, index), field, value);\n  }\n\n  sort(field, order) {\n    const sortedIndexMap = new Array(this._length);\n    const orderFn = order !== 'desc' ? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1 : (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n    return sort.sortPromise(index => isDef(sortedIndexMap[index]) ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n      sortedIndexMap[index] = rel;\n    }, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n      this._sortedIndexMap = sortedIndexMap;\n      this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n    });\n  }\n\n  get length() {\n    return this._length;\n  }\n\n  set length(length) {\n    if (this._length === length) {\n      return;\n    }\n\n    const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\n    if (array.findIndex(results, v => !v) >= 0) {\n      return;\n    }\n\n    this._length = length;\n    this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n  }\n\n  dispose() {\n    super.dispose();\n  }\n\n  getOriginal(index) {\n    return getValue(this._get(index), val => {\n      this.recordPromiseCallBackInternal(index, val);\n    });\n  }\n\n  getOriginalField(index, field) {\n    if (!isDef(field)) {\n      return undefined;\n    }\n\n    const record = this.getOriginal(index);\n    return getField(record, field, val => {\n      this.fieldPromiseCallBackInternal(index, field, val);\n    });\n  }\n\n  hasOriginalField(index, field) {\n    if (!isDef(field)) {\n      return false;\n    }\n\n    if (typeof field === 'function') {\n      return true;\n    }\n\n    const record = this.getOriginal(index);\n    return record && field in record;\n  }\n\n  setOriginalField(index, field, value) {\n    if (!isDef(field)) {\n      return undefined;\n    }\n\n    const record = this.getOriginal(index);\n    return setField(record, field, value);\n  }\n\n  fieldPromiseCallBackInternal(index, field, val) {//\n  }\n\n  recordPromiseCallBackInternal(index, val) {//\n  }\n\n}\n\nDataSource.EMPTY = new DataSource({\n  length: 0\n});\nmodule.exports = DataSource;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  browser\n} = __webpack_require__(0);\n\nfunction getPath2D() {\n  if (window.Path2D && !browser.Edge) {\n    return window.Path2D;\n  }\n\n  return __webpack_require__(123);\n}\n\nmodule.exports = {\n  fill(module, ctx, x, y, w, h) {\n    ctx.save();\n\n    try {\n      const {\n        width,\n        height\n      } = module;\n      const {\n        ud: upsideDown,\n        x: offsetX = 0,\n        y: offsetY = 0\n      } = module;\n      w = w || width;\n      h = h || height;\n      const xrate = w / width;\n      const yrate = h / (upsideDown ? -height : height);\n      x = x || 0;\n      y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n      ctx.translate(x, y);\n      ctx.scale(xrate, yrate);\n\n      if (offsetX !== 0 || offsetY !== 0) {\n        ctx.translate(offsetX, offsetY);\n      }\n\n      const Path2D = getPath2D();\n      module.path2d = module.path2d || new Path2D(module.d);\n      ctx.fill(module.path2d);\n    } finally {\n      ctx.restore();\n    }\n  },\n\n  get Path2D() {\n    return getPath2D();\n  }\n\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  extend\n} = __webpack_require__(0);\n\nconst DrawGrid = __webpack_require__(5);\n\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n  CHANGED_VALUE: 'changed_value',\n  CHANGED_HEADER_VALUE: 'changed_header_value'\n});\nmodule.exports = EVENT_TYPE;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseMessage {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  dispose() {\n    this.detachMessageElement();\n\n    if (this._messageElement) {\n      this._messageElement.dispose();\n    }\n\n    this._messageElement = null;\n  }\n\n  _getMessageElement() {\n    return this._messageElement || (this._messageElement = this.createMessageElementInternal());\n  }\n\n  createMessageElementInternal() {}\n\n  drawCellMessageInternal(message, context, style, helper, info) {}\n\n  attachMessageElement(col, row, message) {\n    const messageElement = this._getMessageElement();\n\n    messageElement.attach(this._grid, col, row, message);\n  }\n\n  moveMessageElement(col, row) {\n    const messageElement = this._getMessageElement();\n\n    messageElement.move(this._grid, col, row);\n  }\n\n  detachMessageElement() {\n    const messageElement = this._getMessageElement();\n\n    messageElement._detach();\n  }\n\n  drawCellMessage(message, context, style, helper, info) {\n    this.drawCellMessageInternal(message, context, style, helper, info);\n  }\n\n}\n\nmodule.exports = BaseMessage;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(3);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n  __webpack_require__(136);\n\n  const rootElement = createElement('div', {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = createElement('span', {\n    classList: [MESSAGE_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\n\nclass MessageElement {\n  constructor() {\n    this._handler = new EventHandler();\n    const rootElement = this._rootElement = createMessageDomElement();\n    this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n  }\n\n  dispose() {\n    this.detach();\n\n    this._handler.dispose();\n\n    this._rootElement = null;\n    this._messageElement = null;\n  }\n\n  attach(grid, col, row, message) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = message.message;\n    } else {\n      this._detach();\n    }\n  }\n\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  _detach() {\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(col, frozenRowCount - 1);\n\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(frozenColCount - 1, row);\n\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${left.toFixed()}px`;\n    rootElement.style.width = `${width.toFixed()}px`;\n\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n\n    return true;\n  }\n\n}\n\nmodule.exports = MessageElement;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Rect = __webpack_require__(18);\n\nmodule.exports = {\n  drawExclamationMarkBox(context, style, helper) {\n    const {\n      bgColor,\n      color\n    } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect(); // draw box\n\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1); // draw exclamation mark\n\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect(left, top, width, height / 5 * 3), context, {\n      fillColor\n    });\n    helper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5), context, {\n      fillColor\n    });\n  },\n\n  drawInfomationMarkBox(context, style, helper) {\n    const {\n      bgColor,\n      color\n    } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect(); // draw box\n\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1); // draw i mark\n\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect(left, top, width, height / 5), context, {\n      fillColor\n    });\n    helper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3), context, {\n      fillColor\n    });\n  }\n\n};\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction getScrollBarWidth() {\n  const dummy = document.createElement('div');\n  const {\n    style\n  } = dummy;\n  style.position = 'absolute';\n  style.height = '9999px';\n  style.width = 'calc(100vw - 100%)';\n  style.opacity = 0;\n  dummy.textContent = 'x';\n  document.body.appendChild(dummy);\n  const {\n    width\n  } = document.defaultView.getComputedStyle(dummy, '');\n  document.body.removeChild(dummy);\n  return parseInt(width, 10);\n}\n\nlet SCROLLBAR_SIZE;\n\nconst initDocument = () => {\n  __webpack_require__(70);\n\n  SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n  const style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.setAttribute('data-name', 'cheetah-grid');\n  style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n  document.head.appendChild(style);\n};\n\nconst style = {\n  initDocument() {\n    style.initDocument = () => {};\n\n    initDocument();\n  },\n\n  getScrollBarSize() {\n    return SCROLLBAR_SIZE;\n  }\n\n};\nmodule.exports = style;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  calcBasePosition,\n  calcStartPosition,\n  getFontSize\n} = __webpack_require__(8);\n\nconst {\n  ceil,\n  PI\n} = Math;\n\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n  function strokeRectLines(positions) {\n    for (let i = 0; i < borderColors.length; i++) {\n      const color = borderColors[i];\n      const preColor = borderColors[i - 1];\n\n      if (color) {\n        if (preColor !== color) {\n          if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n          }\n\n          const pos1 = positions[i];\n          ctx.beginPath();\n          ctx.moveTo(pos1.x, pos1.y);\n        }\n\n        const pos2 = positions[i + 1];\n        ctx.lineTo(pos2.x, pos2.y);\n      } else {\n        if (preColor) {\n          ctx.strokeStyle = preColor;\n          ctx.stroke();\n        }\n      }\n    }\n\n    const preColor = borderColors[borderColors.length - 1];\n\n    if (preColor) {\n      ctx.strokeStyle = preColor;\n      ctx.stroke();\n    }\n  }\n\n  if (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n    if (borderColors[0]) {\n      ctx.strokeStyle = borderColors[0];\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    strokeRectLines([{\n      x: left,\n      y: top\n    }, {\n      x: left + width,\n      y: top\n    }, {\n      x: left + width,\n      y: top + height\n    }, {\n      x: left,\n      y: top + height\n    }, {\n      x: left,\n      y: top\n    }]);\n  }\n}\n\nfunction roundRect(ctx, left, top, width, height, radius) {\n  ctx.beginPath();\n  ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n  ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n  ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n  ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n  ctx.closePath();\n}\n\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.fill();\n}\n\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.stroke();\n}\n\nfunction fillTextRect(ctx, text, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = calcBasePosition(ctx, rect, {\n      offset,\n      padding\n    });\n    ctx.fillText(text, pos.x, pos.y);\n  } finally {\n    ctx.restore();\n  }\n}\n\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n      offset,\n      padding\n    });\n    ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n  } finally {\n    ctx.restore();\n  }\n}\n/**\n\t * Returns an object containing the width of the checkbox.\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @return {Object} Object containing the width of the checkbox\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\n\n\nfunction measureCheckbox(ctx) {\n  return {\n    width: getFontSize(ctx, null).width\n  };\n}\n/**\n\t * draw Checkbox\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {boolean|number} check checkbox check status\n\t * @param  {object} option option\n\t * @return {void}\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\n\n\nfunction drawCheckbox(ctx, x, y, check, {\n  uncheckBgColor = '#FFF',\n  checkBgColor = 'rgb(76, 73, 72)',\n  borderColor = '#000',\n  boxSize = measureCheckbox(ctx).width\n} = {}) {\n  const checkPoint = typeof check === 'number' ? check > 1 ? 1 : check : 1;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n    fillRoundRect(ctx, ceil(x) - 1, ceil(y) - 1, ceil(boxSize + 1), ceil(boxSize + 1), boxSize / 5);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = borderColor;\n    strokeRoundRect(ctx, ceil(x) - 0.5, ceil(y) - 0.5, ceil(boxSize), ceil(boxSize), boxSize / 5);\n\n    if (check) {\n      ctx.lineWidth = ceil(boxSize / 10);\n      ctx.strokeStyle = uncheckBgColor;\n      let leftWidth = boxSize / 4;\n      let rightWidth = boxSize / 2 * 0.9;\n      const leftLeftPos = x + boxSize * 0.2;\n      const leftTopPos = y + boxSize / 2;\n\n      if (checkPoint < 0.5) {\n        leftWidth *= checkPoint * 2;\n      }\n\n      ctx.beginPath();\n      ctx.moveTo(leftLeftPos, leftTopPos);\n      ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\n      if (checkPoint > 0.5) {\n        if (checkPoint < 1) {\n          rightWidth *= (checkPoint - 0.5) * 2;\n        }\n\n        ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n      }\n\n      ctx.stroke();\n    }\n  } finally {\n    ctx.restore();\n  }\n}\n\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n  const {\n    backgroundColor = '#FFF',\n    bgColor = backgroundColor,\n    radius = 4,\n    shadow = {}\n  } = option;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = bgColor;\n\n    if (shadow) {\n      const {\n        color = 'rgba(0, 0, 0, 0.24)',\n        blur = 1,\n        offsetX = 0,\n        offsetY = 2,\n        offset: {\n          x: ox = offsetX,\n          y: oy = offsetY\n        } = {}\n      } = shadow;\n      ctx.shadowColor = color;\n      ctx.shadowBlur = blur; //\n\n      ctx.shadowOffsetX = ox;\n      ctx.shadowOffsetY = oy;\n    }\n\n    fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n  } finally {\n    ctx.restore();\n  }\n}\n/**\n\t * canvashelper\n\t * @type {Object}\n\t * @namespace cheetahGrid.tools.canvashelper\n\t * @memberof cheetahGrid.tools\n\t */\n\n\nconst canvashelper = {\n  roundRect,\n  fillRoundRect,\n  strokeRoundRect,\n  drawCheckbox,\n  measureCheckbox,\n  fillTextRect,\n  drawButton,\n  drawInlineImageRect,\n  strokeColorsRect\n};\nmodule.exports = canvashelper;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst action = __webpack_require__(76);\n\nconst type = __webpack_require__(91);\n\nconst style = __webpack_require__(41);\n/**\n * columns\n * @type {Object}\n * @namespace cheetahGrid.columns\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  action,\n  type,\n  style\n};\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  bindCellClickAction,\n  bindCellKeyAction\n} = __webpack_require__(38);\n\nconst BaseAction = __webpack_require__(20);\n\nclass Action extends BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._action = option.action;\n  }\n\n  get action() {\n    return this._action;\n  }\n\n  set action(action) {\n    this._action = action;\n  }\n\n  clone() {\n    return new Action(this);\n  }\n\n  getState(grid) {\n    return {};\n  }\n\n  bindGridEvent(grid, col, util) {\n    const state = this.getState(grid);\n\n    const action = cell => {\n      if (this.disabled) {\n        return;\n      }\n\n      const record = grid.getRowRecord(cell.row);\n\n      this._action(record);\n    };\n\n    return [...bindCellClickAction(grid, col, util, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        grid.invalidateCell(e.col, e.row);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        grid.invalidateCell(e.col, e.row);\n      }\n    }), ...bindCellKeyAction(grid, col, util, {\n      action\n    })];\n  }\n\n}\n\nmodule.exports = Action;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise,\n  event: {\n    cancel\n  }\n} = __webpack_require__(0);\n\nconst {\n  EVENT_TYPE: {\n    CLICK_CELL,\n    MOUSEOVER_CELL,\n    MOUSEOUT_CELL,\n    KEYDOWN\n  }\n} = __webpack_require__(5);\n\nconst KEY_ENTER = 13;\n\nfunction bindCellClickAction(grid, col, util, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  return [// click\n  grid.listen(CLICK_CELL, e => {\n    if (!util.isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (isPromise(grid.getRowRecord(e.row))) {\n      return;\n    }\n\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }), // mouse move\n  grid.listen(MOUSEOVER_CELL, e => {\n    if (!util.isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (isPromise(grid.getRowRecord(e.row))) {\n      return;\n    }\n\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n\n    grid.getElement().style.cursor = 'pointer';\n  }), grid.listen(MOUSEOUT_CELL, e => {\n    if (!util.isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n\n    grid.getElement().style.cursor = '';\n  })];\n}\n\nfunction bindCellKeyAction(grid, col, util, {\n  action,\n  acceptKeys = []\n}) {\n  acceptKeys = [...acceptKeys, KEY_ENTER];\n  return [// enter key down\n  grid.listen(KEYDOWN, (keyCode, e) => {\n    if (acceptKeys.indexOf(keyCode) === -1) {\n      return;\n    }\n\n    const sel = grid.selection.select;\n\n    if (!util.isTarget(sel.col, sel.row)) {\n      return;\n    }\n\n    if (isPromise(grid.getRowRecord(sel.row))) {\n      return;\n    }\n\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    cancel(e);\n  })];\n}\n\nmodule.exports = {\n  bindCellClickAction,\n  bindCellKeyAction\n};\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  event: {\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst Editor = __webpack_require__(15);\n\nconst {\n  EVENT_TYPE: {\n    INPUT_CELL,\n    PASTE_CELL,\n    EDITABLEINPUT_CELL,\n    SELECTED_CELL,\n    DBLCLICK_CELL,\n    DBLTAP_CELL,\n    KEYDOWN,\n    MODIFY_STATUS_EDITABLEINPUT_CELL,\n    SCROLL\n  }\n} = __webpack_require__(5);\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass BaseInputEditor extends Editor {\n  constructor(option = {}) {\n    super(option);\n  }\n\n  clone() {\n    return new BaseInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    throw new Error();\n  }\n\n  onOpenCellInternal(grid, cell) {\n    throw new Error();\n  }\n\n  onChangeSelectCellInternal(grid, cell, selected) {\n    throw new Error();\n  }\n\n  onSetInputAttrsInternal(grid, cell, input) {\n    throw new Error();\n  }\n\n  onGridScrollInternal(grid) {\n    throw new Error();\n  }\n\n  bindGridEvent(grid, col, util) {\n    const open = cell => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      this.onOpenCellInternal(grid, cell);\n    };\n\n    const input = (cell, value) => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      this.onInputCellInternal(grid, cell, value);\n    };\n\n    return [grid.listen(INPUT_CELL, e => {\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      input({\n        col: e.col,\n        row: e.row\n      }, e.value);\n    }), grid.listen(PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      cancelEvent(e.event);\n      input({\n        col: e.col,\n        row: e.row\n      }, e.normalizeValue);\n    }), grid.listen(DBLCLICK_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(DBLTAP_CELL, e => {\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      open({\n        col: e.col,\n        row: e.row\n      });\n      cancelEvent(e.event);\n    }), grid.listen(KEYDOWN, (keyCode, e) => {\n      if (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n        return;\n      }\n\n      const sel = grid.selection.select;\n\n      if (!util.isTarget(sel.col, sel.row)) {\n        return;\n      }\n\n      open({\n        col: sel.col,\n        row: sel.row\n      });\n    }), grid.listen(SELECTED_CELL, e => {\n      this.onChangeSelectCellInternal(grid, {\n        col: e.col,\n        row: e.row\n      }, e.selected);\n    }), grid.listen(SCROLL, () => {\n      this.onGridScrollInternal(grid);\n    }), grid.listen(EDITABLEINPUT_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return false;\n      }\n\n      if (this.readOnly || this.disabled) {\n        return false;\n      }\n\n      return true;\n    }), grid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      this.onSetInputAttrsInternal(grid, {\n        col: cell.col,\n        row: cell.row\n      }, cell.input);\n    })];\n  }\n\n}\n\nmodule.exports = BaseInputEditor;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\n\nfunction normalize(options) {\n  if (!options) {\n    return [];\n  }\n\n  if (__webpack_provided_Array_dot_isArray(options)) {\n    return options;\n  }\n\n  if (typeof options === 'string') {\n    return normalize(JSON.parse(options));\n  }\n\n  const result = [];\n\n  for (const k in options) {\n    result.push({\n      value: k,\n      caption: options[k]\n    });\n  }\n\n  return result;\n}\n\nmodule.exports = {\n  normalize\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(23);\n\nconst Style = __webpack_require__(4);\n\nconst NumberStyle = __webpack_require__(42);\n\nconst CheckStyle = __webpack_require__(43);\n\nconst ButtonStyle = __webpack_require__(44);\n\nconst ImageStyle = __webpack_require__(45);\n\nconst IconStyle = __webpack_require__(46);\n\nconst PercentCompleteBarStyle = __webpack_require__(47);\n\nconst MultilineTextStyle = __webpack_require__(48);\n\nconst MenuStyle = __webpack_require__(49);\n/**\n * column styles\n * @type {Object}\n * @namespace cheetahGrid.columns.style\n * @memberof cheetahGrid.columns\n */\n\n\nconst style = {\n  get EVENT_TYPE() {\n    return BaseStyle.EVENT_TYPE;\n  },\n\n  get BaseStyle() {\n    return BaseStyle;\n  },\n\n  get Style() {\n    return Style;\n  },\n\n  get NumberStyle() {\n    return NumberStyle;\n  },\n\n  get CheckStyle() {\n    return CheckStyle;\n  },\n\n  get ButtonStyle() {\n    return ButtonStyle;\n  },\n\n  get ImageStyle() {\n    return ImageStyle;\n  },\n\n  get IconStyle() {\n    return IconStyle;\n  },\n\n  get PercentCompleteBarStyle() {\n    return PercentCompleteBarStyle;\n  },\n\n  get MultilineTextStyle() {\n    return MultilineTextStyle;\n  },\n\n  get MenuStyle() {\n    return MenuStyle;\n  },\n\n  of(columnStyle, record, StyleClass) {\n    if (columnStyle) {\n      if (columnStyle instanceof Style) {\n        return columnStyle;\n      } else if (typeof columnStyle === 'function') {\n        return style.of(columnStyle(record), record, StyleClass);\n      } else if (record && columnStyle in record) {\n        return style.of(record[columnStyle], record, StyleClass);\n      }\n\n      return new StyleClass(columnStyle);\n    } else {\n      return StyleClass.DEFAULT;\n    }\n  }\n\n};\nmodule.exports = style;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nfunction adj(style) {\n  const {\n    textAlign = 'right'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass NumberStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n  }\n\n  clone() {\n    return new NumberStyle(this);\n  }\n\n}\n\nmodule.exports = NumberStyle;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(22);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass CheckStyle extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n\n  get borderColor() {\n    return this._borderColor;\n  }\n\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new CheckStyle(this);\n  }\n\n}\n\nmodule.exports = CheckStyle;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass ButtonStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    const {\n      buttonBgColor\n    } = style;\n    this._buttonBgColor = buttonBgColor;\n  }\n\n  get buttonBgColor() {\n    return this._buttonBgColor;\n  }\n\n  set buttonBgColor(buttonBgColor) {\n    this._buttonBgColor = buttonBgColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new ButtonStyle(this);\n  }\n\n}\n\nmodule.exports = ButtonStyle;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst StdBaseStyle = __webpack_require__(22);\n\nlet defaultStyle;\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nclass ImageStyle extends StdBaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    this._imageSizing = style.imageSizing;\n    this._margin = style.margin || 4;\n  }\n\n  get imageSizing() {\n    return this._imageSizing;\n  }\n\n  set imageSizing(imageSizing) {\n    this._imageSizing = imageSizing;\n    this.doChangeStyle();\n  }\n\n  get margin() {\n    return this._margin;\n  }\n\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new ImageStyle(this);\n  }\n\n}\n\nmodule.exports = ImageStyle;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass IconStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n  }\n\n  clone() {\n    return new IconStyle(this);\n  }\n\n}\n\nmodule.exports = IconStyle;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nlet defaultStyle;\n\nconst DEFAULT_BAR_COLOR = num => {\n  if (num > 80) {\n    return '#20a8d8';\n  }\n\n  if (num > 50) {\n    return '#4dbd74';\n  }\n\n  if (num > 20) {\n    return '#ffc107';\n  }\n\n  return '#f86c6b';\n};\n\nclass PercentCompleteBarStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n    this._barBgColor = style.barBgColor || '#f0f3f5';\n    this._barHeight = style.barHeight || 3;\n  }\n\n  get barColor() {\n    return this._barColor;\n  }\n\n  set barColor(barColor) {\n    this._barColor = barColor;\n    this.doChangeStyle();\n  }\n\n  get barBgColor() {\n    return this._barBgColor;\n  }\n\n  set barBgColor(barBgColor) {\n    this._barBgColor = barBgColor;\n    this.doChangeStyle();\n  }\n\n  get barHeight() {\n    return this._barHeight;\n  }\n\n  set barHeight(barHeight) {\n    this._barHeight = barHeight;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new PercentCompleteBarStyle(this);\n  }\n\n}\n\nmodule.exports = PercentCompleteBarStyle;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nfunction adj(style) {\n  const {\n    textBaseline = 'top'\n  } = style;\n  style.textBaseline = textBaseline;\n  return style;\n}\n\nlet defaultStyle;\n\nclass MultilineTextStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MultilineTextStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    this._lineHeight = style.lineHeight || '1em';\n    this._autoWrapText = style.autoWrapText || false;\n    this._lineClamp = style.lineClamp;\n  }\n\n  clone() {\n    return new MultilineTextStyle(this);\n  }\n\n  get lineHeight() {\n    return this._lineHeight;\n  }\n\n  set lineHeight(lineHeight) {\n    this._lineHeight = lineHeight;\n    this.doChangeStyle();\n  }\n\n  get lineClamp() {\n    return this._lineClamp;\n  }\n\n  set lineClamp(lineClamp) {\n    this._lineClamp = lineClamp;\n    this.doChangeStyle();\n  }\n\n  get autoWrapText() {\n    return this._autoWrapText;\n  }\n\n  set autoWrapText(autoWrapText) {\n    this._autoWrapText = autoWrapText;\n    this.doChangeStyle();\n  }\n\n}\n\nmodule.exports = MultilineTextStyle;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(4);\n\nlet defaultStyle;\n\nclass MenuStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MenuStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    const {\n      appearance\n    } = style;\n    this._appearance = appearance;\n  }\n\n  get appearance() {\n    return this._appearance || 'menulist-button';\n  }\n\n  set appearance(appearance) {\n    this._appearance = appearance;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new MenuStyle(this);\n  }\n\n}\n\nmodule.exports = MenuStyle;\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  then\n} = __webpack_require__(0);\n\nconst LRUCache = __webpack_require__(96);\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n  return url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n  if (!window.Promise) {\n    console.error('Promise is not loaded. load Promise before this process.');\n    return {\n      then() {\n        return this;\n      }\n\n    };\n  }\n\n  const img = new Image();\n  const result = new window.Promise(resolve => {\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n\n  img.onerror = e => {\n    const url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n    console.warn(`cannot load: ${url}`);\n    throw new Error(`IMAGE LOAD ERROR: ${url}`);\n  };\n\n  img.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n  return result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n  return then(src, src => {\n    const c = cache.get(src);\n\n    if (c) {\n      return c;\n    }\n\n    const result = loadImage(src).then(img => {\n      cache.put(src, img);\n      return img;\n    });\n    cache.put(src, result);\n    return result;\n  });\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n  const cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n  return getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n  loadImage,\n  getCacheOrLoad\n};\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseAction = __webpack_require__(25);\n\nconst SortHeaderAction = __webpack_require__(104);\n\nconst CheckHeaderAction = __webpack_require__(105);\n\nclass ImmutableSortHeaderAction extends SortHeaderAction {\n  get disabled() {\n    return this._disabled;\n  }\n\n}\n\nclass ImmutableCheckHeaderAction extends CheckHeaderAction {\n  get disabled() {\n    return this._disabled;\n  }\n\n}\n/**\n * column actions\n * @type {Object}\n * @namespace cheetahGrid.columns.action\n * @memberof cheetahGrid.columns\n */\n\n\nconst action = {\n  ACTIONS: {\n    SORT: new ImmutableSortHeaderAction(),\n    CHECK: new ImmutableCheckHeaderAction()\n  },\n\n  get BaseAction() {\n    return BaseAction;\n  },\n\n  get SortHeaderAction() {\n    return SortHeaderAction;\n  },\n\n  get CheckHeaderAction() {\n    return CheckHeaderAction;\n  },\n\n  of(headerAction) {\n    if (!headerAction) {\n      return undefined;\n    } else if (typeof headerAction === 'string') {\n      return action.ACTIONS[headerAction.toUpperCase()] || action.of(null);\n    } else {\n      return headerAction;\n    }\n  },\n\n  ofCell(headerCell) {\n    if (headerCell.sort) {\n      if (headerCell.sort === 'function') {\n        // 0.9.0 Backward compatibility\n        const sort = ({\n          order,\n          col,\n          grid\n        }) => headerCell.sort(order, col, grid);\n\n        return new ImmutableSortHeaderAction({\n          sort\n        });\n      }\n\n      return action.ACTIONS.SORT;\n    }\n\n    return action.of(headerCell.action);\n  }\n\n};\nmodule.exports = action;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  event: {\n    cancel\n  }\n} = __webpack_require__(0);\n\nconst {\n  EVENT_TYPE: {\n    CLICK_CELL,\n    MOUSEOVER_CELL,\n    MOUSEOUT_CELL,\n    MOUSEMOVE_CELL,\n    KEYDOWN\n  }\n} = __webpack_require__(5);\n\nconst KEY_ENTER = 13;\n\nfunction bindCellClickAction(grid, range, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  let inMouse;\n  return [// click\n  grid.listen(CLICK_CELL, e => {\n    if (!range.isCellInRange(e.col, e.row)) {\n      return;\n    }\n\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }), // mouse move\n  grid.listen(MOUSEOVER_CELL, e => {\n    if (!range.isCellInRange(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n\n    grid.getElement().style.cursor = 'pointer';\n    inMouse = true;\n  }), //MOUSEENTER'col-resize'move\n  grid.listen(MOUSEMOVE_CELL, e => {\n    if (!range.isCellInRange(e.col, e.row)) {\n      return;\n    }\n\n    if (inMouse && !grid.getElement().style.cursor) {\n      grid.getElement().style.cursor = 'pointer';\n    }\n  }), grid.listen(MOUSEOUT_CELL, e => {\n    if (!range.isCellInRange(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n\n    grid.getElement().style.cursor = '';\n    inMouse = false;\n  })];\n}\n\nfunction bindCellKeyAction(grid, range, {\n  action,\n  acceptKeys = []\n}) {\n  acceptKeys = [...acceptKeys, KEY_ENTER];\n  return [// enter key down\n  grid.listen(KEYDOWN, (keyCode, e) => {\n    if (acceptKeys.indexOf(keyCode) === -1) {\n      return;\n    }\n\n    const sel = grid.selection.select;\n\n    if (!range.isCellInRange(sel.col, sel.row)) {\n      return;\n    }\n\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    cancel(e);\n  })];\n}\n\nmodule.exports = {\n  bindCellClickAction,\n  bindCellKeyAction\n};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseHeader = __webpack_require__(17);\n\nconst Header = __webpack_require__(108);\n\nconst SortHeader = __webpack_require__(109);\n\nconst CheckHeader = __webpack_require__(110);\n\nconst type = {\n  TYPES: {\n    DEFAULT: new Header(),\n    SORT: new SortHeader(),\n    CHECK: new CheckHeader()\n  },\n\n  get BaseHeader() {\n    return BaseHeader;\n  },\n\n  get Header() {\n    return Header;\n  },\n\n  get SortHeader() {\n    return Header;\n  },\n\n  get CheckHeader() {\n    return CheckHeader;\n  },\n\n  of(headerType) {\n    if (!headerType) {\n      return type.TYPES.DEFAULT;\n    } else if (typeof headerType === 'string') {\n      return type.TYPES[headerType.toUpperCase()] || type.of(null);\n    } else {\n      return headerType;\n    }\n  },\n\n  ofCell(headerCell) {\n    if (headerCell.sort) {\n      return type.TYPES.SORT;\n    }\n\n    return type.of(headerCell.headerType);\n  }\n\n};\nmodule.exports = type;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventTarget = __webpack_require__(14);\n\nconst EVENT_TYPE = {\n  CHANGE_STYLE: 'change_style'\n};\nlet defaultStyle;\n\nclass BaseStyle extends EventTarget {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n\n  get bgColor() {\n    return this._bgColor;\n  }\n\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n\n  doChangeStyle() {\n    this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n  }\n\n  clone() {\n    return new BaseStyle(this);\n  }\n\n}\n\nmodule.exports = BaseStyle;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(26);\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nlet defaultStyle;\n\nclass CheckHeaderStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckHeaderStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n\n  get borderColor() {\n    return this._borderColor;\n  }\n\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new CheckHeaderStyle(this);\n  }\n\n}\n\nmodule.exports = CheckHeaderStyle;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst DataSource = __webpack_require__(28);\n\nconst CachedDataSource = __webpack_require__(114);\n\nconst FilterDataSource = __webpack_require__(115);\n/**\n * data modules\n * @type {Object}\n * @namespace cheetahGrid.data\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  DataSource,\n  CachedDataSource,\n  FilterDataSource\n};\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nfunction wait(val) {\n  return val.then(v => {\n    if (isPromise(v)) {\n      return wait(v);\n    } else {\n      return v;\n    }\n  });\n}\n\nfunction createArray(get, length) {\n  const array = new Array(length);\n\n  for (let i = 0; i < length; i++) {\n    array[i] = get(i);\n  }\n\n  return array;\n}\n\nfunction createArrayPromise(get, getField, length) {\n  return new Promise(resolve => {\n    const plist = [];\n    const array = new Array(length);\n\n    for (let i = 0; i < length; i++) {\n      const data = get(i);\n      const record = {\n        v: data,\n        f: data\n      };\n      array[i] = record;\n\n      if (isPromise(data)) {\n        plist.push(wait(data).then(v => {\n          record.v = v;\n          record.f = v;\n        }));\n      }\n    }\n\n    Promise.all(plist).then(() => setArrayField(array, getField)).then(resolve);\n  });\n}\n\nfunction setArrayField(array, getField) {\n  if (!getField) {\n    return Promise.resolve(array);\n  }\n\n  return new Promise(resolve => {\n    const {\n      length\n    } = array;\n    const plist = [];\n\n    for (let i = 0; i < length; i++) {\n      const record = array[i];\n      record.f = getField(record.v);\n\n      if (isPromise(record.f)) {\n        plist.push(wait(record.f).then(v => {\n          record.f = v;\n        }));\n      }\n    }\n\n    Promise.all(plist).then(() => resolve(array));\n  });\n}\n\nconst sort = {\n  sort(get, set, length, compare, getField) {\n    const old = createArray(get, length);\n\n    if (getField) {\n      old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n    } else {\n      old.sort(compare);\n    }\n\n    for (let i = 0; i < length; i++) {\n      set(i, old[i]);\n    }\n  },\n\n  sortArray(array, compare) {\n    Array.prototype.sort.call(array, compare);\n  },\n\n  sortPromise(get, set, length, compare, getField) {\n    if (window.Promise) {\n      return createArrayPromise(get, getField, length).then(array => {\n        array.sort((r1, r2) => compare(r1.f, r2.f));\n\n        for (let i = 0; i < length; i++) {\n          set(i, array[i].v);\n        }\n      });\n    } else {\n      sort.sort(get, set, length, compare, getField);\n      const dummyPromise = {\n        then(fn) {\n          fn();\n          return dummyPromise;\n        },\n\n        catch() {\n          return dummyPromise;\n        }\n\n      };\n      return dummyPromise;\n    }\n  }\n\n};\nmodule.exports = sort;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {/*eslint no-bitwise:0*/\n\n\nconst {\n  calcStartPosition,\n  getFontSize\n} = __webpack_require__(8);\n\nconst inlineUtils = __webpack_require__(117);\n\nconst canvashelper = __webpack_require__(35);\n\nconst themes = __webpack_require__(27);\n\nconst {\n  colorToRGB\n} = __webpack_require__(65);\n\nconst Rect = __webpack_require__(18);\n\nconst {\n  getChainSafe,\n  getOrApply,\n  style: {\n    toBoxArray\n  },\n  isDef\n} = __webpack_require__(0);\n\nconst fonts = __webpack_require__(60);\n\nconst calc = __webpack_require__(19);\n\nconst InlineDrawer = __webpack_require__(62);\n\nconst INLINE_ELLIPSIS = inlineUtils.of('\\u2026');\n\nfunction invalidateCell(context, grid) {\n  const {\n    col,\n    row\n  } = context;\n  grid.invalidateCell(col, row);\n}\n\nfunction getColor(color, col, row, grid, context) {\n  return getOrApply(color, {\n    col,\n    row,\n    grid,\n    context\n  });\n}\n\nfunction getThemeColor(grid, ...names) {\n  const gridThemeColor = getChainSafe(grid.theme, ...names);\n\n  if (!isDef(gridThemeColor)) {\n    // use default theme\n    return getChainSafe(themes.default, ...names);\n  }\n\n  if (typeof gridThemeColor !== 'function') {\n    return gridThemeColor;\n  }\n\n  let defaultThemeColor;\n  return (...args) => {\n    const color = gridThemeColor(...args);\n\n    if (isDef(color)) {\n      // use grid theme\n      return color;\n    } // use default theme\n\n\n    defaultThemeColor = defaultThemeColor || getChainSafe(themes.default, ...names);\n    return getOrApply(defaultThemeColor, ...args);\n  };\n}\n\nfunction testFontLoad(font, value, context, grid) {\n  if (font) {\n    if (!fonts.check(font, value)) {\n      fonts.load(font, value, () => invalidateCell(context, grid));\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n  function drawInline(inline, offsetLeft, offsetRight) {\n    if (inline.canDraw()) {\n      ctx.save();\n\n      try {\n        ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n        ctx.font = inline.font() || ctx.font;\n        inline.draw({\n          ctx,\n          canvashelper,\n          rect,\n          offset,\n          offsetLeft,\n          offsetRight,\n          offsetTop,\n          offsetBottom\n        });\n      } finally {\n        ctx.restore();\n      }\n    } else {\n      inline.onReady(() => grid.invalidateCell(col, row)); //noop\n    }\n  }\n\n  if (inlines.length === 1) {\n    //1\n    const inline = inlines[0];\n    drawInline(inline, 0, 0);\n  } else {\n    const inlineWidths = inlines.map(inline => (inline.width({\n      ctx\n    }) || 0) - 0);\n    let offsetRight = inlineWidths.reduce((a, b) => a + b);\n    let offsetLeft = 0;\n    inlines.forEach((inline, index) => {\n      const inlineWidth = inlineWidths[index];\n      offsetRight -= inlineWidth;\n      drawInline(inline, offsetLeft, offsetRight);\n      offsetLeft += inlineWidth;\n    });\n  }\n}\n\nfunction buildInlines(icons, inline) {\n  return inlineUtils.buildInlines(icons, inline || '');\n}\n\nfunction inlineToString(inline) {\n  return inlineUtils.string(inline);\n}\n\nfunction getOverflowInline(textOverflow) {\n  if (!isAllowOverflow(textOverflow) || textOverflow === 'ellipsis') {\n    return INLINE_ELLIPSIS;\n  }\n\n  textOverflow = textOverflow.trim();\n\n  if (textOverflow.length === 1) {\n    return inlineUtils.of(textOverflow[0]);\n  }\n\n  return INLINE_ELLIPSIS;\n}\n\nfunction isAllowOverflow(textOverflow) {\n  return textOverflow && textOverflow !== 'clip' && typeof textOverflow === 'string';\n}\n\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n  const maxWidth = width - 3\n  /*buffer*/\n  ;\n  let lineWidth = 0;\n\n  for (let i = 0; i < inlines.length; i++) {\n    const inline = inlines[i];\n    const inlineWidth = (inline.width({\n      ctx\n    }) || 0) - 0;\n\n    if (lineWidth + inlineWidth > maxWidth) {\n      return {\n        index: i,\n        lineWidth,\n        remWidth: maxWidth - lineWidth\n      };\n    }\n\n    lineWidth += inlineWidth;\n  }\n\n  return null;\n}\n\nfunction isOverflowInlines(ctx, inlines, width) {\n  return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\n\nfunction breakWidthInlines(ctx, inlines, width) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\n  if (!indexData) {\n    return {\n      beforeInlines: inlines,\n      overflow: false,\n      afterInlines: []\n    };\n  }\n\n  const {\n    index,\n    remWidth\n  } = indexData;\n  const inline = inlines[index];\n  const beforeInlines = inlines.slice(0, index);\n  const afterInlines = [];\n\n  if (inline.canBreak()) {\n    let {\n      before,\n      after\n    } = inline.breakWord(ctx, remWidth);\n\n    if (!before && !beforeInlines.length) {\n      ({\n        before,\n        after\n      } = inline.breakAll(ctx, remWidth));\n    }\n\n    if (!before && !beforeInlines.length) {\n      // Always return one char\n      ({\n        before,\n        after\n      } = inline.splitIndex(1));\n    }\n\n    if (before) {\n      beforeInlines.push(before);\n    }\n\n    if (after) {\n      afterInlines.push(after);\n    }\n\n    afterInlines.push(...inlines.slice(index + 1));\n  } else {\n    if (!beforeInlines.length) {\n      // Always return one char\n      beforeInlines.push(inline);\n    }\n\n    afterInlines.push(...inlines.slice(beforeInlines.length));\n  }\n\n  return {\n    beforeInlines,\n    overflow: true,\n    afterInlines\n  };\n}\n\nfunction truncateInlines(ctx, inlines, width, option) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\n  if (!indexData) {\n    return {\n      inlines,\n      overflow: false\n    };\n  }\n\n  const {\n    index,\n    lineWidth\n  } = indexData;\n  const inline = inlines[index];\n  const overflowInline = getOverflowInline(option);\n  const ellipsisWidth = overflowInline.width({\n    ctx\n  });\n  const remWidth = width - lineWidth - ellipsisWidth;\n  const result = inlines.slice(0, index);\n\n  if (inline.canBreak()) {\n    const {\n      before\n    } = inline.breakAll(ctx, remWidth);\n\n    if (before) {\n      result.push(before);\n    }\n  }\n\n  result.push(overflowInline);\n  return {\n    inlines: result,\n    overflow: true\n  };\n}\n\nfunction _inlineRect(grid, ctx, inline, rect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  textOverflow,\n  icons\n} = {}) {\n  //style\n  ctx.fillStyle = getColor(color, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n  let inlines = buildInlines(icons, inline);\n\n  if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, rect.width)) {\n    const {\n      inlines: truncInlines,\n      overflow\n    } = truncateInlines(ctx, inlines, rect.width, textOverflow);\n    inlines = truncInlines;\n    grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n  } else {\n    grid.setCellOverflowText(col, row, false);\n  }\n\n  drawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  lineHeight,\n  autoWrapText,\n  lineClamp,\n  textOverflow,\n  icons\n} = {}) {\n  //style\n  ctx.fillStyle = getColor(color, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n\n  if (lineClamp === 'auto') {\n    const rectHeight = rect.height - offset * 2 - 2\n    /*offset added by Inline#draw*/\n    ;\n    lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n  }\n\n  let buildedMultiInlines;\n\n  if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n    const {\n      width\n    } = rect;\n    buildedMultiInlines = [];\n    const procLineClamp = lineClamp > 0 ? (inlines, hasNext) => {\n      if (buildedMultiInlines.length + 1 >= lineClamp) {\n        if (inlines.length === 0 && hasNext) {\n          buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n          grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n        } else {\n          const {\n            inlines: truncInlines,\n            overflow\n          } = truncateInlines(ctx, inlines, width, textOverflow);\n          buildedMultiInlines.push(hasNext && !overflow ? truncInlines.concat([getOverflowInline(textOverflow)]) : truncInlines);\n\n          if (overflow || hasNext) {\n            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n          }\n        }\n\n        return false;\n      }\n\n      return true;\n    } : () => true;\n    const procLine = autoWrapText ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      while (inlines.length) {\n        if (!procLineClamp(inlines, hasNext)) {\n          return false;\n        }\n\n        const {\n          beforeInlines,\n          afterInlines\n        } = breakWidthInlines(ctx, inlines, width);\n        buildedMultiInlines.push(beforeInlines);\n        inlines = afterInlines;\n      }\n\n      return true;\n    } : isAllowOverflow(textOverflow) ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      const {\n        inlines: truncInlines,\n        overflow\n      } = truncateInlines(ctx, inlines, width, textOverflow);\n      buildedMultiInlines.push(truncInlines);\n\n      if (overflow) {\n        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n      }\n\n      return true;\n    } : (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      buildedMultiInlines.push(inlines);\n      return true;\n    };\n    grid.setCellOverflowText(col, row, false);\n\n    for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n      const inline = multiInlines[lineRow];\n      const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n\n      if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n        break;\n      }\n    }\n  } else {\n    grid.setCellOverflowText(col, row, false);\n    buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n  }\n\n  let paddingTop = 0;\n  let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n\n  if (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n    const em = getFontSize(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop += pad;\n    paddingBottom -= pad;\n  } else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n    const em = getFontSize(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop -= pad;\n    paddingBottom += pad;\n  }\n\n  buildedMultiInlines.forEach(buildedInline => {\n    drawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n    paddingTop += lineHeight;\n    paddingBottom -= lineHeight;\n  });\n}\n\nfunction drawCheckbox(ctx, rect, col, row, check, helper, {\n  animElapsedTime = 1,\n  uncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n  checkBgColor = helper.theme.checkbox.checkBgColor,\n  borderColor = helper.theme.checkbox.borderColor,\n  textAlign = 'center',\n  textBaseline = 'middle'\n} = {}, positionOpt = {}) {\n  const boxWidth = canvashelper.measureCheckbox(ctx).width;\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  const pos = calcStartPosition(ctx, rect, boxWidth + 1\n  /*+1*/\n  , boxWidth + 1\n  /*+1*/\n  , positionOpt);\n  uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n  checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n  borderColor = helper.getColor(borderColor, col, row, ctx);\n\n  if (0 < animElapsedTime && animElapsedTime < 1) {\n    const uncheckBgRGB = colorToRGB(uncheckBgColor);\n    const checkBgRGB = colorToRGB(checkBgColor);\n\n    const checkRGB = colorName => {\n      const start = uncheckBgRGB[colorName];\n      const end = checkBgRGB[colorName];\n\n      if (animElapsedTime >= 1) {\n        return end;\n      }\n\n      const diff = start - end;\n      return Math.ceil(start - diff * animElapsedTime);\n    };\n\n    const uncheckRGB = colorName => {\n      const end = uncheckBgRGB[colorName];\n      const start = checkBgRGB[colorName];\n\n      if (animElapsedTime >= 1) {\n        return end;\n      }\n\n      const diff = end - start;\n      return Math.ceil(start + diff * animElapsedTime);\n    };\n\n    uncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n    checkBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n  }\n\n  canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n    uncheckBgColor,\n    checkBgColor,\n    borderColor\n  });\n}\n\nclass ThemeResolver {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  getThemeColor(...name) {\n    return getThemeColor(this._grid, ...name);\n  }\n\n  get font() {\n    return getThemeColor(this._grid, 'font');\n  }\n\n  get underlayBackgroundColor() {\n    return getThemeColor(this._grid, 'underlayBackgroundColor');\n  } // color\n\n\n  get color() {\n    return getThemeColor(this._grid, 'color');\n  }\n\n  get frozenRowsColor() {\n    return getThemeColor(this._grid, 'frozenRowsColor');\n  } // background\n\n\n  get defaultBgColor() {\n    return getThemeColor(this._grid, 'defaultBgColor');\n  }\n\n  get frozenRowsBgColor() {\n    return getThemeColor(this._grid, 'frozenRowsBgColor');\n  }\n\n  get selectionBgColor() {\n    return getThemeColor(this._grid, 'selectionBgColor');\n  } // border\n\n\n  get borderColor() {\n    return getThemeColor(this._grid, 'borderColor');\n  }\n\n  get frozenRowsBorderColor() {\n    return getThemeColor(this._grid, 'frozenRowsBorderColor');\n  }\n\n  get highlightBorderColor() {\n    return getThemeColor(this._grid, 'highlightBorderColor');\n  }\n\n  get checkbox() {\n    const grid = this._grid;\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n      },\n\n      get checkBgColor() {\n        return getThemeColor(grid, 'checkbox', 'checkBgColor');\n      },\n\n      get borderColor() {\n        return getThemeColor(grid, 'checkbox', 'borderColor');\n      }\n\n    });\n  }\n\n  get button() {\n    const grid = this._grid;\n    return this._button || (this._button = {\n      get color() {\n        return getThemeColor(grid, 'button', 'color');\n      },\n\n      get bgColor() {\n        return getThemeColor(grid, 'button', 'bgColor');\n      }\n\n    });\n  }\n\n  get header() {\n    const grid = this._grid;\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getThemeColor(grid, 'header', 'sortArrowColor');\n      }\n\n    });\n  }\n\n}\n\nfunction strokeRect(ctx, color, left, top, width, height) {\n  if (!__webpack_provided_Array_dot_isArray(color)) {\n    if (color) {\n      ctx.strokeStyle = color;\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    const borderColors = toBoxArray(color);\n    canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n  }\n}\n\nclass GridCanvasHelper {\n  constructor(grid) {\n    this._grid = grid;\n    this._theme = new ThemeResolver(grid);\n  }\n\n  createCalculator(context, font) {\n    return {\n      calcWidth(width) {\n        return calc.toPx(width, {\n          get full() {\n            const rect = context.getRect();\n            return rect.width;\n          },\n\n          get em() {\n            return getFontSize(context.getContext(), font).width;\n          }\n\n        });\n      },\n\n      calcHeight(height) {\n        return calc.toPx(height, {\n          get full() {\n            const rect = context.getRect();\n            return rect.height;\n          },\n\n          get em() {\n            return getFontSize(context.getContext(), font).height;\n          }\n\n        });\n      }\n\n    };\n  }\n\n  getColor(color, col, row, ctx) {\n    return getColor(color, col, row, this._grid, ctx);\n  }\n\n  toBoxArray(obj) {\n    return toBoxArray(obj);\n  }\n\n  toBoxPixelArray(value, context, font) {\n    if (typeof value === 'string' || __webpack_provided_Array_dot_isArray(value)) {\n      const calculator = this.createCalculator(context, font);\n      const box = toBoxArray(value);\n      return [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n    }\n\n    return toBoxArray(value);\n  }\n\n  get theme() {\n    return this._theme;\n  }\n\n  drawWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n\n    if (!drawRect) {\n      return;\n    }\n\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      ctx.beginPath();\n      ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height); //clip\n\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  drawBorderWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n\n    if (!drawRect) {\n      return;\n    }\n\n    const rect = context.getRect();\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      //clip\n      ctx.beginPath();\n      let clipLeft = drawRect.left;\n      let clipWidth = drawRect.width;\n\n      if (drawRect.left === rect.left) {\n        clipLeft += -1;\n        clipWidth += 1;\n      }\n\n      let clipTop = drawRect.top;\n      let clipHeight = drawRect.height;\n\n      if (drawRect.top === rect.top) {\n        clipTop += -1;\n        clipHeight += 1;\n      }\n\n      ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  text(text, context, {\n    padding,\n    offset = 2,\n    color,\n    textAlign = 'left',\n    textBaseline = 'middle',\n    font,\n    textOverflow = 'clip',\n    icons\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    this.drawWithClip(context, ctx => {\n      if (padding) {\n        padding = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + padding[3];\n        const top = rect.top + padding[0];\n        const width = rect.width - padding[1] - padding[3];\n        const height = rect.height - padding[0] - padding[2];\n        rect = new Rect(left, top, width, height);\n      }\n\n      _inlineRect(this._grid, ctx, text, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  multilineText(multilines, context, {\n    padding,\n    offset = 2,\n    color,\n    textAlign = 'left',\n    textBaseline = 'middle',\n    font,\n    lineHeight = '1em',\n    autoWrapText = false,\n    lineClamp = 0,\n    textOverflow = 'clip',\n    icons\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    this.drawWithClip(context, ctx => {\n      if (padding) {\n        padding = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + padding[3];\n        const top = rect.top + padding[0];\n        const width = rect.width - padding[1] - padding[3];\n        const height = rect.height - padding[0] - padding[2];\n        rect = new Rect(left, top, width, height);\n      }\n\n      const calculator = this.createCalculator(context, font);\n      lineHeight = calculator.calcHeight(lineHeight);\n\n      _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  fillText(text, x, y, context, {\n    color,\n    textAlign = 'left',\n    textBaseline = 'top',\n    font\n  } = {}) {\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = textBaseline;\n      ctx.font = font || ctx.font;\n      ctx.fillText(text, x, y);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  fillCell(context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    });\n  }\n\n  fillCellWithState(context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillCell(context, option);\n  }\n\n  fillRect(rect, context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  fillRectWithState(rect, context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillRect(rect, context, option);\n  }\n\n  getFillColorState(context, option = {}) {\n    const state = context.getSelectState();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!state.selected && state.selection) {\n      return this.theme.selectionBgColor;\n    }\n\n    if (option.fillColor) {\n      return option.fillColor;\n    }\n\n    const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      return this.theme.frozenRowsBgColor;\n    }\n\n    return this.theme.defaultBgColor;\n  }\n\n  border(context, {\n    borderColor = this.theme.borderColor,\n    lineWidth = 1\n  } = {}) {\n    const rect = context.getRect();\n    this.drawBorderWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n      if (lineWidth === 1) {\n        ctx.lineWidth = 1;\n        strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n      } else if (lineWidth === 2) {\n        ctx.lineWidth = 2;\n        strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n      } else {\n        ctx.lineWidth = lineWidth;\n        const startOffset = lineWidth / 2 - 1;\n        strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n      }\n    });\n  }\n\n  borderWithState(context, option = {}) {\n    const rect = context.getRect();\n    const state = context.getSelectState();\n    const {\n      col,\n      row\n    } = context; //\n\n    if (state.selected) {\n      option.borderColor = this.theme.highlightBorderColor;\n      option.lineWidth = 2;\n      this.border(context, option);\n    } else {\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        option.borderColor = this.theme.frozenRowsBorderColor;\n      }\n\n      option.lineWidth = 1;\n      this.border(context, option); //\n\n      const sel = this._grid.selection.select;\n\n      if (sel.col + 1 === col && sel.row === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        });\n      } else if (sel.col === col && sel.row + 1 === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0];\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        });\n      }\n    }\n  }\n\n  buildCheckBoxInline(check, context, option = {}) {\n    const self = this;\n    const ctx = context.getContext();\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\n    return new InlineDrawer({\n      draw,\n      width: boxWidth + 3,\n      height: boxWidth + 1,\n      color: undefined\n    });\n\n    function draw({\n      ctx,\n      canvashelper,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    }) {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, rect, col, row, check, self, option, {\n        offset: offset + 1,\n        padding: {\n          left: offsetLeft + 1,\n          right: offsetRight,\n          top: offsetTop,\n          bottom: offsetBottom\n        }\n      });\n    }\n  }\n\n  checkbox(check, context, option = {}) {\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n    });\n  }\n\n  button(caption, context, {\n    bgColor = this.theme.button.bgColor,\n    padding,\n    offset = 2,\n    color = this.theme.button.color,\n    textAlign = 'center',\n    textBaseline = 'middle',\n    shadow,\n    font,\n    textOverflow = 'clip',\n    icons\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      padding = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n      const left = rect.left + padding[3];\n      const top = rect.top + padding[0];\n      const width = rect.width - padding[1] - padding[3];\n      const height = rect.height - padding[0] - padding[2];\n      canvashelper.drawButton(ctx, left, top, width, height, {\n        bgColor,\n        radius: rect.height / 8,\n        offset,\n        shadow\n      });\n\n      _inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height), col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  testFontLoad(font, value, context) {\n    return testFontLoad(font, value, context, this._grid);\n  }\n\n}\n\nmodule.exports = GridCanvasHelper;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isNode\n} = __webpack_require__(0);\n\nconst loads = {};\nlet load;\nlet check;\n\nif (isNode) {\n  load = function (font, testStr, callback) {\n    callback();\n  };\n\n  check = function () {\n    return false;\n  };\n} else {\n  const legacy = !document.fonts;\n  load = legacy ? function (font, testStr, callback) {\n    //for legacy(IE)\n    if (loads[`${font} @ ${testStr}`]) {\n      callback();\n      return;\n    }\n\n    __webpack_require__(119).load(font, testStr, () => {\n      loads[`${font} @ ${testStr}`] = true;\n      callback();\n    }, () => {\n      loads[`${font} @ ${testStr}`] = true;\n      callback();\n    });\n  } : function (font, testStr, callback) {\n    if (loads.all || loads[font]) {\n      callback();\n      return;\n    }\n\n    document.fonts.ready.then(() => {\n      loads.all = true;\n    });\n    document.fonts.load(font).then(() => {\n      loads[font] = true;\n      callback();\n    });\n  };\n  check = legacy ? function (font, testStr) {\n    //for legacy(IE)\n    if (loads[`${font} @ ${testStr}`]) {\n      return true;\n    }\n\n    load(font, testStr, () => {});\n    return false;\n  } : function (font, testStr) {\n    if (loads.all || loads[font]) {\n      return true;\n    }\n\n    if (!document.fonts.check(font)) {\n      load(font, testStr, () => {});\n      return false;\n    }\n\n    return true;\n  };\n}\n\nmodule.exports = {\n  check,\n  load\n};\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(13);\n\nconst {\n  getCacheOrLoad\n} = __webpack_require__(50);\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nclass InlineImage extends Inline {\n  constructor({\n    src,\n    width,\n    height,\n    imageLeft,\n    imageTop,\n    imageWidth,\n    imageHeight\n  }) {\n    super();\n    this._src = src;\n    this._width = width;\n    this._height = height;\n    this._imageLeft = imageLeft;\n    this._imageTop = imageTop;\n    this._imageWidth = imageWidth;\n    this._imageHeight = imageHeight;\n    this._onloaded = [];\n    this._loaded = false;\n\n    if (isPromise(src)) {\n      src.then(s => {\n        this._src = s;\n\n        this._loadImage(s);\n      });\n    } else {\n      this._loadImage(src);\n    }\n  }\n\n  _loadImage(src) {\n    const img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\n    if (isPromise(img)) {\n      img.then(i => {\n        this._loaded = true;\n        this._inlineImg = i;\n\n        this._onloaded.forEach(fn => fn());\n      });\n    } else {\n      this._loaded = true;\n    }\n  }\n\n  width({\n    ctx\n  }) {\n    return this._width || (this._loaded ? this._inlineImg.width : 0);\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return null;\n  }\n\n  canDraw() {\n    return this._loaded;\n  }\n\n  onReady(callback) {\n    if (isPromise(this._src) || isPromise(this._inlineImg)) {\n      this._onloaded.push(() => callback());\n    }\n  }\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const img = this._inlineImg;\n    canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineImage;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(13);\n\nclass InlineDrawer extends Inline {\n  constructor({\n    draw,\n    width,\n    height,\n    color\n  }) {\n    super();\n    this._draw = draw;\n    this._width = width;\n    this._height = height;\n    this._color = color;\n  }\n\n  width({\n    ctx\n  }) {\n    return this._width;\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return this._color;\n  }\n\n  canDraw() {\n    return true;\n  }\n\n  onReady(callback) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    this._draw({\n      ctx,\n      canvashelper,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineDrawer;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint-disable camelcase*/\n\n\nconst {\n  extend\n} = __webpack_require__(0);\n\nconst plugins = __webpack_require__(64);\n\nconst builtins = {\n  get arrow_upward() {\n    return __webpack_require__(126);\n  },\n\n  get arrow_downward() {\n    return __webpack_require__(127);\n  },\n\n  get edit() {\n    return __webpack_require__(128);\n  },\n\n  get add() {\n    return __webpack_require__(129);\n  },\n\n  get star() {\n    return __webpack_require__(130);\n  },\n\n  get star_border() {\n    return __webpack_require__(131);\n  },\n\n  get star_half() {\n    return __webpack_require__(132);\n  }\n\n};\nmodule.exports = {\n  get() {\n    return extend(builtins, plugins);\n  }\n\n};\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst rgbMap = {};\n\nfunction styleColorToRGB(color) {\n  const dummy = document.createElement('div');\n  const {\n    style\n  } = dummy;\n  style.color = color;\n  style.position = 'fixed';\n  style.height = '1px';\n  style.width = '1px';\n  style.opacity = 0;\n  document.body.appendChild(dummy);\n  const {\n    color: styleColor\n  } = document.defaultView.getComputedStyle(dummy, '');\n  document.body.removeChild(dummy);\n  return colorToRGB0(styleColor);\n}\n\nfunction hexToNum(hex) {\n  return parseInt(hex, 16);\n}\n\nfunction createRGB(r, g, b, a = 1) {\n  return {\n    r,\n    g,\n    b,\n    a\n  };\n}\n\nfunction tripleHexToRGB({\n  1: r,\n  2: g,\n  3: b\n}) {\n  return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\n\nfunction sextupleHexToRGB({\n  1: r1,\n  2: r2,\n  3: g1,\n  4: g2,\n  5: b1,\n  6: b2\n}) {\n  return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\n\nfunction testRGB({\n  r,\n  g,\n  b,\n  a\n}) {\n  return 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n}\n\nfunction rateToByte(r) {\n  return Math.ceil(r * 255 / 100);\n}\n\nfunction colorToRGB0(color) {\n  if (color.match(/^#[0-9a-f]{3}$/i)) {\n    return tripleHexToRGB(color);\n  }\n\n  if (color.match(/^#[0-9a-f]{6}$/i)) {\n    return sextupleHexToRGB(color);\n  }\n\n  let ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\n  if (ret) {\n    const rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  return null;\n}\n\nfunction colorToRGB(color) {\n  if (typeof color !== 'string') {\n    return createRGB(0, 0, 0, 0);\n  }\n\n  color = color.toLowerCase().trim();\n\n  if (rgbMap[color]) {\n    return rgbMap[color];\n  }\n\n  return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\n\nmodule.exports = {\n  colorToRGB\n};\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst core = __webpack_require__(67);\n\nconst tools = __webpack_require__(75);\n\nconst columns = __webpack_require__(36);\n\nconst headers = __webpack_require__(103);\n\nconst themes = __webpack_require__(27);\n\nconst data = __webpack_require__(57);\n\nconst ListGrid = __webpack_require__(116);\n\nconst GridCanvasHelper = __webpack_require__(59);\n\nconst icons = __webpack_require__(63);\n\nconst register = __webpack_require__(151);\n/**\n * Cheetah Grid\n * @type {Object}\n * @namespace cheetahGrid\n */\n\n\nmodule.exports = {\n  core,\n  tools,\n  // impl Grids\n  ListGrid,\n  // objects\n  columns,\n  headers,\n  themes,\n  data,\n  // helper\n  GridCanvasHelper,\n\n  get icons() {\n    return icons.get();\n  },\n\n  //plugin registers\n  register,\n\n  get _internal() {\n    console.warn('use internal!!');\n    return {\n      color: __webpack_require__(65),\n      sort: __webpack_require__(58),\n      calc: __webpack_require__(19),\n      symbolManager: __webpack_require__(1),\n      path2DManager: __webpack_require__(29)\n    };\n  }\n\n};\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst DrawGrid = __webpack_require__(5);\n/**\n * core modules\n * @type {Object}\n * @namespace cheetahGrid.core\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  DrawGrid\n};\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(3);\n\nconst style = __webpack_require__(34);\n\nconst {\n  browser\n} = __webpack_require__(0);\n\nconst MAX_SCROLL = browser.heightLimit - 1000;\n\nfunction _update(scrollable) {\n  let domHeight;\n\n  if (scrollable._height > MAX_SCROLL) {\n    const sbSize = style.getScrollBarSize();\n    const {\n      offsetHeight\n    } = scrollable._scrollable;\n    const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n    const rScrollRange = scrollable._height - offsetHeight + sbSize;\n    scrollable._p = vScrollRange / rScrollRange;\n    domHeight = MAX_SCROLL;\n  } else {\n    scrollable._p = 1;\n    domHeight = scrollable._height;\n  }\n\n  scrollable._endPointElement.style.top = `${domHeight.toFixed()}px`;\n  scrollable._endPointElement.style.left = `${scrollable._width.toFixed()}px`;\n}\n\nclass Scrollable {\n  constructor() {\n    this._handler = new EventHandler();\n    this._scrollable = document.createElement('div');\n\n    this._scrollable.classList.add('grid-scrollable');\n\n    this._height = 0;\n    this._width = 0;\n    this._endPointElement = document.createElement('div');\n\n    this._endPointElement.classList.add('grid-scroll-end-point');\n\n    _update(this);\n\n    this._scrollable.appendChild(this._endPointElement); // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n    // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n    // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n    // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n    // this.scrollTop += delta < 0 ? point : -point;\n    // });\n\n  }\n\n  calcTop(top) {\n    const relativeTop = top - this.scrollTop;\n    return this._scrollable.scrollTop + relativeTop;\n  }\n\n  getElement() {\n    return this._scrollable;\n  }\n\n  setScrollSize(width, height) {\n    this._width = width;\n    this._height = height;\n\n    _update(this);\n  }\n\n  get scrollWidth() {\n    return this._width;\n  }\n\n  set scrollWidth(width) {\n    this._width = width;\n\n    _update(this);\n  }\n\n  get scrollHeight() {\n    return this._height;\n  }\n\n  set scrollHeight(height) {\n    this._height = height;\n\n    _update(this);\n  }\n\n  get scrollLeft() {\n    return Math.ceil(this._scrollable.scrollLeft);\n  }\n\n  set scrollLeft(scrollLeft) {\n    this._scrollable.scrollLeft = scrollLeft;\n  }\n\n  get scrollTop() {\n    return Math.ceil(this._scrollable.scrollTop / this._p);\n  }\n\n  set scrollTop(scrollTop) {\n    this._scrollable.scrollTop = scrollTop * this._p;\n  }\n\n  onScroll(fn) {\n    this._handler.on(this._scrollable, 'scroll', fn);\n  }\n\n  dispose() {\n    this._handler.dispose();\n  }\n\n}\n\nmodule.exports = Scrollable;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(71);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/**\\n * core styles \\n */\\n.cheetah-grid .grid-scrollable {\\n\\theight: 100%;\\n\\twidth: 100%;\\n\\tposition: absolute;\\n\\toverflow: scroll;\\n}\\n.cheetah-grid .grid-scroll-end-point {\\n\\topacity: 0;\\n\\tposition: relative;\\n}\\n.cheetah-grid {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n.cheetah-grid > canvas {\\n\\tposition: absolute;\\n\\twidth: 0;\\n\\theight: 0;\\n}\\n.cheetah-grid .grid-focus-control {\\n\\tposition: relative !important;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\topacity: 0;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tbox-sizing: border-box;\\n\\tpointer-events: none;\\n\\tmax-width: 0;\\n\\tmax-height: 0;\\n\\tfloat: none !important;\\n}\\n.cheetah-grid input.grid-focus-control::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n.cheetah-grid input.grid-focus-control.composition {\\n\\topacity: 1;\\n\\tmax-width: none;\\n\\tmax-height: none;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst indexFirst = (ary, elm) => {\n  let low = 0;\n  let high = ary.length - 1;\n\n  while (low <= high) {\n    const i = Math.floor((low + high) / 2);\n\n    if (ary[i] === elm) {\n      return i;\n    } else if (ary[i] > elm) {\n      high = i - 1;\n    } else {\n      low = i + 1;\n    }\n  }\n\n  return high < 0 ? 0 : high;\n};\n\nclass NumberMap {\n  constructor() {\n    this._keys = [];\n    this._vals = {};\n    this._sorted = false;\n  }\n\n  put(key, value) {\n    if (!(key in this._vals)) {\n      this._keys.push(key);\n\n      this._sorted = false;\n    }\n\n    this._vals[key] = value;\n  }\n\n  get(key) {\n    return this._vals[key];\n  }\n\n  eachAll(fn) {\n    this._keys.forEach(key => {\n      fn(this.get(key), key);\n    });\n  }\n\n  each(keyFrom, keyTo, fn) {\n    const {\n      _keys: keys\n    } = this;\n    const {\n      length\n    } = keys;\n\n    if (!this._sorted) {\n      keys.sort((a, b) => {\n        if (a < b) {\n          return -1;\n        }\n\n        if (a > b) {\n          return 1;\n        }\n\n        return 0;\n      });\n      this._sorted = true;\n    }\n\n    for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n      const key = keys[i];\n\n      if (keyFrom <= key && key <= keyTo) {\n        fn(this.get(key), key);\n      } else if (keyTo < key) {\n        return;\n      }\n    }\n  }\n\n}\n\nmodule.exports = NumberMap;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isNode\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(3);\n\nconst handler = new EventHandler();\nlet ratio;\n\nfunction setRatio() {\n  if (isNode) {\n    ratio = 1;\n  } else {\n    ratio = Math.ceil(window.devicePixelRatio || 1);\n\n    if (ratio > 1 && ratio % 2 !== 0) {\n      ratio += 1;\n    }\n  }\n}\n\nsetRatio();\n\nif (!isNode) {\n  handler.on(window, 'resize', setRatio);\n}\n\nmodule.exports = {\n  transform(canvas) {\n    const ctx = canvas.getContext('2d');\n    const {\n      getAttribute,\n      setAttribute\n    } = canvas;\n\n    canvas.getAttribute = function (name, ...args) {\n      let result = getAttribute.call(this, name, ...args);\n\n      if (name === 'width' || name === 'height') {\n        result /= ratio;\n      }\n\n      return result;\n    };\n\n    canvas.setAttribute = function (name, val, ...args) {\n      const wh = name === 'width' || name === 'height';\n\n      if (wh) {\n        val *= ratio;\n      }\n\n      const result = setAttribute.call(this, name, val, ...args);\n\n      if (wh) {\n        ctx.scale(ratio, ratio);\n      }\n\n      return result;\n    };\n\n    Object.defineProperty(canvas, 'width', {\n      get() {\n        return canvas.getAttribute('width');\n      },\n\n      set: val => {\n        canvas.setAttribute('width', Math.floor(val));\n      },\n      configurable: true,\n      enumerable: true\n    });\n    Object.defineProperty(canvas, 'height', {\n      get() {\n        return canvas.getAttribute('height');\n      },\n\n      set: val => {\n        canvas.setAttribute('height', Math.floor(val));\n      },\n      configurable: true,\n      enumerable: true\n    });\n    const {\n      drawImage\n    } = ctx;\n\n    ctx.drawImage = function (img, ...args) {\n      if (img !== canvas || ratio === 1) {\n        return drawImage.call(this, img, ...args);\n      }\n\n      this.save();\n\n      try {\n        this.scale(1 / ratio, 1 / ratio);\n\n        if (args.length > 4) {\n          args[4] *= ratio;\n          args[5] *= ratio;\n        } else {\n          args[0] *= ratio;\n          args[1] *= ratio;\n        }\n\n        return drawImage.call(this, img, ...args);\n      } finally {\n        this.restore();\n      }\n    };\n\n    return canvas;\n  }\n\n};\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst canvashelper = __webpack_require__(35);\n/**\n * tools\n * @type {Object}\n * @namespace cheetahGrid.tools\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  canvashelper\n};\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseAction = __webpack_require__(20);\n\nconst Action = __webpack_require__(37);\n\nconst Editor = __webpack_require__(15);\n\nconst CheckEditor = __webpack_require__(77);\n\nconst ButtonAction = __webpack_require__(78);\n\nconst SmallDialogInputEditor = __webpack_require__(79);\n\nconst InlineInputEditor = __webpack_require__(83);\n\nconst InlineMenuEditor = __webpack_require__(87);\n\nclass ImmutableCheckEditor extends CheckEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n}\n\nclass ImmutableInputEditor extends SmallDialogInputEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n}\n/**\n * column actions\n * @type {Object}\n * @namespace cheetahGrid.columns.action\n * @memberof cheetahGrid.columns\n */\n\n\nconst action = {\n  ACTIONS: {\n    CHECK: new ImmutableCheckEditor(),\n    INPUT: new ImmutableInputEditor()\n  },\n\n  get BaseAction() {\n    return BaseAction;\n  },\n\n  get Editor() {\n    return Editor;\n  },\n\n  get Action() {\n    return Action;\n  },\n\n  get CheckEditor() {\n    return CheckEditor;\n  },\n\n  get ButtonAction() {\n    return ButtonAction;\n  },\n\n  get SmallDialogInputEditor() {\n    return SmallDialogInputEditor;\n  },\n\n  get InlineInputEditor() {\n    console.warn('InlineInputEditor is an experiment stage');\n    return InlineInputEditor;\n  },\n\n  get InlineMenuEditor() {\n    return InlineMenuEditor;\n  },\n\n  of(columnAction) {\n    if (!columnAction) {\n      return undefined;\n    } else if (typeof columnAction === 'string') {\n      return action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n    } else {\n      return columnAction;\n    }\n  }\n\n};\nmodule.exports = action;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    setReadonly\n  },\n  isPromise,\n  event: {\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst {\n  bindCellClickAction,\n  bindCellKeyAction\n} = __webpack_require__(38);\n\nconst animate = __webpack_require__(21);\n\nconst Editor = __webpack_require__(15);\n\nconst {\n  CHECK_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nconst {\n  EVENT_TYPE: {\n    PASTE_CELL\n  }\n} = __webpack_require__(5);\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nfunction toggleValue(val) {\n  if (typeof val === 'number') {\n    if (val === 0) {\n      return 1;\n    } else {\n      return 0;\n    }\n  } else if (typeof val === 'string') {\n    if (val === 'false') {\n      return 'true';\n    } else if (val === 'off') {\n      return 'on';\n    } else if (val.match(/^0+$/)) {\n      return val.replace(/^(0*)0$/, '$11');\n    } else if (val === 'true') {\n      return 'false';\n    } else if (val === 'on') {\n      return 'off';\n    } else if (val.match(/^0*1$/)) {\n      return val.replace(/^(0*)1$/, '$10');\n    }\n  }\n\n  return !val;\n}\n\nclass CheckEditor extends Editor {\n  clone() {\n    return new CheckEditor(this);\n  }\n\n  bindGridEvent(grid, col, util) {\n    if (!grid[CHECK_COLUMN_STATE_ID]) {\n      setReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n    }\n\n    const state = grid[CHECK_COLUMN_STATE_ID];\n\n    const action = cell => {\n      const cellKey = `${cell.col}:${cell.row}`;\n      const blockKey = `${cellKey}::block`;\n      const elapsedKey = `${cellKey}::elapsed`;\n\n      if (this.readOnly || this.disabled || state[blockKey]) {\n        return;\n      }\n\n      const ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\n      if (ret) {\n        const onChange = () => {\n          // checkbox animation\n          animate(200, point => {\n            if (point === 1) {\n              delete state[elapsedKey];\n            } else {\n              state[elapsedKey] = point;\n            }\n\n            grid.invalidateCell(cell.col, cell.row);\n          });\n        };\n\n        if (isPromise(ret)) {\n          state[blockKey] = true;\n          ret.then(() => {\n            delete state[blockKey];\n            onChange();\n          });\n        } else {\n          onChange();\n        }\n      }\n    };\n\n    return [...bindCellClickAction(grid, col, util, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        grid.invalidateCell(e.col, e.row);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        grid.invalidateCell(e.col, e.row);\n      }\n    }), ...bindCellKeyAction(grid, col, util, {\n      action: e => {\n        const selrange = grid.selection.range;\n        const {\n          col\n        } = grid.selection.select;\n\n        for (let {\n          row\n        } = selrange.start; row <= selrange.end.row; row++) {\n          if (!util.isTarget(col, row)) {\n            continue;\n          }\n\n          action({\n            col,\n            row\n          });\n        }\n      },\n      acceptKeys: [KEY_ENTER, KEY_SPACE]\n    }), // paste value\n    grid.listen(PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      const pasteValue = e.normalizeValue.trim();\n      grid.doGetCellValue(e.col, e.row, value => {\n        const newValue = toggleValue(value);\n\n        if (`${newValue}`.trim() === pasteValue) {\n          cancelEvent(e.event);\n          action({\n            col: e.col,\n            row: e.row\n          });\n        }\n      });\n    })];\n  }\n\n}\n\nmodule.exports = CheckEditor;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst Action = __webpack_require__(37);\n\nconst {\n  BUTTON_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nclass ButtonAction extends Action {\n  getState(grid) {\n    if (!grid[BUTTON_COLUMN_STATE_ID]) {\n      setReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n    }\n\n    return grid[BUTTON_COLUMN_STATE_ID];\n  }\n\n}\n\nmodule.exports = ButtonAction;\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst SmallDialogInputElement = __webpack_require__(80);\n\nconst {\n  SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _\n} = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachInput(grid, cell, editor, value) {\n  if (!grid[_]) {\n    setReadonly(grid, _, {});\n  }\n\n  if (!globalElement) {\n    globalElement = new SmallDialogInputElement();\n  }\n\n  const state = grid[_];\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement.dispose();\n          globalElement = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nconst BaseInputEditor = __webpack_require__(39);\n\nclass SmallDialogInputEditor extends BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._helperText = option.helperText;\n    this._inputValidator = option.inputValidator;\n    this._validator = option.validator;\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n\n  dispose() {\n    this._inputDialogManager.dispose();\n\n    this._inputDialogManager = null;\n  }\n\n  get classList() {\n    return this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(type) {\n    this._type = type;\n  }\n\n  get helperText() {\n    return this._helperText;\n  }\n\n  get inputValidator() {\n    return this._inputValidator;\n  }\n\n  get validator() {\n    return this._validator;\n  }\n\n  clone() {\n    return new SmallDialogInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n\n  onChangeSelectCellInternal(grid, cell, selected) {\n    // cancel input\n    detachInput();\n  }\n\n  onGridScrollInternal(grid) {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onSetInputAttrsInternal(grid, cell, input) {\n    SmallDialogInputElement.setInputAttrs(this, grid, input);\n  }\n\n}\n\nmodule.exports = SmallDialogInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  event: {\n    getKeyCode,\n    cancel: cancelEvent\n  },\n  then,\n  browser\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(3);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n  const focus = () => {\n    input.focus();\n    const end = input.value.length;\n\n    try {\n      if (typeof input.selectionStart !== 'undefined') {\n        input.selectionStart = end;\n        input.selectionEnd = end;\n        return;\n      }\n    } catch (e) {//ignore\n    }\n\n    if (document.selection) {\n      const range = input.createTextRange();\n      range.collapse();\n      range.moveEnd('character', end);\n      range.moveStart('character', end);\n      range.select();\n    }\n  };\n\n  handler.tryWithOffEvents(input, 'blur', () => {\n    focus();\n  });\n}\n\nfunction createDialogElement() {\n  __webpack_require__(81);\n\n  const element = createElement('div', {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const input = createElement('input', {\n    classList: INPUT_CLASSNAME\n  });\n  input.readonly = true;\n  input.tabIndex = -1;\n  element.appendChild(input);\n  return element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n  const {\n    classList,\n    helperText\n  } = editor;\n\n  if (classList) {\n    dialog.classList.add(...classList);\n  }\n\n  if (helperText && typeof helperText !== 'function') {\n    dialog.dataset.helperText = helperText;\n  }\n\n  setInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n  const {\n    classList\n  } = editor;\n\n  if (classList) {\n    dialog.classList.remove(...classList);\n  }\n\n  delete dialog.dataset.helperText;\n  input.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n  const {\n    type\n  } = editor;\n  input.type = type || '';\n}\n\nclass SmallDialogInputElement {\n  static setInputAttrs(...args) {\n    setInputAttrs(...args);\n  }\n\n  constructor() {\n    this._handler = new EventHandler();\n    this._dialog = createDialogElement();\n    this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\n    this._bindDialogEvents();\n  }\n\n  dispose() {\n    const dialog = this._dialog;\n    this.detach();\n\n    this._handler.dispose();\n\n    this._dialog = null;\n    this._input = null;\n    this._beforePropEditor = null;\n\n    if (dialog.parentElement) {\n      dialog.parentElement.removeChild(dialog);\n    }\n  }\n\n  attach(grid, editor, col, row, value) {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n\n    if (this._beforePropEditor) {\n      unbindProps(grid, dialog, input, this._beforePropEditor);\n    }\n\n    delete dialog.dataset.errorMessage;\n    dialog.classList.remove(SHOWN_CLASSNAME);\n    dialog.classList.add(HIDDEN_CLASSNAME);\n    input.readonly = false;\n    input.tabIndex = 0;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    dialog.style.top = `${rect.top.toFixed()}px`;\n    dialog.style.left = `${rect.left.toFixed()}px`;\n    dialog.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(dialog);\n    input.value = value;\n    input.style.font = grid.font || '16px sans-serif';\n    const activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n\n    this._onInputValue(input, activeData);\n\n    if (!browser.IE) {\n      _focus(input, handler);\n    } else {\n      // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n      setTimeout(() => _focus(input, handler));\n    }\n\n    dialog.classList.add(SHOWN_CLASSNAME);\n    dialog.classList.remove(HIDDEN_CLASSNAME);\n    input.readonly = true;\n    bindProps(grid, dialog, input, editor);\n    this._activeData = activeData;\n    this._beforePropEditor = editor;\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const dialog = this._dialog;\n      const input = this._input;\n      dialog.classList.remove(SHOWN_CLASSNAME);\n      dialog.classList.add(HIDDEN_CLASSNAME);\n      input.readonly = false;\n      input.tabIndex = -1;\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      grid.invalidateCell(col, row);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n    this._beforeValue = null;\n  }\n\n  _doChangeValue() {\n    if (!this._isActive()) {\n      return false;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    return then(this._validate(value), res => {\n      if (res && value === input.value) {\n        const {\n          grid,\n          col,\n          row\n        } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  _isActive() {\n    const dialog = this._dialog;\n\n    if (!dialog || !dialog.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindDialogEvents() {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(dialog, 'click', stopPropagationOnly);\n    handler.on(dialog, 'dblclick', stopPropagationOnly);\n    handler.on(dialog, 'mousedown', stopPropagationOnly);\n    handler.on(dialog, 'touchstart', stopPropagationOnly);\n    handler.on(input, 'compositionstart', e => {\n      input.classList.add('composition');\n    });\n    handler.on(input, 'compositionend', e => {\n      input.classList.remove('composition');\n\n      this._onInputValue(input);\n    });\n\n    const onKeyupAndPress = e => {\n      if (input.classList.contains('composition')) {\n        return;\n      }\n\n      this._onInputValue(input);\n    };\n\n    handler.on(input, 'keyup', onKeyupAndPress);\n    handler.on(input, 'keypress', onKeyupAndPress);\n    handler.on(input, 'keydown', e => {\n      if (input.classList.contains('composition')) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_ESC) {\n        this.detach(true);\n        cancelEvent(e);\n      } else if (keyCode === KEY_ENTER && !this._attaching) {\n        const input = this._input;\n        const {\n          value\n        } = input;\n        then(this._doChangeValue(), r => {\n          if (r && value === input.value) {\n            this.detach(true);\n          }\n        });\n        cancelEvent(e);\n      } else {\n        this._onInputValue(input);\n      }\n    });\n  }\n\n  _onInputValue(input, activeData) {\n    const before = this._beforeValue;\n    const {\n      value\n    } = input;\n\n    if (before !== value) {\n      this._onInputValueChange(value, before, activeData);\n    }\n\n    this._beforeValue = value;\n  }\n\n  _onInputValueChange(after, before, activeData) {\n    activeData = activeData || this._activeData;\n    const dialog = this._dialog;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = activeData;\n\n    if (typeof editor.helperText === 'function') {\n      const helperText = editor.helperText(after, {\n        grid,\n        col,\n        row\n      });\n\n      if (helperText) {\n        dialog.dataset.helperText = helperText;\n      } else {\n        delete dialog.dataset.helperText;\n      }\n    }\n\n    if ('errorMessage' in dialog.dataset) {\n      this._validate(after, true);\n    }\n  }\n\n  _validate(value, inputOnly) {\n    const dialog = this._dialog;\n    const input = this._input;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = this._activeData;\n    let message = null;\n\n    if (editor.inputValidator) {\n      message = editor.inputValidator(value, {\n        grid,\n        col,\n        row\n      });\n    }\n\n    return then(message, message => {\n      if (!message && editor.validator && !inputOnly) {\n        message = editor.validator(value, {\n          grid,\n          col,\n          row\n        });\n      }\n\n      return then(message, message => {\n        if (message && value === input.value) {\n          dialog.dataset.errorMessage = message;\n        } else {\n          delete dialog.dataset.errorMessage;\n        }\n\n        return !message;\n      });\n    });\n  }\n\n}\n\nmodule.exports = SmallDialogInputElement;\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(82);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*ms*/\\n.cheetah-grid__small-dialog-input__input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n@keyframes cheetah-grid__small-dialog-input--hidden-animation {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t99% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n.cheetah-grid__small-dialog-input {\\n\\tposition: absolute;\\n\\tbox-sizing: content-box;\\n\\tmargin : -1px auto auto -1px;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #fafafa;\\n\\n\\ttransition: padding 150ms ease-out, box-shadow 150ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input--hidden {\\n\\tbox-shadow: none;\\n\\tpadding: 0;\\n\\n\\tpointer-events: none;\\n\\tanimation: cheetah-grid__small-dialog-input--hidden-animation  150ms ease-out;\\n\\topacity: 0;\\n}\\n.cheetah-grid__small-dialog-input--shown {\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0px rgba(0, 0, 0, .14), 0 1px 5px 0px rgba(0, 0, 0, .12);\\n\\tpadding: 8px 24px;\\n}\\n.cheetah-grid__small-dialog-input__input {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\tpadding: 3px 2px 0 4px;\\n\\tborder: none;\\n\\tborder-bottom: solid 1px rgba(0, 0, 0, .87);\\n\\toutline: none;\\n\\tbackground-color: transparent;\\n\\ttransition: all 300ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input__input:focus {\\n\\tborder-bottom: solid 1px #2196f3;\\n\\tbox-shadow: 0 1px 0 0 #2196f3;\\n}\\n.cheetah-grid__small-dialog-input::after {\\n\\tcontent: '';\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tpadding-top: 8px;\\n}\\n.cheetah-grid__small-dialog-input.helper-text--right-justified::after {\\n\\ttext-align: right;\\n}\\n.cheetah-grid__small-dialog-input[data-helper-text]::after {\\n\\tcontent: attr(data-helper-text);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n.cheetah-grid__small-dialog-input[data-error-message] input {\\n\\tborder-bottom: solid 1px #ff1744;\\n\\tbox-shadow: 0 1px 0 0 #ff1744;\\n}\\n.cheetah-grid__small-dialog-input[data-error-message]::after {\\n\\tcontent: attr(data-error-message);\\n\\tcolor: #ff1744;\\n\\ttext-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst BaseInputEditor = __webpack_require__(39);\n\nconst InlineInputElement = __webpack_require__(84);\n\nconst {\n  INLINE_INPUT_EDITOR_STATE_ID: _\n} = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachInput(grid, cell, editor, value) {\n  if (!grid[_]) {\n    setReadonly(grid, _, {});\n  }\n\n  if (!globalElement) {\n    globalElement = new InlineInputElement();\n  }\n\n  const state = grid[_];\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement.dispose();\n          globalElement = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nfunction doChangeValue(grid) {\n  if (globalElement) {\n    globalElement.doChangeValue();\n  }\n}\n\nclass InlineInputEditor extends BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n\n  get classList() {\n    return this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(type) {\n    this._type = type;\n  }\n\n  clone() {\n    return new InlineInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n\n  onChangeSelectCellInternal(grid, cell, selected) {\n    doChangeValue(grid);\n    detachInput();\n  }\n\n  onGridScrollInternal(grid) {\n    doChangeValue(grid);\n    detachInput(true);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onSetInputAttrsInternal(grid, cell, input) {\n    InlineInputElement.setInputAttrs(this, grid, input);\n  }\n\n}\n\nmodule.exports = InlineInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  event: {\n    getKeyCode,\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(3);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst KEY_ENTER = 13;\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n  __webpack_require__(85);\n\n  return createElement('input', {\n    classList: CLASSNAME\n  });\n}\n\nfunction setInputAttrs(editor, grid, input) {\n  const {\n    classList,\n    type\n  } = editor;\n\n  if (classList) {\n    input.classList.add(...classList);\n  }\n\n  input.type = type || '';\n}\n\nclass InlineInputElement {\n  static setInputAttrs(...args) {\n    setInputAttrs(...args);\n  }\n\n  constructor() {\n    this._handler = new EventHandler();\n    this._input = createInputElement();\n\n    this._bindInputEvents();\n  }\n\n  dispose() {\n    this.detach();\n\n    this._handler.dispose();\n\n    this._input = null;\n    this._beforePropEditor = null;\n  }\n\n  attach(grid, editor, col, row, value) {\n    const input = this._input;\n    const handler = this._handler;\n\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n\n      if (classList) {\n        input.classList.remove(...classList);\n      }\n    }\n\n    input.style.font = grid.font || '16px sans-serif';\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    input.style.top = `${rect.top.toFixed()}px`;\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(input);\n    setInputAttrs(editor, grid, input);\n    input.value = value;\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._beforePropEditor = editor;\n\n    const focus = () => {\n      input.focus();\n      const end = input.value.length;\n\n      try {\n        if (typeof input.selectionStart !== 'undefined') {\n          input.selectionStart = end;\n          input.selectionEnd = end;\n          return;\n        }\n      } catch (e) {//ignore\n      }\n\n      if (document.selection) {\n        const range = input.createTextRange();\n        range.collapse();\n        range.moveEnd('character', end);\n        range.moveStart('character', end);\n        range.select();\n      }\n    };\n\n    handler.tryWithOffEvents(input, 'blur', () => {\n      focus();\n    });\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const input = this._input;\n\n      this._handler.tryWithOffEvents(input, 'blur', () => {\n        input.parentElement.removeChild(input);\n      });\n\n      grid.invalidateCell(col, row);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n  }\n\n  doChangeValue() {\n    if (!this._isActive()) {\n      return;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    const {\n      grid,\n      col,\n      row\n    } = this._activeData;\n    grid.doChangeValue(col, row, () => value);\n  }\n\n  _isActive() {\n    const input = this._input;\n\n    if (!input || !input.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindInputEvents() {\n    const handler = this._handler;\n    const input = this._input;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(input, 'click', stopPropagationOnly);\n    handler.on(input, 'mousedown', stopPropagationOnly);\n    handler.on(input, 'touchstart', stopPropagationOnly);\n    handler.on(input, 'dblclick', stopPropagationOnly);\n    handler.on(input, 'compositionstart', e => {\n      input.classList.add('composition');\n    });\n    handler.on(input, 'compositionend', e => {\n      input.classList.remove('composition');\n    });\n    handler.on(input, 'keydown', e => {\n      if (input.classList.contains('composition')) {\n        return;\n      }\n\n      if (getKeyCode(e) === KEY_ENTER) {\n        if (!this._isActive() || this._attaching) {\n          return;\n        }\n\n        const {\n          grid\n        } = this._activeData;\n        this.doChangeValue();\n\n        if (grid) {\n          grid.focus();\n        }\n\n        this.detach();\n        cancelEvent(e);\n      }\n    });\n    handler.on(input, 'blur', e => {\n      this.doChangeValue();\n      this.detach();\n    });\n  }\n\n}\n\nmodule.exports = InlineInputElement;\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(86);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*ms*/\\n.cheetah-grid__inline-input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n\\n.cheetah-grid__inline-input {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  obj: {\n    setReadonly\n  },\n  array: {\n    find\n  },\n  event: {\n    cancel: cancelEvent\n  },\n  then\n} = __webpack_require__(0);\n\nconst {\n  normalize\n} = __webpack_require__(40);\n\nconst Editor = __webpack_require__(15);\n\nconst {\n  EVENT_TYPE: {\n    SELECTED_CELL,\n    CLICK_CELL,\n    KEYDOWN,\n    SCROLL,\n    MOUSEOVER_CELL,\n    MOUSEOUT_CELL,\n    MOUSEMOVE_CELL,\n    PASTE_CELL\n  }\n} = __webpack_require__(5);\n\nconst InlineMenuElement = __webpack_require__(88);\n\nconst {\n  INLINE_MENU_EDITOR_STATE_ID: _\n} = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachMenu(grid, cell, editor, value) {\n  if (!grid[_]) {\n    setReadonly(grid, _, {});\n  }\n\n  if (!globalElement) {\n    globalElement = new InlineMenuElement();\n  }\n\n  const state = grid[_];\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement.dispose();\n          globalElement = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachMenu(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._options = normalize(option.options);\n  }\n\n  dispose() {}\n\n  get classList() {\n    return this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this._options = normalize(options);\n  }\n\n  clone() {\n    return new InlineMenuEditor(this);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n\n  bindGridEvent(grid, col, util) {\n    const open = cell => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      grid.doGetCellValue(cell.col, cell.row, value => {\n        attachMenu(grid, cell, this, value);\n      });\n    };\n\n    return [grid.listen(CLICK_CELL, cell => {\n      if (!util.isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(KEYDOWN, (keyCode, e) => {\n      if (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n        return;\n      }\n\n      const sel = grid.selection.select;\n\n      if (!util.isTarget(sel.col, sel.row)) {\n        return;\n      }\n\n      open({\n        col: sel.col,\n        row: sel.row\n      });\n    }), grid.listen(SELECTED_CELL, e => {\n      detachMenu();\n    }), grid.listen(SCROLL, () => {\n      detachMenu(true);\n    }), // mouse move\n    grid.listen(MOUSEOVER_CELL, e => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = 'pointer';\n    }), grid.listen(MOUSEMOVE_CELL, e => {\n      if (this.readOnly || this.disabled) {\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      if (!grid.getElement().style.cursor) {\n        grid.getElement().style.cursor = 'pointer';\n      }\n    }), grid.listen(MOUSEOUT_CELL, e => {\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = '';\n    }), // paste value\n    grid.listen(PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      if (!util.isTarget(e.col, e.row)) {\n        return;\n      }\n\n      const pasteValue = e.normalizeValue.trim();\n      const pasteOpt = find(this._options, opt => `${opt.value}`.trim() === pasteValue);\n\n      if (pasteOpt) {\n        cancelEvent(e.event);\n        then(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => grid.invalidateCell(e.col, e.row));\n      }\n    })];\n  }\n\n}\n\nmodule.exports = InlineMenuEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef,\n  event: {\n    getKeyCode,\n    cancel: cancelEvent\n  }\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(3);\n\nconst {\n  createElement,\n  appendHtml,\n  empty,\n  disableFocus,\n  isFocusable,\n  findPrevSiblingFocusable,\n  findNextSiblingFocusable\n} = __webpack_require__(10);\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n  let el = target;\n\n  while (!el.classList.contains(ITEM_CLASSNAME)) {\n    el = el.parentElement;\n\n    if (!el || el.classList.contains(CLASSNAME)) {\n      return undefined;\n    }\n  }\n\n  return el;\n}\n\nfunction createMenuElement() {\n  __webpack_require__(89);\n\n  return createElement('ul', {\n    classList: CLASSNAME\n  });\n}\n\nfunction attachElement(element, rect, menu) {\n  menu.style.top = `${rect.top.toFixed()}px`;\n  menu.style.left = `${rect.left.toFixed()}px`;\n  menu.style.width = `${rect.width.toFixed()}px`;\n  menu.style['line-height'] = `${rect.height.toFixed()}px`;\n  element.appendChild(menu);\n}\n\nfunction optionToLi({\n  classList,\n  caption,\n  value,\n  html\n}, index) {\n  const item = createElement('li', {\n    classList: ITEM_CLASSNAME\n  });\n  item.tabIndex = 0;\n  item.dataset.valueindex = index;\n\n  if (classList) {\n    item.classList.add(...(__webpack_provided_Array_dot_isArray(classList) ? classList : [classList]));\n  }\n\n  if (caption) {\n    const span = createElement('span', {\n      text: caption\n    });\n    item.appendChild(span);\n  } else if (html) {\n    appendHtml(item, html);\n  }\n\n  if (value === '' || !isDef(value)) {\n    item.classList.add(EMPTY_ITEM_CLASSNAME);\n  }\n\n  return item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n  const {\n    options,\n    classList\n  } = editor;\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  empty(menu);\n  menu.style.font = grid.font || '16px sans-serif';\n  let emptyItemEl = null;\n  let valueItemEl = null;\n  options.forEach((option, i) => {\n    const item = optionToLi(option, i);\n    menu.appendChild(item);\n\n    if (option.value === value) {\n      valueItemEl = item;\n      item.dataset.select = true;\n    }\n\n    if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n      emptyItemEl = item;\n    }\n  });\n  const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\n  if (classList) {\n    menu.classList.add(...classList);\n  }\n\n  const children = Array.prototype.slice.call(menu.children, 0);\n  const focusIndex = children.indexOf(focusEl);\n  const {\n    element,\n    rect\n  } = grid.getAttachCellArea(col, row); // Cover the right line\n\n  rect.width++; // append for calculation\n\n  attachElement(element, rect, menu); // Make the selection item at the middle\n\n  let offset = 0;\n  let allHeight = 0;\n\n  for (let i = 0; i < children.length; i++) {\n    const {\n      offsetHeight\n    } = children[i];\n\n    if (i < focusIndex) {\n      offset += offsetHeight;\n    }\n\n    allHeight += offsetHeight;\n  }\n\n  rect.offsetTop(-offset);\n  menu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n  attachElement(element, rect, menu); // Control not to overflow the screen range\n\n  const menuClientRect = menu.getBoundingClientRect();\n  const scaleDiff = (allHeight - menuClientRect.height) / 2;\n  const orgMenuTop = menuClientRect.top - scaleDiff;\n  let menuTop = orgMenuTop;\n  const menuBottom = menuTop + allHeight;\n  const winBottom = window.innerHeight;\n  const winMargin = 20;\n\n  if (menuBottom > winBottom - winMargin) {\n    const diff = menuBottom - winBottom + winMargin;\n    menuTop -= diff;\n  }\n\n  if (menuTop < 0\n  /*winTop*/\n  + winMargin) {\n    menuTop = winMargin;\n  }\n\n  if (menuTop !== orgMenuTop) {\n    rect.offsetTop(-(orgMenuTop - menuTop)); // re update\n\n    attachElement(element, rect, menu);\n  }\n\n  if (focusEl) {\n    focusEl.focus();\n  }\n\n  menu.classList.remove(HIDDEN_CLASSNAME);\n  menu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  disableFocus(menu);\n}\n\nclass InlineMenuElement {\n  constructor() {\n    this._handler = new EventHandler();\n    this._menu = createMenuElement();\n\n    this._bindMenuEvents();\n  }\n\n  dispose() {\n    const menu = this._menu;\n    this.detach();\n\n    this._handler.dispose();\n\n    this._menu = null;\n    this._beforePropEditor = null;\n\n    if (menu.parentElement) {\n      menu.parentElement.removeChild(menu);\n    }\n  }\n\n  attach(grid, editor, col, row, value) {\n    const menu = this._menu;\n\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n\n      if (classList) {\n        menu.classList.remove(...classList);\n      }\n    }\n\n    openMenu(grid, editor, col, row, value, menu);\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._beforePropEditor = editor;\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const menu = this._menu;\n      closeMenu(grid, col, row, menu);\n      grid.invalidateCell(col, row);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n  }\n\n  _doChangeValue(valueindex) {\n    if (!this._isActive()) {\n      return;\n    }\n\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = this._activeData;\n    const {\n      value\n    } = editor.options[valueindex];\n    grid.doChangeValue(col, row, () => value);\n  }\n\n  _isActive() {\n    const menu = this._menu;\n\n    if (!menu || !menu.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindMenuEvents() {\n    const handler = this._handler;\n    const menu = this._menu;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(menu, 'mousedown', stopPropagationOnly);\n    handler.on(menu, 'touchstart', stopPropagationOnly);\n    handler.on(menu, 'dblclick', stopPropagationOnly);\n    handler.on(menu, 'click', e => {\n      e.stopPropagation();\n      const item = findItemParents(e.target);\n\n      if (!item) {\n        return;\n      }\n\n      const {\n        valueindex\n      } = item.dataset;\n\n      this._doChangeValue(valueindex);\n\n      this.detach(true);\n    });\n    handler.on(menu, 'keydown', e => {\n      const item = findItemParents(e.target);\n\n      if (!item) {\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n\n      if (keyCode === KEY_ENTER) {\n        const {\n          valueindex\n        } = item.dataset;\n\n        this._doChangeValue(valueindex);\n\n        this.detach(true);\n        cancelEvent(e);\n      } else if (keyCode === KEY_ESC) {\n        this.detach(true);\n        cancelEvent(e);\n      } else if (keyCode === KEY_UP) {\n        const n = findPrevSiblingFocusable(item);\n\n        if (n) {\n          n.focus();\n          cancelEvent(e);\n        }\n      } else if (keyCode === KEY_DOWN) {\n        const n = findNextSiblingFocusable(item);\n\n        if (n) {\n          n.focus();\n          cancelEvent(e);\n        }\n      } else if (keyCode === KEY_TAB) {\n        if (!e.shiftKey) {\n          if (!findNextSiblingFocusable(item)) {\n            let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\n            if (!isFocusable(n)) {\n              n = findNextSiblingFocusable(n);\n            }\n\n            if (n) {\n              n.focus();\n              cancelEvent(e);\n            }\n          }\n        } else {\n          if (!findPrevSiblingFocusable(item)) {\n            const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n            let n = items[items.length - 1];\n\n            if (!isFocusable(n)) {\n              n = findPrevSiblingFocusable(n);\n            }\n\n            if (n) {\n              n.focus();\n              cancelEvent(e);\n            }\n          }\n        }\n      }\n    });\n  }\n\n}\n\nmodule.exports = InlineMenuElement;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(90);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-menu {\\n\\tposition: absolute;\\n\\tcolor: rgba(0, 0, 0, .87);\\n\\tbox-sizing: content-box;\\n\\tmargin: -1px auto auto -1px;\\n\\tpadding: 8px 0;\\n\\tbackground-color: #fafafa;\\n\\tlist-style-type: none;\\n\\tborder-radius: 2px;\\n\\tmax-height: calc(100vh - 40px);\\n\\toverflow-y: auto;\\n\\n}\\n.cheetah-grid__inline-menu--hidden {\\n\\ttransform: scale(.9);\\n\\tbox-shadow: none;\\n\\topacity: 0;\\n\\n\\tpointer-events: none;\\n\\n\\ttransition: all 50ms ease-out;\\n}\\n.cheetah-grid__inline-menu--hidden * {\\n\\tpointer-events: none;\\n}\\n.cheetah-grid__inline-menu--shown {\\n\\ttransform: translateY(-7px);\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0px rgba(0, 0, 0, 0.14), 0 1px 5px 0px rgba(0, 0, 0, 0.12);\\n\\topacity: 1;\\n\\n\\ttransition: all 150ms ease-out;\\n}\\n\\n.cheetah-grid__inline-menu__menu-item {\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: flex-start;\\n\\n\\toutline: none;\\n\\tcursor: pointer;\\n\\n\\tposition: relative;\\n\\toverflow: hidden;\\n\\n\\tpadding: 0 16px;\\n}\\n.cheetah-grid__inline-menu__menu-item--empty {\\n\\tcolor: rgba(0, 0, 0, .38);\\n}\\n\\n.cheetah-grid__inline-menu__menu-item::before {\\n\\tcontent: \\\"\\\";\\n\\tposition: absolute;\\n\\ttop: -50%;\\n\\tleft: -50%;\\n\\twidth: 200%;\\n\\theight: 200%;\\n\\tbackground-color: #000;\\n\\topacity: 0;\\n\\tpointer-events: none;\\n\\ttransition: opacity 15ms linear;\\n}\\n.cheetah-grid__inline-menu__menu-item:hover::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item[data-select]::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item:focus::before {\\n\\topacity: .12;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Column = __webpack_require__(11);\n\nconst NumberColumn = __webpack_require__(92);\n\nconst CheckColumn = __webpack_require__(93);\n\nconst ButtonColumn = __webpack_require__(94);\n\nconst ImageColumn = __webpack_require__(95);\n\nconst PercentCompleteBarColumn = __webpack_require__(97);\n\nconst IconColumn = __webpack_require__(98);\n\nconst BranchGraphColumn = __webpack_require__(99);\n\nconst MenuColumn = __webpack_require__(101);\n\nconst MultilineTextColumn = __webpack_require__(102);\n/**\n * column types\n * @type {Object}\n * @namespace cheetahGrid.columns.type\n * @memberof cheetahGrid.columns\n */\n\n\nconst type = {\n  TYPES: {\n    DEFAULT: new Column(),\n    NUMBER: new NumberColumn(),\n    CHECK: new CheckColumn(),\n    BUTTON: new ButtonColumn(),\n    IMAGE: new ImageColumn(),\n    MULTILINETEXT: new MultilineTextColumn()\n  },\n\n  get Column() {\n    return Column;\n  },\n\n  get NumberColumn() {\n    return NumberColumn;\n  },\n\n  get CheckColumn() {\n    return CheckColumn;\n  },\n\n  get ButtonColumn() {\n    return ButtonColumn;\n  },\n\n  get ImageColumn() {\n    return ImageColumn;\n  },\n\n  get PercentCompleteBarColumn() {\n    return PercentCompleteBarColumn;\n  },\n\n  get IconColumn() {\n    return IconColumn;\n  },\n\n  get BranchGraphColumn() {\n    return BranchGraphColumn;\n  },\n\n  get MenuColumn() {\n    return MenuColumn;\n  },\n\n  get MultilineTextColumn() {\n    return MultilineTextColumn;\n  },\n\n  of(columnType) {\n    if (!columnType) {\n      return type.TYPES.DEFAULT;\n    } else if (typeof columnType === 'string') {\n      return type.TYPES[columnType.toUpperCase()] || type.of(null);\n    } else {\n      return columnType;\n    }\n  }\n\n};\nmodule.exports = type;\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Column = __webpack_require__(11);\n\nconst NumberStyle = __webpack_require__(42);\n\nlet defaultFotmat;\n\nclass NumberColumn extends Column {\n  static get defaultFotmat() {\n    return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n  }\n\n  static set defaultFotmat(fmt) {\n    defaultFotmat = fmt;\n  }\n\n  constructor(option = {}) {\n    super(option);\n    this._format = option.format;\n  }\n\n  get StyleClass() {\n    return NumberStyle;\n  }\n\n  clone() {\n    return new NumberColumn(this);\n  }\n\n  get format() {\n    return this._format;\n  }\n\n  withFormat(format) {\n    const c = this.clone();\n    c._format = format;\n    return c;\n  }\n\n  convertInternal(value) {\n    if (isNaN(value - 0)) {\n      return value;\n    }\n\n    const format = this._format || NumberColumn.defaultFotmat;\n    return format.format(value - 0);\n  }\n\n}\n\nmodule.exports = NumberColumn;\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst CheckStyle = __webpack_require__(43);\n\nconst {\n  CHECK_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nfunction toBoolean(val) {\n  if (typeof val === 'string') {\n    if (val === 'false') {\n      return false;\n    } else if (val === 'off') {\n      return false;\n    } else if (val.match(/^0+$/)) {\n      return false;\n    }\n  }\n\n  return val;\n}\n\nclass CheckColumn extends BaseColumn {\n  get StyleClass() {\n    return CheckStyle;\n  }\n\n  clone() {\n    return new CheckColumn(this);\n  }\n\n  convertInternal(value) {\n    return toBoolean(value);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const {\n      col,\n      row\n    } = context;\n    const cellKey = `${col}:${row}`;\n    const elapsedKey = `${cellKey}::elapsed`;\n    const elapsed = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][elapsedKey];\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n\n    if (isDef(elapsed)) {\n      opt.animElapsedTime = elapsed;\n    }\n\n    helper.checkbox(value, context, opt);\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n}\n\nmodule.exports = CheckColumn;\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Column = __webpack_require__(11);\n\nconst ButtonStyle = __webpack_require__(44);\n\nconst {\n  BUTTON_COLUMN_STATE_ID\n} = __webpack_require__(1);\n\nconst utils = __webpack_require__(16);\n\nclass ButtonColumn extends Column {\n  constructor(option = {}) {\n    super(option);\n    this._caption = option.caption;\n  }\n\n  get StyleClass() {\n    return ButtonStyle;\n  }\n\n  get caption() {\n    return this._caption;\n  }\n\n  withCaption(caption) {\n    const c = this.clone();\n    c._caption = caption;\n    return c;\n  }\n\n  clone() {\n    return new ButtonColumn(this);\n  }\n\n  convertInternal(value) {\n    return this._caption || value;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      bgColor,\n      color,\n      buttonBgColor,\n      font,\n      padding,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.testFontLoad(font, value, context);\n    const {\n      col,\n      row\n    } = context;\n    let active = false;\n    const state = grid[BUTTON_COLUMN_STATE_ID];\n\n    if (state) {\n      if (state.mouseActiveCell && state.mouseActiveCell.col === col && state.mouseActiveCell.row === row) {\n        active = true;\n      } else if (context.getSelectState().selected) {\n        active = true;\n      }\n    }\n\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.button(value, context, {\n        textAlign,\n        textBaseline,\n        bgColor: buttonBgColor,\n        color,\n        font,\n        padding,\n        shadow: active ? {\n          color: 'rgba(0, 0, 0, 0.48)',\n          blur: 6,\n          offsetY: 3\n        } : true,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nmodule.exports = ButtonColumn;\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst ImageStyle = __webpack_require__(45);\n\nconst {\n  getCacheOrLoad\n} = __webpack_require__(50);\n\nconst {\n  calcStartPosition\n} = __webpack_require__(8);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst MAX_LRU_CACHE_SIZE = 50;\n\nfunction getImage(url) {\n  return getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n}\n\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n  let newWidth = width;\n  let newHeight = height;\n\n  if (newWidth > maxWidth) {\n    newWidth = maxWidth;\n    newHeight = newWidth * height / width;\n  }\n\n  if (newHeight > maxHeight) {\n    newHeight = maxHeight;\n    newWidth = newHeight * width / height;\n  }\n\n  return {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\nclass ImageColumn extends BaseColumn {\n  get StyleClass() {\n    return ImageStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    return super.onDrawCell(getImage(cellValue), info, context, grid);\n  }\n\n  clone() {\n    return new ImageColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    if (value) {\n      const {\n        textAlign,\n        textBaseline,\n        margin,\n        bgColor\n      } = style;\n\n      if (bgColor) {\n        drawCellBase({\n          bgColor\n        });\n      }\n\n      helper.drawWithClip(context, ctx => {\n        ctx.textAlign = textAlign;\n        ctx.textBaseline = textBaseline;\n        const rect = context.getRect();\n\n        if (style.imageSizing === 'keep-aspect-ratio') {\n          const {\n            width,\n            height\n          } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n          const pos = calcStartPosition(ctx, rect, width, height, {\n            offset: margin\n          });\n          ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n        } else {\n          ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n        }\n      });\n    }\n  }\n\n}\n\nmodule.exports = ImageColumn;\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass LRUCache {\n  constructor(cacheSize) {\n    this._list = [];\n    this._map = {};\n    this._cacheSize = cacheSize || 50;\n  }\n\n  get(key) {\n    const val = this._map[key];\n\n    if (val) {\n      const list = this._list;\n      const idx = list.indexOf(key);\n      list.splice(idx, 1);\n      list.push(key);\n    }\n\n    return val;\n  }\n\n  put(key, value) {\n    const list = this._list;\n    const map = this._map;\n\n    if (map[key]) {\n      const idx = list.indexOf(key);\n      list.splice(idx, 1);\n    }\n\n    map[key] = value;\n    list.push(key);\n\n    if (list.length > this._cacheSize) {\n      const remKey = list.shift();\n      delete map[remKey];\n    }\n  }\n\n}\n\nmodule.exports = LRUCache;\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PercentCompleteBarStyle = __webpack_require__(47);\n\nconst {\n  getOrApply,\n  str\n} = __webpack_require__(0);\n\nconst Column = __webpack_require__(11);\n\nconst MARGIN = 2;\n\nclass PercentCompleteBarColumn extends Column {\n  constructor(option = {}) {\n    super(option);\n    this._min = option.min || 0;\n    this._max = option.max || this._min + 100;\n\n    this._formatter = option.formatter || (v => v);\n  }\n\n  get StyleClass() {\n    return PercentCompleteBarStyle;\n  }\n\n  clone() {\n    return new PercentCompleteBarColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {\n    super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n    const {\n      barColor,\n      barBgColor,\n      barHeight\n    } = style;\n    let svalue = `${value}`;\n\n    if (str.endsWith(svalue, '%')) {\n      svalue = svalue.substr(0, svalue.length - 1);\n    }\n\n    const num = svalue - 0;\n    const rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n    helper.drawWithClip(context, ctx => {\n      const rect = context.getRect();\n      const barMaxWidth = rect.width - MARGIN * 2 - 1\n      /**/\n      ;\n      const barTop = rect.bottom - MARGIN - barHeight - 1\n      /**/\n      ;\n      const barLeft = rect.left + MARGIN;\n      ctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n      ctx.fill();\n      const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n      ctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barSize, barHeight);\n      ctx.fill();\n    });\n  }\n\n}\n\nmodule.exports = PercentCompleteBarColumn;\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst IconStyle = __webpack_require__(46);\n\nconst Column = __webpack_require__(11);\n\nconst icons = __webpack_require__(24);\n\nfunction repeatArray(val, count) {\n  if (count === Infinity) {\n    count = 0;\n  }\n\n  const a = [];\n\n  for (let i = 0; i < count; i++) {\n    a.push(val);\n  }\n\n  return a;\n}\n\nclass IconColumn extends Column {\n  constructor(option = {}) {\n    super(option);\n    this._tagName = option.tagName || 'i';\n    this._className = option.className;\n    this._content = option.content;\n    this._name = option.name;\n    this._iconWidth = option.iconWidth;\n  }\n\n  get StyleClass() {\n    return IconStyle;\n  }\n\n  clone() {\n    return new IconColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {\n    const num = value - 0;\n\n    if (!isNaN(num)) {\n      const icon = {};\n      icons.iconPropKeys.forEach(k => {\n        icon[k] = style[k];\n      });\n      icon.className = this._className;\n      icon.tagName = this._tagName;\n      icon.content = this._content;\n      icon.name = this._name;\n\n      if (this._iconWidth) {\n        icon.width = this._iconWidth;\n      }\n\n      info.getIcon = () => repeatArray(icon, num);\n    } else {\n      info.getIcon = () => null;\n    }\n\n    super.drawInternal('', context, style, helper, grid, info);\n  }\n\n}\n\nmodule.exports = IconColumn;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef,\n  getOrApply,\n  isPromise,\n  obj: {\n    isObject\n  }\n} = __webpack_require__(0);\n\nconst BranchGraphStyle = __webpack_require__(100);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst {\n  BRANCH_GRAPH_COLUMN_STATE_ID: _\n} = __webpack_require__(1);\n\nfunction getAllColumnData(grid, col, callback) {\n  const {\n    dataSource\n  } = grid;\n  let field = grid.getField(col);\n\n  if (isObject(field) && field.get && field.set) {\n    field = field.get;\n  }\n\n  const allData = [];\n  let promise;\n\n  for (let index = 0; index < dataSource.length; index++) {\n    const data = dataSource.getField(index, field);\n\n    if (isPromise(data)) {\n      const dataIndex = allData.length;\n      allData.push(data);\n\n      if (!promise) {\n        promise = data.then(d => {\n          allData[dataIndex] = d;\n        });\n      } else {\n        promise = promise.then(() => data).then(d => {\n          allData[dataIndex] = d;\n        });\n      }\n    } else {\n      allData.push(data);\n    }\n  }\n\n  if (promise) {\n    promise.then(() => callback(allData));\n  } else {\n    callback(allData);\n  }\n}\n\nclass BranchLine {\n  constructor({\n    fromIndex,\n    toIndex,\n    colorIndex,\n    point\n  }) {\n    this.fromIndex = fromIndex;\n    this.toIndex = toIndex;\n    this.colorIndex = colorIndex;\n    this.point = point;\n  }\n\n}\n\nclass BranchPoint {\n  constructor({\n    index,\n    commit = false,\n    lines = [],\n    tag\n  }) {\n    this.index = index;\n    this.commit = commit;\n    this.lines = lines;\n    this.tag = tag;\n  }\n\n  static mergeLines(lines) {\n    const result = lines.filter(l => isDef(l.fromIndex) && isDef(l.toIndex));\n    const froms = lines.filter(l => isDef(l.fromIndex) && !isDef(l.toIndex));\n    const tos = lines.filter(l => !isDef(l.fromIndex) && isDef(l.toIndex));\n    froms.forEach(f => {\n      for (let i = 0; i < tos.length; i++) {\n        const t = tos[i];\n\n        if (t.point) {\n          continue;\n        }\n\n        if (f.colorIndex === t.colorIndex) {\n          f.toIndex = t.toIndex;\n          tos.splice(i, 1);\n          break;\n        }\n      }\n\n      result.push(f);\n    });\n    return result.concat(tos);\n  }\n\n  static merge(a, b) {\n    if (!a) {\n      return b;\n    }\n\n    return new BranchPoint({\n      index: a.index,\n      commit: a.commit || b.commit,\n      lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n      tag: a.tag || b.tag\n    });\n  }\n\n}\n\nfunction joinLine(timeline, branchIndex) {\n  const reverse = [...timeline].reverse();\n\n  for (let i = 0; i < reverse.length; i++) {\n    const f = reverse[i][branchIndex];\n\n    if (f) {\n      f.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n        toIndex: branchIndex,\n        colorIndex: branchIndex\n      })]));\n\n      for (let j = 0; j < i; j++) {\n        const tl = reverse[j];\n        tl[branchIndex] = new BranchPoint({\n          index: branchIndex,\n          lines: [new BranchLine({\n            fromIndex: branchIndex,\n            toIndex: branchIndex,\n            colorIndex: branchIndex\n          })]\n        });\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction branch({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = branches.indexOf(from);\n  let toIndex = branches.indexOf(to);\n\n  if (toIndex < 0) {\n    toIndex = branches.length;\n    branches.push(to);\n  }\n\n  function findBranchRootIndex() {\n    for (let index = timeline.length - 1; index >= 0; index--) {\n      const tl = timeline[index];\n      const from = tl[fromIndex];\n\n      if (from && from.commit) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  if (fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex\n    });\n  } else {\n    const fromTargetIndex = findBranchRootIndex();\n\n    if (fromTargetIndex === -1) {\n      return null;\n    }\n\n    const branchTargetFromIndex = fromTargetIndex + 1;\n    const branchPoint = new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        fromIndex,\n        colorIndex: toIndex\n      })]\n    });\n    let point;\n    let result;\n\n    if (branchTargetFromIndex < timeline.length) {\n      const targetLine = timeline[branchTargetFromIndex];\n      point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n    } else {\n      point = branchPoint;\n      result = branchPoint;\n    }\n\n    const from = timeline[fromTargetIndex][fromIndex];\n    from.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n      toIndex,\n      colorIndex: toIndex,\n      point\n    })]));\n    return result;\n  }\n}\n\nfunction commit({\n  timeline,\n  branches\n}, name) {\n  const index = branches.indexOf(name);\n\n  if (index < 0) {\n    return null;\n  }\n\n  const result = new BranchPoint({\n    index,\n    commit: true\n  });\n\n  if (joinLine(timeline, index)) {\n    result.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n      fromIndex: index,\n      colorIndex: index\n    })]));\n  }\n\n  return result;\n}\n\nfunction commitTag({\n  timeline,\n  branches\n}, name, tag) {\n  let index = branches.indexOf(name);\n\n  if (index < 0) {\n    index = branches.length;\n    branches.push(name);\n  }\n\n  return new BranchPoint({\n    index,\n    tag\n  });\n}\n\nfunction commitMerge({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = branches.indexOf(from);\n  const toIndex = branches.indexOf(to);\n\n  if (toIndex < 0 || fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex,\n      commit: true\n    });\n  }\n\n  const result = new BranchPoint({\n    index: toIndex,\n    commit: true,\n    lines: [new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    }), new BranchLine({\n      fromIndex: toIndex,\n      colorIndex: toIndex\n    })]\n  });\n  const froms = [...timeline];\n  const fromTargetLine = froms.pop();\n\n  if (fromTargetLine) {\n    fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        toIndex,\n        colorIndex: fromIndex\n      })]\n    }));\n  }\n\n  if (joinLine(froms, fromIndex) && fromTargetLine) {\n    fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    })]));\n  }\n\n  joinLine(timeline, toIndex);\n  return result;\n}\n\nfunction calcCommand(info, command) {\n  const {\n    timeline\n  } = info;\n  const timelineData = []; // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\n  const commands = __webpack_provided_Array_dot_isArray(command) ? command : [command];\n  commands.forEach(cmd => {\n    if (!cmd) {\n      return;\n    }\n\n    let point;\n\n    if (cmd.command === 'branch') {\n      const from = isObject(cmd.branch) ? cmd.branch.from : null;\n      const to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n      point = branch(info, from, to);\n    } else if (cmd.command === 'commit') {\n      const {\n        branch\n      } = cmd;\n      point = commit(info, branch);\n    } else if (cmd.command === 'merge') {\n      const {\n        from,\n        to\n      } = cmd.branch;\n      point = commitMerge(info, from, to);\n    } else if (cmd.command === 'tag') {\n      const {\n        branch,\n        tag\n      } = cmd;\n      point = commitTag(info, branch, tag);\n    }\n\n    if (point && point.index > -1) {\n      timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n    }\n  });\n  timeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n  const result = {\n    branches: [],\n    timeline: []\n  };\n  getAllColumnData(grid, col, data => {\n    if (start !== 'top') {\n      data = [...data].reverse();\n    }\n\n    data.forEach(command => {\n      calcCommand(result, command);\n    });\n  });\n  return result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n  let w = Math.max(width / branches.length + 1, 5);\n  timeline.forEach(tl => {\n    tl.forEach((p, index) => {\n      if (index <= 0) {\n        // \n        return;\n      }\n\n      if (p.tag) {\n        const textWidth = ctx.measureText(p.tag).width;\n\n        if (w * index + radius * 2 + 4 + textWidth > width) {\n          w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n        }\n      }\n    });\n  });\n  const result = [];\n  let x = left;\n  branches.forEach(() => {\n    result.push(Math.ceil(x + radius));\n    x += w;\n  });\n  return result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n  branchXPoints,\n  margin,\n  branchColors,\n  branchLineWidth,\n  mergeStyle\n}, {\n  width,\n  col,\n  row,\n  branches\n}) {\n  if (isDef(upLineIndex) || isDef(downLineIndex)) {\n    ctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n    ctx.lineWidth = branchLineWidth;\n    ctx.lineCap = 'round';\n    ctx.beginPath();\n\n    if (isDef(upLineIndex)) {\n      const upX = branchXPoints[upLineIndex];\n      const upRect = grid.getCellRelativeRect(col, row - 1);\n      const upY = upRect.top + upRect.height / 2;\n      ctx.moveTo(upX, upY);\n\n      if (mergeStyle === 'bezier') {\n        ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    } else {\n      ctx.moveTo(x, y);\n    }\n\n    if (isDef(downLineIndex)) {\n      const downX = branchXPoints[downLineIndex];\n      const downRect = grid.getCellRelativeRect(col, row + 1);\n      const downY = downRect.top + downRect.height / 2;\n\n      if (mergeStyle === 'bezier') {\n        ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n      } else {\n        ctx.lineTo(downX, downY);\n      }\n    }\n\n    ctx.stroke();\n  }\n}\n/**\n * BranchGraphColumn<br>\n * <br>\n * # Data command<br>\n * ## mastar branch or orphan branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * </code></pre>\n * ## commit<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * </code></pre>\n * ## branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * </code></pre>\n * ## merge<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * </code></pre>\n * ## tag<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * </code></pre>\n *\n *\n * @memberof cheetahGrid.columns.type\n */\n\n\nclass BranchGraphColumn extends BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._start = option.start || 'bottom';\n    this._cache = isDef(option.cache) ? option.cache : false;\n  }\n\n  get StyleClass() {\n    return BranchGraphStyle;\n  }\n\n  clearCache(grid) {\n    delete grid[_];\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    if (this._cache) {\n      const state = grid[_] || (grid[_] = {});\n      const {\n        col\n      } = context;\n\n      if (!state[col]) {\n        state[col] = calcBranchesInfo(this._start, grid, col);\n      }\n    }\n\n    return super.onDrawCell(cellValue, info, context, grid);\n  }\n\n  clone() {\n    return new BranchGraphColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      col,\n      row\n    } = context;\n    const {\n      timeline,\n      branches\n    } = this._cache && grid[_] ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n    const {\n      upLineIndexKey,\n      downLineIndexKey\n    } = this._start !== 'top' ? {\n      upLineIndexKey: 'toIndex',\n      downLineIndexKey: 'fromIndex'\n    } : {\n      upLineIndexKey: 'fromIndex',\n      downLineIndexKey: 'toIndex'\n    };\n    const data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n    const {\n      branchColors,\n      branchLineWidth,\n      circleSize,\n      mergeStyle,\n      margin,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const rect = context.getRect();\n    const radius = circleSize / 2;\n    const width = rect.width - margin * 2;\n    helper.drawWithClip(context, ctx => {\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n      const y = rect.top + rect.height / 2; // draw join lines\n\n      data.map((point, index) => point ? point.lines.map(line => ({\n        colorIndex: line.colorIndex,\n        upLineIndex: line[upLineIndexKey],\n        downLineIndex: line[downLineIndexKey],\n        pointIndex: index\n      })) : []).reduce((p, c) => p.concat(c), []). // flatMap\n      // order of overlap\n      sort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n        const x = branchXPoints[line.pointIndex];\n        renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n          margin,\n          branchXPoints,\n          branchLineWidth,\n          branchColors,\n          mergeStyle\n        }, {\n          width,\n          col,\n          row,\n          branches\n        });\n      }); // draw commit points\n\n      data.forEach((p, index) => {\n        if (p && p.commit) {\n          const x = branchXPoints[index];\n          ctx.fillStyle = getOrApply(branchColors, branches[index], index);\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n          ctx.fill();\n          ctx.closePath();\n        }\n      }); // draw tags\n\n      data.forEach((p, index) => {\n        if (p && p.tag) {\n          ctx.fillStyle = getOrApply(branchColors, branches[index], index);\n          ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n        }\n      });\n    });\n  }\n\n}\n\nmodule.exports = BranchGraphColumn;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(23);\n\nlet defaultStyle;\n\nfunction adj(style) {\n  const {\n    textAlign = 'center'\n  } = style;\n  style.textAlign = textAlign;\n  return style;\n}\n\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n  switch (index % 3) {\n    case 0:\n      return '#979797';\n\n    case 1:\n      return '#008fb5';\n\n    case 2:\n      return '#f1c109';\n\n    default:\n  }\n\n  return '#979797';\n};\n\nclass BranchGraphStyle extends BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n  }\n\n  constructor(style = {}) {\n    super(adj(style));\n    this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n    this._margin = style.margin || 4;\n    this._circleSize = style.circleSize || 16;\n    this._branchLineWidth = style.branchLineWidth || 4;\n    this._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n  }\n\n  get branchColors() {\n    return this._branchColors;\n  }\n\n  set branchColors(branchColors) {\n    this._branchColors = branchColors;\n    this.doChangeStyle();\n  }\n\n  get margin() {\n    return this._margin;\n  }\n\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n\n  get circleSize() {\n    return this._circleSize;\n  }\n\n  set circleSize(circleSize) {\n    this._circleSize = circleSize;\n    this.doChangeStyle();\n  }\n\n  get branchLineWidth() {\n    return this._branchLineWidth;\n  }\n\n  set branchLineWidth(branchLineWidth) {\n    this._branchLineWidth = branchLineWidth;\n    this.doChangeStyle();\n  }\n\n  get mergeStyle() {\n    return this._mergeStyle;\n  }\n\n  set mergeStyle(mergeStyle) {\n    this._mergeStyle = mergeStyle;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new BranchGraphStyle(this);\n  }\n\n}\n\nmodule.exports = BranchGraphStyle;\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  normalize\n} = __webpack_require__(40);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst MenuStyle = __webpack_require__(49);\n\nconst utils = __webpack_require__(16);\n\nclass MenuColumn extends BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._options = normalize(option.options);\n  }\n\n  get StyleClass() {\n    return MenuStyle;\n  }\n\n  clone() {\n    return new MenuColumn(this);\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  withOptions(options) {\n    const c = this.clone();\n    c._options = normalize(options);\n    return c;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      font,\n      bgColor,\n      padding,\n      textOverflow,\n      appearance\n    } = style;\n    let {\n      color\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const text = this._convertInternal(value);\n\n    helper.testFontLoad(font, text, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n      const textPadding = basePadding.slice(0);\n      textPadding[1] += 26; // icon padding\n\n      const iconPadding = basePadding.slice(0);\n      iconPadding[1] += 8;\n\n      if (!isDef(color) && (!isDef(value) || value === '')) {\n        color = 'rgba(0, 0, 0, .38)';\n      }\n\n      helper.text(text, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding: textPadding,\n        textOverflow,\n        icons\n      });\n\n      if (appearance === 'menulist-button') {\n        // draw dropdown arrow icon\n        helper.text('', context, {\n          textAlign: 'right',\n          textBaseline,\n          color,\n          font,\n          icons: [{\n            path: 'M0 2 5 7 10 2z',\n            width: 10,\n            color: 'rgba(0, 0, 0, .54)'\n          }],\n          padding: iconPadding\n        });\n      } else if (appearance !== 'none') {\n        console.warn(`unsupported appearance:${appearance}`);\n      }\n    });\n  }\n\n  convertInternal(value) {\n    return value;\n  }\n\n  _convertInternal(value) {\n    const options = this._options;\n\n    for (let i = 0; i < options.length; i++) {\n      const option = options[i];\n\n      if (option.value === value) {\n        value = option.caption;\n        break;\n      }\n    }\n\n    return super.convertInternal(value);\n  }\n\n}\n\nmodule.exports = MenuColumn;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MultilineTextStyle = __webpack_require__(48);\n\nconst BaseColumn = __webpack_require__(9);\n\nconst utils = __webpack_require__(16);\n\nclass MultilineTextColumn extends BaseColumn {\n  constructor(option = {}) {\n    super(option);\n  }\n\n  get StyleClass() {\n    return MultilineTextStyle;\n  }\n\n  clone() {\n    return new MultilineTextColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n    helper.testFontLoad(font, value, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.multilineText(multilines, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nmodule.exports = MultilineTextColumn;\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst action = __webpack_require__(51);\n\nconst type = __webpack_require__(53);\n\nconst style = __webpack_require__(12);\n/**\n * header classes\n * @type {Object}\n * @namespace cheetahGrid.headers\n * @memberof cheetahGrid\n */\n\n\nmodule.exports = {\n  action,\n  type,\n  style\n};\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  bindCellClickAction\n} = __webpack_require__(52);\n\nconst BaseAction = __webpack_require__(25);\n\nclass SortHeaderAction extends BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._sort = option.sort;\n  }\n\n  get sort() {\n    return this._sort;\n  }\n\n  set sort(sort) {\n    this._sort = sort;\n    this.onChangeDisabledInternal();\n  }\n\n  clone() {\n    return new SortHeaderAction(this);\n  }\n\n  _executeSort(newState, grid) {\n    if (typeof this._sort === 'function') {\n      this._sort({\n        order: newState.order,\n        col: newState.col,\n        grid\n      });\n    } else {\n      grid.dataSource.sort(grid.getField(newState.col), newState.order);\n    }\n  }\n\n  bindGridEvent(grid, range) {\n    const action = cell => {\n      if (this.disabled) {\n        return;\n      }\n\n      const state = grid.sortState;\n      let newState;\n\n      if (range.isCellInRange(state.col, cell.row)) {\n        newState = {\n          col: range.startCol,\n          row: range.startRow,\n          order: state.order === 'asc' ? 'desc' : 'asc'\n        };\n      } else {\n        newState = {\n          col: range.startCol,\n          row: range.startRow,\n          order: 'asc'\n        };\n      }\n\n      grid.sortState = newState;\n\n      this._executeSort(newState, grid);\n\n      grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n    };\n\n    return [...bindCellClickAction(grid, range, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        return true;\n      }\n    })];\n  }\n\n}\n\nmodule.exports = SortHeaderAction;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  obj: {\n    setReadonly\n  }\n} = __webpack_require__(0);\n\nconst {\n  bindCellClickAction,\n  bindCellKeyAction\n} = __webpack_require__(52);\n\nconst animate = __webpack_require__(21);\n\nconst BaseAction = __webpack_require__(25);\n\nconst {\n  CHECK_HEADER_STATE_ID\n} = __webpack_require__(1);\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nclass CheckHeaderAction extends BaseAction {\n  clone() {\n    return new CheckHeaderAction(this);\n  }\n\n  bindGridEvent(grid, range) {\n    if (!grid[CHECK_HEADER_STATE_ID]) {\n      setReadonly(grid, CHECK_HEADER_STATE_ID, {});\n    }\n\n    const state = grid[CHECK_HEADER_STATE_ID];\n\n    const action = ({\n      col,\n      row\n    }) => {\n      const cellKey = `${col}:${row}`;\n      const blockKey = `${cellKey}::block`;\n      const elapsedKey = `${cellKey}::elapsed`;\n\n      if (this.disabled || state[blockKey]) {\n        return;\n      }\n\n      const checked = grid.getHeaderValue(col, row);\n      grid.setHeaderValue(col, row, !checked);\n\n      const onChange = () => {\n        // checkbox animation\n        animate(200, point => {\n          if (point === 1) {\n            delete state[elapsedKey];\n          } else {\n            state[elapsedKey] = point;\n          }\n\n          grid.invalidateGridRect(range.startCol, range.startRow, range.endCol, range.endRow);\n        });\n      };\n\n      onChange();\n    };\n\n    return [...bindCellClickAction(grid, range, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        grid.invalidateCell(e.col, e.row);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        grid.invalidateCell(e.col, e.row);\n      }\n    }), ...bindCellKeyAction(grid, range, {\n      action,\n      acceptKeys: [KEY_ENTER, KEY_SPACE]\n    })];\n  }\n\n}\n\nmodule.exports = CheckHeaderAction;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(54);\n\nlet defaultStyle;\n\nclass StdBaseStyle extends BaseStyle {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || 'left';\n    this._textBaseline = style.textBaseline || 'middle';\n  }\n\n  get textAlign() {\n    return this._textAlign;\n  }\n\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new StdBaseStyle(this);\n  }\n\n}\n\nmodule.exports = StdBaseStyle;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Style = __webpack_require__(26);\n\nlet defaultStyle;\n\nclass SortHeaderStyle extends Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new SortHeaderStyle();\n  }\n\n  constructor(style = {}) {\n    super(style);\n    this._sortArrowColor = style.sortArrowColor;\n  }\n\n  get sortArrowColor() {\n    return this._sortArrowColor;\n  }\n\n  set sortArrowColor(sortArrowColor) {\n    this._sortArrowColor = sortArrowColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new SortHeaderStyle(this);\n  }\n\n}\n\nmodule.exports = SortHeaderStyle;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(12);\n\nconst {\n  Style\n} = styleContents;\n\nconst BaseHeader = __webpack_require__(17);\n\nclass Header extends BaseHeader {\n  get StyleClass() {\n    return Style;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.text(value, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow\n    });\n  }\n\n  bindGridEvent(grid, range) {\n    return [];\n  }\n\n}\n\nmodule.exports = Header;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst styleContents = __webpack_require__(12);\n\nconst {\n  SortHeaderStyle\n} = styleContents;\n\nconst BaseHeader = __webpack_require__(17);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst {\n  getFontSize\n} = __webpack_require__(8);\n\nclass SortHeader extends BaseHeader {\n  get StyleClass() {\n    return SortHeaderStyle;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline = 'middle',\n      color,\n      bgColor,\n      font,\n      textOverflow,\n      sortArrowColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const state = grid.sortState;\n    let order = undefined;\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getHeaderCellRange(col, row);\n\n    if (range.isCellInRange(state.col, range.startRow)) {\n      ({\n        order\n      } = state);\n    }\n\n    const ctx = context.getContext();\n    const arrowSize = getFontSize(ctx, font).width * 1.2;\n    helper.text(value, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow,\n      icons: [{\n        name: isDef(order) ? order === 'asc' ? 'arrow_downward' : 'arrow_upward' : null,\n        width: arrowSize,\n        color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || 'rgba(0, 0, 0, 0.38)'\n      }]\n    });\n  }\n\n}\n\nmodule.exports = SortHeader;\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst BaseHeader = __webpack_require__(17);\n\nconst CheckHeaderStyle = __webpack_require__(55);\n\nconst {\n  CHECK_HEADER_STATE_ID\n} = __webpack_require__(1);\n\nclass CheckHeader extends BaseHeader {\n  get StyleClass() {\n    return CheckHeaderStyle;\n  }\n\n  clone() {\n    return new CheckHeader(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor,\n      color,\n      font,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const {\n      col,\n      row\n    } = context;\n    const cellKey = `${col}:${row}`;\n    const elapsedKey = `${cellKey}::elapsed`;\n    const {\n      [elapsedKey]: elapsed\n    } = grid[CHECK_HEADER_STATE_ID] || {};\n    const checked = grid.getHeaderValue(col, row);\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n\n    if (isDef(elapsed)) {\n      opt.animElapsedTime = elapsed;\n    }\n\n    const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\n    helper.text([inlineCheck, value], context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow\n    });\n  }\n\n  bindGridEvent(grid, col, util) {\n    return [];\n  }\n\n}\n\nmodule.exports = CheckHeader;\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nconst {\n  getChainSafe\n} = __webpack_require__(0); //private symbol\n\n\nconst _ = __webpack_require__(1).get();\n\nfunction getProp(obj, superObj, names, defNames) {\n  return getChainSafe(obj, ...names) || getChainSafe(superObj, ...names) || defNames && getChainSafe(obj, ...defNames) || defNames && getChainSafe(superObj, ...defNames);\n}\n\nclass Theme {\n  constructor(obj = {}, superTheme = {}) {\n    if (obj.hiliteBorderColor && !obj.highlightBorderColor) {\n      // https://github.com/future-architect/cheetah-grid/issues/83\n      console.warn('Please use highlightBorderColor instead of hiliteBorderColor. cheetah-grid@>=0.7');\n      obj.highlightBorderColor = obj.hiliteBorderColor;\n    }\n\n    this[_] = {\n      obj,\n      superTheme\n    };\n  }\n\n  get font() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['font']);\n  }\n\n  get underlayBackgroundColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['underlayBackgroundColor']);\n  } // color\n\n\n  get color() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['color']);\n  }\n\n  get frozenRowsColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n  } // background\n\n\n  get defaultBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['defaultBgColor']);\n  }\n\n  get frozenRowsBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n  }\n\n  get selectionBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n  } // border\n\n\n  get borderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['borderColor']);\n  }\n\n  get frozenRowsBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n  }\n\n  get highlightBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, ['highlightBorderColor'], ['borderColor']);\n  }\n\n  get checkbox() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n      },\n\n      get checkBgColor() {\n        return getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n      },\n\n      get borderColor() {\n        return getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n      }\n\n    });\n  }\n\n  get button() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._button || (this._button = {\n      get color() {\n        return getProp(obj, superTheme, ['button', 'color'], ['color']);\n      },\n\n      get bgColor() {\n        return getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n      }\n\n    });\n  }\n\n  get header() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getProp(obj, superTheme, ['header', 'sortArrowColor'], ['color']);\n      }\n\n    });\n  }\n\n  extends(obj) {\n    return new Theme(obj, this);\n  }\n\n}\n/**\n * theme object\n * @type {Object}\n * @namespace cheetahGrid.themes.theme\n * @memberof cheetahGrid.themes\n */\n\n\nmodule.exports = {\n  Theme\n};\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction DEFAULT_BG_COLOR(args) {\n  const {\n    row,\n    grid: {\n      frozenRowCount\n    }\n  } = args;\n\n  if (!(row - frozenRowCount & 1)) {\n    return '#FFF';\n  } else {\n    return '#F6F6F6';\n  }\n}\n\nconst cacheLinearGradient = {};\n\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n  let stop;\n  const stopsKey = [];\n\n  for (stop in colorStops) {\n    stopsKey.push(`${stop}@${colorStops[stop]}`);\n  }\n\n  const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n  const ret = cacheLinearGradient[key];\n\n  if (ret) {\n    return ret;\n  }\n\n  const grad = context.createLinearGradient(left, top, left, bottom);\n\n  for (stop in colorStops) {\n    grad.addColorStop(stop, colorStops[stop]);\n  }\n\n  return cacheLinearGradient[key] = grad;\n}\n\nfunction FROZEN_ROWS_BG_COLOR(args) {\n  const {\n    col,\n    grid,\n    grid: {\n      frozenRowCount\n    },\n    context\n  } = args;\n  const {\n    left,\n    top\n  } = grid.getCellRelativeRect(col, 0);\n  const {\n    bottom\n  } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n  return getLinearGradient(context, left, top, left, bottom, {\n    0: '#FFF',\n    1: '#D3D3D3'\n  });\n}\n/**\n * basic theme\n * @name BASIC\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\n\n\nmodule.exports = {\n  color: '#000',\n  // frozenRowsColor: '#000',\n  defaultBgColor: DEFAULT_BG_COLOR,\n  frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n  selectionBgColor: '#CCE0FF',\n  borderColor: '#000',\n  // frozenRowsBorderColor: '#000',\n  highlightBorderColor: '#5E9ED6',\n  checkbox: {\n    uncheckBgColor: '#FFF',\n    checkBgColor: 'rgb(76, 73, 72)' // borderColor: '#000',\n\n  },\n  button: {\n    color: '#FFF',\n    bgColor: '#2196F3'\n  },\n  header: {\n    sortArrowColor: 'rgba(0, 0, 0, 0.38)'\n  },\n  underlayBackgroundColor: '#F6F6F6'\n};\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n  const {\n    row,\n    grid: {\n      frozenRowCount\n    }\n  } = args;\n\n  if (frozenRowCount - 1 === row) {\n    return ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n  } else {\n    return ['#f2f2f2'];\n  }\n}\n\nfunction BORDER_COLOR(args) {\n  const {\n    col,\n    grid: {\n      colCount,\n      frozenColCount\n    }\n  } = args;\n\n  if (frozenColCount - 1 === col) {\n    return ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n  }\n\n  if (colCount - 1 === col) {\n    return ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n  }\n\n  return ['#ccc7c7', null];\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\n\n\nmodule.exports = {\n  color: 'rgba(0, 0, 0, 0.87)',\n  frozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n  defaultBgColor: '#FFF',\n  // frozenRowsBgColor: '#FFF',\n  selectionBgColor: '#CCE0FF',\n  borderColor: BORDER_COLOR,\n  frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n  highlightBorderColor: '#5E9ED6',\n  checkbox: {\n    // uncheckBgColor: '#FFF',\n    checkBgColor: 'rgb(76, 73, 72)',\n    borderColor: 'rgba(0, 0, 0, 0.26)'\n  },\n  button: {\n    color: '#FFF',\n    bgColor: '#2196F3'\n  },\n  header: {\n    sortArrowColor: 'rgba(0, 0, 0, 0.38)'\n  },\n  underlayBackgroundColor: '#FFF'\n};\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  getChainSafe\n} = __webpack_require__(0);\n\nconst DataSource = __webpack_require__(28);\n\nfunction _setFieldCache({\n  _fCache\n}, index, field, value) {\n  const recCache = _fCache[index] || (_fCache[index] = {});\n  recCache[field] = value;\n}\n/**\n\t * grid data source for caching Promise data\n\t *\n\t * @classdesc cheetahGrid.data.CachedDataSource\n\t * @extends cheetahGrid.data.DataSource\n\t * @memberof cheetahGrid.data\n\t */\n\n\nclass CachedDataSource extends DataSource {\n  static get EVENT_TYPE() {\n    return DataSource.EVENT_TYPE;\n  }\n\n  static ofArray(array) {\n    return new CachedDataSource({\n      get: index => array[index],\n      length: array.length\n    });\n  }\n\n  constructor(opt = {}) {\n    super(opt);\n    this._rCache = {};\n    this._fCache = {};\n  }\n\n  getOriginal(index) {\n    if (this._rCache && this._rCache[index]) {\n      return this._rCache[index];\n    }\n\n    return super.getOriginal(index);\n  }\n\n  getOriginalField(index, field) {\n    const cache = getChainSafe(this._fCache, index, field);\n\n    if (cache) {\n      return cache;\n    }\n\n    return super.getOriginalField(index, field);\n  }\n\n  setOriginalField(index, field, value) {\n    const fCache = this._fCache;\n\n    if (fCache && fCache[index]) {\n      delete fCache[index]; // clear row cache\n    }\n\n    return super.setOriginalField(index, field, value);\n  }\n\n  clearCache() {\n    if (this._rCache) {\n      this._rCache = {};\n    }\n\n    if (this._fCache) {\n      this._fCache = {};\n    }\n  }\n\n  fieldPromiseCallBackInternal(index, field, val) {\n    _setFieldCache(this, index, field, val);\n  }\n\n  recordPromiseCallBackInternal(index, val) {\n    this._rCache[index] = val;\n  }\n\n  dispose() {\n    super.dispose();\n  }\n\n}\n\nmodule.exports = CachedDataSource;\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nconst DataSource = __webpack_require__(28);\n\nconst EventHandler = __webpack_require__(3);\n\nconst {\n  EVENT_TYPE\n} = DataSource;\n\nclass DataSourceIterator {\n  constructor(dataSource) {\n    this._dataSource = dataSource;\n    this._curIndex = -1;\n    this._data = [];\n  }\n\n  hasNext() {\n    const next = this._curIndex + 1;\n    return this._dataSource.length > next;\n  }\n\n  next() {\n    const next = this._curIndex + 1;\n\n    const data = this._getIndexData(next);\n\n    this._curIndex = next;\n    return data;\n  }\n\n  movePrev() {\n    this._curIndex--;\n  }\n\n  _getIndexData(index, nest) {\n    const dataSource = this._dataSource;\n    const data = this._data;\n\n    if (index < data.length) {\n      return data[index];\n    }\n\n    if (dataSource.length <= index) {\n      return undefined;\n    }\n\n    const record = this._dataSource.get(index);\n\n    data[index] = record;\n\n    if (isPromise(record)) {\n      record.then(val => {\n        data[index] = val;\n      });\n\n      if (!nest) {\n        for (let i = 1; i <= 100; i++) {\n          this._getIndexData(index + i, true);\n        }\n      }\n    }\n\n    return record;\n  }\n\n}\n\nclass FilterData {\n  constructor(dc, original, filter) {\n    this._owner = dc;\n    this._dataSourceItr = new DataSourceIterator(original);\n    this._filter = filter;\n    this._filterdList = [];\n    this._queues = [];\n  }\n\n  get(index) {\n    if (this._cancel) {\n      return undefined;\n    }\n\n    const filterdList = this._filterdList;\n\n    if (index < filterdList.length) {\n      return filterdList[index];\n    }\n\n    const queues = this._queues;\n\n    if (queues[index]) {\n      return queues[index];\n    }\n\n    return queues[index] || this._findIndex(index);\n  }\n\n  cancel() {\n    this._cancel = true;\n  }\n\n  _findIndex(index) {\n    if (window.Promise) {\n      const timeout = Date.now() + 100;\n      let count = 0;\n      return this._findIndexWithTimeout(index, () => {\n        count++;\n\n        if (count >= 100) {\n          count = 0;\n          return timeout < Date.now();\n        }\n\n        return false;\n      });\n    }\n\n    return this._findIndexWithTimeout(index, () => false);\n  }\n\n  _findIndexWithTimeout(index, testTimeout) {\n    const filterdList = this._filterdList;\n    const filter = this._filter;\n    const dataSourceItr = this._dataSourceItr;\n    const queues = this._queues;\n\n    while (dataSourceItr.hasNext()) {\n      if (this._cancel) {\n        return undefined;\n      }\n\n      const record = dataSourceItr.next();\n\n      if (isPromise(record)) {\n        dataSourceItr.movePrev();\n        return queues[index] = record.then(value => {\n          queues[index] = null;\n          return this.get(index);\n        });\n      }\n\n      if (filter(record)) {\n        filterdList.push(record);\n\n        if (index < filterdList.length) {\n          return filterdList[index];\n        }\n      }\n\n      if (testTimeout()) {\n        const promise = new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n          }, 300);\n        });\n        queues[index] = promise.then(() => {\n          queues[index] = null;\n          return this.get(index);\n        });\n        return queues[index];\n      }\n    }\n\n    const dc = this._owner;\n    dc.length = filterdList.length;\n    return undefined;\n  }\n\n}\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @extends cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\n\n\nclass FilterDataSource extends DataSource {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  constructor(dataSource, filter) {\n    super(dataSource);\n    this._dataSource = dataSource;\n    this.filter = filter;\n    const handler = this._handler = new EventHandler();\n    handler.on(dataSource, EVENT_TYPE.UPDATED_ORDER, () => {\n      // reset\n      this.filter = this.filter;\n    });\n\n    for (const k in EVENT_TYPE) {\n      const type = EVENT_TYPE[k];\n      handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n    }\n  }\n\n  get filter() {\n    return this._filterData && this._filterData._filter || undefined;\n  }\n\n  set filter(filter) {\n    if (this._filterData) {\n      this._filterData.cancel();\n    }\n\n    this._filterData = filter ? new FilterData(this, this._dataSource, filter) : undefined;\n    this.length = this._dataSource.length;\n  }\n\n  getOriginal(index) {\n    if (!this._filterData) {\n      return super.getOriginal(index);\n    }\n\n    return this._filterData.get(index);\n  }\n\n  sort(...args) {\n    return this._dataSource.sort(...args);\n  }\n\n  dispose() {\n    this._handler.dispose();\n\n    super.dispose();\n  }\n\n}\n\nmodule.exports = FilterDataSource;\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n  isDef,\n  isPromise,\n  then,\n  obj: {\n    isObject\n  }\n} = __webpack_require__(0);\n\nconst GridCanvasHelper = __webpack_require__(59);\n\nconst columns = __webpack_require__(36);\n\nconst {\n  BaseStyle\n} = columns.style;\n\nconst headerType = __webpack_require__(53);\n\nconst headerAction = __webpack_require__(51);\n\nconst {\n  BaseStyle: HeaderBaseStyle\n} = __webpack_require__(12);\n\nconst DrawGrid = __webpack_require__(5);\n\nconst {\n  DataSource,\n  CachedDataSource\n} = __webpack_require__(57);\n\nconst themes = __webpack_require__(27);\n\nconst icons = __webpack_require__(24);\n\nconst MessageHandler = __webpack_require__(133);\n\nconst TooltipHandler = __webpack_require__(145);\n\nconst EVENT_TYPE = __webpack_require__(30); //protected symbol\n\n\nconst {\n  PROTECTED_SYMBOL: _\n} = __webpack_require__(1);\n\nlet headerId = 0; //private methods\n\nfunction _getHeaderCellRange(grid, col, row) {\n  return grid[_].headerMap.getHeaderCellRange(col, row);\n}\n\nfunction _updateRect(grid, col, row, context) {\n  const rect = context.getRect();\n\n  const {\n    startCol,\n    endCol,\n    startRow,\n    endRow\n  } = _getHeaderCellRange(grid, col, row);\n\n  for (let c = col - 1; c >= startCol; c--) {\n    rect.left -= grid.getColWidth(c);\n  }\n\n  for (let c = col + 1; c <= endCol; c++) {\n    rect.right += grid.getColWidth(c);\n  }\n\n  for (let r = row - 1; r >= startRow; r--) {\n    rect.top -= grid.getRowHeight(r);\n  }\n\n  for (let r = row + 1; r <= endRow; r++) {\n    rect.bottom += grid.getRowHeight(r);\n  }\n\n  context.setRect(rect);\n}\n\nfunction _getCellValue(grid, col, row) {\n  if (row < grid[_].headerMap.rowCount) {\n    return grid[_].headerMap.getCell(col, row).caption;\n  } else {\n    let {\n      field\n    } = grid[_].headerMap.columns[col];\n\n    if (isObject(field) && field.get && field.set) {\n      field = field.get;\n    }\n\n    return _getField(grid, field, row);\n  }\n}\n\nfunction _setCellValue(grid, col, row, value) {\n  if (row < grid[_].headerMap.rowCount) {\n    // nop\n    return false;\n  } else {\n    let {\n      field\n    } = grid[_].headerMap.columns[col];\n\n    if (isObject(field) && field.get && field.set) {\n      field = field.set;\n    }\n\n    const index = _getRowRecordIndex(grid, row);\n\n    const res = grid[_].dataSource.setField(index, field, value);\n\n    return isPromise(res) ? res : true;\n  }\n}\n\nfunction _getCellMessage(grid, col, row) {\n  if (row < grid[_].headerMap.rowCount) {\n    return null;\n  } else {\n    const {\n      message\n    } = grid[_].headerMap.columns[col];\n\n    if (!message) {\n      return null;\n    }\n\n    return _getField(grid, message, row);\n  }\n}\n\nfunction _getCellIcon0(grid, icon, row) {\n  if (!isDef(icon)) {\n    return null;\n  }\n\n  if (__webpack_provided_Array_dot_isArray(icon)) {\n    return icon.map(i => _getCellIcon0(grid, i, row));\n  }\n\n  if (!isObject(icon) || typeof icon === 'function') {\n    return _getField(grid, icon, row);\n  }\n\n  const retIcon = {};\n  icons.iconPropKeys.forEach(k => {\n    if (icon[k]) {\n      const f = _getField(grid, icon[k], row);\n\n      if (isDef(f)) {\n        retIcon[k] = f;\n      } else {\n        if (!_hasField(grid, icon[k], row)) {\n          retIcon[k] = icon[k];\n        }\n      }\n    }\n  });\n  return retIcon;\n}\n\nfunction _getCellIcon(grid, col, row) {\n  const {\n    icon\n  } = grid[_].headerMap.columns[col];\n  return _getCellIcon0(grid, icon, row);\n}\n\nfunction _getField(grid, field, row) {\n  if (!isDef(field)) {\n    return null;\n  }\n\n  if (row < grid[_].headerMap.rowCount) {\n    return null;\n  } else {\n    const index = _getRowRecordIndex(grid, row);\n\n    return grid[_].dataSource.getField(index, field);\n  }\n}\n\nfunction _hasField(grid, field, row) {\n  if (!isDef(field)) {\n    return false;\n  }\n\n  if (row < grid[_].headerMap.rowCount) {\n    return false;\n  } else {\n    const index = _getRowRecordIndex(grid, row);\n\n    return grid[_].dataSource.hasField(index, field);\n  }\n}\n\nfunction _onDrawValue(grid, cellValue, context, {\n  col,\n  row\n}, style, draw) {\n  const helper = grid[_].gridCanvasHelper;\n\n  const drawCellBg = ({\n    bgColor\n  } = {}) => {\n    const fillOpt = {\n      fillColor: bgColor\n    }; //cell\n\n    helper.fillCellWithState(context, fillOpt);\n  };\n\n  const drawCellBorder = () => {\n    if (context.col === grid.frozenColCount - 1) {\n      //\n      const rect = context.getRect();\n      helper.drawWithClip(context, ctx => {\n        const borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n        const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.right - 2.5, rect.top);\n          ctx.lineTo(rect.right - 2.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    }\n\n    if (context.row < grid[_].headerMap.rowCount) {\n      _headerBorderWithState(grid, helper, context);\n    } else {\n      helper.borderWithState(context);\n    }\n  };\n\n  const drawCellBase = ({\n    bgColor\n  } = {}) => {\n    drawCellBg({\n      bgColor\n    });\n    drawCellBorder();\n  };\n\n  const info = {\n    getRecord: () => grid.getRowRecord(row),\n    getIcon: () => _getCellIcon(grid, col, row),\n    getMessage: () => _getCellMessage(grid, col, row),\n    messageHandler: grid[_].messageHandler,\n    style,\n    drawCellBase,\n    drawCellBg,\n    drawCellBorder\n  };\n  return draw(cellValue, info, context, grid);\n}\n\nfunction _headerBorderWithState(grid, helper, context) {\n  const {\n    col,\n    row\n  } = context;\n  const sel = grid.selection.select;\n\n  if (sel.row >= grid[_].headerMap.rowCount) {\n    //\n    helper.borderWithState(context);\n    return;\n  }\n\n  const {\n    id\n  } = grid[_].headerMap.getCell(col, row);\n\n  const rect = context.getRect();\n  const option = {};\n\n  const {\n    id: selId\n  } = grid[_].headerMap.getCell(sel.col, sel.row); //\n\n\n  if (selId === id) {\n    option.borderColor = helper.theme.highlightBorderColor;\n    option.lineWidth = 2;\n    helper.border(context, option);\n  } else {\n    option.lineWidth = 1; // header color\n\n    const isFrozenCell = grid.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      option.borderColor = helper.theme.frozenRowsBorderColor;\n    }\n\n    helper.border(context, option); //\n\n    if (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    } else if (row > 0 && grid[_].headerMap.getCell(col, row - 1).id === selId) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n\n        if (borderColors[0]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0];\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        }\n      });\n    }\n  }\n}\n\nfunction _refreshHeader(grid) {\n  if (grid[_].headerEvents) {\n    grid[_].headerEvents.forEach(id => grid.unlisten(id));\n  }\n\n  grid[_].headerMap = new HeaderMap(grid[_].header);\n  grid[_].headerEvents = [];\n\n  grid[_].headerMap.headerObjects.forEach(cell => {\n    const ids = cell.headerType.bindGridEvent(grid, cell.range);\n\n    grid[_].headerEvents.push(...ids);\n\n    if (cell.style) {\n      if (cell.style instanceof HeaderBaseStyle) {\n        const id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n\n        grid[_].headerEvents.push(id);\n      }\n    }\n\n    if (cell.action) {\n      const ids = cell.action.bindGridEvent(grid, cell.range);\n\n      grid[_].headerEvents.push(...ids);\n    }\n  });\n\n  grid[_].headerMap.columns.forEach((col, index) => {\n    if (col.action) {\n      const ids = col.action.bindGridEvent(grid, index, {\n        isTarget(col, row) {\n          return index === col && grid.frozenRowCount <= row;\n        }\n\n      });\n\n      grid[_].headerEvents.push(...ids);\n    }\n\n    if (col.columnType) {\n      const ids = col.columnType.bindGridEvent(grid, index, {\n        isTarget(col, row) {\n          return index === col && grid.frozenRowCount <= row;\n        }\n\n      });\n\n      grid[_].headerEvents.push(...ids);\n    }\n\n    if (col.style) {\n      if (col.style instanceof BaseStyle) {\n        const id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n\n        grid[_].headerEvents.push(id);\n      }\n    }\n  });\n\n  grid.colCount = grid[_].headerMap.columns.length;\n\n  _refreshRowCount(grid);\n\n  grid.frozenRowCount = grid[_].headerMap.rowCount;\n\n  for (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n    const column = grid[_].headerMap.columns[col];\n    const {\n      width,\n      minWidth,\n      maxWidth\n    } = column;\n\n    if (width && (width > 0 || typeof width === 'string')) {\n      grid.setColWidth(col, width);\n    }\n\n    if (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n      grid.setMinColWidth(col, minWidth);\n    }\n\n    if (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n      grid.setMaxColWidth(col, maxWidth);\n    }\n  }\n\n  const isArrayHeaderRowHeight = __webpack_provided_Array_dot_isArray(grid[_].headerRowHeight);\n\n  for (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n    const height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\n    if (height && height > 0) {\n      grid.setRowHeight(row, height);\n    }\n  }\n}\n\nfunction _refreshRowCount(grid) {\n  grid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n}\n\nfunction _tryWithUpdateDataSource(grid, fn) {\n  if (grid[_].dataSourceEventIds) {\n    grid[_].dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n  }\n\n  fn(grid);\n  grid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n    _refreshRowCount(grid);\n\n    grid.invalidate();\n  }), grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n    grid.invalidate();\n  })];\n}\n\nfunction _setRecords(grid, records = []) {\n  _tryWithUpdateDataSource(grid, () => {\n    grid[_].records = records;\n    grid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n  });\n}\n\nfunction _setDataSource(grid, dataSource) {\n  _tryWithUpdateDataSource(grid, () => {\n    if (dataSource) {\n      if (dataSource instanceof DataSource) {\n        grid[_].dataSource = dataSource;\n      } else {\n        grid[_].dataSource = new CachedDataSource(dataSource);\n      }\n    } else {\n      grid[_].dataSource = DataSource.EMPTY;\n    }\n\n    grid[_].records = null;\n  });\n}\n\nfunction _getRowRecordIndex(grid, row) {\n  if (row < grid[_].headerMap.rowCount) {\n    return undefined;\n  } else {\n    return row - grid[_].headerMap.rowCount;\n  }\n} //end private methods\n//\n//\n//\n\n\nclass HeaderMap {\n  constructor(header) {\n    this._columns = [];\n    this._headerCells = [];\n    this._headerObjects = [];\n\n    this._addHeaders(0, header, []);\n\n    this._setupHeaderControllers();\n  }\n\n  get columns() {\n    return this._columns;\n  }\n\n  get rowCount() {\n    return this._headerCells.length;\n  }\n\n  get headerObjects() {\n    return this._headerObjects;\n  }\n\n  getCell(col, row) {\n    return this._headerCells[row][col];\n  }\n\n  getHeaderCellRangeById(id) {\n    for (let r = 0; r < this.rowCount; r++) {\n      for (let c = 0; c < this.columns.length; c++) {\n        if (id === this.getCell(c, r).id) {\n          return this.getHeaderCellRange(c, r);\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  getHeaderCellRange(col, row) {\n    const result = {\n      startCol: col,\n      startRow: row,\n      endCol: col,\n      endRow: row,\n\n      isCellInRange(col, row) {\n        return this.startCol <= col && col <= this.endCol && this.startRow <= row && row <= this.endRow;\n      }\n\n    };\n    const {\n      id\n    } = this.getCell(col, row);\n\n    for (let c = col - 1; c >= 0; c--) {\n      if (id !== this.getCell(c, row).id) {\n        break;\n      }\n\n      result.startCol = c;\n    }\n\n    for (let c = col + 1; c < this.columns.length; c++) {\n      if (id !== this.getCell(c, row).id) {\n        break;\n      }\n\n      result.endCol = c;\n    }\n\n    for (let r = row - 1; r >= 0; r--) {\n      if (id !== this.getCell(col, r).id) {\n        break;\n      }\n\n      result.startRow = r;\n    }\n\n    for (let r = row + 1; r < this.rowCount; r++) {\n      if (id !== this.getCell(col, r).id) {\n        break;\n      }\n\n      result.endRow = r;\n    }\n\n    return result;\n  }\n\n  _addHeaders(row, header, roots) {\n    const rowCells = this._headerCells[row] || this._newRow(row);\n\n    header.forEach(hd => {\n      const col = this._columns.length;\n      const cell = {\n        id: headerId++,\n        caption: hd.caption,\n        field: hd.headerField || hd.field,\n        style: hd.headerStyle,\n        headerType: hd.headerType,\n        action: hd.headerAction,\n        sort: hd.sort,\n        define: hd\n      };\n\n      this._headerObjects.push(cell);\n\n      rowCells[col] = cell;\n\n      for (let r = row - 1; r >= 0; r--) {\n        this._headerCells[r][col] = roots[r];\n      }\n\n      if (hd.columns) {\n        this._addHeaders(row + 1, hd.columns, [...roots, cell]);\n      } else {\n        this._columns.push({\n          field: hd.field,\n          width: hd.width,\n          minWidth: hd.minWidth,\n          maxWidth: hd.maxWidth,\n          icon: hd.icon,\n          message: hd.message,\n          columnType: columns.type.of(hd.columnType),\n          action: columns.action.of(hd.action),\n          style: hd.style,\n          define: hd\n        });\n\n        for (let r = row + 1; r < this._headerCells.length; r++) {\n          this._headerCells[r][col] = cell;\n        }\n      }\n    });\n  }\n\n  _setupHeaderControllers() {\n    this._headerObjects.forEach(cell => {\n      cell.range = this.getHeaderCellRangeById(cell.id);\n      cell.headerType = headerType.ofCell(cell);\n      cell.action = headerAction.ofCell(cell);\n    });\n  }\n\n  _newRow(row) {\n    const newRow = this._headerCells[row] = [];\n\n    if (!this._columns.length) {\n      return newRow;\n    }\n\n    const prev = this._headerCells[row - 1];\n\n    for (let col = 0; col < prev.length; col++) {\n      newRow[col] = prev[col];\n    }\n\n    return newRow;\n  }\n\n}\n\nfunction adjustListGridOption(options) {\n  if (options) {\n    delete options.frozenRowCount;\n    delete options.colCount;\n    delete options.rowCount;\n  }\n\n  return options;\n}\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @extends cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid\n */\n\n\nclass ListGrid extends DrawGrid {\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n  /**\n   * constructor\n   *\n   * <pre>\n   * Constructor options\n   * -----\n   * header: see header property\n   * records {array}: records data\n   * dataSource {DataSource}: records data source\n   * frozenColCount {number}: default 0\n   * defaultRowHeight {number}: default grid row height. default 40\n   * defaultColWidth {number}: default grid col width. default 80\n   * borderColor: border color\n   * parentElement {Element}: canvas parentElement\n   * theme {object}: theme\n   * -----\n   * </pre>\n   *\n   * @constructor\n   * @param  {Object} options Constructor options\n   */\n\n\n  constructor(options = {}) {\n    super(adjustListGridOption(options));\n    const protectedSpace = this[_];\n    protectedSpace.header = options.header || [];\n    protectedSpace.headerRowHeight = options.headerRowHeight || [];\n\n    if (options.dataSource) {\n      _setDataSource(this, options.dataSource);\n    } else {\n      _setRecords(this, options.records);\n    }\n\n    _refreshHeader(this);\n\n    protectedSpace.sortState = {\n      col: -1,\n      row: -1,\n      order: undefined\n    };\n    protectedSpace.gridCanvasHelper = new GridCanvasHelper(this);\n    protectedSpace.theme = themes.of(options.theme);\n    protectedSpace.messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n    protectedSpace.tooltipHandler = new TooltipHandler(this);\n    this.invalidate();\n    protectedSpace.handler.on(window, 'resize', () => {\n      this.updateSize();\n      this.updateScroll();\n      this.invalidate();\n    });\n  }\n  /**\n   * Dispose the grid instance.\n   * @returns {void}\n   */\n\n\n  dispose() {\n    const protectedSpace = this[_];\n    protectedSpace.messageHandler.dispose();\n    protectedSpace.tooltipHandler.dispose();\n    super.dispose();\n  }\n  /**\n   * Gets the define of the header.\n   * @type {Array}\n   */\n\n\n  get header() {\n    return this[_].header;\n  }\n  /**\n   * Sets the define of the header with the given data.\n   * <pre>\n   * column options\n   * -----\n   * caption: header caption\n   * field: field name\n   * width: column width\n   * minWidth: column min width\n   * maxWidth: column max width\n   * icon: icon name\n   * message: message key name\n   * columnType: column type\n   * action: column action\n   * style: column style\n   * headerType: header type\n   * headerStyle: header style\n   * headerAction: header action\n   * headerField: header field name\n   * sort: define sort setting\n   * -----\n   *\n   * multiline header\n   * -----\n   * caption: header caption\n   * columns: columns define\n   * -----\n   * </pre>\n   *\n   * @param {Array} header the define of the header to set\n   * @type {Array}\n   */\n\n\n  set header(header) {\n    this[_].header = header;\n\n    _refreshHeader(this);\n  }\n  /**\n   * Get the records.\n   * @type {Array}\n   */\n\n\n  get records() {\n    return this[_].records;\n  }\n  /**\n   * Set the records from given\n   * @param {Array} records records to set\n   * @type {Array}\n   */\n\n\n  set records(records) {\n    _setRecords(this, records);\n\n    _refreshRowCount(this);\n\n    this.invalidate();\n  }\n  /**\n   * Get the data source.\n   * @type {DataSource}\n   */\n\n\n  get dataSource() {\n    return this[_].dataSource;\n  }\n  /**\n   * Set the data source from given\n   * @param {DataSource} dataSource data source to set\n   * @type {DataSource}\n   */\n\n\n  set dataSource(dataSource) {\n    _setDataSource(this, dataSource);\n\n    _refreshRowCount(this);\n\n    this.invalidate();\n  }\n  /**\n   * Get the theme.\n   * @type {object}\n   */\n\n\n  get theme() {\n    return this[_].theme;\n  }\n  /**\n   * Set the theme from given\n   * @param {object} theme theme to set\n   * @type {object}\n   */\n\n\n  set theme(theme) {\n    this[_].theme = themes.of(theme);\n    this.invalidate();\n  }\n  /**\n   * Get the font definition as a string.\n   * @override\n   * @type {string}\n   */\n\n\n  get font() {\n    return super.font || this[_].gridCanvasHelper.theme.font;\n  }\n  /**\n   * Set the font definition with the given string.\n   * @override\n   * @param {string} font the font definition to set\n   * @type {string}\n   */\n\n\n  set font(font) {\n    super.font = font;\n  }\n  /**\n   * Get the background color of the underlay.\n   * @override\n   * @type {*}\n   */\n\n\n  get underlayBackgroundColor() {\n    return super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n  }\n  /**\n   * Set the background color of the underlay.\n   * @override\n   * @param {*} underlayBackgroundColor the background color of the underlay to set\n   * @type {*}\n   */\n\n\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    super.underlayBackgroundColor = underlayBackgroundColor;\n  }\n  /**\n   * Get the sort state.\n   * @type {object}\n   */\n\n\n  get sortState() {\n    return this[_].sortState;\n  }\n  /**\n   * Sets the sort state.\n   * If `null` to set, the sort state is initialized.\n   *\n   * @param {object} sortState the sort state to set\n   * @type {object}\n   */\n\n\n  set sortState(sortState) {\n    const oldState = this.sortState;\n    let oldField;\n\n    if (oldState.col >= 0 && oldState.row >= 0) {\n      oldField = this.getHeaderField(oldState.col, oldState.row);\n    }\n\n    const newState = this[_].sortState = isDef(sortState) ? sortState : {\n      col: -1,\n      row: -1,\n      order: undefined\n    };\n    let newField;\n\n    if (newState.col >= 0 && newState.row >= 0) {\n      newField = this.getHeaderField(newState.col, newState.row);\n    } // bind header value\n\n\n    if (isDef(oldField) && oldField !== newField) {\n      this.setHeaderValue(oldState.col, oldState.row, undefined);\n    }\n\n    if (isDef(newField)) {\n      this.setHeaderValue(newState.col, newState.row, newState.order);\n    }\n  }\n  /**\n   * Get the header values.\n   * @type {object}\n   */\n\n\n  get headerValues() {\n    return this[_].headerValues || (this[_].headerValues = {});\n  }\n  /**\n   * Sets the header values.\n   *\n   * @param {object} headerValues the header values to set\n   * @type {object}\n   */\n\n\n  set headerValues(headerValues) {\n    this[_].headerValues = headerValues || {};\n  }\n  /**\n   * Get the field of the given column index.\n   * @param  {number} col The column index.\n   * @return {*} The field object.\n   */\n\n\n  getField(col) {\n    return this[_].headerMap.columns[col].field;\n  }\n  /**\n   * Get the column define of the given column index.\n   * @param  {number} col The column index.\n   * @return {*} The column define object.\n   */\n\n\n  getColumnDefine(col) {\n    return this[_].headerMap.columns[col].define;\n  }\n  /**\n   * Get the header field of the given header cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The header row index.\n   * @return {*} The field object.\n   */\n\n\n  getHeaderField(col, row) {\n    const hd = this[_].headerMap.getCell(col, row);\n\n    return hd.field;\n  }\n  /**\n   * Get the header define of the given header cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The header row index.\n   * @return {*} The header define object.\n   */\n\n\n  getHeaderDefine(col, row) {\n    const hd = this[_].headerMap.getCell(col, row);\n\n    return hd.define;\n  }\n  /**\n   * Get the record of the given row index.\n   * @param  {number} row The row index.\n   * @return {object} The record.\n   */\n\n\n  getRowRecord(row) {\n    if (row < this[_].headerMap.rowCount) {\n      return undefined;\n    } else {\n      return this[_].dataSource.get(_getRowRecordIndex(this, row));\n    }\n  }\n  /**\n   * Get the column index of the given field.\n   * @param  {*} field The field.\n   * @return {number} The column index.\n   */\n\n\n  getColumnIndexByField(field) {\n    for (const columnIndex in this[_].headerMap.columns) {\n      if (this[_].headerMap.columns[columnIndex].field === field) {\n        return columnIndex - 0;\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Focus the cell.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {void}\n   */\n\n\n  focusGridCell(field, index) {\n    const {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    } = this.selection.range;\n    const newCol = this.getColumnIndexByField(field);\n    const newRow = index + this[_].headerMap.rowCount;\n    this.focusCell(newCol, newRow);\n    this.selection.select = {\n      col: newCol,\n      row: newRow\n    };\n    this.invalidateGridRect(startCol, startRow, endCol, endRow);\n    this.invalidateCell(newCol, newRow);\n  }\n  /**\n   * Scroll to where cell is visible.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {void}\n   */\n\n\n  makeVisibleGridCell(field, index) {\n    this.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n  }\n\n  getGridCanvasHelper() {\n    return this[_].gridCanvasHelper;\n  }\n  /**\n   * Get header range information for a given cell.\n   * @param {number} col column index of the cell\n   * @param {number} row row index of the cell\n   * @returns {object} cell range info\n   */\n\n\n  getHeaderCellRange(col, row) {\n    return _getHeaderCellRange(this, col, row);\n  }\n\n  getCopyCellValue(col, row) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        startCol,\n        startRow\n      } = _getHeaderCellRange(this, col, row);\n\n      if (startCol !== col || startRow !== row) {\n        return '';\n      }\n    }\n\n    return _getCellValue(this, col, row);\n  }\n\n  onDrawCell(col, row, context) {\n    const {\n      headerMap\n    } = this[_];\n    const column = headerMap.columns[col];\n    let draw;\n    let style;\n\n    if (row < headerMap.rowCount) {\n      const hd = headerMap.getCell(col, row);\n      draw = hd.headerType.onDrawCell;\n      ({\n        style\n      } = hd);\n\n      _updateRect(this, col, row, context);\n    } else {\n      draw = column.columnType.onDrawCell;\n      ({\n        style\n      } = column);\n    }\n\n    const cellValue = _getCellValue(this, col, row);\n\n    return _onDrawValue(this, cellValue, context, {\n      col,\n      row\n    }, style, draw);\n  }\n\n  doGetCellValue(col, row, valueCallback) {\n    if (row < this[_].headerMap.rowCount) {\n      // nop\n      return false;\n    } else {\n      const value = _getCellValue(this, col, row);\n\n      if (isPromise(value)) {\n        //\n        return false;\n      }\n\n      valueCallback(value);\n    }\n\n    return true;\n  }\n\n  doChangeValue(col, row, changeValueCallback) {\n    if (row < this[_].headerMap.rowCount) {\n      // nop\n      return false;\n    } else {\n      const before = _getCellValue(this, col, row);\n\n      if (isPromise(before)) {\n        //\n        return false;\n      }\n\n      const after = changeValueCallback(before);\n\n      if (after === undefined) {\n        return false;\n      }\n\n      return then(_setCellValue(this, col, row, after), ret => {\n        if (ret) {\n          const {\n            field\n          } = this[_].headerMap.columns[col];\n          const self = this;\n          this.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n            col,\n            row,\n\n            get record() {\n              return self.getRowRecord(row);\n            },\n\n            field,\n            value: after,\n            oldValue: before\n          });\n        }\n\n        return ret;\n      });\n    }\n  }\n\n  getHeaderValue(col, row) {\n    const field = this.getHeaderField(col, row);\n    return this.headerValues[field];\n  }\n\n  setHeaderValue(col, row, newValue) {\n    const field = this.getHeaderField(col, row);\n    const oldValue = this.headerValues[field];\n    this.headerValues[field] = newValue;\n    this.fireListeners(EVENT_TYPE.CHANGED_HEADER_VALUE, {\n      col,\n      row,\n      field,\n      value: newValue,\n      oldValue\n    });\n  }\n\n  bindEventsInternal() {\n    this.listen(EVENT_TYPE.SELECTED_CELL, e => {\n      if (e.row < this[_].headerMap.rowCount) {\n        const {\n          startCol,\n          endCol,\n          startRow,\n          endRow\n        } = _getHeaderCellRange(this, e.col, e.row);\n\n        if (startCol !== endCol || startRow !== endRow) {\n          this.invalidateGridRect(startCol, startRow, endCol, endRow);\n        }\n      }\n    });\n  }\n\n  getMoveLeftColByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        startCol\n      } = _getHeaderCellRange(this, col, row);\n\n      col = startCol;\n    }\n\n    return super.getMoveLeftColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveRightColByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        endCol\n      } = _getHeaderCellRange(this, col, row);\n\n      col = endCol;\n    }\n\n    return super.getMoveRightColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveUpRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        startRow\n      } = _getHeaderCellRange(this, col, row);\n\n      row = startRow;\n    }\n\n    return super.getMoveUpRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveDownRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    if (row < this[_].headerMap.rowCount) {\n      const {\n        endRow\n      } = _getHeaderCellRange(this, col, row);\n\n      row = endRow;\n    }\n\n    return super.getMoveDownRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getOffsetInvalidateCells() {\n    return 1;\n  }\n\n}\n\nmodule.exports = ListGrid;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst Inline = __webpack_require__(13);\n\nconst InlineIcon = __webpack_require__(118);\n\nconst InlineImage = __webpack_require__(61);\n\nconst InlineSvg = __webpack_require__(121);\n\nconst InlineDrawer = __webpack_require__(62);\n\nconst InlinePath2D = __webpack_require__(122);\n\nconst {\n  isDef\n} = __webpack_require__(0);\n\nconst {\n  calcStartPosition\n} = __webpack_require__(8);\n\nconst icons = __webpack_require__(63);\n\nconst path2DManager = __webpack_require__(29);\n\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n      offset,\n      padding\n    });\n    path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n  } finally {\n    ctx.restore();\n  }\n}\n\nmodule.exports = {\n  iconOf(icon) {\n    if (icon instanceof Inline) {\n      return icon;\n    }\n\n    if (!icon) {\n      return null;\n    }\n\n    if (icon.font && icon.content) {\n      return new InlineIcon(icon);\n    }\n\n    if (icon.src) {\n      return new InlineImage({\n        src: icon.src,\n        width: icon.width,\n        height: icon.width\n      });\n    }\n\n    if (icon.svg) {\n      return new InlineSvg({\n        svg: icon.svg,\n        width: icon.width,\n        height: icon.width\n      });\n    }\n\n    if (icon.path) {\n      return new InlinePath2D({\n        path: icon.path,\n        width: icon.width,\n        height: icon.width,\n        color: icon.color\n      });\n    }\n\n    const regedIcons = icons.get();\n\n    if (icon.name && regedIcons[icon.name]) {\n      const regedIcon = regedIcons[icon.name];\n      const width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n      return new InlineDrawer({\n        draw({\n          ctx,\n          canvashelper,\n          rect,\n          offset,\n          offsetLeft,\n          offsetRight,\n          offsetTop,\n          offsetBottom\n        }) {\n          drawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n              left: offsetLeft,\n              right: offsetRight,\n              top: offsetTop,\n              bottom: offsetBottom\n            }\n          });\n        },\n\n        width,\n        height: width,\n        color: icon.color\n      });\n    }\n\n    return new InlineIcon(icon);\n  },\n\n  of(content) {\n    if (!isDef(content)) {\n      return null;\n    }\n\n    if (content instanceof Inline) {\n      return content;\n    }\n\n    return new Inline(content);\n  },\n\n  buildInlines(icons, inline) {\n    const result = [];\n\n    if (icons) {\n      result.push(...icons.map(icon => this.iconOf(icon)).filter(e => !!e));\n    }\n\n    if (__webpack_provided_Array_dot_isArray(inline) && inline.filter(il => il instanceof Inline).length) {\n      result.push(...inline.map(il => this.of(il)).filter(e => !!e));\n    } else {\n      const il = this.of(inline);\n\n      if (il) {\n        result.push(il);\n      }\n    }\n\n    return result;\n  },\n\n  string(inline) {\n    return this.buildInlines(undefined, inline).join('');\n  }\n\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(13);\n\nconst fonts = __webpack_require__(60);\n\nclass InlineIcon extends Inline {\n  constructor(icon) {\n    super();\n    this._icon = icon || {};\n  }\n\n  width({\n    ctx\n  }) {\n    const icon = this._icon;\n\n    if (icon.width) {\n      return icon.width;\n    }\n\n    if (icon.font && fonts.check(icon.font, icon.content)) {\n      ctx.save();\n\n      try {\n        ctx.font = icon.font || ctx.font;\n        return ctx.measureText(icon.content).width;\n      } finally {\n        ctx.restore();\n      }\n    }\n\n    return null;\n  }\n\n  font() {\n    return this._icon.font;\n  }\n\n  color() {\n    return this._icon.color;\n  }\n\n  canDraw() {\n    const icon = this._icon;\n    return icon.font ? fonts.check(icon.font, icon.content) : true;\n  }\n\n  onReady(callback) {\n    const icon = this._icon;\n\n    if (icon.font && !fonts.check(icon.font, icon.content)) {\n      fonts.load(icon.font, icon.content, callback);\n    }\n  }\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const icon = this._icon;\n\n    if (icon.content) {\n      canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n        offset: offset + 1,\n        padding: {\n          left: offsetLeft,\n          right: offsetRight,\n          top: offsetTop,\n          bottom: offsetBottom\n        }\n      });\n    }\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineIcon;\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n //see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\n\nconst FontRuler = __webpack_require__(120);\n\nconst LastResortFonts = {\n  SERIF: 'serif',\n  SANS_SERIF: 'sans-serif'\n};\nconst watchRunners = {};\n\nclass FontWatchRunner {\n  static load(font, testStr, activeCallback, inactiveCallback) {\n    const c = watchRunners[font] || (watchRunners[font] = {});\n    testStr += '';\n    let runner;\n\n    if (c[testStr]) {\n      runner = c[testStr];\n    } else {\n      runner = c[testStr] = new FontWatchRunner(font, testStr);\n    }\n\n    runner.then(activeCallback, inactiveCallback);\n  }\n\n  constructor(font, testStr) {\n    this.activeCallbacks = [];\n    this.inactiveCallbacks = [];\n    this.status = null;\n    this.lastResortWidths_ = {};\n    this.fontRulerA_ = new FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n    this.fontRulerB_ = new FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n    const lastResortRulerA = new FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n    const lastResortRulerB = new FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr); //start\n\n    this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n    this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n    lastResortRulerA.remove();\n    lastResortRulerB.remove();\n    this.started_ = Date.now();\n    this.check_();\n  }\n\n  then(activeCallback, inactiveCallback) {\n    if (this.status) {\n      if (this.status !== 'ng') {\n        activeCallback();\n      } else {\n        inactiveCallback();\n      }\n    } else {\n      this.activeCallbacks.push(activeCallback);\n      this.inactiveCallbacks.push(inactiveCallback);\n    }\n  }\n\n  check_() {\n    const widthA = this.fontRulerA_.getWidth();\n    const widthB = this.fontRulerB_.getWidth();\n\n    if (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n      if (Date.now() - this.started_ >= 3000) {\n        // timeout\n        if (this.isLastResortFont_(widthA, widthB)) {\n          this.finish_(this.activeCallbacks);\n          this.status = 'ok';\n        } else {\n          this.finish_(this.inactiveCallbacks);\n          this.status = 'ng';\n        }\n      } else {\n        setTimeout(() => {\n          this.check_();\n        }, 50);\n      }\n    } else {\n      this.finish_(this.activeCallbacks);\n      this.status = 'ok';\n    }\n  }\n\n  isFallbackFont_(a, b) {\n    return this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n  }\n\n  widthsMatchLastResortWidths_(a, b) {\n    for (const font in LastResortFonts) {\n      if (LastResortFonts.hasOwnProperty(font)) {\n        if (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  widthMatches_(width, lastResortFont) {\n    return width === this.lastResortWidths_[lastResortFont];\n  }\n\n  isLastResortFont_(a, b) {\n    return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n  }\n\n  finish_(callbacks) {\n    setTimeout(() => {\n      this.fontRulerA_.remove();\n      this.fontRulerB_.remove();\n      callbacks.forEach(cb => cb());\n    }, 0);\n  }\n\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\n\nfunction hasWebKitFallbackBug() {\n  if (HAS_WEBKIT_FALLBACK_BUG === null) {\n    const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n    HAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n  }\n\n  return HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n //see https://github.com/typekit/webfontloader\n\nfunction computeStyle(font) {\n  return [{\n    'display': 'block',\n    'position': 'absolute',\n    'top': '-9999px',\n    'left': '-9999px',\n    'width': 'auto',\n    'height': 'auto',\n    'margin': '0',\n    'padding': '0',\n    'white-space': 'nowrap',\n    font\n  }, {\n    'font-variant': 'normal',\n    'font-size': '300px',\n    'font-style': 'normal',\n    'font-weight': '400',\n    'line-height': 'normal'\n  }];\n}\n\nclass FontRuler {\n  constructor(font, testStr) {\n    const e = document.createElement('span');\n    e.setAttribute('aria-hidden', 'true');\n    e.textContent = testStr || 'BESbswy';\n    computeStyle(font).forEach(style => {\n      for (const key in style) {\n        e.style[key] = style[key];\n      }\n    });\n    document.body.appendChild(e);\n    this.el_ = e;\n  }\n\n  getWidth() {\n    return this.el_.offsetWidth;\n  }\n\n  remove() {\n    document.body.removeChild(this.el_);\n  }\n\n}\n\nmodule.exports = FontRuler;\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst InlineImage = __webpack_require__(61);\n\nconst {\n  then\n} = __webpack_require__(0);\n\nfunction buildSvgDataUrl(svg) {\n  const data = typeof svg === 'string' ? svg : new XMLSerializer().serializeToString(svg);\n  const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\n  return url;\n}\n\nfunction getSvgElement(svg) {\n  if (typeof svg === 'string') {\n    const parser = new DOMParser();\n    return parser.parseFromString(svg, 'image/svg+xml');\n  } else {\n    return svg;\n  }\n}\n\nclass InlineSvg extends InlineImage {\n  constructor({\n    svg,\n    width,\n    height,\n    imageLeft,\n    imageTop,\n    imageWidth,\n    imageHeight\n  }) {\n    const svgElem = then(svg, getSvgElement);\n    const elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n    const elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n    super({\n      src: then(svg, buildSvgDataUrl),\n      width: width || elmWidth,\n      height: height || elmHeight,\n      imageWidth: elmWidth,\n      imageHeight: elmHeight\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlineSvg;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(13);\n\nconst {\n  calcStartPosition\n} = __webpack_require__(8);\n\nconst path2DManager = __webpack_require__(29);\n\nclass InlinePath2D extends Inline {\n  constructor({\n    path,\n    width,\n    height,\n    color\n  }) {\n    super(); // IEPath2Dpolyfill\n\n    this._path = new path2DManager.Path2D(path);\n    this._width = width;\n    this._height = height;\n    this._color = color;\n  }\n\n  width({\n    ctx\n  }) {\n    return this._width;\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return this._color;\n  }\n\n  canDraw() {\n    return true;\n  }\n\n  onReady(callback) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    offset++;\n    const padding = {\n      left: offsetLeft,\n      right: offsetRight,\n      top: offsetTop,\n      bottom: offsetBottom\n    };\n    ctx.save();\n\n    try {\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n      ctx.clip(); //\n\n      const pos = calcStartPosition(ctx, rect, this._width, this._height, {\n        offset,\n        padding\n      });\n      ctx.translate(pos.x, pos.y);\n      ctx.fill(this._path);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return '';\n  }\n\n}\n\nmodule.exports = InlinePath2D;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommandsParser = __webpack_require__(124);\n\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n  constructor(arg) {\n    this._ops = [];\n    ['closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'rect'].forEach(name => {\n      this[name] = (...args) => {\n        this._ops.push({\n          op: name,\n          args\n        });\n      };\n    });\n\n    if (arg === undefined) {\n      return;\n    }\n\n    if (typeof arg === 'string') {\n      try {\n        this._ops = parser.parse(arg);\n      } catch (e) {\n        throw e;\n      }\n    } else if (arg.hasOwnProperty('_ops')) {\n      this._ops = [...this._ops];\n    } else {\n      throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n    }\n  }\n\n}\n\nconst {\n  CanvasRenderingContext2D\n} = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n  if (args[0] instanceof Path2D) {\n    const path = args[0];\n    this.beginPath();\n\n    path._ops.forEach(op => {\n      this[op.op](...op.args);\n    });\n\n    originalFill.apply(this, Array.prototype.slice.call(args, 1));\n  } else {\n    originalFill.apply(this, args);\n  }\n};\n\nmodule.exports = Path2D;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommands = __webpack_require__(125);\n\nfunction pathTokens(d) {\n  let idx = 0;\n  return {\n    next() {\n      let s = '';\n\n      while (d.length > idx) {\n        const c = d[idx];\n        idx++;\n\n        if (' ,\\n\\r\\t'.indexOf(c) > -1) {\n          if (s) {\n            return s;\n          }\n        } else {\n          const type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\n          if (type === 'str') {\n            if (s) {\n              idx--;\n              return s;\n            }\n\n            return c;\n          }\n\n          if ('-+'.indexOf(c) > -1) {\n            if (s) {\n              idx--;\n              return s;\n            }\n          }\n\n          if (c === '.') {\n            if (s.indexOf('.') > -1) {\n              idx--;\n              return s;\n            }\n          }\n\n          s += c;\n        }\n      }\n\n      return s || null;\n    }\n\n  };\n}\n\nfunction command(builder, cmd, argsProvider) {\n  if (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next());\n    return cmd === 'M' ? 'L' : cmd === 'm' ? 'l' : cmd;\n  } else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n    builder.command(cmd, argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === 'Z') {\n    builder.command(cmd);\n    return cmd;\n  } else if (cmd.toUpperCase() === 'C') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === 'A') {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else {\n    // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n    console.warn(`unsupported:${cmd}`);\n  }\n\n  return null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : ['save', 'restore', 'beginPath', 'closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'arcTo', 'ellipse', 'rect', 'translate', 'rotate', 'scale'];\n\nclass PathCommandsParser {\n  constructor() {\n    this._commands = new PathCommands(this);\n    canvasOperations.forEach(op => {\n      this[op] = (...args) => {\n        this._ops.push({\n          op,\n          args\n        });\n      };\n    });\n  }\n\n  command(name, ...args) {\n    args = args || [];\n\n    for (let i = 0; i < args.length; i++) {\n      args[i] -= 0;\n    }\n\n    this._commands[name](...args);\n  }\n\n  parse(d) {\n    const ops = this._ops = [];\n    const tokens = pathTokens(d);\n\n    try {\n      let cmd;\n      let subsequentCommand;\n\n      while (cmd = tokens.next()) {\n        if (!isNaN(cmd - 0)) {\n          let fst = true;\n          const argsProvider = {\n            next() {\n              if (fst) {\n                fst = false;\n                return cmd;\n              }\n\n              return tokens.next();\n            }\n\n          };\n          subsequentCommand = command(this, subsequentCommand, argsProvider);\n        } else {\n          subsequentCommand = command(this, cmd, tokens);\n        }\n      }\n    } catch (e) {\n      console.log(`Error: ${d}`);\n      throw e;\n    }\n\n    return ops;\n  }\n\n}\n\nmodule.exports = PathCommandsParser;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint new-cap: \"off\"*/\n\n\nfunction mag(v) {\n  return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n  return u[0] * v[0] + u[1] * v[1];\n}\n\nfunction ratio(u, v) {\n  return dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n  let sign = 1.0;\n\n  if (u[0] * v[1] - u[1] * v[0] < 0) {\n    sign = -1.0;\n  }\n\n  return sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n  return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n  return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n  return [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n  return [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n  return [u[0] + v[0], u[1] + v[1]];\n} // Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\n\n\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n  // Convert from endpoint to center parametrization, as detailed in:\n  //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n  if (rx === 0 || ry === 0) {\n    ctx.lineTo(x2, x1);\n    return;\n  }\n\n  phi *= Math.PI / 180.0;\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  const xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\n  const xPrime2 = pointMul(xPrime, xPrime);\n  let rx2 = Math.pow(rx, 2);\n  let ry2 = Math.pow(ry, 2);\n  const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\n  if (lambda > 1) {\n    rx *= lambda;\n    ry *= lambda;\n    rx2 = Math.pow(rx, 2);\n    ry2 = Math.pow(ry, 2);\n  }\n\n  let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\n  if (fA === fS) {\n    factor *= -1.0;\n  }\n\n  const cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\n  const c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\n  const x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n  const x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n  const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\n  const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\n  const start = theta;\n  const end = theta + deltaTheta;\n  ctx.save();\n  ctx.translate(c[0], c[1]);\n  ctx.rotate(phi);\n  ctx.scale(rx, ry);\n  ctx.arc(0, 0, 1, start, end, 1 - fS);\n  ctx.restore();\n}\n\nclass PathCommands {\n  constructor(ctx) {\n    let lMx;\n    let lMy;\n    let lx = 0;\n    let ly = 0;\n    let reflected;\n    let lastCommand = '';\n\n    function makeReflected() {\n      if ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n        return {\n          x: lx,\n          y: ly\n        };\n      }\n\n      return reflected;\n    }\n\n    this.M = (px, py) => {\n      ctx.moveTo(px, py);\n      lMx = px;\n      lMy = py;\n      lx = px;\n      ly = py;\n      lastCommand = 'M';\n      return this;\n    };\n\n    this.m = (px, py) => this.M(px + lx, py + ly);\n\n    this.L = (px, py) => {\n      ctx.lineTo(px, py);\n      lx = px;\n      ly = py;\n      lastCommand = 'L';\n      return this;\n    };\n\n    this.l = (px, py) => this.L(px + lx, py + ly);\n\n    this.H = px => this.L(px, ly);\n\n    this.h = px => this.H(px + lx);\n\n    this.V = py => this.L(lx, py);\n\n    this.v = py => this.V(py + ly);\n\n    this.Z = () => {\n      ctx.closePath();\n      lx = lMx;\n      ly = lMy;\n      lastCommand = 'Z';\n      return this;\n    };\n\n    this.z = () => this.Z(); //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\n\n    this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n      ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cp2x,\n        y: 2 * py - cp2y\n      };\n      lastCommand = 'C';\n      return this;\n    };\n\n    this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly); //S x2 y2, x y (or s dx2 dy2, dx dy)\n\n\n    this.S = (cpx, cpy, px, py) => {\n      const {\n        x: cp1x,\n        y: cp1y\n      } = makeReflected(lastCommand);\n      return this.C(cp1x, cp1y, cpx, cpy, px, py);\n    };\n\n    this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly); //Q x1 y1, x y (or q dx1 dy1, dx dy)\n\n\n    this.Q = (cpx, cpy, px, py) => {\n      ctx.quadraticCurveTo(cpx, cpy, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cpx,\n        y: 2 * py - cpy\n      };\n      lastCommand = 'Q';\n      return this;\n    };\n\n    this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly); //T x y (or t dx dy)\n\n\n    this.T = (px, py) => {\n      const {\n        x: cpx,\n        y: cpy\n      } = makeReflected();\n      return this.Q(cpx, cpy, px, py);\n    };\n\n    this.t = (px, py) => this.T(px + lx, py + ly); //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\n\n    this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n      const x1 = lx;\n      const y1 = ly;\n      ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n      lx = px;\n      ly = py;\n      lastCommand = 'A';\n      return this;\n    }; //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\n\n    this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n  }\n\n}\n\nmodule.exports = PathCommands;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  isPromise\n} = __webpack_require__(0);\n\nconst {\n  SELECTED_CELL,\n  SCROLL,\n  CHANGED_VALUE\n} = __webpack_require__(30);\n\nconst ErrorMessage = __webpack_require__(134);\n\nconst WarningMessage = __webpack_require__(140);\n\nconst InfoMessage = __webpack_require__(144);\n\nconst EMPTY_MESSAGE = {\n  type: 'error',\n  message: undefined\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n  error(grid) {\n    return new ErrorMessage(grid);\n  },\n\n  info(grid) {\n    return new InfoMessage(grid);\n  },\n\n  warning(grid) {\n    return new WarningMessage(grid);\n  }\n\n};\n\nfunction normalizeMessage(message) {\n  if (!message || isPromise(message)) {\n    return EMPTY_MESSAGE;\n  }\n\n  if (typeof message === 'string') {\n    return {\n      type: 'error',\n      message,\n      original: message\n    };\n  }\n\n  const type = message.type || 'error';\n\n  if (type && type in MESSAGE_INSTANCE_FACTORY) {\n    return {\n      type: type.toLowerCase(),\n      message: `${message.message}`,\n      original: message\n    };\n  }\n\n  return {\n    type: 'error',\n    message: `${message}`,\n    original: message\n  };\n}\n\nfunction hasMessage(message) {\n  return !!normalizeMessage(message).message;\n}\n\nclass MessageHandler {\n  constructor(grid, getMessage) {\n    this._grid = grid;\n    this._messageInstances = {};\n\n    this._bindGridEvent(grid, getMessage);\n  }\n\n  dispose() {\n    const messageInstances = this._messageInstances;\n\n    for (const k in messageInstances) {\n      messageInstances[k].dispose();\n    }\n\n    this._messageInstances = null;\n  }\n\n  drawCellMessage(message, context, style, helper, info) {\n    if (!hasMessage(message)) {\n      return;\n    }\n\n    const instance = this._getMessageInstanceOfMessage(message);\n\n    instance.drawCellMessage(message, context, style, helper, info);\n  }\n\n  _attach(col, row, message) {\n    const info = this._attachInfo;\n\n    const instance = this._getMessageInstanceOfMessage(message);\n\n    if (info && info.instance !== instance) {\n      info.instance.detachMessageElement();\n    }\n\n    instance.attachMessageElement(col, row, normalizeMessage(message));\n    this._attachInfo = {\n      col,\n      row,\n      instance\n    };\n  }\n\n  _move(col, row) {\n    const info = this._attachInfo;\n\n    if (!info || info.col !== col || info.row !== row) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.moveMessageElement(col, row);\n  }\n\n  _detach() {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.detachMessageElement();\n    this._attachInfo = null;\n  }\n\n  _bindGridEvent(grid, getMessage) {\n    const onSelectMessage = sel => {\n      const message = getMessage(sel.col, sel.row);\n\n      if (!hasMessage(message)) {\n        this._detach();\n      } else {\n        this._attach(sel.col, sel.row, message);\n      }\n    };\n\n    grid.listen(SELECTED_CELL, e => {\n      if (!e.selected) {\n        return;\n      }\n\n      if (e.before.col === e.col && e.before.row === e.row) {\n        return;\n      }\n\n      onSelectMessage(e);\n    });\n    grid.listen(SCROLL, () => {\n      const sel = grid.selection.select;\n\n      this._move(sel.col, sel.row);\n    });\n    grid.listen(CHANGED_VALUE, e => {\n      const sel = grid.selection.select;\n\n      if (sel.col !== e.col || sel.row !== e.row) {\n        return;\n      }\n\n      onSelectMessage(e);\n    });\n  }\n\n  _getMessageInstanceOfMessage(message) {\n    const messageInstances = this._messageInstances;\n    const {\n      type\n    } = normalizeMessage(message);\n    return messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n  }\n\n}\n\nmodule.exports = MessageHandler;\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(31);\n\nconst ErrorMessageElement = __webpack_require__(135);\n\nconst messageUtils = __webpack_require__(33);\n\nconst RED_A100 = '#ff8a80';\n\nclass ErrorMessage extends BaseMessage {\n  createMessageElementInternal() {\n    return new ErrorMessageElement();\n  }\n\n  drawCellMessageInternal(message, context, style, helper, info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      selected\n    } = context.getSelectState();\n    helper.drawBorderWithClip(context, ctx => {\n      if (!selected) {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: RED_A100,\n          color: bgColor\n        }, helper);\n      }\n    });\n  }\n\n}\n\nmodule.exports = ErrorMessage;\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(32);\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass ErrorMessageElement extends MessageElement {\n  constructor() {\n    super();\n\n    __webpack_require__(138);\n\n    this._rootElement.classList.add(CLASSNAME);\n\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n\n}\n\nmodule.exports = ErrorMessageElement;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(137);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__message-element {\\n\\tposition: absolute;\\n\\tmargin-top: -2px;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 0 0 3px 3px;\\n\\tbackground-color: rgba(250, 250, 250, 0.85);\\n\\tpadding: 8px 2px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__message-element--hidden {\\n\\tdisplay: none;\\n}\\n.cheetah-grid__message-element--shown {\\n\\tdisplay: block;\\n}\\n.cheetah-grid__message-element__message {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n}\\n.cheetah-grid__message-element {\\n\\tborder-top: solid 1px rgba(0, 0, 0, .87);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(139);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__error-message-element {\\n\\tborder-top: solid 1px #FF1744;\\n\\tcolor: #ff1744;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(31);\n\nconst WarningMessageElement = __webpack_require__(141);\n\nconst messageUtils = __webpack_require__(33);\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n  createMessageElementInternal() {\n    return new WarningMessageElement();\n  }\n\n  drawCellMessageInternal(message, context, style, helper, info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      selected\n    } = context.getSelectState();\n    helper.drawBorderWithClip(context, ctx => {\n      if (!selected) {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: DEEP_ORANGE_A100,\n          color: bgColor\n        }, helper);\n      }\n    });\n  }\n\n}\n\nmodule.exports = WarningMessage;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(32);\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass WarningMessageElement extends MessageElement {\n  constructor() {\n    super();\n\n    __webpack_require__(142);\n\n    this._rootElement.classList.add(CLASSNAME);\n\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n\n}\n\nmodule.exports = WarningMessageElement;\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(143);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__warning-message-element {\\n\\tborder-top: solid 1px #dd2c00;\\n\\tcolor: #dd2c00;\\n}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(31);\n\nconst MessageElement = __webpack_require__(32);\n\nconst messageUtils = __webpack_require__(33);\n\nconst GREY_L2 = '#e0e0e0';\n\nclass InfoMessage extends BaseMessage {\n  createMessageElementInternal() {\n    return new MessageElement();\n  }\n\n  drawCellMessageInternal(message, context, style, helper, info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      selected\n    } = context.getSelectState();\n    helper.drawBorderWithClip(context, ctx => {\n      if (!selected) {\n        messageUtils.drawInfomationMarkBox(context, {\n          bgColor: GREY_L2,\n          color: bgColor\n        }, helper);\n      }\n    });\n  }\n\n}\n\nmodule.exports = InfoMessage;\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  SELECTED_CELL,\n  SCROLL,\n  CHANGED_VALUE,\n  MOUSEOVER_CELL,\n  MOUSEOUT_CELL\n} = __webpack_require__(30);\n\nconst Tooltip = __webpack_require__(146);\n\nconst TOOLTIP_INSTANCE_FACTORY = {\n  'overflow-text'(grid) {\n    return new Tooltip(grid);\n  }\n\n};\n\nfunction getTooltipInstanceInfo(grid, col, row) {\n  //\n  // overflow text tooltip\n  const overflowText = grid.getCellOverflowText(col, row);\n\n  if (overflowText) {\n    return {\n      type: 'overflow-text',\n      content: overflowText\n    };\n  }\n\n  return null;\n}\n\nclass TooltipHandler {\n  constructor(grid) {\n    this._grid = grid;\n    this._tooltipInstances = {};\n\n    this._bindGridEvent(grid);\n  }\n\n  dispose() {\n    const tooltipInstances = this._tooltipInstances;\n\n    for (const k in tooltipInstances) {\n      tooltipInstances[k].dispose();\n    }\n\n    this._tooltipInstances = null;\n  }\n\n  _attach(col, row) {\n    const info = this._attachInfo;\n\n    const instanceInfo = this._getTooltipInstanceInfo(col, row);\n\n    if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n      info.instance.detachTooltipElement();\n      this._attachInfo = null;\n    }\n\n    if (!instanceInfo) {\n      return;\n    }\n\n    const {\n      instance\n    } = instanceInfo;\n    instance.attachTooltipElement(col, row, instanceInfo.content);\n    this._attachInfo = {\n      col,\n      row,\n      instance\n    };\n  }\n\n  _move(col, row) {\n    const info = this._attachInfo;\n\n    if (!info || info.col !== col || info.row !== row) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.moveTooltipElement(col, row);\n  }\n\n  _detach() {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.detachTooltipElement();\n    this._attachInfo = null;\n  }\n\n  _isAttachCell(col, row) {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return false;\n    }\n\n    return info.col === col && info.row === row;\n  }\n\n  _bindGridEvent(grid) {\n    grid.listen(MOUSEOVER_CELL, e => {\n      this._attach(e.col, e.row);\n    });\n    grid.listen(MOUSEOUT_CELL, e => {\n      this._detach();\n    });\n    grid.listen(SELECTED_CELL, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach(e);\n      }\n    });\n    grid.listen(SCROLL, () => {\n      const info = this._attachInfo;\n\n      if (!info) {\n        return;\n      }\n\n      this._move(info.col, info.row);\n    });\n    grid.listen(CHANGED_VALUE, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach();\n\n        this._attach(e.col, e.row);\n      }\n    });\n  }\n\n  _getTooltipInstanceInfo(col, row) {\n    const grid = this._grid;\n    const tooltipInstances = this._tooltipInstances;\n    const info = getTooltipInstanceInfo(grid, col, row);\n\n    if (!info) {\n      return null;\n    }\n\n    const {\n      type\n    } = info;\n    const instance = tooltipInstances[type] || (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n    return {\n      instance,\n      type,\n      content: info.content\n    };\n  }\n\n}\n\nmodule.exports = TooltipHandler;\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseTooltip = __webpack_require__(147);\n\nconst TooltipElement = __webpack_require__(148);\n\nclass Tooltip extends BaseTooltip {\n  createTooltipElementInternal() {\n    return new TooltipElement();\n  }\n\n}\n\nmodule.exports = Tooltip;\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseTooltip {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  dispose() {\n    this.detachTooltipElement();\n\n    if (this._tooltipElement) {\n      this._tooltipElement.dispose();\n    }\n\n    this._tooltipElement = null;\n  }\n\n  _getTooltipElement() {\n    return this._tooltipElement || (this._tooltipElement = this.createTooltipElementInternal());\n  }\n\n  createTooltipElementInternal() {}\n\n  attachTooltipElement(col, row, content) {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement.attach(this._grid, col, row, content);\n  }\n\n  moveTooltipElement(col, row) {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement.move(this._grid, col, row);\n  }\n\n  detachTooltipElement() {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement._detach();\n  }\n\n}\n\nmodule.exports = BaseTooltip;\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(3);\n\nconst {\n  createElement\n} = __webpack_require__(10);\n\nconst CLASSNAME = 'cheetah-grid__tooltip-element';\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createTooltipDomElement() {\n  __webpack_require__(149);\n\n  const rootElement = createElement('div', {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = createElement('pre', {\n    classList: [CONTENT_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\n\nclass TooltipElement {\n  constructor() {\n    this._handler = new EventHandler();\n    const rootElement = this._rootElement = createTooltipDomElement();\n    this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n  }\n\n  dispose() {\n    this.detach();\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n    }\n\n    this._handler.dispose();\n\n    this._rootElement = null;\n    this._messageElement = null;\n  }\n\n  attach(grid, col, row, content) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = content;\n    } else {\n      this._detach();\n    }\n  }\n\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  _detach() {\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      // rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellArea(col, row);\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(col, frozenRowCount - 1);\n\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellArea(frozenColCount - 1, row);\n\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${(left + width / 2).toFixed()}px`;\n    rootElement.style['min-width'] = `${width.toFixed()}px`;\n\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n\n    return true;\n  }\n\n}\n\nmodule.exports = TooltipElement;\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(150);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes cheetah-grid__tooltip-element--shown-animation {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t\\ttransform: scale(.8) translateX(-60%);\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\ttransform: scale(1) translateX(-50%);\\n\\t}\\n}\\n\\n.cheetah-grid__tooltip-element {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #232F34;\\n\\tpadding: 8px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__tooltip-element--hidden {\\n\\topacity: 0;\\n\\ttransform: translateX(-50%);\\n\\ttransition: opacity 75ms linear;\\n}\\n.cheetah-grid__tooltip-element--shown {\\n\\topacity: 1;\\n\\ttransform: translateX(-50%);\\n\\tanimation: cheetah-grid__tooltip-element--shown-animation 150ms ease-out;\\n}\\n.cheetah-grid__tooltip-element__content {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\twidth: 100%;\\n\\tdisplay: block;\\n\\twhite-space: pre-wrap;\\n\\tmargin: 0;\\n}\\n.cheetah-grid__tooltip-element {\\n\\tcolor: #FFFFFF;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst themePlugins = __webpack_require__(56);\n\nconst iconPlugins = __webpack_require__(64);\n\nfunction register(obj, name, value) {\n  if (value) {\n    const old = obj[name];\n    obj[name] = value;\n    return old;\n  } else {\n    return obj[name];\n  }\n}\n\nfunction registers(obj, values) {\n  for (const k in values) {\n    obj[k] = values[k];\n  }\n}\n\nmodule.exports = {\n  theme(name, theme) {\n    return register(themePlugins, name, theme);\n  },\n\n  icon(name, icon) {\n    return register(iconPlugins, name, icon);\n  },\n\n  icons(icons) {\n    registers(iconPlugins, icons);\n  }\n\n};\n\n/***/ })\n/******/ ]);\n});\n}).call(typeof global !== \"undefined\" ? global : window, typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 66);\n","'use strict';\n\nconst isNode = typeof window === 'undefined';\n\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n\tget find() {\n\t\tif (arrayFind) {\n\t\t\treturn arrayFind;\n\t\t}\n\t\tif (Array.prototype.find) {\n\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n\t\t} else {\n\t\t\tarrayFind = (arr, predicate) => {\n\t\t\t\tconst index = array.findIndex(arr, predicate);\n\t\t\t\treturn index >= 0 ? arr[index] : undefined;\n\t\t\t};\n\t\t}\n\t\treturn arrayFind;\n\t},\n\tget findIndex() {\n\t\tif (arrayFindIndex) {\n\t\t\treturn arrayFindIndex;\n\t\t}\n\t\tif (Array.prototype.findIndex) {\n\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n\t\t} else {\n\t\t\tarrayFindIndex = (arr, predicate) => {\n\t\t\t\tconst {length} = arr;\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tconst value = arr[i];\n\t\t\t\t\tif (predicate(value, i, arr)) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t};\n\t\t}\n\t\treturn arrayFindIndex;\n\t},\n};\n\nfunction isDef(data) {\n\treturn data !== null && typeof data !== 'undefined';\n}\nfunction analyzeUserAgent() {\n\tif (isNode) {\n\t\treturn {\n\t\t\tIE: false,\n\t\t\tEdge: false,\n\t\t\tChrome: false,\n\t\t\tFirefox: false,\n\t\t\tSafari: false,\n\t\t};\n\t}\telse {\n\t\tconst ua = window.navigator.userAgent.toLowerCase();\n\t\treturn {\n\t\t\tIE: (ua.match(/(msie)/) || ua.match(/trident/)),\n\t\t\tEdge: (ua.indexOf('edge') > -1),\n\t\t\tChrome: (ua.indexOf('chrome') > -1) && (ua.indexOf('edge') === -1),\n\t\t\tFirefox: (ua.indexOf('firefox') > -1),\n\t\t\tSafari: (ua.indexOf('safari') > -1) && (ua.indexOf('edge') === -1),\n\t\t};\n\t}\n}\nconst {IE, Chrome, Firefox, Edge, Safari} = analyzeUserAgent();\n\nfunction setReadonly(obj, name, value) {\n\tObject.defineProperty(obj, name, {\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\tvalue,\n\t});\n}\n\nfunction each(obj, fn) {\n\tfor (const key in obj) {\n\t\tfn(obj[key], key, obj);\n\t}\n}\n\nfunction isObject(obj) {\n\treturn obj === Object(obj);\n}\n\nfunction extend(...args) {\n\tconst result = {};\n\targs.forEach((source) => {\n\t\tfor (const key in source) {\n\t\t\tObject.defineProperty(result, key, {\n\t\t\t\tget() {\n\t\t\t\t\treturn source[key];\n\t\t\t\t},\n\t\t\t\tset(val) {\n\t\t\t\t\tsource[key] = val;\n\t\t\t\t},\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t});\n\t\t}\n\t});\n\treturn result;\n}\nfunction isDescendantElement(root, target) {\n\twhile (target.parentElement) {\n\t\tconst p = target.parentElement;\n\t\tif (root === p) {\n\t\t\treturn true;\n\t\t}\n\t\ttarget = p;\n\t}\n\treturn false;\n}\nfunction applyChainSafe(obj, fn, ...names) {\n\tlet value = obj;\n\tfor (let i = 0; i < names.length && isDef(value); i++) {\n\t\tvalue = fn(value, names[i]);\n\t}\n\treturn value;\n}\nfunction getChainSafe(obj, ...names) {\n\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\n}\nfunction getOrApply(value, ...args) {\n\tif (typeof value === 'function') {\n\t\treturn value(...args);\n\t} else {\n\t\treturn value;\n\t}\n}\nfunction endsWith(str, searchString, position) {\n\tconst subjectString = str.toString();\n\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n\t\tposition = subjectString.length;\n\t}\n\tposition -= searchString.length;\n\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\n\treturn lastIndex !== -1 && lastIndex === position;\n}\nfunction genChars(s) {\n\t// Surrogate Code Point\n\t// [\\uD800-\\uDBFF]\n\t// Variation Selectors\n\t// FVS [\\u180B-\\u180D]\n\t// VS1VS16 [\\uFE00-\\uFE0F]\n\t// VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n\tconst re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n\treturn {\n\t\tnext() {\n\t\t\tconst res = re.exec(s);\n\t\t\treturn res !== null ? res[0] : null;\n\t\t}\n\t};\n}\nfunction genWords(s) {\n\tconst re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n\treturn {\n\t\tnext() {\n\t\t\tconst res = re.exec(s);\n\t\t\treturn res !== null ? res[0] : null;\n\t\t}\n\t};\n}\nconst isPromise = (data) => data && typeof data.then === 'function';\nconst then = (result, callback) => isPromise(result) ? result.then((r) => callback(r)) : callback(result);\nfunction getMouseButtons(e) {\n\tif (isDef(e.buttons)) {\n\t\treturn e.buttons;\n\t}\n\t/*for legacy*/\n\tif (isDef(e.which)) {\n\t\tif (e.which === 3) { //right?\n\t\t\treturn 4;\n\t\t}\n\t\tif (e.which === 2) { //middle?\n\t\t\treturn 4;\n\t\t}\n\t\treturn e.which;//left or no\n\t}\n\n\tif (e.button === 0 || e.button === 1) {\n\t\treturn 1;//candidate left\n\t}\n\tif (e.button === 2) {\n\t\treturn 2;// right\n\t}\n\treturn 0;//no or middle?\n}\nfunction getKeyCode(e) {\n\treturn e.keyCode || e.which;\n}\nfunction isTouchEvent(e) {\n\treturn !!e.changedTouches;\n}\nfunction getIgnoreCase(obj, name) {\n\tif (obj[name]) {\n\t\treturn obj[name];\n\t}\n\tconst l = name.toLowerCase();\n\tif (obj[l]) {\n\t\treturn obj[l];\n\t}\n\tconst u = name.toLowerCase();\n\tif (obj[u]) {\n\t\treturn obj[u];\n\t}\n\tfor (const k in obj) {\n\t\tif (k.toLowerCase() === l) {\n\t\t\treturn obj[k];\n\t\t}\n\t}\n\treturn undefined;\n}\nfunction cancel(e) {\n\te.preventDefault();\n\te.stopPropagation();\n}\n\n\nfunction toBoxArray(obj) {\n\tif (!Array.isArray(obj)) {\n\t\treturn [obj/*top*/, obj/*right*/, obj/*bottom*/, obj/*left*/];\n\t}\n\tif (obj.length === 3) {\n\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[2]/*bottom*/, obj[1]/*left*/];\n\t}\n\tif (obj.length === 2) {\n\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[0]/*bottom*/, obj[1]/*left*/];\n\t}\n\tif (obj.length === 1) {\n\t\treturn [obj[0]/*top*/, obj[0]/*right*/, obj[0]/*bottom*/, obj[0]/*left*/];\n\t}\n\treturn obj;\n}\n\nmodule.exports = {\n\tisNode,\n\tisDef,\n\tbrowser: {\n\t\tIE,\n\t\tEdge,\n\t\tChrome,\n\t\tFirefox,\n\t\tSafari,\n\t\t// Chrome 33554431\n\t\t// FireFox 17895588\n\t\t// IE 10737433\n\t\theightLimit: Chrome ? 33554431\n\t\t: Firefox ? 17895588\n\t\t: 10737433 // default IE limit\n\t},\n\textend,\n\tisDescendantElement,\n\tgetChainSafe,\n\tapplyChainSafe,\n\tgetOrApply,\n\tgetIgnoreCase,\n\tisPromise,\n\tthen,\n\tarray,\n\tobj: {\n\t\tsetReadonly,\n\t\teach,\n\t\tisObject,\n\t},\n\tstr: {\n\t\tendsWith,\n\t\tgenChars,\n\t\tgenWords\n\t},\n\tevent: {\n\t\tgetMouseButtons,\n\t\tgetKeyCode,\n\t\tisTouchEvent,\n\t\tcancel,\n\t},\n\tstyle: {\n\t\ttoBoxArray,\n\t},\n\temptyFn() {},\n};\n","'use strict';\n\nconst {isNode} = require('./utils');\n\nconst Symbol = isNode ? global.Symbol : window.Symbol ? window.Symbol : (() => {\n\tfunction random() {\n\t\tconst c = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\t\tconst cl = c.length;\n\t\tlet r = '';\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tr += c[Math.floor(Math.random() * cl)];\n\t\t}\n\t\treturn r;\n\t}\n\treturn (name) => {\n\t\tif (name) {\n\t\t\treturn `#${name}_${random()}`;\n\t\t} else {\n\t\t\treturn `#_${random()}`;\n\t\t}\n\t};\n})();\nconst mem = {};\n\nmodule.exports = {\n\tget(name) {\n\t\tif (name) {\n\t\t\treturn mem[name] ? mem[name] : (mem[name] = Symbol(name));\n\t\t} else {\n\t\t\treturn Symbol();\n\t\t}\n\t},\n\tget PROTECTED_SYMBOL() {\n\t\treturn this.get('protected');\n\t},\n\tget CHECK_COLUMN_STATE_ID() {\n\t\treturn this.get('chkcol.stateID');\n\t},\n\tget BUTTON_COLUMN_STATE_ID() {\n\t\treturn this.get('btncol.stateID');\n\t},\n\tget COLUMN_FADEIN_STATE_ID() {\n\t\treturn this.get('col.fadein_stateID');\n\t},\n\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\n\t\treturn this.get('branch_graph_col.stateID');\n\t},\n\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n\t\treturn this.get('small_dialog_input_editor.stateID');\n\t},\n\tget INLINE_INPUT_EDITOR_STATE_ID() {\n\t\treturn this.get('inline_input_editor.stateID');\n\t},\n\tget INLINE_MENU_EDITOR_STATE_ID() {\n\t\treturn this.get('inline_menu_editor.stateID');\n\t},\n\tget CHECK_HEADER_STATE_ID() {\n\t\treturn this.get('check_header.stateID');\n\t},\n};\n\n","'use strict';\n\nmodule.exports = {\n\t'Array_isArray': (typeof window === 'undefined' ? Array.isArray : window.Array.isArray)\n};","'use strict';\n\nconst {obj: {each}} = require('./utils');\nlet nextId = 1;\n\nclass EventHandler {\n\tconstructor() {\n\t\tthis._listeners = {};\n\t}\n\ton(target, type, listener, ...options) {\n\t\tif (target.addEventListener) {\n\t\t\ttarget.addEventListener(type, listener, ...options);\n\t\t}\n\t\tconst obj = {\n\t\t\ttarget, type, listener, options\n\t\t};\n\t\tconst id = nextId++;\n\t\tthis._listeners[id] = obj;\n\t\treturn id;\n\t}\n\tonce(target, type, listener, ...options) {\n\t\tconst id = this.on(target, type, (...args) => {\n\t\t\tlistener(...args);\n\t\t\tthis.off(id);\n\t\t}, ...options);\n\t\treturn id;\n\t}\n\ttryWithOffEvents(target, type, call) {\n\t\tconst list = [];\n\t\ttry {\n\t\t\teach(this._listeners, (obj) => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(obj);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcall();\n\t\t} finally {\n\t\t\tlist.forEach((obj) => {\n\t\t\t\tif (obj.target.addEventListener) {\n\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\toff(id) {\n\t\tif (!id) {\n\t\t\treturn;\n\t\t}\n\t\tconst obj = this._listeners[id];\n\t\tif (!obj) {\n\t\t\treturn;\n\t\t}\n\t\tdelete this._listeners[id];\n\t\tif (obj.target.removeEventListener) {\n\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t}\n\t}\n\tfire(target, type, ...args) {\n\t\teach(this._listeners, (obj) => {\n\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\tobj.listener.call(obj.target, ...args);\n\t\t\t}\n\t\t});\n\t}\n\thasListener(target, type) {\n\t\tlet result = false;\n\t\teach(this._listeners, (obj) => {\n\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tclear() {\n\t\teach(this._listeners, (obj) => {\n\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t}\n\t\t});\n\t\tthis._listeners = {};\n\t}\n\tdispose() {\n\t\tthis.clear();\n\t\tthis._listeners = null;\n\t}\n}\n\nmodule.exports = EventHandler;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\nlet defaultStyle;\nclass Style extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._color = style.color;\n\t\tthis._font = style.font;\n\t\tthis._padding = style.padding;\n\t\tthis._textOverflow = style.textOverflow || 'clip';\n\t}\n\tget color() {\n\t\treturn this._color;\n\t}\n\tset color(color) {\n\t\tthis._color = color;\n\t\tthis.doChangeStyle();\n\t}\n\tget font() {\n\t\treturn this._font;\n\t}\n\tset font(font) {\n\t\tthis._font = font;\n\t\tthis.doChangeStyle();\n\t}\n\tget padding() {\n\t\treturn this._padding;\n\t}\n\tset padding(padding) {\n\t\tthis._padding = padding;\n\t\tthis.doChangeStyle();\n\t}\n\tget textOverflow() {\n\t\treturn this._textOverflow;\n\t}\n\tset textOverflow(textOverflow) {\n\t\tthis._textOverflow = textOverflow;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new Style(this);\n\t}\n}\nmodule.exports = Style;\n","'use strict';\n\nconst {\n\tisDef,\n\tbrowser,\n\tisDescendantElement,\n\tarray,\n\tisPromise,\n\tevent: {\n\t\tisTouchEvent,\n\t\tgetMouseButtons,\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t}\n} = require('../internal/utils');\n\nconst EventTarget = require('./EventTarget');\nconst Rect = require('../internal/Rect');\nconst Scrollable = require('../internal/Scrollable');\nconst EventHandler = require('../internal/EventHandler');\nconst NumberMap = require('../internal/NumberMap');\nconst style = require('../internal/style');\nconst calc = require('../internal/calc');\nconst {getFontSize} = require('../internal/canvases');\nconst hiDPI = require('../internal/hiDPI');\n//protected symbol\nconst {PROTECTED_SYMBOL: _} = require('../internal/symbolManager');\n\nfunction createRootElement() {\n\tconst element = document.createElement('div');\n\telement.classList.add('cheetah-grid');\n\treturn element;\n}\n\nconst KEY_END = 35;\nconst KEY_HOME = 36;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_ALPHA_C = 67;\nconst KEY_ALPHA_V = 86;\n\nconst EV_CLICK_CELL = 'click_cell';\nconst EV_DBLCLICK_CELL = 'dblclick_cell';\nconst EV_DBLTAP_CELL = 'dbltap_cell';\nconst EV_MOUSEDOWN_CELL = 'mousedown_cell';\nconst EV_MOUSEUP_CELL = 'mouseup_cell';\nconst EV_SELECTED_CELL = 'selected_cell';\nconst EV_KEYDOWN = 'keydown';\nconst EV_MOUSEMOVE_CELL = 'mousemove_cell';\nconst EV_MOUSEENTER_CELL = 'mouseenter_cell';\nconst EV_MOUSELEAVE_CELL = 'mouseleave_cell';\nconst EV_MOUSEOVER_CELL = 'mouseover_cell';\nconst EV_MOUSEOUT_CELL = 'mouseout_cell';\nconst EV_INPUT_CELL = 'input_cell';\nconst EV_PASTE_CELL = 'paste_cell';\nconst EV_EDITABLEINPUT_CELL = 'editableinput_cell';\nconst EV_MODIFY_STATUS_EDITABLEINPUT_CELL = 'modify_status_editableinput_cell';\nconst EV_RESIZE_COLUMN = 'resize_column';\nconst EV_SCROLL = 'scroll';\nconst EVENT_TYPE = {\n\tCLICK_CELL: EV_CLICK_CELL,\n\tDBLCLICK_CELL: EV_DBLCLICK_CELL,\n\tDBLTAP_CELL: EV_DBLTAP_CELL,\n\tMOUSEDOWN_CELL: EV_MOUSEDOWN_CELL,\n\tMOUSEUP_CELL: EV_MOUSEUP_CELL,\n\tSELECTED_CELL: EV_SELECTED_CELL,\n\tKEYDOWN: EV_KEYDOWN,\n\tMOUSEMOVE_CELL: EV_MOUSEMOVE_CELL,\n\tMOUSEENTER_CELL: EV_MOUSEENTER_CELL,\n\tMOUSELEAVE_CELL: EV_MOUSELEAVE_CELL,\n\tMOUSEOVER_CELL: EV_MOUSEOVER_CELL,\n\tMOUSEOUT_CELL: EV_MOUSEOUT_CELL,\n\tINPUT_CELL: EV_INPUT_CELL,\n\tPASTE_CELL: EV_PASTE_CELL,\n\tEDITABLEINPUT_CELL: EV_EDITABLEINPUT_CELL,\n\tMODIFY_STATUS_EDITABLEINPUT_CELL: EV_MODIFY_STATUS_EDITABLEINPUT_CELL,\n\tRESIZE_COLUMN: EV_RESIZE_COLUMN,\n\tSCROLL: EV_SCROLL,\n};\n\n//private methods\nfunction _vibrate(e) {\n\tif (navigator.vibrate && isTouchEvent(e)) {\n\t\tnavigator.vibrate(50);\n\t}\n}\nfunction _getTargetRowAt(grid, absoluteY) {\n\tconst internal = grid.getTargetRowAtInternal(absoluteY);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tconst findBefore = (startRow, startBottom) => {\n\t\tlet bottom = startBottom;\n\t\tfor (let row = startRow; row >= 0; row--) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst top = bottom - height;\n\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow,\n\t\t\t\t};\n\t\t\t}\n\t\t\tbottom = top;\n\t\t}\n\t\treturn null;\n\t};\n\tconst findAfter = (startRow, startBottom) => {\n\t\tlet top = startBottom - _getRowHeight(grid, startRow);\n\t\tconst {rowCount} = grid[_];\n\t\tfor (let row = startRow; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst bottom = top + height;\n\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow,\n\t\t\t\t};\n\t\t\t}\n\t\t\ttop = bottom;\n\t\t}\n\t\treturn null;\n\t};\n\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\tconst bottom = _getRowsHeight(grid, 0, candRow);\n\tif (absoluteY >= bottom) {\n\t\treturn findAfter(candRow, bottom);\n\t} else {\n\t\treturn findBefore(candRow, bottom);\n\t}\n}\nfunction _getTargetColAt(grid, absoluteX) {\n\tlet left = 0;\n\tconst {colCount} = grid[_];\n\tfor (let col = 0; col < colCount; col++) {\n\t\tconst width = _getColWidth(grid, col);\n\t\tconst right = left + width;\n\t\tif (right > absoluteX) {\n\t\t\treturn {\n\t\t\t\tleft,\n\t\t\t\tcol,\n\t\t\t};\n\t\t}\n\t\tleft = right;\n\t}\n\treturn null;\n}\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n\tif (!grid[_].frozenRowCount) {\n\t\treturn null;\n\t}\n\tlet {top} = grid[_].scroll;\n\tconst rowCount = grid[_].frozenRowCount;\n\tfor (let row = 0; row < rowCount; row++) {\n\t\tconst height = _getRowHeight(grid, row);\n\t\tconst bottom = top + height;\n\t\tif (bottom > absoluteY) {\n\t\t\treturn {\n\t\t\t\ttop,\n\t\t\t\trow,\n\t\t\t};\n\t\t}\n\t\ttop = bottom;\n\t}\n\treturn null;\n}\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n\tif (!grid[_].frozenColCount) {\n\t\treturn null;\n\t}\n\tlet {left} = grid[_].scroll;\n\tconst colCount = grid[_].frozenColCount;\n\tfor (let col = 0; col < colCount; col++) {\n\t\tconst width = _getColWidth(grid, col);\n\t\tconst right = left + width;\n\t\tif (right > absoluteX) {\n\t\t\treturn {\n\t\t\t\tleft,\n\t\t\t\tcol,\n\t\t\t};\n\t\t}\n\t\tleft = right;\n\t}\n\treturn null;\n}\nfunction _getFrozenRowsRect(grid) {\n\tif (!grid[_].frozenRowCount) {\n\t\treturn null;\n\t}\n\tconst {top} = grid[_].scroll;\n\tlet height = 0;\n\tconst rowCount = grid[_].frozenRowCount;\n\tfor (let row = 0; row < rowCount; row++) {\n\t\theight += _getRowHeight(grid, row);\n\t}\n\treturn new Rect(\n\t\t\tgrid[_].scroll.left,\n\t\t\ttop,\n\t\t\tgrid[_].canvas.width,\n\t\t\theight\n\t);\n}\nfunction _getFrozenColsRect(grid) {\n\tif (!grid[_].frozenColCount) {\n\t\treturn null;\n\t}\n\tconst {left} = grid[_].scroll;\n\tlet width = 0;\n\tconst colCount = grid[_].frozenColCount;\n\tfor (let col = 0; col < colCount; col++) {\n\t\twidth += _getColWidth(grid, col);\n\t}\n\treturn new Rect(\n\t\t\tleft,\n\t\t\tgrid[_].scroll.top,\n\t\t\twidth,\n\t\t\tgrid[_].canvas.height\n\t);\n}\nfunction _getCellDrawing(grid, col, row) {\n\tif (!grid[_].drawCells[row]) {\n\t\treturn null;\n\t}\n\treturn grid[_].drawCells[row][col];\n}\nfunction _putCellDrawing(grid, col, row, context) {\n\tif (!grid[_].drawCells[row]) {\n\t\tgrid[_].drawCells[row] = {};\n\t}\n\tgrid[_].drawCells[row][col] = context;\n}\nfunction _removeCellDrawing(grid, col, row) {\n\tif (!grid[_].drawCells[row]) {\n\t\treturn;\n\t}\n\tdelete grid[_].drawCells[row][col];\n\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\n\t\tdelete grid[_].drawCells[row];\n\t}\n}\nfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\tskipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n\tconst rect = new Rect(\n\t\t\tabsoluteLeft - visibleRect.left,\n\t\t\tabsoluteTop - visibleRect.top,\n\t\t\twidth,\n\t\t\theight\n\t);\n\n\tconst drawRect = Rect.bounds(\n\t\t\tMath.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left,\n\t\t\tMath.max(absoluteTop, skipAbsoluteTop) - visibleRect.top,\n\t\t\trect.right,\n\t\t\trect.bottom\n\t);\n\n\tif (drawRect.height > 0 && drawRect.width > 0) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst cellDrawing = _getCellDrawing(grid, col, row);\n\t\t\tif (cellDrawing) {\n\t\t\t\tcellDrawing.cancel();\n\t\t\t}\n\t\t\tconst dcContext = new DrawCellContext(\n\t\t\t\t\tcol, row,\n\t\t\t\t\tctx, rect, drawRect,\n\t\t\t\t\t!!cellDrawing,\n\t\t\t\t\tgrid[_].selection,\n\t\t\t\t\tdrawLayers\n\t\t\t);\n\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\n\t\t\tif (isPromise(p)) {\n\t\t\t\t//\n\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\n\n\t\t\t\tconst pCol = col;\n\t\t\t\tdcContext._delayMode(grid, () => {\n\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\n\t\t\t\t});\n\t\t\t\tp.then(() => {\n\t\t\t\t\tdcContext.terminate();\n\t\t\t\t});\n\t\t\t}\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n}\n\nfunction _drawRow(grid, ctx, initFrozenCol, initCol,\n\t\tdrawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n\tconst {colCount} = grid[_];\n\tconst drawOuter = (col, absoluteLeft) => {\n\t\t//\n\t\tif (col >= (colCount - 1) && grid[_].canvas.width > (absoluteLeft - visibleRect.left)) {\n\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n\t\t\tctx.fill();\n\t\t\tctx.restore();\n\t\t}\n\t};\n\n\tlet skipAbsoluteLeft = 0;\n\tif (initFrozenCol) {\n\t\tlet absoluteLeft = initFrozenCol.left;\n\t\tconst count = grid[_].frozenColCount;\n\t\tfor (let {col} = initFrozenCol; col < count; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\t\t\tskipAbsoluteTop, 0,\n\t\t\t\t\tdrawLayers);\n\n\t\t\tabsoluteLeft += width;\n\t\t\tif (drawRight <= absoluteLeft) { //\n\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tskipAbsoluteLeft = absoluteLeft;\n\t}\n\n\tlet absoluteLeft = initCol.left;\n\tfor (let {col} = initCol; col < colCount; col++) {\n\t\tconst width = _getColWidth(grid, col);\n\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\t\tskipAbsoluteTop, skipAbsoluteLeft,\n\t\t\t\tdrawLayers);\n\n\t\tabsoluteLeft += width;\n\t\tif (drawRight <= absoluteLeft) { //\n\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\treturn;\n\t\t}\n\t}\n\tdrawOuter(colCount - 1, absoluteLeft);\n\n}\nfunction _invalidateRect(grid, drawRect) {\n\tconst visibleRect = _getVisibleRect(grid);\n\tconst {rowCount} = grid[_];\n\tconst ctx = grid._getInitContext();\n\n\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\n\t\trow: rowCount\n\t};\n\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\n\t\tcol: grid[_].colCount\n\t};\n\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\n\n\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n\tconst drawLayers = new DrawLayers();\n\n\tconst drawOuter = (row, absoluteTop) => {\n\t\t//\n\t\tif (row >= (rowCount - 1) && grid[_].canvas.height > (absoluteTop - visibleRect.top)) {\n\t\t\tconst outerTop = absoluteTop - visibleRect.top;\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n\t\t\tctx.fill();\n\t\t\tctx.restore();\n\t\t}\n\t};\n\n\tlet skipAbsoluteTop = 0;\n\tif (initFrozenRow) {\n\t\tlet absoluteTop = initFrozenRow.top;\n\t\tconst count = grid[_].frozenRowCount;\n\t\tfor (let {row} = initFrozenRow; row < count; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t_drawRow(grid,\n\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\n\t\t\t\t\trow, absoluteTop, height, visibleRect, 0,\n\t\t\t\t\tdrawLayers\n\t\t\t);\n\t\t\tabsoluteTop += height;\n\t\t\tif (drawBottom <= absoluteTop) { //\n\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tskipAbsoluteTop = absoluteTop;\n\t}\n\n\tlet absoluteTop = initRow.top;\n\tfor (let {row} = initRow; row < rowCount; row++) {\n\t\tconst height = _getRowHeight(grid, row);\n\n\t\t//\n\t\t_drawRow(grid,\n\t\t\t\tctx, initFrozenCol, initCol, drawRight,\n\t\t\t\trow, absoluteTop, height, visibleRect, skipAbsoluteTop,\n\t\t\t\tdrawLayers\n\t\t);\n\n\t\tabsoluteTop += height;\n\t\tif (drawBottom <= absoluteTop) { //\n\t\t\tdrawOuter(row, absoluteTop);\n\t\t\tdrawLayers.draw(ctx);\n\t\t\treturn;\n\t\t}\n\t}\n\tdrawOuter(rowCount - 1, absoluteTop);\n\n\tdrawLayers.draw(ctx);\n}\n\nfunction _toPxWidth(grid, width) {\n\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n\nfunction _getDefaultColPxWidth(grid) {\n\treturn _toPxWidth(grid, grid.defaultColWidth);\n}\n\nfunction _adjustColWidth(grid, col, orgWidth) {\n\tconst limit = grid[_].colWidthsLimit[col];\n\tif (!limit) {\n\t\treturn orgWidth;\n\t}\n\n\tif (limit.min) {\n\t\tconst min = _toPxWidth(grid, limit.min);\n\t\tif (min > orgWidth) {\n\t\t\treturn min;\n\t\t}\n\t}\n\tif (limit.max) {\n\t\tconst max = _toPxWidth(grid, limit.max);\n\t\tif (max < orgWidth) {\n\t\t\treturn max;\n\t\t}\n\t}\n\treturn orgWidth;\n}\n\nfunction _getColWidth(grid, col) {\n\tconst width = grid[_].colWidthsMap.get(col);\n\tif (width) {\n\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\n\t}\n\treturn _getDefaultColPxWidth(grid);\n}\nfunction _setColWidth(grid, col, width) {\n\tgrid[_].colWidthsMap.put(col, width);\n}\nfunction _getColsWidth(grid, startCol, endCol) {\n\tconst colCount = endCol - startCol + 1;\n\tlet w = _getDefaultColPxWidth(grid) * colCount;\n\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t});\n\treturn w;\n}\n\nfunction _getRowHeight(grid, row) {\n\tconst internal = grid.getRowHeightInternal(row);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tconst height = grid[_].rowHeightsMap.get(row);\n\tif (height) {\n\t\treturn height;\n\t}\n\treturn grid[_].defaultRowHeight;\n}\nfunction _setRowHeight(grid, row, height) {\n\tgrid[_].rowHeightsMap.put(row, height);\n}\nfunction _getRowsHeight(grid, startRow, endRow) {\n\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tconst rowCount = endRow - startRow + 1;\n\tlet h = grid[_].defaultRowHeight * rowCount;\n\tgrid[_].rowHeightsMap.each(startRow, endRow, (height) => {\n\t\th += height - grid[_].defaultRowHeight;\n\t});\n\treturn h;\n}\n\nfunction _getScrollWidth(grid) {\n\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\tgrid[_].colWidthsMap.eachAll((width, col) => {\n\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t});\n\treturn w;\n}\nfunction _getScrollHeight(grid, row) {\n\tconst internal = grid.getScrollHeightInternal(row);\n\tif (isDef(internal)) {\n\t\treturn internal;\n\t}\n\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\n\tgrid[_].rowHeightsMap.eachAll((height) => {\n\t\th += height - grid[_].defaultRowHeight;\n\t});\n\treturn h;\n}\nfunction _onScroll(grid, e) {\n\tconst lastLeft = grid[_].scroll.left;\n\tconst lastTop = grid[_].scroll.top;\n\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\n\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\n\n\t//\n\tgrid[_].scroll = {\n\t\tleft: grid[_].scrollable.scrollLeft,\n\t\ttop: grid[_].scrollable.scrollTop,\n\t};\n\tconst visibleRect = _getVisibleRect(grid);\n\tif ((Math.abs(moveX) >= visibleRect.width) || (Math.abs(moveY) >= visibleRect.height)) {\n\t\t//\n\t\t_invalidateRect(grid, visibleRect);\n\t} else {\n\t\t//\n\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n\n\t\tif (moveX !== 0) {\n\t\t\t//\n\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\tif (moveX < 0) {\n\t\t\t\tredrawRect.width = -moveX;\n\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\t\t\tredrawRect.width += frozenRect.width;\n\t\t\t\t}\n\t\t\t} else if (moveX > 0) {\n\t\t\t\tredrawRect.left = redrawRect.right - moveX;\n\t\t\t}\n\n\t\t\t//\n\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\tif (moveX > 0) {\n\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (moveY !== 0) {\n\t\t\t//\n\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\tif (moveY < 0) {\n\t\t\t\tredrawRect.height = -moveY;\n\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\t\t\tredrawRect.height += frozenRect.height;\n\t\t\t\t}\n\t\t\t} else if (moveY > 0) {\n\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\n\t\t\t}\n\n\t\t\t//\n\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\tif (moveY > 0) {\n\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t//\n\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _onKeyDownMove(grid, e) {\n\tconst {shiftKey} = e;\n\tconst keyCode = getKeyCode(e);\n\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\tif (keyCode === KEY_LEFT) {\n\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\t\tif (col < 0) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_UP) {\n\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\t\tif (row < 0) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_RIGHT) {\n\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\t\tif (grid.colCount <= col) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_DOWN) {\n\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\t\tif (grid.rowCount <= row) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_HOME) {\n\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\n\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\n\t\tcancelEvent(e);\n\t} else if (keyCode === KEY_END) {\n\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\t\tcancelEvent(e);\n\t}\n}\nfunction _moveFocusCell(grid, col, row, shiftKey) {\n\tconst offset = grid.getOffsetInvalidateCells();\n\n\tfunction extendRange(range) {\n\t\tif (offset > 0) {\n\t\t\trange.start.col -= offset;\n\t\t\trange.start.row -= offset;\n\t\t\trange.end.col += offset;\n\t\t\trange.end.row += offset;\n\t\t}\n\t\treturn range;\n\t}\n\n\tconst beforeRange = extendRange(grid.selection.range);\n\tconst beforeRect = grid.getCellsRect(\n\t\t\tbeforeRange.start.col, beforeRange.start.row,\n\t\t\tbeforeRange.end.col, beforeRange.end.row\n\t);\n\n\tgrid.selection._setFocusCell(col, row, shiftKey);\n\tgrid.makeVisibleCell(col, row);\n\tgrid.focusCell(col, row);\n\n\tconst afterRange = extendRange(grid.selection.range);\n\tconst afterRect = grid.getCellsRect(\n\t\t\tafterRange.start.col, afterRange.start.row,\n\t\t\tafterRange.end.col, afterRange.end.row\n\t);\n\n\tif (afterRect.intersection(beforeRect)) {\n\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\n\t\t_invalidateRect(grid, invalidateRect);\n\t} else {\n\t\t_invalidateRect(grid, beforeRect);\n\t\t_invalidateRect(grid, afterRect);\n\t}\n}\nfunction _getMouseAbstractPoint(grid, e) {\n\tif (isTouchEvent(e)) {\n\t\te = e.changedTouches[0];\n\t}\n\tconst clientX = e.clientX || (e.pageX + window.scrollX);\n\tconst clientY = e.clientY || (e.pageY + window.scrollY);\n\tconst rect = grid[_].canvas.getBoundingClientRect();\n\tif (rect.right <= clientX) {\n\t\treturn null;\n\t}\n\tif (rect.bottom <= clientY) {\n\t\treturn null;\n\t}\n\tconst x = clientX - rect.left + grid[_].scroll.left;\n\tconst y = clientY - rect.top + grid[_].scroll.top;\n\treturn {x, y};\n}\n\nfunction _bindEvents(grid) {\n\tconst {handler, element, scrollable} = grid[_];\n\tconst getCellEventArgsSet = (e) => {\n\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\tif (!abstractPos) {\n\t\t\treturn {};\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\treturn {\n\t\t\t\tabstractPos,\n\t\t\t\tcell\n\t\t\t};\n\t\t}\n\t\tconst eventArgs = {\n\t\t\tcol: cell.col,\n\t\t\trow: cell.row,\n\t\t\tevent: e,\n\t\t};\n\t\treturn {\n\t\t\tabstractPos,\n\t\t\tcell,\n\t\t\teventArgs\n\t\t};\n\t};\n\tconst canResizeColumn = (col) => {\n\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\tif (!limit || !limit.min || !limit.max) {\n\t\t\treturn true;\n\t\t}\n\t\treturn limit.max !== limit.min;\n\t};\n\thandler.on(element, 'mousedown', (e) => {\n\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\tconst {abstractPos, eventArgs} = eventArgsSet;\n\t\tif (!abstractPos) {\n\t\t\treturn;\n\t\t}\n\t\tif (eventArgs) {\n\t\t\tconst results = grid.fireListeners(EV_MOUSEDOWN_CELL, eventArgs);\n\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (getMouseButtons(e) !== 1) {\n\t\t\treturn;\n\t\t}\n\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t//\n\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t} else {\n\t\t\t//\n\t\t\tgrid[_].cellSelector.start(e);\n\t\t}\n\t});\n\thandler.on(element, 'mouseup', (e) => {\n\t\tif (!grid.hasListeners(EV_MOUSEUP_CELL)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\tif (eventArgs) {\n\t\t\tgrid.fireListeners(EV_MOUSEUP_CELL, eventArgs);\n\t\t}\n\t});\n\tlet doubleTapBefore = null;\n\tlet longTouchId = null;\n\thandler.on(element, 'touchstart', (e) => {\n\n\t\tif (!doubleTapBefore) {\n\t\t\tdoubleTapBefore = getCellEventArgsSet(e).eventArgs;\n\t\t\tsetTimeout(() => {\n\t\t\t\tdoubleTapBefore = null;\n\t\t\t}, 350);\n\t\t} else {\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\t\tif (eventArgs &&\n\t\t\t\t\teventArgs.col === doubleTapBefore.col &&\n\t\t\t\t\teventArgs.row === doubleTapBefore.row) {\n\t\t\t\tgrid.fireListeners(EV_DBLTAP_CELL, eventArgs);\n\t\t\t}\n\n\t\t\tdoubleTapBefore = null;\n\n\t\t\tif (e.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tlongTouchId = setTimeout(() => {\n\t\t\t//\n\t\t\tlongTouchId = null;\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t//\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t}\n\t\t}, 500);\n\t});\n\n\tfunction cancel(e) {\n\t\tif (longTouchId) {\n\t\t\tclearTimeout(longTouchId);\n\t\t\tlongTouchId = null;\n\t\t}\n\t}\n\thandler.on(element, 'touchcancel', cancel);\n\thandler.on(element, 'touchmove', cancel);\n\thandler.on(element, 'touchend', (e) => {\n\t\tif (longTouchId) {\n\t\t\tclearTimeout(longTouchId);\n\t\t\tgrid[_].cellSelector.select(e);\n\t\t\tlongTouchId = null;\n\t\t}\n\t});\n\n\tlet isMouseover = false;\n\tlet mouseEnterCell = null;\n\tlet mouseOverCell = null;\n\tfunction onMouseenterCell(cell) {\n\t\tgrid.fireListeners(EV_MOUSEENTER_CELL, cell);\n\t\tmouseEnterCell = cell;\n\t}\n\tfunction onMouseleaveCell() {\n\t\tconst beforeMouseCell = mouseEnterCell;\n\t\tmouseEnterCell = null;\n\t\tif (beforeMouseCell) {\n\t\t\tgrid.fireListeners(EV_MOUSELEAVE_CELL, {\n\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\trow: beforeMouseCell.row,\n\t\t\t});\n\t\t}\n\t}\n\tfunction onMouseoverCell(cell) {\n\t\tgrid.fireListeners(EV_MOUSEOVER_CELL, cell);\n\t\tmouseOverCell = cell;\n\t}\n\tfunction onMouseoutCell() {\n\t\tconst beforeMouseCell = mouseOverCell;\n\t\tmouseOverCell = null;\n\t\tif (beforeMouseCell) {\n\t\t\tgrid.fireListeners(EV_MOUSEOUT_CELL, {\n\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\trow: beforeMouseCell.row,\n\t\t\t});\n\t\t}\n\t}\n\tconst scrollElement = scrollable.getElement();\n\thandler.on(scrollElement, 'mouseover', (e) => {\n\t\tisMouseover = true;\n\t});\n\thandler.on(scrollElement, 'mouseout', (e) => {\n\t\tisMouseover = false;\n\t\tonMouseoutCell();\n\t});\n\n\thandler.on(element, 'mouseleave', (e) => {\n\t\tonMouseleaveCell();\n\t});\n\n\thandler.on(element, 'mousemove', (e) => {\n\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\tconst {abstractPos, eventArgs} = eventArgsSet;\n\t\tif (eventArgs) {\n\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EV_MOUSEMOVE_CELL, eventArgs);\n\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n\t\t\t\t\tonMouseoutCell();\n\t\t\t\t\tonMouseleaveCell();\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t};\n\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t}\n\t\t\t\t} else if (isMouseover && !mouseOverCell) {\n\t\t\t\t\tonMouseoverCell({\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst cell = {\n\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t};\n\t\t\t\tonMouseenterCell(cell);\n\t\t\t\tif (isMouseover) {\n\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t}\n\t\t\t\tgrid.fireListeners(EV_MOUSEMOVE_CELL, eventArgs);\n\t\t\t}\n\t\t} else {\n\t\t\tonMouseoutCell();\n\t\t\tonMouseleaveCell();\n\t\t}\n\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {style} = element;\n\t\tif (!abstractPos) {\n\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\tstyle.cursor = '';\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\tstyle.cursor = 'col-resize';\n\t\t} else {\n\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\tstyle.cursor = '';\n\t\t\t}\n\t\t}\n\t});\n\thandler.on(element, 'click', (e) => {\n\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n\t\t\treturn;\n\t\t}\n\t\tif (!grid.hasListeners(EV_CLICK_CELL)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\tif (!eventArgs) {\n\t\t\treturn;\n\t\t}\n\t\tgrid.fireListeners(EV_CLICK_CELL, eventArgs);\n\t});\n\thandler.on(element, 'dblclick', (e) => {\n\t\tif (!grid.hasListeners(EV_DBLCLICK_CELL)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\tif (!eventArgs) {\n\t\t\treturn;\n\t\t}\n\t\tgrid.fireListeners(EV_DBLCLICK_CELL, eventArgs);\n\t});\n\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\n\t\tgrid.fireListeners(EV_KEYDOWN, keyCode, e);\n\t});\n\tgrid[_].selection.listen(EV_SELECTED_CELL, (data) => {\n\t\tgrid.fireListeners(EV_SELECTED_CELL, data, data.selected);\n\t});\n\n\tscrollable.onScroll((e) => {\n\t\t_onScroll(grid, e);\n\t\tgrid.fireListeners(EV_SCROLL, {event: e});\n\t});\n\tgrid[_].focusControl.onKeyDownMove((e) => {\n\t\t_onKeyDownMove(grid, e);\n\t});\n\tgrid.listen('copydata', (range) => {\n\t\tlet copyValue = '';\n\t\tfor (let {row} = range.start; row <= range.end.row; row++) {\n\t\t\tfor (let {col} = range.start; col <= range.end.col; col++) {\n\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\n\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\n\t\t\t\t\t//\n\t\t\t\t} else {\n\t\t\t\t\tconst strCellValue = `${copyCellValue}`;\n\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\n\t\t\t\t\t\t//object \n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopyValue += strCellValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (col < range.end.col) {\n\t\t\t\t\tcopyValue += '\\t';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcopyValue += '\\n';\n\t\t}\n\t\treturn copyValue;\n\t});\n\tgrid[_].focusControl.onCopy((e) => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\tgrid[_].focusControl.onPaste(({value, event}) => {\n\t\tconst normalizeValue = value.replace(/\\r?\\n$/, '');\n\t\tconst {col, row} = grid[_].selection.select;\n\t\tgrid.fireListeners(EV_PASTE_CELL, {\n\t\t\tcol,\n\t\t\trow,\n\t\t\tvalue,\n\t\t\tnormalizeValue,\n\t\t\tmulti: /[\\r\\n\\u2028\\u2029\\t]/.test(normalizeValue), // is multi cell values\n\t\t\tevent,\n\t\t});\n\t});\n\tgrid[_].focusControl.onInput((value) => {\n\t\tconst {col, row} = grid[_].selection.select;\n\t\tgrid.fireListeners(EV_INPUT_CELL, {col, row, value});\n\t});\n\tgrid.bindEventsInternal();\n}\n\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n\tif (grid[_].frozenRowCount <= 0) {\n\t\treturn -1;\n\t}\n\tconst frozenRect = _getFrozenRowsRect(grid);\n\tif (!frozenRect.inPoint(abstractX, abstractY)) {\n\t\treturn -1;\n\t}\n\tconst cell = grid.getCellAt(abstractX, abstractY);\n\tconst cellRect = grid.getCellRect(cell.col, cell.row);\n\tif (abstractX < cellRect.left + offset) {\n\t\treturn cell.col - 1;\n\t}\n\tif (cellRect.right - offset < abstractX) {\n\t\treturn cell.col;\n\t}\n\treturn -1;\n}\nfunction _getVisibleRect(grid) {\n\tconst {\n\t\tscroll: {left, top},\n\t\tcanvas: {width, height}\n\t} = grid[_];\n\treturn new Rect(\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight\n\t);\n}\nfunction _getScrollableVisibleRect(grid) {\n\tlet frozenColsWidth = 0;\n\tif (grid[_].frozenColCount > 0) {\n\t\t//\n\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\tfrozenColsWidth = frozenRect.width;\n\t}\n\tlet frozenRowsHeight = 0;\n\tif (grid[_].frozenRowCount > 0) {\n\t\t//\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\tfrozenRowsHeight = frozenRect.height;\n\t}\n\treturn new Rect(\n\t\t\tgrid[_].scroll.left + frozenColsWidth,\n\t\t\tgrid[_].scroll.top + frozenRowsHeight,\n\t\t\tgrid[_].canvas.width - frozenColsWidth,\n\t\t\tgrid[_].canvas.height - frozenRowsHeight\n\t);\n}\n\nfunction _toRelativeRect(grid, absoluteRect) {\n\tconst rect = absoluteRect.copy();\n\tconst visibleRect = _getVisibleRect(grid);\n\trect.offsetLeft(-visibleRect.left);\n\trect.offsetTop(-visibleRect.top);\n\n\treturn rect;\n}\n//end private methods\n//\n//\n//\n//\n\n/**\n * managing mouse down moving\n * @private\n */\nclass BaseMouseDownMover {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t\tthis._handler = new EventHandler();\n\t\tthis._events = {};\n\t\tthis._started = false;\n\t\tthis._moved = false;\n\t}\n\tmoving(e) {\n\t\treturn !!this._started;\n\t}\n\tlastMoving(e) {\n\t\t// mouseupclick\n\t\tif (this.moving(e)) {\n\t\t\treturn true;\n\t\t}\n\t\tconst last = this._mouseEndPoint;\n\t\tif (!last) {\n\t\t\treturn false;\n\t\t}\n\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\n\t\treturn pt.x === last.x && pt.y === last.y;\n\t}\n\t_bindMoveAndUp(e) {\n\t\tconst events = this._events;\n\t\tconst handler = this._handler;\n\t\tif (!isTouchEvent(e)) {\n\t\t\tevents.mousemove = handler.on(document.body, 'mousemove', (e) => this._mouseMove(e));\n\t\t\tevents.mouseup = handler.on(document.body, 'mouseup', (e) => this._mouseUp(e));\n\t\t} else {\n\t\t\tevents.touchmove = handler.on(document.body, 'touchmove', (e) => this._mouseMove(e), {passive: false});\n\t\t\tevents.touchend = handler.on(document.body, 'touchend', (e) => this._mouseUp(e));\n\t\t\tevents.touchcancel = handler.on(document.body, 'touchcancel', (e) => this._mouseUp(e));\n\t\t}\n\t\tthis._started = true;\n\t\tthis._moved = false;\n\t}\n\t_mouseMove(e) {\n\t\tif (!isTouchEvent(e)) {\n\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\tthis._mouseUp(e);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis._moved = this._moveInternal(e) || this._moved/*calculation on after*/;\n\n\t\tcancelEvent(e);\n\t}\n\t_moveInternal(e) {\n\t\t//protected\n\t}\n\t_mouseUp(e) {\n\t\tconst events = this._events;\n\t\tconst handler = this._handler;\n\t\thandler.off(events.mousemove);\n\t\thandler.off(events.touchmove);\n\t\thandler.off(events.mouseup);\n\t\thandler.off(events.touchend);\n\t\t// handler.off(this._events.mouseleave);\n\t\thandler.off(events.touchcancel);\n\n\t\tthis._started = false;\n\n\t\tthis._upInternal(e);\n\n\t\t// mouseupclick\n\t\tif (this._moved) { //\n\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._mouseEndPoint = null;\n\t\t\t}, 10);\n\t\t}\n\t}\n\t_upInternal(e) {\n\t\t//protected\n\t}\n\tdispose() {\n\t\tthis._handler.dispose();\n\t}\n}\n\n/**\n * managing cell selection operation with mouse\n * @private\n */\nclass CellSelector extends BaseMouseDownMover {\n\tstart(e) {\n\t\tconst cell = this._getTargetCell(e);\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n\t\tthis._bindMoveAndUp(e);\n\n\t\tthis._cell = cell;\n\n\t\tcancelEvent(e);\n\t\t_vibrate(e);\n\t}\n\tselect(e) {\n\t\tconst cell = this._getTargetCell(e);\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\t\tthis._cell = cell;\n\t}\n\t_moveInternal(e) {\n\t\tconst cell = this._getTargetCell(e);\n\t\tif (!cell) {\n\t\t\treturn false;\n\t\t}\n\t\tconst {col: oldCol, row: oldRow} = this._cell;\n\t\tconst {col: newCol, row: newRow} = cell;\n\t\tif (oldCol === newCol && oldRow === newRow) {\n\t\t\treturn false;\n\t\t}\n\t\tconst grid = this._grid;\n\t\t_moveFocusCell(grid, newCol, newRow, true);\n\n\t\t//make visible\n\t\tconst makeVisibleCol = (() => {\n\t\t\tif (newCol < oldCol && 0 < newCol) {\n\t\t\t\t// move left\n\t\t\t\treturn newCol - 1;\n\t\t\t} else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n\t\t\t\t// move right\n\t\t\t\treturn newCol + 1;\n\t\t\t}\n\t\t\treturn newCol;\n\t\t})();\n\t\tconst makeVisibleRow = (() => {\n\t\t\tif (newRow < oldRow && 0 < newRow) {\n\t\t\t\t// move up\n\t\t\t\treturn newRow - 1;\n\t\t\t} else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n\t\t\t\t// move down\n\t\t\t\treturn newRow + 1;\n\t\t\t}\n\t\t\treturn newRow;\n\t\t})();\n\t\tif (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n\t\t\tgrid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n\t\t}\n\t\tthis._cell = cell;\n\t\treturn true;\n\t}\n\t_getTargetCell(e) {\n\t\tconst grid = this._grid;\n\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\tif (!abstractPos) {\n\t\t\treturn null;\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn cell;\n\t}\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\nclass ColumnResizer extends BaseMouseDownMover {\n\tconstructor(grid) {\n\t\tsuper(grid);\n\t\tthis._targetCol = -1;\n\t}\n\tstart(col, e) {\n\t\tlet pageX;\n\t\tif (!isTouchEvent(e)) {\n\t\t\t({pageX} = e);\n\t\t} else {\n\t\t\t({pageX} = e.changedTouches[0]);\n\t\t}\n\n\t\tthis._x = pageX;\n\t\tthis._preX = 0;\n\n\t\tthis._bindMoveAndUp(e);\n\n\t\tthis._targetCol = col;\n\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n\n\t\tcancelEvent(e);\n\t\t_vibrate(e);\n\t}\n\t_moveInternal(e) {\n\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n\n\t\tconst x = pageX - this._x;\n\t\tconst moveX = x - this._preX;\n\t\tthis._preX = x;\n\t\tconst pre = this._grid.getColWidth(this._targetCol);\n\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\t\tif (afterSize < 10 && moveX < 0) {\n\t\t\tafterSize = 10;\n\t\t}\n\t\t_setColWidth(this._grid, this._targetCol, afterSize);\n\n\t\tconst rect = _getVisibleRect(this._grid);\n\t\trect.left = this._invalidateAbsoluteLeft;\n\t\t_invalidateRect(this._grid, rect);\n\n\t\tthis._grid.fireListeners(EV_RESIZE_COLUMN, {col: this._targetCol});\n\n\t\treturn true;\n\t}\n\t_upInternal(e) {\n\t\tconst grid = this._grid;\n\t\tif (grid.updateScroll()) {\n\t\t\tgrid.invalidate();\n\t\t}\n\t}\n}\n\nfunction setSafeInputValue(input, value) {\n\tconst {type} = input;\n\tinput.type = '';\n\tinput.value = value;\n\tif (type) {\n\t\tinput.type = type;\n\t}\n}\n\n/**\n * Manage focus\n * @private\n */\nclass FocusControl extends EventTarget {\n\tconstructor(grid, parentElement, scrollable) {\n\t\tsuper();\n\t\tthis._grid = grid;\n\t\tthis._scrollable = scrollable;\n\t\tconst handler = this._handler = new EventHandler();\n\t\tconst input = this._input = document.createElement('input');\n\t\tinput.classList.add('grid-focus-control');\n\t\tinput.readOnly = true;\n\t\tparentElement.appendChild(input);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\t\tthis._isComposition = true;\n\t\t\tif (this._compositionEnd) {\n\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\tdelete this._compositionEnd;\n\t\t\t}\n\t\t\tgrid.focus();\n\t\t});\n\t\tlet lastInputValue;\n\t\tconst inputClear = () => {\n\t\t\tlastInputValue = input.value;\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetSafeInputValue(input, '');\n\t\t};\n\n\t\tconst handleCompositionEnd = () => {\n\t\t\tthis._isComposition = false;\n\t\t\tinput.classList.remove('composition');\n\t\t\tinput.style.font = '';\n\t\t\tconst {value} = input;\n\n\t\t\tinputClear();\n\n\t\t\tif (!input.readOnly) {\n\t\t\t\tthis.fireListeners('input', value);\n\t\t\t}\n\n\t\t\tif (this._compositionEnd) {\n\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\tdelete this._compositionEnd;\n\t\t\t}\n\t\t};\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tthis._compositionEnd = setTimeout(handleCompositionEnd);\n\t\t});\n\t\thandler.on(input, 'keypress', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!input.readOnly && e.key && e.key.length === 1) {\n\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t//copy! for Firefox & Safari\n\t\t\t\t} else\tif (e.key === 'v' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t//paste! for Firefox & Safari\n\t\t\t\t} else {\n\t\t\t\t\tthis.fireListeners('input', e.key);\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\tinputClear();\n\t\t});\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tthis.fireListeners('keydown', keyCode, e);\n\n\t\t\tif (!input.readOnly && lastInputValue) {\n\t\t\t\t// for Safari\n\t\t\t\tthis.fireListeners('input', lastInputValue);\n\t\t\t}\n\n\t\t\tinputClear();\n\t\t});\n\t\thandler.on(input, 'keyup', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t}\n\t\t\t}\n\t\t\tinputClear();\n\t\t});\n\n\t\thandler.on(input, 'input', (e) => {\n\t\t\tinputClear();\n\t\t});\n\t\tif (browser.IE) {\n\t\t\thandler.on(document, 'keydown', (e) => {\n\t\t\t\tif (e.target !== input) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n\t\t\t\t\t// When text is not selected copy-event is not emit, on IE.\n\t\t\t\t\tsetSafeInputValue(input, 'dummy');\n\t\t\t\t\tinput.select();\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSafeInputValue(input, '');\n\t\t\t\t\t}, 100);\n\t\t\t\t} else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n\t\t\t\t\t// When input is read-only paste-event is not emit, on IE.\n\t\t\t\t\tif (input.readOnly) {\n\t\t\t\t\t\tinput.readOnly = false;\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tinput.readOnly = true;\n\t\t\t\t\t\t\tsetSafeInputValue(input, '');\n\t\t\t\t\t\t}, 10);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (browser.Edge) {\n\t\t\thandler.once(document, 'keydown', (e) => {\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n\t\t\t\tconst dummyInput = document.createElement('input');\n\t\t\t\tgrid.getElement().appendChild(dummyInput);\n\t\t\t\tdummyInput.focus();\n\t\t\t\tinput.focus();\n\t\t\t\tdummyInput.parentElement.removeChild(dummyInput);\n\t\t\t});\n\t\t}\n\t\thandler.on(document, 'paste', (e) => {\n\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet pasteText = undefined;\n\t\t\tif (browser.IE) {\n\t\t\t\t// IE\n\t\t\t\tpasteText = window.clipboardData.getData('Text');\n\t\t\t} else {\n\t\t\t\tconst {clipboardData} = e;\n\t\t\t\tif (clipboardData.items) {\n\t\t\t\t\t// Chrome & Firefox & Edge\n\t\t\t\t\tpasteText = clipboardData.getData('text/plain');\n\t\t\t\t} else {\n\t\t\t\t\t// Safari\n\t\t\t\t\tif (-1 !== Array.prototype.indexOf.call(clipboardData.types, 'text/plain')) {\n\t\t\t\t\t\tpasteText = clipboardData.getData('Text');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isDef(pasteText) && pasteText.length) {\n\t\t\t\tthis.fireListeners('paste', {value: pasteText, event: e});\n\t\t\t}\n\t\t});\n\t\thandler.on(document, 'copy', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetSafeInputValue(input, '');\n\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\n\t\t\tif (isDef(data)) {\n\t\t\t\tcancelEvent(e);\n\t\t\t\tif (browser.IE) {\n\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\n\t\t\t\t} else {\n\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tonKeyDownMove(fn) {\n\t\tthis._handler.on(this._input, 'keydown', (e) => {\n\t\t\tif (this._isComposition) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_LEFT ||\n\t\t\t\t\tkeyCode === KEY_UP ||\n\t\t\t\t\tkeyCode === KEY_RIGHT ||\n\t\t\t\t\tkeyCode === KEY_DOWN ||\n\t\t\t\t\tkeyCode === KEY_HOME ||\n\t\t\t\t\tkeyCode === KEY_END\n\t\t\t) {\n\t\t\t\tfn(e);\n\t\t\t}\n\t\t});\n\t}\n\tonInput(fn) {\n\t\treturn this.listen('input', fn);\n\t}\n\tonCopy(fn) {\n\t\treturn this.listen('copy', fn);\n\t}\n\tonPaste(fn) {\n\t\treturn this.listen('paste', fn);\n\t}\n\tfocus() {\n\t\t// this._input.value = '';\n\t\tthis._input.focus();\n\t}\n\tsetFocusRect(rect) {\n\t\tconst input = this._input;\n\t\tconst top = this._scrollable.calcTop(rect.top);\n\t\tinput.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`;//position:relative IE position:relative\n\t\tinput.style.left = `${rect.left.toFixed()}px`;\n\t\tinput.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t}\n\tset editMode(editMode) {\n\t\tthis._input.readOnly = !editMode;\n\t}\n\tresetInputStatus() {\n\t\tconst el = this._input;\n\t\tconst composition = el.classList.contains('composition');\n\n\t\tconst atts = el.attributes;\n\t\tconst removeNames = [];\n\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\tconst att = atts[i];\n\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n\t\t\t\tremoveNames.push(att.name);\n\t\t\t}\n\t\t}\n\t\tremoveNames.forEach((removeName) => {\n\t\t\tel.removeAttribute(removeName);\n\t\t});\n\t\tfor (const name in this._inputStatus) {\n\t\t\tel.setAttribute(name, this._inputStatus[name]);\n\t\t}\n\t\tif (composition) {\n\t\t\tel.classList.add('composition');\n\t\t\tel.style.font = this._grid.font || '16px sans-serif';\n\t\t} else {\n\t\t\tel.classList.remove('composition');\n\t\t}\n\t}\n\tstoreInputStatus() {\n\t\tconst el = this._input;\n\t\tconst inputStatus = this._inputStatus = {};\n\t\tconst atts = el.attributes;\n\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\tconst att = atts[i];\n\t\t\tinputStatus[att.name] = att.value;\n\t\t}\n\t}\n\tsetDefaultInputStatus() {\n\t\t// \n\t\t// this._input.style.font = this._grid.font || '16px sans-serif';\n\t}\n\tget editMode() {\n\t\treturn !this._input.readOnly;\n\t}\n\tget input() {\n\t\treturn this._input;\n\t}\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._handler.dispose();\n\t}\n}\n\n/**\n * Selected area management\n */\nclass Selection extends EventTarget {\n\tconstructor(grid) {\n\t\tsuper();\n\t\tthis._grid = grid;\n\n\t\tthis._sel = {col: 0, row: 0};\n\t\tthis._focus = {col: 0, row: 0};\n\n\t\tthis._start = {col: 0, row: 0};\n\t\tthis._end = {col: 0, row: 0};\n\t}\n\tget range() {\n\t\tconst start = this._start;\n\t\tconst end = this._end;\n\t\tconst startCol = Math.min(start.col, end.col);\n\t\tconst startRow = Math.min(start.row, end.row);\n\t\tconst endCol = Math.max(start.col, end.col);\n\t\tconst endRow = Math.max(start.row, end.row);\n\t\treturn {\n\t\t\tstart: {\n\t\t\t\tcol: startCol,\n\t\t\t\trow: startRow,\n\t\t\t},\n\t\t\tend: {\n\t\t\t\tcol: endCol,\n\t\t\t\trow: endRow,\n\t\t\t},\n\t\t\tinCell(col, row) {\n\t\t\t\treturn startCol <= col && col <= endCol &&\n\t\t\t\t\t\tstartRow <= row && row <= endRow;\n\t\t\t},\n\t\t};\n\t}\n\tget focus() {\n\t\tconst {col, row} = this._focus;\n\t\treturn {col, row};\n\t}\n\tget select() {\n\t\tconst {col, row} = this._sel;\n\t\treturn {col, row};\n\t}\n\tset select(cell = {}) {\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tconst {\n\t\t\t\tcol = 0,\n\t\t\t\trow = 0\n\t\t\t} = cell;\n\t\t\tthis._setSelectCell(col, row);\n\t\t\tthis._setFocusCell(col, row, true);\n\t\t});\n\t}\n\t_setSelectCell(col, row) {\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tthis._sel = {col, row};\n\t\t\tthis._start = {col, row};\n\t\t});\n\t}\n\t_setFocusCell(col, row, keepSelect) {\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tif (!keepSelect) {\n\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t}\n\t\t\tthis._focus = {col, row};\n\t\t\tthis._end = {col, row};\n\t\t});\n\t}\n\t_wrapFireSelectedEvent(callback) {\n\t\tif (this._isWraped) {\n\t\t\tcallback();\n\t\t} else {\n\t\t\tthis._isWraped = true;\n\t\t\ttry {\n\t\t\t\tconst before = {\n\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\tselected: false,\n\t\t\t\t};\n\t\t\t\tcallback();\n\t\t\t\tconst after = {\n\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\tselected: true,\n\t\t\t\t\tbefore: {\n\t\t\t\t\t\tcol: before.col,\n\t\t\t\t\t\trow: before.row,\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tbefore.after = {\n\t\t\t\t\tcol: after.col,\n\t\t\t\t\trow: after.row,\n\t\t\t\t};\n\t\t\t\tthis.fireListeners(EV_SELECTED_CELL, before);\n\t\t\t\tthis.fireListeners(EV_SELECTED_CELL, after);\n\t\t\t} finally {\n\t\t\t\tthis._isWraped = false;\n\t\t\t}\n\t\t}\n\t}\n\t_updateGridRange() {\n\t\tconst {rowCount, colCount} = this._grid;\n\t\tconst points = [this._sel, this._focus, this._start, this._end];\n\t\tlet needChange = false;\n\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\tif (colCount <= points[i].col || rowCount <= points[i].row) {\n\t\t\t\tneedChange = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!needChange) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\tpoints.forEach((p) => {\n\t\t\t\tp.col = Math.min(colCount - 1, p.col);\n\t\t\t\tp.row = Math.min(rowCount - 1, p.row);\n\t\t\t});\n\t\t});\n\t\treturn true;\n\t}\n}\n\n/**\n * This class manages the drawing process for each layer\n */\nclass DrawLayers {\n\tconstructor() {\n\t\tthis._layers = {};\n\t}\n\taddDraw(level, fn) {\n\t\tconst l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n\t\tl.addDraw(fn);\n\t}\n\tdraw(ctx) {\n\t\tconst list = [];\n\t\tfor (const k in this._layers) {\n\t\t\tlist.push(this._layers[k]);\n\t\t}\n\t\tlist.sort((a, b) => a.level - b.level);\n\t\tlist.forEach((l) => l.draw(ctx));\n\t}\n}\nclass DrawLayer {\n\tconstructor(level) {\n\t\tthis._level = level;\n\t\tthis._list = [];\n\t}\n\tget level() {\n\t\treturn this._level;\n\t}\n\taddDraw(fn) {\n\t\tthis._list.push(fn);\n\t}\n\tdraw(ctx) {\n\t\tthis._list.forEach((fn) => {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tfn(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t});\n\t}\n}\n/**\n * Context of cell drawing\n */\nclass DrawCellContext {\n\t/**\n\t * constructor\n\t * @param {number} col index of column\n\t * @param {number} row index of row\n\t * @param {CanvasRenderingContext2D} ctx context\n\t * @param {Rect} rect rect of cell area\n\t * @param {Rect} drawRect rect of drawing area\n\t * @param {boolean} drawing `true` if drawing is in progress\n\t * @param {object} selection the selection\n\t * @param {Array} drawLayers array of draw layers\n\t * @private\n\t */\n\tconstructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n\t\tthis._col = col;\n\t\tthis._row = row;\n\t\tthis._mode = 0;\n\t\tthis._ctx = ctx;\n\t\tthis._rect = rect;\n\t\tthis._drawRect = drawRect;\n\t\tthis._drawing = drawing;\n\t\tthis._selection = selection;\n\t\tthis._drawLayers = drawLayers;\n\t\tthis._childContexts = [];\n\t}\n\tget drawing() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this._drawing;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\tget row() {\n\t\treturn this._row;\n\t}\n\tget col() {\n\t\treturn this._col;\n\t}\n\tcancel() {\n\t\tthis._cancel = true;\n\t\tthis._childContexts.forEach((ctx) => { ctx.cancel(); });\n\t}\n\t/**\n\t * select status.\n\t * @return {object} select status\n\t */\n\tgetSelectState() {\n\t\tconst sel = this._selection.select;\n\t\treturn {\n\t\t\tselected: sel.col === this._col && sel.row === this._row,\n\t\t\tselection: this._selection.range.inCell(this._col, this._row),\n\t\t};\n\t}\n\t/**\n\t * Canvas context.\n\t * @return {CanvasRenderingContext2D} Canvas context.\n\t */\n\tgetContext() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this._ctx;\n\t\t} else {\n\t\t\treturn this._grid._getInitContext();\n\t\t}\n\t}\n\t/**\n\t * Rectangle of cell.\n\t * @return {Rect} rect Rectangle of cell.\n\t */\n\tgetRect() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this._rect;\n\t\t} else {\n\t\t\tif (this._rect) {\n\t\t\t\treturn this._rect;\n\t\t\t}\n\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\n\t\t}\n\t}\n\tsetRect(rect) {\n\t\tthis._rect = rect;\n\t}\n\t/**\n\t * Rectangle of Drawing range.\n\t * @return {Rect} Rectangle of Drawing range.\n\t */\n\tgetDrawRect() {\n\t\tif (this._cancel) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._mode === 0) {\n\t\t\treturn this._drawRect;\n\t\t} else {\n\t\t\tif (this._isOutOfRange()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\treturn this._toRelativeDrawRect(absoluteRect);\n\t\t}\n\t}\n\t_isOutOfRange() {\n\t\tconst {colCount, rowCount} = this._grid;\n\t\treturn colCount <= this._col || rowCount <= this._row;\n\t}\n\t/**\n\t * get Context of current state\n\t * @return {DrawCellContext} current DrawCellContext.\n\t */\n\ttoCurrentContext() {\n\t\tif (this._mode === 0) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\n\t\t\tconst drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n\t\t\tconst context = new DrawCellContext(\n\t\t\t\t\tthis._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection,\n\t\t\t\t\tthis._drawLayers\n\t\t\t);\n\t\t\t\t// toCurrentContext  toCurrentContext\n\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\n\t\t\tthis._childContexts.push(context);\n\t\t\tif (this._cancel) {\n\t\t\t\tcontext.cancel();\n\t\t\t}\n\t\t\treturn context;\n\t\t}\n\t}\n\taddLayerDraw(level, fn) {\n\t\tthis._drawLayers.addDraw(level, fn);\n\t}\n\t_toRelativeDrawRect(absoluteRect) {\n\t\tconst visibleRect = _getVisibleRect(this._grid);\n\t\tlet rect = absoluteRect.copy();\n\t\tif (!rect.intersection(visibleRect)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\t\t\trect = Rect.bounds(\n\t\t\t\t\tMath.max(rect.left, fRect.right),\n\t\t\t\t\trect.top,\n\t\t\t\t\trect.right,\n\t\t\t\t\trect.bottom\n\t\t\t);\n\t\t}\n\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\t\t\trect = Rect.bounds(\n\t\t\t\t\trect.left,\n\t\t\t\t\tMath.max(rect.top, fRect.bottom),\n\t\t\t\t\trect.right,\n\t\t\t\t\trect.bottom\n\t\t\t);\n\t\t}\n\n\n\t\tif (!rect.intersection(visibleRect)) {\n\t\t\treturn null;\n\t\t}\n\t\trect.offsetLeft(-visibleRect.left);\n\t\trect.offsetTop(-visibleRect.top);\n\n\t\treturn rect;\n\t}\n\t_delayMode(grid, onTerminate) {\n\t\tthis._mode = 1;\n\t\tthis._ctx = null;\n\t\tthis._rect = null;\n\t\tthis._drawRect = null;\n\t\tthis._grid = grid;\n\t\tthis._onTerminate = onTerminate;\n\t}\n\t/**\n\t * terminate\n\t * @return {void}\n\t */\n\tterminate() {\n\t\tif (this._mode !== 0) {\n\t\t\tthis._onTerminate();\n\t\t}\n\t}\n}\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @extends EventTarget\n * @memberof cheetahGrid.core\n */\nclass DrawGrid extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\t/**\n\t * constructor\n\t *\n\t * <pre>\n\t * Constructor options\n\t * -----\n\t * rowCount: grid row count.default 10\n\t * colCount: grid col count.default 10\n\t * frozenColCount: default 0\n\t * frozenRowCount: default 0\n\t * defaultRowHeight: default grid row height. default 40\n\t * defaultColWidth: default grid col width. default 80\n\t * parentElement: canvas parentElement\n\t * font: default font\n\t * underlayBackgroundColor: underlay background color\n\t * -----\n\t * </pre>\n\t *\n\t * @constructor\n\t * @param  {Object} options Constructor options\n\t */\n\tconstructor(\n\t\t\t{\n\t\t\t\trowCount = 10,\n\t\t\t\tcolCount = 10,\n\t\t\t\tfrozenColCount = 0,\n\t\t\t\tfrozenRowCount = 0,\n\t\t\t\tdefaultRowHeight = 40,\n\t\t\t\tdefaultColWidth = 80,\n\t\t\t\tfont,\n\t\t\t\tunderlayBackgroundColor,\n\t\t\t\tparentElement,\n\t\t\t} = {}) {\n\t\tsuper();\n\t\tconst protectedSpace = this[_] = {};\n\t\tstyle.initDocument();\n\t\tprotectedSpace.element = createRootElement();\n\t\tprotectedSpace.scrollable = new Scrollable();\n\t\tprotectedSpace.handler = new EventHandler();\n\t\tprotectedSpace.selection = new Selection(this);\n\t\tprotectedSpace.focusControl = new FocusControl(\n\t\t\t\tthis, protectedSpace.scrollable.getElement(),\n\t\t\t\tprotectedSpace.scrollable\n\t\t);\n\n\t\tprotectedSpace.canvas = hiDPI.transform(document.createElement('canvas'));\n\t\tprotectedSpace.context = protectedSpace.canvas.getContext('2d', {alpha: false});\n\n\t\tprotectedSpace.rowCount = rowCount;\n\t\tprotectedSpace.colCount = colCount;\n\t\tprotectedSpace.frozenColCount = frozenColCount;\n\t\tprotectedSpace.frozenRowCount = frozenRowCount;\n\n\t\tprotectedSpace.defaultRowHeight = defaultRowHeight;\n\t\tprotectedSpace.defaultColWidth = defaultColWidth;\n\n\t\tprotectedSpace.font = font;\n\t\tprotectedSpace.underlayBackgroundColor = underlayBackgroundColor;\n\n\t\t/////\n\t\tprotectedSpace.rowHeightsMap = new NumberMap();\n\t\tprotectedSpace.colWidthsMap = new NumberMap();\n\t\tprotectedSpace.colWidthsLimit = {};\n\t\tprotectedSpace.calcWidthContext = {\n\t\t\t_: protectedSpace,\n\t\t\tget full() {\n\t\t\t\treturn this._.canvas.width;\n\t\t\t},\n\t\t\tget em() {\n\t\t\t\treturn getFontSize(this._.context, this._.font).width;\n\t\t\t}\n\t\t};\n\n\t\tprotectedSpace.columnResizer = new ColumnResizer(this);\n\t\tprotectedSpace.cellSelector = new CellSelector(this);\n\n\t\tprotectedSpace.drawCells = {};\n\t\tprotectedSpace.cellTextOverflows = {};\n\n\t\tprotectedSpace.element.appendChild(protectedSpace.canvas);\n\t\tprotectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n\t\tthis.updateScroll();\n\t\tif (parentElement) {\n\t\t\tparentElement.appendChild(protectedSpace.element);\n\t\t\tthis.updateSize();\n\t\t} else {\n\t\t\tthis.updateSize();\n\t\t}\n\t\t_bindEvents(this);\n\t}\n\t/**\n\t * Get root element.\n\t * @returns {HTMLElement} root element\n\t */\n\tgetElement() {\n\t\treturn this[_].element;\n\t}\n\t/**\n\t * Get canvas element.\n\t * @type {HTMLCanvasElement}\n\t */\n\tget canvas() {\n\t\treturn this[_].canvas;\n\t}\n\t/**\n\t * Focus the grid.\n\t * @return {void}\n\t */\n\tfocus() {\n\t\tconst {col, row} = this[_].selection.select;\n\t\tthis.focusCell(col, row);\n\t}\n\t/**\n\t * Get the selection instance.\n\t * @type {Selection}\n\t */\n\tget selection() {\n\t\treturn this[_].selection;\n\t}\n\t/**\n\t * Get the number of rows.\n\t * @type {number}\n\t */\n\tget rowCount() {\n\t\treturn this[_].rowCount;\n\t}\n\t/**\n\t * Set the number of rows.\n\t * @param {number} rowCount the number of rows to set\n\t * @type {number}\n\t */\n\tset rowCount(rowCount) {\n\t\tthis[_].rowCount = rowCount;\n\t\tthis.updateScroll();\n\t\tif (this[_].selection._updateGridRange()) {\n\t\t\tconst {col, row} = this[_].selection.focus;\n\t\t\tthis.makeVisibleCell(col, row);\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t}\n\t/**\n\t * Get the number of columns.\n\t * @type {number}\n\t */\n\tget colCount() {\n\t\treturn this[_].colCount;\n\t}\n\t/**\n\t * Set the number of columns.\n\t * @param {number} colCount the number of columns to set\n\t * @type {number}\n\t */\n\tset colCount(colCount) {\n\t\tthis[_].colCount = colCount;\n\t\tthis.updateScroll();\n\t\tif (this[_].selection._updateGridRange()) {\n\t\t\tconst {col, row} = this[_].selection.focus;\n\t\t\tthis.makeVisibleCell(col, row);\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t}\n\t/**\n\t * Get the number of frozen columns.\n\t * @type {number}\n\t */\n\tget frozenColCount() {\n\t\treturn this[_].frozenColCount;\n\t}\n\t/**\n\t * Set the number of frozen columns.\n\t * @param {number} frozenColCount the number of frozen columns to set\n\t * @type {number}\n\t */\n\tset frozenColCount(frozenColCount) {\n\t\tthis[_].frozenColCount = frozenColCount;\n\t}\n\t/**\n\t * Get the number of frozen rows.\n\t * @type {number}\n\t */\n\tget frozenRowCount() {\n\t\treturn this[_].frozenRowCount;\n\t}\n\t/**\n\t * Set the number of frozen rows.\n\t * @param {number} frozenRowCount the number of frozen rows to set\n\t * @type {number}\n\t */\n\tset frozenRowCount(frozenRowCount) {\n\t\tthis[_].frozenRowCount = frozenRowCount;\n\t}\n\t/**\n\t * Get the default row height.\n\t * @type {number}\n\t *\n\t */\n\tget defaultRowHeight() {\n\t\treturn this[_].rowCount;\n\t}\n\t/**\n\t * Set the default row height.\n\t * @param {number} defaultRowHeight the default row height to set\n\t * @type {number}\n\t */\n\tset defaultRowHeight(defaultRowHeight) {\n\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the default column width.\n\t * @type {number}\n\t */\n\tget defaultColWidth() {\n\t\treturn this[_].defaultColWidth;\n\t}\n\t/**\n\t * Set the default column width.\n\t * @param {number} defaultColWidth the default column width to set\n\t * @type {number}\n\t */\n\tset defaultColWidth(defaultColWidth) {\n\t\tthis[_].defaultColWidth = defaultColWidth;\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the font definition as a string.\n\t * @type {string}\n\t */\n\tget font() {\n\t\treturn this[_].font;\n\t}\n\t/**\n\t * Set the font definition with the given string.\n\t * @param {string} font the font definition to set\n\t * @type {string}\n\t */\n\tset font(font) {\n\t\tthis[_].font = font;\n\t}\n\t/**\n\t * Get the background color of the underlay.\n\t * @type {*}\n\t */\n\tget underlayBackgroundColor() {\n\t\treturn this[_].underlayBackgroundColor;\n\t}\n\t/**\n\t * Set the background color of the underlay.\n\t * @param {*} underlayBackgroundColor the background color of the underlay to set\n\t * @type {*}\n\t */\n\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\t}\n\tconfigure(name, value) {\n\t\tconst cfg = this[_].config || (this[_].config = {});\n\t\tif (isDef(value)) {\n\t\t\tcfg[name] = value;\n\t\t}\n\t\treturn cfg[name];\n\t}\n\t/**\n\t * Apply the changed size.\n\t * @return {void}\n\t */\n\tupdateSize() {\n\t\t//\n\t\tconst {canvas} = this[_];\n\t\tcanvas.style.width = '';\n\t\tcanvas.style.height = '';\n\t\tconst width = Math.floor(canvas.offsetWidth ||\n\t\t\t\t\tcanvas.parentElement.offsetWidth - style.getScrollBarSize()/*for legacy*/\n\t\t);\n\t\tconst height = Math.floor(canvas.offsetHeight ||\n\t\t\t\t\tcanvas.parentElement.offsetHeight - style.getScrollBarSize()/*for legacy*/\n\t\t);\n\n\t\tcanvas.width = width;\n\t\tcanvas.height = height;\n\n\t\t//style\n\t\tcanvas.style.width = `${width}px`;\n\t\tcanvas.style.height = `${height}px`;\n\n\t\tconst sel = this[_].selection.select;\n\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n\t}\n\t/**\n\t * Apply the changed scroll size.\n\t * @return {boolean} `true` if there was a change in the scroll size\n\t */\n\tupdateScroll() {\n\t\tconst {scrollable} = this[_];\n\t\tconst newHeight = _getScrollHeight(this);\n\t\tconst newWidth = _getScrollWidth(this);\n\t\tif (newHeight === scrollable.scrollHeight && newWidth === scrollable.scrollWidth) {\n\t\t\treturn false;\n\t\t}\n\t\tscrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\t\tthis[_].scroll = {\n\t\t\tleft: scrollable.scrollLeft,\n\t\t\ttop: scrollable.scrollTop,\n\t\t};\n\t\treturn true;\n\t}\n\t/**\n\t * Get the row height of the given the row index.\n\t * @param  {number} row The row index\n\t * @return {number} The row height\n\t */\n\tgetRowHeight(row) {\n\t\treturn _getRowHeight(this, row);\n\t}\n\t/**\n\t * Set the row height of the given the row index.\n\t * @param  {number} row The row index\n\t * @param  {number} height The row height\n\t * @return {void}\n\t */\n\tsetRowHeight(row, height) {\n\t\t_setRowHeight(this, row, height);\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the column width of the given the column index.\n\t * @param  {number} col The column index\n\t * @return {number} The column width\n\t */\n\tgetColWidth(col) {\n\t\treturn _getColWidth(this, col);\n\t}\n\t/**\n\t * Set the column widtht of the given the column index.\n\t * @param  {number} col The column index\n\t * @param  {number} width The column width\n\t * @return {void}\n\t */\n\tsetColWidth(col, width) {\n\t\t_setColWidth(this, col, width);\n\t\tthis.updateScroll();\n\t}\n\t/**\n\t * Get the column max width of the given the column index.\n\t * @param  {number} col The column index\n\t * @return {number} The column max width\n\t */\n\tgetMaxColWidth(col) {\n\t\tconst obj = this[_].colWidthsLimit[col];\n\t\treturn obj && obj.max || undefined;\n\t}\n\t/**\n\t * Set the column max widtht of the given the column index.\n\t * @param  {number} col The column index\n\t * @param  {number} maxwidth The column max width\n\t * @return {void}\n\t */\n\tsetMaxColWidth(col, maxwidth) {\n\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\tobj.max = maxwidth;\n\t}\n\t/**\n\t * Get the column min width of the given the column index.\n\t * @param  {number} col The column index\n\t * @return {number} The column min width\n\t */\n\tgetMinColWidth(col) {\n\t\tconst obj = this[_].colWidthsLimit[col];\n\t\treturn obj && obj.min || undefined;\n\t}\n\t/**\n\t * Set the column min widtht of the given the column index.\n\t * @param  {number} col The column index\n\t * @param  {number} minwidth The column min width\n\t * @return {void}\n\t */\n\tsetMinColWidth(col, minwidth) {\n\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\tobj.min = minwidth;\n\t}\n\t/**\n\t * Get the rect of the cell.\n\t * @param {number} col index of column, of the cell\n\t * @param {number} row index of row, of the cell\n\t * @returns {Rect} the rect of the cell.\n\t */\n\tgetCellRect(col, row) {\n\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\n\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\n\t\tconst width = _getColWidth(this, col);\n\t\tif (isFrozenCell && isFrozenCell.col) {\n\t\t\tabsoluteLeft += this[_].scroll.left;\n\t\t}\n\n\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\n\t\tconst height = _getRowHeight(this, row);\n\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\tabsoluteTop += this[_].scroll.top;\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tabsoluteLeft,\n\t\t\t\tabsoluteTop,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t);\n\t}\n\t/**\n\t * Get the relative rectangle of the cell.\n\t * @param {number} col index of column, of the cell\n\t * @param {number} row index of row, of the cell\n\t * @returns {Rect} the rect of the cell.\n\t */\n\tgetCellRelativeRect(col, row) {\n\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\n\t}\n\t/**\n\t * Get the rectangle of the cells area.\n\t * @param {number} startCol index of the starting column, of the cell\n\t * @param {number} startRow index of the starting row, of the cell\n\t * @param {number} endCol index of the ending column, of the cell\n\t * @param {number} endRow index of the ending row, of the cell\n\t * @returns {Rect} the rect of the cells.\n\t */\n\tgetCellsRect(startCol, startRow, endCol, endRow) {\n\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\t\tlet width = _getColsWidth(this, startCol, endCol);\n\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\n\t\t\tconst scrollLeft = this[_].scroll.left;\n\t\t\tabsoluteLeft += scrollLeft;\n\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\n\t\t\t\twidth -= scrollLeft;\n\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n\t\t\t}\n\t\t}\n\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\t\tlet height = _getRowsHeight(this, startRow, endRow);\n\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\n\t\t\tconst scrollTop = this[_].scroll.top;\n\t\t\tabsoluteTop += scrollTop;\n\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\n\t\t\t\theight -= scrollTop;\n\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n\t\t\t}\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tabsoluteLeft,\n\t\t\t\tabsoluteTop,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t);\n\t}\n\tisFrozenCell(col, row) {\n\t\tconst {frozenRowCount, frozenColCount} = this[_];\n\t\tconst isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n\t\tconst isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n\t\tif (isFrozenRow || isFrozenCol) {\n\t\t\treturn {\n\t\t\t\trow: isFrozenRow,\n\t\t\t\tcol: isFrozenCol,\n\t\t\t};\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\tgetRowAt(absoluteY) {\n\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\n\t\tif (frozen) {\n\t\t\treturn frozen.row;\n\t\t}\n\t\tconst row = _getTargetRowAt(this, absoluteY);\n\t\treturn row ? row.row : -1;\n\n\t}\n\tgetColAt(absoluteX) {\n\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\n\t\tif (frozen) {\n\t\t\treturn frozen.col;\n\t\t}\n\t\tconst col = _getTargetColAt(this, absoluteX);\n\t\treturn col ? col.col : -1;\n\t}\n\tgetCellAt(absoluteX, absoluteY) {\n\t\treturn {\n\t\t\trow: this.getRowAt(absoluteY),\n\t\t\tcol: this.getColAt(absoluteX),\n\t\t};\n\t}\n\t/**\n\t * Scroll to where cell is visible.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @return {void}\n\t */\n\tmakeVisibleCell(col, row) {\n\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n\t\t\treturn;\n\t\t}\n\t\tconst rect = this.getCellRect(col, row);\n\t\tconst visibleRect = _getScrollableVisibleRect(this);\n\t\tif (visibleRect.contains(rect)) {\n\t\t\treturn;\n\t\t}\n\t\tconst {scrollable} = this[_];\n\t\tif (!isFrozenCell || !isFrozenCell.col) {\n\t\t\tif (rect.left < visibleRect.left) {\n\t\t\t\tscrollable.scrollLeft -= visibleRect.left - rect.left;\n\t\t\t} else if (visibleRect.right < rect.right) {\n\t\t\t\tscrollable.scrollLeft -= visibleRect.right - rect.right;\n\t\t\t}\n\t\t}\n\t\tif (!isFrozenCell || !isFrozenCell.row) {\n\t\t\tif (rect.top < visibleRect.top) {\n\t\t\t\tscrollable.scrollTop -= visibleRect.top - rect.top;\n\t\t\t} else if (visibleRect.bottom < rect.bottom) {\n\t\t\t\tscrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Focus the cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @return {void}\n\t */\n\tfocusCell(col, row) {\n\t\tconst {focusControl} = this[_];\n\t\tconst oldEditMode = focusControl.editMode;\n\t\tif (oldEditMode) {\n\t\t\tfocusControl.resetInputStatus();\n\t\t}\n\n\t\tfocusControl.setFocusRect(this.getCellRect(col, row));\n\n\t\tconst {col: selCol, row: selRow} = this[_].selection.select;\n\t\tconst results = this.fireListeners(\n\t\t\t\tEV_EDITABLEINPUT_CELL,\n\t\t\t\t{col: selCol, row: selRow}\n\t\t);\n\n\t\tconst editMode = (array.findIndex(results, (v) => !!v) >= 0);\n\t\tfocusControl.editMode = editMode;\n\n\t\tif (editMode) {\n\t\t\tfocusControl.storeInputStatus();\n\t\t\tfocusControl.setDefaultInputStatus();\n\t\t\tthis.fireListeners(\n\t\t\t\t\tEV_MODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\t\t\t\t{col: selCol, row: selRow, input: focusControl.input}\n\t\t\t);\n\t\t}\n\n\t\t// Failure occurs in IE if focus is not last\n\t\tfocusControl.focus();\n\t}\n\t/**\n\t * Redraws the range of the given cell.\n\t * @param  {number} col The column index of cell.\n\t * @param  {number} row The row index of cell.\n\t * @return {void}\n\t */\n\tinvalidateCell(col, row) {\n\t\tthis.invalidateGridRect(col, row);\n\t}\n\t/**\n\t * Redraws the range of the given cells.\n\t * @param {number} startCol index of the starting column, of the cell\n\t * @param {number} startRow index of the starting row, of the cell\n\t * @param {number} endCol index of the ending column, of the cell\n\t * @param {number} endRow index of the ending row, of the cell\n\t * @return {void}\n\t */\n\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n\t\tconst offset = this.getOffsetInvalidateCells();\n\t\tif (offset > 0) {\n\t\t\tstartCol -= offset;\n\t\t\tstartRow -= offset;\n\t\t\tendCol += offset;\n\t\t\tendRow += offset;\n\t\t}\n\n\t\tconst visibleRect = _getVisibleRect(this);\n\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\n\t\tif (invalidateTarget) {\n\n\t\t\tconst {frozenColCount, frozenRowCount} = this[_];\n\t\t\tif (frozenColCount > 0 && endCol >= frozenColCount) {\n\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\n\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (frozenRowCount > 0 && endRow >= frozenRowCount) {\n\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\n\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_invalidateRect(this, invalidateTarget);\n\t\t}\n\t}\n\t/**\n\t * Redraws the whole grid.\n\t * @return {void}\n\t */\n\tinvalidate() {\n\t\tconst visibleRect = _getVisibleRect(this);\n\t\t_invalidateRect(this, visibleRect);\n\t}\n\t/**\n\t * Get the value of cell with the copy action.\n\t * <p>\n\t * Please implement\n\t * </p>\n\t *\n\t * @protected\n\t * @param  {number} col Column index of cell.\n\t * @param  {number} row Row index of cell.\n\t * @return {string} the value of cell\n\t */\n\tgetCopyCellValue(col, row) {\n\t\t//Please implement get cell value!!\n\t}\n\t/**\n\t * Draw a cell\n\t * <p>\n\t * Please implement cell drawing.\n\t * </p>\n\t *\n\t * @protected\n\t * @param  {number} col Column index of cell.\n\t * @param  {number} row Row index of cell.\n\t * @param  {DrawCellContext} context context of cell drawing.\n\t * @return {void}\n\t */\n\tonDrawCell(col, row, context) {\n\t\t//Please implement cell drawing!!\n\t}\n\t/**\n\t * Get the overflowed text in the cell rectangle, from the given cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @return {string | null} The text overflowing the cell rect.\n\t */\n\tgetCellOverflowText(col, row) {\n\t\tconst key = `${col}:${row}`;\n\t\treturn this[_].cellTextOverflows[key] || null;\n\t}\n\t/**\n\t * Set the overflowed text in the cell rectangle, to the given cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The row index\n\t * @param  {boolean} overflowText The overflowed text in the cell rectangle.\n\t * @return {void}\n\t */\n\tsetCellOverflowText(col, row, overflowText) {\n\t\tconst key = `${col}:${row}`;\n\t\tif (overflowText) {\n\t\t\tthis[_].cellTextOverflows[key] = typeof overflowText === 'string' ? overflowText.trim() : overflowText;\n\t\t} else {\n\t\t\tdelete this[_].cellTextOverflows[key];\n\t\t}\n\t}\n\taddDisposable(disposable) {\n\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n\t\t\tthrow new Error('not disposable!');\n\t\t}\n\t\tconst disposables = this[_].disposables = this[_].disposables || [];\n\t\tdisposables.push(disposable);\n\t}\n\t/**\n\t * Dispose the grid instance.\n\t * @returns {void}\n\t */\n\tdispose() {\n\t\tsuper.dispose();\n\t\tconst protectedSpace = this[_];\n\t\tprotectedSpace.handler.dispose();\n\t\tprotectedSpace.scrollable.dispose();\n\t\tprotectedSpace.focusControl.dispose();\n\t\tprotectedSpace.columnResizer.dispose();\n\t\tprotectedSpace.cellSelector.dispose();\n\t\tif (protectedSpace.disposables) {\n\t\t\tprotectedSpace.disposables.forEach((disposable) => disposable.dispose());\n\t\t\tprotectedSpace.disposables = null;\n\t\t}\n\n\t\tconst {parentElement} = protectedSpace.element;\n\t\tif (parentElement) {\n\t\t\tparentElement.removeChild(protectedSpace.element);\n\t\t}\n\t}\n\tgetAttachCellArea(col, row) {\n\t\treturn {\n\t\t\telement: this.getElement(),\n\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row)),\n\t\t};\n\t}\n\tbindEventsInternal() {\n\t\t//nop\n\t}\n\tgetTargetRowAtInternal(absoluteY) {\n\t\t// \n\t}\n\tgetRowsHeightInternal(startRow, endRow) {\n\t\t// \n\t}\n\tgetRowHeightInternal(row) {\n\t\t// \n\t}\n\tgetScrollHeightInternal(row) {\n\t\t// \n\t}\n\tgetMoveLeftColByKeyDownInternal({col, row}) {\n\t\treturn col - 1;\n\t}\n\tgetMoveRightColByKeyDownInternal({col, row}) {\n\t\treturn col + 1;\n\t}\n\tgetMoveUpRowByKeyDownInternal({col, row}) {\n\t\treturn row - 1;\n\t}\n\tgetMoveDownRowByKeyDownInternal({col, row}) {\n\t\treturn row + 1;\n\t}\n\tgetOffsetInvalidateCells() {\n\t\treturn 0;\n\t}\n\t_getInitContext() {\n\t\tconst ctx = this[_].context;\n\t\t//\n\t\tctx.fillStyle = 'white';\n\t\tctx.strokeStyle = 'black';\n\t\tctx.textAlign = 'left';\n\t\tctx.textBaseline = 'top';\n\t\tctx.lineWidth = 1;\n\t\tctx.font = this.font || '16px sans-serif';\n\t\treturn ctx;\n\t}\n}\n\nmodule.exports = DrawGrid;\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","'use strict';\n\nconst fontSizeCache = {};\nfunction getFontSize(ctx, font) {\n\tif (fontSizeCache[font]) {\n\t\treturn fontSizeCache[font];\n\t}\n\tconst bk = ctx.font;\n\ttry {\n\t\tctx.font = font || ctx.font;\n\t\tconst em = ctx.measureText('').width;\n\t\treturn (fontSizeCache[font] = {\n\t\t\twidth: em,\n\t\t\theight: em\n\t\t});\n\t} finally {\n\t\tctx.font = bk;\n\t}\n}\n\nfunction calcBasePosition(ctx, rect,\n\t\t{\n\t\t\toffset = 0,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft = 0,\n\t\t\t\tright: paddingRight = 0,\n\t\t\t\ttop: paddingTop = 0,\n\t\t\t\tbottom: paddingBottom = 0,\n\t\t\t} = {},\n\t\t} = {}) {\n\treturn calcStartPosition(ctx, rect, 0, 0, {\n\t\toffset,\n\t\tpadding: {\n\t\t\tleft: paddingLeft,\n\t\t\tright: paddingRight,\n\t\t\ttop: paddingTop,\n\t\t\tbottom: paddingBottom,\n\t\t}\n\t});\n}\nfunction calcStartPosition(ctx, rect, width, height,\n\t\t{\n\t\t\toffset = 0,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft = 0,\n\t\t\t\tright: paddingRight = 0,\n\t\t\t\ttop: paddingTop = 0,\n\t\t\t\tbottom: paddingBottom = 0,\n\t\t\t} = {},\n\t\t} = {}) {\n\tconst textAlign = ctx.textAlign || 'left';\n\tconst textBaseline = ctx.textBaseline || 'middle';\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\n\tlet x = rect.left + offset + paddingLeft;\n\tif (textAlign === 'right' || textAlign === 'end') {\n\t\tx = rect.right - width - offset - paddingRight;\n\t} else if (textAlign === 'center') {\n\t\tx = rect.left + ((rect.width - width + paddingLeft - paddingRight) / 2);\n\t}\n\tlet y = rect.top + offset + paddingTop;\n\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\ty = rect.bottom - height - offset - paddingBottom;\n\t} else if (textBaseline === 'middle') {\n\t\ty = rect.top + ((rect.height - height + paddingTop - paddingBottom) / 2);\n\t}\n\treturn {x, y};\n}\n\nmodule.exports = {\n\tcalcBasePosition,\n\tcalcStartPosition,\n\tgetFontSize,\n};\n","'use strict';\n\nconst styleContents = require('../style');\nconst {isPromise, isDef, obj: {setReadonly}} = require('../../internal/utils');\nconst animate = require('../../internal/animate');\nconst BaseStyle = require('../style/Style');\nconst {COLUMN_FADEIN_STATE_ID} = require('../../internal/symbolManager');\n\n\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n\tif (isDef(column._fadeinWhenCallbackInPromise)) {\n\t\treturn column._fadeinWhenCallbackInPromise;\n\t}\n\treturn !!grid.configure('fadeinWhenCallbackInPromise');\n}\n\nfunction getFadinState(grid) {\n\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\n\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n\t}\n\treturn grid[COLUMN_FADEIN_STATE_ID];\n}\nfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n\treturn (point) => {\n\t\tconst state = getFadinState(grid);\n\t\tconst stateKey = `${col}:${row}`;\n\t\tif (point === 1) {\n\t\t\tdelete state[stateKey];\n\t\t} else {\n\t\t\tstate[stateKey] = {\n\t\t\t\topacity: point,\n\t\t\t};\n\t\t}\n\t\tdrawCellBase();\n\n\t\tdrawInternal();\n\n\t\tconst cellState = state[stateKey];\n\t\tif (cellState) {\n\t\t\t//\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\ttry {\n\t\t\t\tdrawCellBase();\n\t\t\t} finally {\n\t\t\t\tctx.globalAlpha = 1;\n\t\t\t}\n\t\t}\n\t};\n}\nconst fadinMgr = {\n\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t// fadein animation\n\t\tconst state = getFadinState(grid);\n\n\t\tconst activeFadeins = [\n\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase),\n\t\t];\n\t\tstate.activeFadeins = activeFadeins;\n\n\t\tanimate(500, (point) => {\n\t\t\tactiveFadeins.forEach((f) => f(point));\n\t\t\tif (point === 1) {\n\t\t\t\tdelete state.activeFadeins;\n\t\t\t}\n\t\t});\n\t},\n\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\tconst state = getFadinState(grid);\n\t\tif (state.activeFadeins) {\n\t\t\tstate.activeFadeins.push(\n\t\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)\n\t\t\t);\n\t\t} else {\n\t\t\tdrawInternal();\n\t\t}\n\t},\n\n};\n\nclass BaseColumn {\n\tconstructor(option = {}) {\n\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\n\n\t\t//Promisecallback\n\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n\t}\n\tget StyleClass() {\n\t\treturn BaseStyle;\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tconst {style, getRecord, drawCellBase} = info;\n\t\tconst helper = grid.getGridCanvasHelper();\n\t\tdrawCellBase();\n\n\n\t\tconst record = getRecord();\n\t\tlet promise;\n\t\tif (isPromise(record)) {\n\t\t\tpromise = record.then(() => cellValue);\n\t\t} else if (isPromise(cellValue)) {\n\t\t\tpromise = cellValue;\n\t\t}\n\t\t//\n\t\tif (promise) {\n\t\t\tconst start = Date.now();\n\t\t\treturn promise.then((val) => {\n\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\tif (!drawRect) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst time = Date.now() - start;\n\n\t\t\t\tconst drawInternal = () => {\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst record = getRecord();\n\t\t\t\t\tif (isPromise(record)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\t\t\tthis.drawInternal(\n\t\t\t\t\t\t\tthis.convertInternal(val),\n\t\t\t\t\t\t\tcurrentContext,\n\t\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\t\thelper,\n\t\t\t\t\t\t\tgrid,\n\t\t\t\t\t\t\tinfo\n\t\t\t\t\t);\n\t\t\t\t\tthis.drawMessageInternal(\n\t\t\t\t\t\t\tinfo.getMessage(),\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\t\thelper,\n\t\t\t\t\t\t\tgrid,\n\t\t\t\t\t\t\tinfo\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\n\t\t\t\t\tdrawInternal();//\n\t\t\t\t} else {\n\t\t\t\t\tconst {col, row} = context;\n\t\t\t\t\tif (time < 80) {\n\t\t\t\t\t\t//80msPromiseCallback\n\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\tthis.drawInternal(\n\t\t\t\t\tthis.convertInternal(cellValue),\n\t\t\t\t\tcontext,\n\t\t\t\t\tactStyle,\n\t\t\t\t\thelper,\n\t\t\t\t\tgrid,\n\t\t\t\t\tinfo\n\t\t\t);\n\t\t\tthis.drawMessageInternal(\n\t\t\t\t\tinfo.getMessage(),\n\t\t\t\t\tcontext,\n\t\t\t\t\tactStyle,\n\t\t\t\t\thelper,\n\t\t\t\t\tgrid,\n\t\t\t\t\tinfo\n\t\t\t);\n\t\t\t//\n\t\t\tconst {col, row} = context;\n\t\t\tconst stateKey = `${col}:${row}`;\n\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\t\t\tif (cellState) {\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\ttry {\n\t\t\t\t\tdrawCellBase();\n\t\t\t\t} finally {\n\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\tclone() {\n\t\treturn new BaseColumn(this);\n\t}\n\tconvertInternal(value) {\n\t\treturn isDef(value) ? value : '';\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\n\t}\n\tdrawMessageInternal(message, context, style, helper, grid, info) {\n\t\tinfo.messageHandler.drawCellMessage(message, context, style, helper, info);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n}\nmodule.exports = BaseColumn;\n","'use strict';\n\nconst {isDef} = require('./utils');\n\nfunction createElement(tagName, {classList, text, html} = {}) {\n\tconst element = document.createElement(tagName);\n\tif (classList) {\n\t\tif (Array.isArray(classList)) {\n\t\t\telement.classList.add(...classList);\n\t\t} else {\n\t\t\telement.classList.add(classList);\n\t\t}\n\t}\n\tif (text) {\n\t\telement.textContent = text;\n\t} else if (html) {\n\t\telement.innerHTML = html;\n\t}\n\treturn element;\n}\n\nfunction empty(dom) {\n\tlet c;\n\twhile ((c = dom.firstChild)) {\n\t\tdom.removeChild(c);\n\t}\n}\nfunction isNode(arg) {\n\treturn !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n\tif (isNode(arg)) {\n\t\treturn arg;\n\t}\n\tconst dom = createElement('div', {html: arg});\n\treturn Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n\tif ((window.jQuery && arg instanceof window.jQuery)) {\n\t\treturn Array.prototype.map.call(arg, (a) => a);\n\t}\n\tif (Array.isArray(arg)) {\n\t\treturn arg.map(toNode);\n\t}\n\tconst node = toNode(arg);\n\treturn Array.isArray(node) ? node : [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n\ttoNodeList(inner).forEach((node) => {\n\t\tdom.appendChild(node);\n\t});\n}\n\nfunction disableFocus(el) {\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\n\tel.tabIndex = -1;\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nfunction enableFocus(el) {\n\tif ('disableBeforeTabIndex' in el.dataset) {\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\n\t}\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\n}\nfunction findPrevSiblingFocusable(el) {\n\tlet n = el.previousSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.previousSibling;\n\t}\n\treturn n;\n}\nfunction findNextSiblingFocusable(el) {\n\tlet n = el.nextSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.nextSibling;\n\t}\n\treturn n;\n}\n\nmodule.exports = {\n\tcreateElement,\n\tempty,\n\tisNode,\n\ttoNode,\n\ttoNodeList,\n\tappendHtml,\n\tdisableFocus,\n\tenableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable,\n};","'use strict';\n\nconst Style = require('../style/Style');\nconst BaseColumn = require('./BaseColumn');\nconst utils = require('./columnUtils');\n\nclass Column extends BaseColumn {\n\tget StyleClass() {\n\t\treturn Style;\n\t}\n\tclone() {\n\t\treturn new Column(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\tpadding,\n\t\t\ttextOverflow,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\thelper.testFontLoad(font, value, context);\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = Column;\n","'use strict';\n\nconst BaseStyle = require('./style/BaseStyle');\nconst Style = require('./style/Style');\nconst SortHeaderStyle = require('./style/SortHeaderStyle');\nconst CheckHeaderStyle = require('./style/CheckHeaderStyle');\n\nconst style = {\n\tget BaseStyle() {\n\t\treturn BaseStyle;\n\t},\n\tget Style() {\n\t\treturn Style;\n\t},\n\tget SortHeaderStyle() {\n\t\treturn SortHeaderStyle;\n\t},\n\tget CheckHeaderStyle() {\n\t\treturn CheckHeaderStyle;\n\t},\n\tof(headerStyle, StyleClass) {\n\t\tif (headerStyle) {\n\t\t\tif (headerStyle instanceof Style) {\n\t\t\t\treturn headerStyle;\n\t\t\t} else if (typeof headerStyle === 'function') {\n\t\t\t\treturn style.of(headerStyle(), StyleClass);\n\t\t\t}\n\t\t\treturn new StyleClass(headerStyle);\n\t\t} else {\n\t\t\treturn StyleClass.DEFAULT;\n\t\t}\n\t}\n};\nmodule.exports = style;\n","'use strict';\n\nconst {isDef, str: {genChars, genWords}} = require('../internal/utils');\n\nfunction getWidth(ctx, content) {\n\treturn ctx.measureText(content).width;\n}\n\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n\tconst chars = [];\n\tlet ret = itr.next();\n\tfor (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n\t\tchars.push(ret);\n\t}\n\tlet beforeWidth = getWidth(ctx, chars.join(''));\n\tif (beforeWidth > width) {\n\t\twhile (chars.length) {\n\t\t\tconst c = chars.pop();\n\t\t\tbeforeWidth -= getWidth(ctx, c);\n\t\t\tif (beforeWidth <= width) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else if (beforeWidth < width) {\n\t\twhile (ret !== null) {\n\t\t\tconst charWidth = getWidth(ctx, ret);\n\t\t\tif (beforeWidth + charWidth > width) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tchars.push(ret);\n\t\t\tbeforeWidth += charWidth;\n\t\t\tret = itr.next();\n\t\t}\n\t}\n\tconst beforeContent = chars.join('').replace(/\\s+$/, '');\n\tconst afterContent = content.slice(beforeContent.length).replace(/^\\s+/, '');\n\treturn {\n\t\tbefore: beforeContent ? new Inline(beforeContent) : null,\n\t\tafter: afterContent ? new Inline(afterContent) : null,\n\t};\n}\n\nclass Inline {\n\tconstructor(content) {\n\t\tthis._content = isDef(content) ? content : '';\n\t}\n\twidth({ctx}) {\n\t\treturn getWidth(ctx, this._content);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(fn) {\n\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom,\n\t}) {\n\t\tcanvashelper.fillTextRect(ctx, this._content,\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t{\n\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\tpadding: {\n\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t}\n\t\t\t\t});\n\t}\n\tcanBreak() {\n\t\treturn !!this._content;\n\t}\n\tsplitIndex(index) {\n\t\tconst content = this._content;\n\t\tconst itr = genChars(content);\n\t\tconst chars = [];\n\t\tlet ret = itr.next();\n\t\tfor (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n\t\t\tchars.push(ret);\n\t\t}\n\t\tconst beforeContent = chars.join('');\n\t\tconst afterContent = content.slice(beforeContent.length);\n\t\treturn {\n\t\t\tbefore: beforeContent ? new Inline(beforeContent) : null,\n\t\t\tafter: afterContent ? new Inline(afterContent) : null,\n\t\t};\n\t}\n\tbreakWord(ctx, width) {\n\t\tconst content = this._content;\n\t\tconst allWidth = this.width({ctx});\n\t\tconst candidate = Math.floor(this._content.length * width / allWidth);\n\t\tconst itr = genWords(content);\n\t\treturn breakWidth(ctx, content, itr, candidate, width);\n\t}\n\tbreakAll(ctx, width) {\n\t\tconst content = this._content;\n\t\tconst allWidth = this.width({ctx});\n\t\tconst candidate = Math.floor(this._content.length * width / allWidth);\n\t\tconst itr = genChars(content);\n\t\treturn breakWidth(ctx, content, itr, candidate, width);\n\t}\n\ttoString() {\n\t\treturn this._content;\n\t}\n}\nmodule.exports = Inline;","'use strict';\n\nconst {isDef, obj: {each}} = require('../internal/utils');\n//private symbol\nconst _ = require('../internal/symbolManager').get();\n\nlet nextId = 1;\n/**\n\t * event target.\n\t */\nclass EventTarget {\n\tconstructor() {\n\t\tthis[_] = {};\n\t\tthis[_].listeners = {};\n\t\tthis[_].listenerData = {};\n\t}\n\t/**\n\t\t * Adds an event listener.\n\t\t * @param  {string} type The event type id.\n\t\t * @param  {function} listener Callback method.\n\t\t * @return {number} unique id for the listener.\n\t\t */\n\tlisten(type, listener) {\n\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\n\t\tlist.push(listener);\n\n\t\tconst id = nextId++;\n\t\tthis[_].listenerData[id] = {\n\t\t\ttype,\n\t\t\tlistener,\n\t\t\tremove: () => {\n\t\t\t\tdelete this[_].listenerData[id];\n\t\t\t\tconst index = list.indexOf(listener);\n\t\t\t\tlist.splice(index, 1);\n\t\t\t\tif (!this[_].listeners[type].length) {\n\t\t\t\t\tdelete this[_].listeners[type];\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t\treturn id;\n\n\t}\n\t/**\n\t\t * Removes an event listener which was added with listen() by the id returned by listen().\n\t\t * @param  {number} id the id returned by listen().\n\t\t * @return {void}\n\t\t */\n\tunlisten(id) {\n\t\tthis[_].listenerData[id].remove();\n\t}\n\taddEventListener(type, listener) {\n\t\tthis.listen(type, listener);\n\t}\n\tremoveEventListener(type, listener) {\n\t\teach(this[_].listenerData, (obj, id) => {\n\t\t\tif (obj.type === type && obj.listener === listener) {\n\t\t\t\tthis.unlisten(id);\n\t\t\t}\n\t\t});\n\t}\n\thasListeners(type) {\n\t\treturn !!this[_].listeners[type];\n\t}\n\t/**\n\t\t * Fires all registered listeners\n\t\t * @param  {string}    type The type of the listeners to fire.\n\t\t * @param  {...*} args fire arguments\n\t\t * @return {*} the result of the last listener\n\t\t */\n\tfireListeners(type, ...args) {\n\t\tconst list = this[_].listeners[type];\n\t\tif (!list) {\n\t\t\treturn [];\n\t\t}\n\t\treturn list.\n\t\t\tmap((listener) => listener.call(this, ...args)).\n\t\t\tfilter(isDef);\n\t}\n\tdispose() {\n\t\tdelete this[_];\n\t}\n}\n\nmodule.exports = EventTarget;\n","'use strict';\n\n\nconst BaseAction = require('./BaseAction');\nclass Editor extends BaseAction {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._readOnly = option.readOnly;\n\t}\n\tget readOnly() {\n\t\treturn this._readOnly;\n\t}\n\tset readOnly(readOnly) {\n\t\tthis._readOnly = !!readOnly;\n\t\tthis.onChangeReadOnlyInternal();\n\t}\n\tclone() {\n\t\treturn new Editor(this);\n\t}\n\tonChangeReadOnlyInternal() {}\n}\nmodule.exports = Editor;\n","'use strict';\n\nconst {isPromise} = require('../../internal/utils');\nconst icons = require('../../internal/icons');\nmodule.exports = {\n\tloadIcons(icon, context, helper, callback) {\n\t\tif (icon) {\n\t\t\tif (isPromise(icon)) {\n\t\t\t\ticon.then((i) => {\n\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\n\t\t\t\t});\n\t\t\t\ticon = null;\n\t\t\t} else {\n\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\n\t\t\t\ticonList.forEach((i) => {\n\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\n\t\t\t\t});\n\t\t\t\ticon = iconList;\n\t\t\t}\n\t\t}\n\t\tcallback(icon, context);\n\t},\n};\n","'use strict';\n\nconst styleContents = require('../style');\nconst {isDef} = require('../../internal/utils');\nconst {Style} = styleContents;\n\nclass BaseHeader {\n\tconstructor(options = {}) {\n\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\n\t}\n\tget StyleClass() {\n\t\treturn Style;\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tconst {style, drawCellBase} = info;\n\t\tdelete info.getRecord;\n\t\tdelete info.style;\n\t\tconst helper = grid.getGridCanvasHelper();\n\t\tdrawCellBase();\n\t\t//\n\t\tthis.drawInternal(\n\t\t\t\tthis.convertInternal(cellValue),\n\t\t\t\tcontext,\n\t\t\t\tstyleContents.of(style, this.StyleClass),\n\t\t\t\thelper,\n\t\t\t\tgrid,\n\t\t\t\tinfo\n\t\t);\n\t}\n\tconvertInternal(value) {\n\t\treturn isDef(value) ? value : '';\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\n\t}\n\tbindGridEvent(grid, range) {\n\t\treturn [];\n\t}\n}\nmodule.exports = BaseHeader;\n","'use strict';\n\nclass Rect {\n\tconstructor(left, top, width, height) {\n\t\tthis._left = left;\n\t\tthis._top = top;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t}\n\tstatic bounds(left, top, right, bottom) {\n\t\treturn new Rect(left, top, right - left, bottom - top);\n\t}\n\tstatic max(rect1, rect2) {\n\t\treturn Rect.bounds(\n\t\t\t\tMath.min(rect1.left, rect2.left),\n\t\t\t\tMath.min(rect1.top, rect2.top),\n\t\t\t\tMath.max(rect1.right, rect2.right),\n\t\t\t\tMath.max(rect1.bottom, rect2.bottom)\n\t\t);\n\t}\n\tget left() {\n\t\treturn this._left;\n\t}\n\tset left(left) {\n\t\tconst {right} = this;\n\t\tthis._left = left;\n\t\tthis.right = right;\n\t}\n\tget top() {\n\t\treturn this._top;\n\t}\n\tset top(top) {\n\t\tconst {bottom} = this;\n\t\tthis._top = top;\n\t\tthis.bottom = bottom;\n\t}\n\tget width() {\n\t\treturn this._width;\n\t}\n\tset width(width) {\n\t\tthis._width = width;\n\t\tthis._right = undefined;\n\t}\n\tget height() {\n\t\treturn this._height;\n\t}\n\tset height(height) {\n\t\tthis._height = height;\n\t\tthis._bottom = undefined;\n\t}\n\tget right() {\n\t\treturn this._right !== undefined ? this._right : (this._right = this.left + this.width);\n\t}\n\tset right(right) {\n\t\tthis._right = right;\n\t\tthis.width = right - this.left;\n\t}\n\tget bottom() {\n\t\treturn this._bottom !== undefined ? this._bottom : (this._bottom = this.top + this.height);\n\t}\n\tset bottom(bottom) {\n\t\tthis._bottom = bottom;\n\t\tthis.height = bottom - this.top;\n\t}\n\toffsetLeft(offset) {\n\t\tthis._left += offset;\n\t\tthis._right = undefined;\n\t}\n\toffsetTop(offset) {\n\t\tthis._top += offset;\n\t\tthis._bottom = undefined;\n\t}\n\tcopy() {\n\t\treturn new Rect(this.left, this.top, this.width, this.height);\n\t}\n\tintersection(rect) {\n\t\tconst x0 = Math.max(this.left, rect.left);\n\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\t\tif (x0 <= x1) {\n\t\t\tconst y0 = Math.max(this.top, rect.top);\n\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\t\t\tif (y0 <= y1) {\n\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tcontains(another) {\n\t\treturn this.left <= another.left &&\n\t\t\t\t\tthis.left + this.width >= another.left + another.width &&\n\t\t\t\t\tthis.top <= another.top &&\n\t\t\t\t\tthis.top + this.height >= another.top + another.height;\n\t}\n\tinPoint(x, y) {\n\t\treturn this.left <= x &&\n\t\t\t\t\tthis.left + this.width >= x &&\n\t\t\t\t\tthis.top <= y &&\n\t\t\t\t\tthis.top + this.height >= y;\n\t}\n}\nmodule.exports = Rect;\n","'use strict';\n\nconst {array: {findIndex}} = require('./utils');\n\nconst TYPE_PUNCTURE = 'p';\nconst TYPE_UNIT = 'u';\nconst TYPE_OPERATOR = 'o';\nconst TYPE_NUMBER = 'n';\n\nconst NODE_TYPE_UNIT = 'u';\nconst NODE_TYPE_BINARY_EXPRESSION = 'b';\nconst NODE_TYPE_NUMBER = 'n';\n\nfunction createError(calc) {\n\treturn new Error(`calc parse error: ${calc}`);\n}\n\n/**\n * tokenize\n * @param {string} calc calc expression\n * @returns {Array} tokens\n * @private\n */\nfunction tokenize(calc) {\n\tlet exp = calc.replace(/calc\\(/g, '(');\n\tconst reUnit = /^[-+]?(\\d*\\.\\d+|\\d+)[a-z%]+/i;\n\tconst reNum = /^[-+]?(\\d*\\.\\d+|\\d+)/i;\n\tconst reOp = /^[-+*/]/;\n\n\tconst tokens = [];\n\tlet re;\n\twhile ((exp = exp.trim())) {\n\t\tif (exp[0] === '(' || exp[0] === ')') {\n\t\t\ttokens.push({value: exp[0], type: TYPE_PUNCTURE});\n\t\t\texp = exp.slice(1);\n\t\t} else if ((re = reUnit.exec(exp))) {\n\t\t\ttokens.push({value: re[0], type: TYPE_UNIT});\n\t\t\texp = exp.slice(re[0].length);\n\t\t} else if ((re = reNum.exec(exp))) {\n\t\t\ttokens.push({value: re[0], type: TYPE_NUMBER});\n\t\t\texp = exp.slice(re[0].length);\n\t\t} else if ((re = reOp.exec(exp))) {\n\t\t\ttokens.push({value: re[0], type: TYPE_OPERATOR});\n\t\t\texp = exp.slice(re[0].length);\n\t\t} else {\n\t\t\tthrow createError(calc);\n\t\t}\n\t}\n\treturn tokens;\n}\n\nconst PRECEDENCE = {\n\t'*': 3,\n\t'/': 3,\n\t'+': 2,\n\t'-': 2\n};\n\nfunction lex(tokens, calc) {\n\tfunction buildBinaryExpNode(stack) {\n\t\tconst right = stack.pop();\n\t\tconst op = stack.pop();\n\t\tconst left = stack.pop();\n\n\t\tif (!left || !left.nodeType ||\n\t\t\t!op || op.type !== TYPE_OPERATOR ||\n\t\t\t!right || !right.nodeType\n\t\t) {\n\t\t\tthrow createError(calc);\n\t\t}\n\t\treturn {\n\t\t\tnodeType: NODE_TYPE_BINARY_EXPRESSION,\n\t\t\tleft,\n\t\t\top,\n\t\t\tright\n\t\t};\n\t}\n\n\tconst stack = [];\n\n\twhile (tokens.length) {\n\t\tconst token = tokens.shift();\n\t\tif (token.type === TYPE_PUNCTURE && token.value === '(') {\n\t\t\tlet deep = 0;\n\t\t\tconst closeIndex = findIndex(tokens, (t, i) => {\n\t\t\t\tif (t.type === TYPE_PUNCTURE && t.value === '(') {\n\t\t\t\t\tdeep++;\n\t\t\t\t} else if (t.type === TYPE_PUNCTURE && t.value === ')') {\n\t\t\t\t\tif (!deep) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tdeep--;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tif (closeIndex === -1) {\n\t\t\t\tthrow createError(calc);\n\t\t\t}\n\t\t\tstack.push(lex(tokens.slice(0, closeIndex), calc));\n\t\t\ttokens.splice(0, closeIndex + 1);\n\t\t} else if (token.type === TYPE_OPERATOR) {\n\t\t\tif (stack.length >= 3) {\n\t\t\t\tconst beforeOp = stack[stack.length - 2].value;\n\t\t\t\tif (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n\t\t\t\t\tstack.push(buildBinaryExpNode(stack));\n\t\t\t\t}\n\t\t\t}\n\t\t\tstack.push(token);\n\t\t} else if (token.type === TYPE_UNIT) {\n\t\t\tconst {value} = token;\n\t\t\tconst num = parseFloat(value);\n\t\t\tconst unit = /[a-z%]+/i.exec(value)[0];\n\t\t\tstack.push({\n\t\t\t\tnodeType: NODE_TYPE_UNIT,\n\t\t\t\tvalue: num,\n\t\t\t\tunit,\n\t\t\t});\n\t\t} else if (token.type === TYPE_NUMBER) {\n\t\t\tstack.push({\n\t\t\t\tnodeType: NODE_TYPE_NUMBER,\n\t\t\t\tvalue: parseFloat(token.value)\n\t\t\t});\n\t\t}\n\t}\n\twhile (stack.length > 1) {\n\t\tstack.push(buildBinaryExpNode(stack));\n\t}\n\treturn stack[0];\n}\n\nfunction parse(calcStr) {\n\tconst tokens = tokenize(calcStr);\n\treturn lex(tokens, calcStr);\n}\n\nfunction calcNode(node, context) {\n\tif (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n\t\tconst left = calcNode(node.left, context);\n\t\tconst right = calcNode(node.right, context);\n\n\t\tswitch (node.op.value) {\n\t\tcase '+':\n\t\t\treturn left + right;\n\t\tcase '-':\n\t\t\treturn left - right;\n\t\tcase '*':\n\t\t\treturn left * right;\n\t\tcase '/':\n\t\t\treturn left / right;\n\t\tdefault:\n\t\t\tthrow new Error(`calc error. unknown operator: ${node.op.value}`);\n\t\t}\n\t} else if (node.nodeType === NODE_TYPE_UNIT) {\n\t\tswitch (node.unit) {\n\t\tcase '%':\n\t\t\treturn node.value * context.full / 100;\n\t\tcase 'em':\n\t\t\treturn node.value * context.em;\n\t\tcase 'px':\n\t\t\treturn node.value;\n\t\tdefault:\n\t\t\tthrow new Error(`calc error. unknown unit: ${node.unit}`);\n\t\t}\n\t} else if (node.nodeType === NODE_TYPE_NUMBER) {\n\t\treturn node.value;\n\t}\n\tthrow new Error('calc error.');\n}\n\nfunction toPx(value, context) {\n\tconst ast = parse(value);\n\treturn calcNode(ast, context);\n}\n\nmodule.exports = {\n\ttoPx(value, context) {\n\t\tif (typeof value === 'string') {\n\t\t\treturn toPx(value.trim(), context);\n\t\t}\n\t\treturn value - 0;\n\t}\n};","'use strict';\n\n\nclass BaseAction {\n\tconstructor(option = {}) {\n\t\tthis._disabled = option.disabled;\n\t}\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tset disabled(disabled) {\n\t\tthis._disabled = !!disabled;\n\t\tthis.onChangeDisabledInternal();\n\t}\n\tclone() {\n\t\treturn new BaseAction(this);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n\tonChangeDisabledInternal() {}\n}\nmodule.exports = BaseAction;\n","'use strict';\n\nconst {isNode} = require('./utils');\n\nfunction cubicBezier(x2, y2, x3, y3) {\n\tlet step;\n\tconst err = 0.0001;\n\n\tx2 *= 3;\n\ty2 *= 3;\n\tx3 *= 3;\n\ty3 *= 3;\n\n\treturn function(t) {\n\t\tlet p,\n\t\t\ta,\n\t\t\tb,\n\t\t\tc,\n\t\t\td,\n\t\t\tx,\n\t\t\ts;\n\t\tif (t < 0 || 1 < t) {\n\t\t\tthrow new Error(t);\n\t\t}\n\n\t\tp = step || t;\n\n\t\tdo {\n\t\t\ta = 1 - p;\n\t\t\tb = a * a;\n\t\t\tc = p * p;\n\t\t\td = c * p;\n\n\t\t\tx = x2 * b * p + x3 * a * c + d;\n\t\t\ts = t - x;\n\t\t\tp += s * 0.5;\n\t\t} while (err < Math.abs(s));\n\n\t\tstep = p;\n\t\treturn\ty2 * b * p + y3 * a * c + d;\n\t};\n}\nconst EASINGS = {\n\tlinear(p) {\n\t\treturn p;\n\t},\n\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000),\n};\n\nconst raf = isNode ? () => {} : window.requestAnimationFrame || setTimeout;\n\nfunction now() {\n\treturn Date.now();\n}\n/**\n\t * <pre>\n\t * Animates.\n\t * </pre>\n\t * @function\n\t * @param {number} duration animation time.\n\t * @param {function} step step\n\t * @param {function|string} easing easing\n\t * @returns {object} Deferred object.\n\t */\nmodule.exports = (duration, step, easing) => {\n\tconst startedAt = now();\n\n\tif (!easing) {\n\t\teasing = EASINGS.easeInOut;\n\t} else if (typeof easing === 'string') {\n\t\teasing = EASINGS[easing];\n\t}\n\n\tlet canceledFlg = false;\n\tconst createAnim = (resolve, reject) => {\n\t\tconst anim = () => {\n\t\t\tconst point = now() - startedAt;\n\t\t\tif (canceledFlg) {\n\t\t\t\t//cancel\n\t\t\t\tif (reject) { reject(); }\n\t\t\t} else if (point >= duration) {\n\t\t\t\t//end\n\t\t\t\tstep(1);\n\t\t\t\tif (resolve) { resolve(); }\n\t\t\t} else {\n\t\t\t\tstep(easing(point / duration));\n\n\t\t\t\traf(anim, 1);\n\t\t\t}\n\t\t};\n\t\treturn anim;\n\t};\n\tconst cancel = () => {\n\t\tcanceledFlg = true;\n\t};\n\tif (window.Promise) {\n\t\tconst result = new window.Promise((resolve, reject) => {\n\t\t\tconst anim = createAnim(resolve, reject);\n\t\t\tstep(0);\n\t\t\tanim();\n\t\t});\n\t\tresult.cancel = cancel;\n\t\treturn result;\n\t} else {\n\t\tconst anim = createAnim(() => {}, () => {});\n\t\tstep(0);\n\t\tanim();\n\t\treturn {\n\t\t\tcancel,\n\t\t};\n\t}\n};\n","'use strict';\n\nconst BaseStyle = require('./BaseStyle');\n\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._textAlign = style.textAlign || 'left';\n\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t}\n\tget textAlign() {\n\t\treturn this._textAlign;\n\t}\n\tset textAlign(textAlign) {\n\t\tthis._textAlign = textAlign;\n\t\tthis.doChangeStyle();\n\t}\n\tget textBaseline() {\n\t\treturn this._textBaseline;\n\t}\n\tset textBaseline(textBaseline) {\n\t\tthis._textBaseline = textBaseline;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new StdBaseStyle(this);\n\t}\n}\nmodule.exports = StdBaseStyle;\n","'use strict';\n\nconst EventTarget = require('../../core/EventTarget');\n\nconst EVENT_TYPE = {\n\tCHANGE_STYLE: 'change_style',\n};\n\nlet defaultStyle;\nclass BaseStyle extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n\t}\n\tconstructor(\n\t\t\t{\n\t\t\t\tbgColor\n\t\t\t} = {}) {\n\t\tsuper();\n\t\tthis._bgColor = bgColor;\n\t}\n\tget bgColor() {\n\t\treturn this._bgColor;\n\t}\n\tset bgColor(bgColor) {\n\t\tthis._bgColor = bgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tdoChangeStyle() {\n\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t}\n\tclone() {\n\t\treturn new BaseStyle(this);\n\t}\n}\nmodule.exports = BaseStyle;\n","'use strict';\n\nconst {isDef} = require('./utils');\n\nconst ICON_PROP_KEYS = [\n\t'content',\n\t'font',\n\t'color',\n\t'className',\n\t'isLiga',\n\t'width',\n\t'src',\n\t'svg',\n\t'name',\n\t'path'\n];\n\nfunction quote(name) {\n\tconst quoted = [];\n\tconst split = name.split(/,\\s*/);\n\tfor (let i = 0; i < split.length; i++) {\n\t\tconst part = split[i].replace(/['\"]/g, '');\n\t\tif (part.indexOf(' ') === -1 && !(/^\\d/.test(part))) {\n\t\t\tquoted.push(part);\n\t\t} else {\n\t\t\tquoted.push(`'${part}'`);\n\t\t}\n\t}\n\treturn quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n\tconst tagProps = props[tagName] || (props[tagName] = {});\n\tif (tagProps[className]) {\n\t\treturn tagProps[className];\n\t}\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n\tdom.className = className;\n\tdocument.body.appendChild(dom);\n\ttry {\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n\t\tlet content = beforeStyle.getPropertyValue('content');\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n\t\t\tif (content[0] === content[content.length - 1]) {\n\t\t\t\tcontent = content.substr(1, content.length - 2);\n\t\t\t}\n\t\t}\n\t\tlet font = beforeStyle.getPropertyValue('font');\n\t\tif (!font) {\n\t\t\tfont = `${beforeStyle.getPropertyValue('font-style')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-variant')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-weight')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-size')}/${\n\t\t\t\tbeforeStyle.getPropertyValue('line-height')} ${\n\t\t\t\tquote(beforeStyle.getPropertyValue('font-family'))}`;\n\t\t}\n\t\tconst color = beforeStyle.getPropertyValue('color');\n\t\tconst width = dom.clientWidth;\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n\n\t\treturn (tagProps[className] = {\n\t\t\tcontent,\n\t\t\tfont,\n\t\t\tcolor,\n\t\t\twidth,\n\t\t\tisLiga,\n\t\t});\n\t} finally {\n\t\tdocument.body.removeChild(dom);\n\t}\n}\n\nfunction toPropArray(prop, count) {\n\tconst result = [];\n\tif (Array.isArray(prop)) {\n\t\tresult.push(...prop);\n\t\tfor (let i = prop.length; i < count; i++) {\n\t\t\tresult.push(null);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tresult.push(prop);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction toSimpleArray(iconProps) {\n\tif (!iconProps) {\n\t\treturn iconProps;\n\t} else if (Array.isArray(iconProps)) {\n\t\treturn iconProps;\n\t}\n\n\tconst workData = {};\n\n\tlet count = 0;\n\tICON_PROP_KEYS.forEach((k) => {\n\t\tif (iconProps[k]) {\n\t\t\tif (Array.isArray(iconProps[k])) {\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\n\t\t\t} else {\n\t\t\t\tcount = Math.max(count, 1);\n\t\t\t}\n\t\t}\n\t});\n\n\tICON_PROP_KEYS.forEach((k) => {\n\t\tworkData[k] = toPropArray(iconProps[k], count);\n\t});\n\n\tconst result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tconst data = {};\n\t\tICON_PROP_KEYS.forEach((k) => {\n\t\t\tdata[k] = workData[k][i];\n\t\t});\n\t\tresult.push(data);\n\t}\n\treturn result;\n}\n\nfunction normarize(iconProps) {\n\tconst data = {};\n\tfor (const k in iconProps) {\n\t\tif (k === 'className') {\n\t\t\tcontinue;\n\t\t}\n\t\tdata[k] = iconProps[k];\n\t}\n\tif (iconProps.className) {\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\t\tfor (const k in prop) {\n\t\t\tif (!isDef(iconProps[k])) {\n\t\t\t\tdata[k] = prop[k];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nmodule.exports = {\n\ttoNormarizeArray(iconProps) {\n\t\tconst icons = toSimpleArray(iconProps);\n\t\tif (!icons) {\n\t\t\treturn icons;\n\t\t}\n\t\treturn icons.map((icon) => normarize(icon));\n\t},\n\tget iconPropKeys() {\n\t\treturn ICON_PROP_KEYS;\n\t},\n\tgetIconProps,\n};\n\n\n","'use strict';\n\n\nclass BaseAction {\n\tconstructor(option = {}) {\n\t\tthis._disabled = option.disabled;\n\t}\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tset disabled(disabled) {\n\t\tthis._disabled = !!disabled;\n\t\tthis.onChangeDisabledInternal();\n\t}\n\tclone() {\n\t\treturn new BaseAction(this);\n\t}\n\tbindGridEvent(grid, range) {\n\t\treturn [];\n\t}\n\tonChangeDisabledInternal() {}\n}\nmodule.exports = BaseAction;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\nlet defaultStyle;\nclass Style extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._color = style.color;\n\t\tthis._font = style.font;\n\t\tthis._textOverflow = style.textOverflow || 'ellipsis';\n\t}\n\tget color() {\n\t\treturn this._color;\n\t}\n\tset color(color) {\n\t\tthis._color = color;\n\t\tthis.doChangeStyle();\n\t}\n\tget font() {\n\t\treturn this._font;\n\t}\n\tset font(font) {\n\t\tthis._font = font;\n\t\tthis.doChangeStyle();\n\t}\n\tget textOverflow() {\n\t\treturn this._textOverflow;\n\t}\n\tset textOverflow(textOverflow) {\n\t\tthis._textOverflow = textOverflow;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new Style(this);\n\t}\n}\nmodule.exports = Style;\n","'use strict';\n\nconst {extend, getIgnoreCase} = require('./internal/utils');\nconst theme = require('./themes/theme');\nconst {Theme} = theme;\nconst plugins = require('./plugins/themes');\nconst BASIC = new Theme(require('./themes/BASIC'));\nconst MATERIAL_DESIGN = new Theme(require('./themes/MATERIAL_DESIGN'));\n\nconst builtin = {\n\tBASIC,\n\tMATERIAL_DESIGN,\n};\nlet defTheme = MATERIAL_DESIGN;\n/**\n * themes\n * @type {Object}\n * @namespace cheetahGrid.themes\n * @memberof cheetahGrid\n */\nconst themes = {\n\tget default() {\n\t\treturn defTheme;\n\t},\n\tset default(defaultTheme) {\n\t\tdefTheme = themes.of(defaultTheme) || defTheme;\n\t},\n\tget MATERIAL_DESIGN() {\n\t\treturn MATERIAL_DESIGN;\n\t},\n\tget BASIC() {\n\t\treturn BASIC;\n\t},\n\ttheme,\n\tof(value) {\n\t\tif (!value) {\n\t\t\treturn null;\n\t\t}\n\t\tif (typeof value === 'string') {\n\t\t\tconst t = getIgnoreCase(themes.choices, value);\n\t\t\tif (t) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tif (value instanceof Theme) {\n\t\t\treturn value;\n\t\t}\n\t\treturn new Theme(value);\n\t},\n\t/**\n\t * @namespace cheetahGrid.themes.choices\n\t */\n\tget choices() {\n\t\treturn extend(builtin, plugins);\n\t},\n};\nmodule.exports = themes;\n","'use strict';\n\nconst {array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn} = require('../internal/utils');\nconst sort = require('../internal/sort');\nconst EventTarget = require('../core/EventTarget');\n\nconst EVENT_TYPE = {\n\tUPDATE_LENGTH: 'update_length',\n\tUPDATED_LENGTH: 'updated_length',\n\tUPDATED_ORDER: 'updated_order',\n};\n\nfunction getValue(value, setPromiseBack) {\n\tvalue = getOrApply(value);\n\tif (isPromise(value)) {\n\t\tvalue = value.then((r) => {\n\t\t\tif (!isPromise(r)) {\n\t\t\t\tsetPromiseBack(r);\n\t\t\t}\n\t\t\treturn getValue(r, setPromiseBack);\n\t\t});\n\t\t//\n\t\tsetPromiseBack(value);\n\t}\n\treturn value;\n}\n\nfunction getField(record, field, setPromiseBack) {\n\tif (!isDef(record)) {\n\t\treturn undefined;\n\t}\n\tif (isPromise(record)) {\n\t\treturn record.then((r) => getField(r, field, setPromiseBack));\n\t}\n\tif (field in record) {\n\t\treturn getValue(record[field], setPromiseBack);\n\t}\n\tif (typeof field === 'function') {\n\t\treturn getValue(field(record), setPromiseBack);\n\t}\n\n\tconst ss = (`${field}`).split('.');\n\tif (ss.length <= 1) {\n\t\treturn getValue(record[field], setPromiseBack);\n\t}\n\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n}\nfunction setField(record, field, value) {\n\tif (field in record) {\n\t\trecord[field] = value;\n\t} else if (typeof field === 'function') {\n\t\treturn field(record, value);\n\t} else if (typeof field === 'string') {\n\t\tconst ss = (`${field}`).split('.');\n\t\tlet obj = record;\n\t\tconst {length} = ss;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst f = ss[i];\n\t\t\tif (i === length - 1) {\n\t\t\t\tobj[f] = value;\n\t\t\t} else {\n\t\t\t\tobj = obj[f] || (obj[f] = {});\n\t\t\t}\n\t\t}\n\t} else {\n\t\trecord[field] = value;\n\t}\n\treturn true;\n}\nfunction _getIndex(dataSource, index) {\n\tif (!dataSource._sortedIndexMap) {\n\t\treturn index;\n\t}\n\tconst mapIndex = dataSource._sortedIndexMap[index];\n\treturn isDef(mapIndex) ? mapIndex : index;\n}\n\n/**\n\t * grid data source\n\t *\n\t * @classdesc cheetahGrid.data.DataSource\n\t * @extends EventTarget\n\t * @memberof cheetahGrid.data\n\t */\nclass DataSource extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tstatic ofArray(array) {\n\t\treturn new DataSource({\n\t\t\tget: (index) => array[index],\n\t\t\tlength: array.length\n\t\t});\n\t}\n\tconstructor(obj = {}) {\n\t\tsuper();\n\t\tthis._get = obj.get && obj.get.bind(obj) || undefined;\n\t\tthis._length = obj.length || 0;\n\t\tthis._sortedIndexMap = false;\n\t}\n\tget(index) {\n\t\treturn this.getOriginal(_getIndex(this, index));\n\t}\n\tgetField(index, field) {\n\t\treturn this.getOriginalField(_getIndex(this, index), field);\n\t}\n\thasField(index, field) {\n\t\treturn this.hasOriginalField(_getIndex(this, index), field);\n\t}\n\tsetField(index, field, value) {\n\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\n\t}\n\tsort(field, order) {\n\t\tconst sortedIndexMap = new Array(this._length);\n\n\t\tconst orderFn = order !== 'desc'\n\t\t\t? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1\n\t\t\t: (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n\n\t\treturn sort.sortPromise(\n\t\t\t\t(index) => isDef(sortedIndexMap[index])\n\t\t\t\t\t? sortedIndexMap[index]\n\t\t\t\t\t: (sortedIndexMap[index] = index),\n\t\t\t\t(index, rel) => {\n\t\t\t\t\tsortedIndexMap[index] = rel;\n\t\t\t\t},\n\t\t\t\tthis._length,\n\t\t\t\torderFn,\n\t\t\t\t(index) => this.getOriginalField(index, field)\n\t\t).then(() => {\n\t\t\tthis._sortedIndexMap = sortedIndexMap;\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n\t\t});\n\t}\n\tget length() {\n\t\treturn this._length;\n\t}\n\tset length(length) {\n\t\tif (this._length === length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\t\tif (array.findIndex(results, (v) => !v) >= 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis._length = length;\n\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n\t}\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n\tgetOriginal(index) {\n\t\treturn getValue(this._get(index), (val) => {\n\t\t\tthis.recordPromiseCallBackInternal(index, val);\n\t\t});\n\t}\n\tgetOriginalField(index, field) {\n\t\tif (!isDef(field)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this.getOriginal(index);\n\t\treturn getField(record, field, (val) => {\n\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\n\t\t});\n\t}\n\thasOriginalField(index, field) {\n\t\tif (!isDef(field)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof field === 'function') {\n\t\t\treturn true;\n\t\t}\n\t\tconst record = this.getOriginal(index);\n\t\treturn record && field in record;\n\t}\n\tsetOriginalField(index, field, value) {\n\t\tif (!isDef(field)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this.getOriginal(index);\n\t\treturn setField(record, field, value);\n\t}\n\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t//\n\t}\n\trecordPromiseCallBackInternal(index, val) {\n\t\t//\n\t}\n}\nDataSource.EMPTY = new DataSource({\n\tlength: 0,\n});\n\nmodule.exports = DataSource;\n","'use strict';\n\nconst {browser} = require('./utils');\n\nfunction getPath2D() {\n\tif (window.Path2D && !browser.Edge) {\n\t\treturn window.Path2D;\n\t}\n\treturn require('./legacy/canvas/Path2D');\n}\n\nmodule.exports = {\n\tfill(module, ctx, x, y, w, h) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst {width, height} = module;\n\t\t\tconst {ud: upsideDown, x: offsetX = 0, y: offsetY = 0} = module;\n\t\t\tw = w || width;\n\t\t\th = h || height;\n\t\t\tconst xrate = w / width;\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\n\t\t\tx = x || 0;\n\t\t\ty = upsideDown ? ((y || 0) + (-height * yrate)) : (y || 0);\n\n\t\t\tctx.translate(x, y);\n\t\t\tctx.scale(xrate, yrate);\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\n\t\t\t\tctx.translate(offsetX, offsetY);\n\t\t\t}\n\t\t\tconst Path2D = getPath2D();\n\t\t\tmodule.path2d = module.path2d || (new Path2D(module.d));\n\t\t\tctx.fill(module.path2d);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t},\n\tget Path2D() {\n\t\treturn getPath2D();\n\t},\n};\n","'use strict';\n\nconst {extend} = require('../internal/utils');\nconst DrawGrid = require('../core/DrawGrid');\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n\tCHANGED_VALUE: 'changed_value',\n\tCHANGED_HEADER_VALUE: 'changed_header_value',\n});\nmodule.exports = EVENT_TYPE;","'use strict';\n\nclass BaseMessage {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachMessageElement();\n\t\tif (this._messageElement) {\n\t\t\tthis._messageElement.dispose();\n\t\t}\n\t\tthis._messageElement = null;\n\t}\n\t_getMessageElement() {\n\t\treturn this._messageElement || (this._messageElement = this.createMessageElementInternal());\n\t}\n\tcreateMessageElementInternal() {\n\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\n\t}\n\tattachMessageElement(col, row, message) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.attach(this._grid, col, row, message);\n\t}\n\tmoveMessageElement(col, row) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.move(this._grid, col, row);\n\t}\n\tdetachMessageElement() {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement._detach();\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\t\tthis.drawCellMessageInternal(message, context, style, helper, info);\n\t}\n}\n\nmodule.exports = BaseMessage;","'use strict';\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n\trequire('./MessageElement.css');\n\tconst rootElement = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst messageElement = createElement('span', {classList: [MESSAGE_CLASSNAME]});\n\trootElement.appendChild(messageElement);\n\treturn rootElement;\n}\n\n\nclass MessageElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createMessageDomElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, message) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = message.message;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t\tconst {bottom: top, left, width} = rect;\n\t\tconst {frozenRowCount, frozenColCount} = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tconst {offsetHeight, offsetWidth} = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false;//\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false;//\n\t\t}\n\n\t\trootElement.style.top = `${top.toFixed()}px`;\n\t\trootElement.style.left = `${left.toFixed()}px`;\n\t\trootElement.style.width = `${width.toFixed()}px`;\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = MessageElement;","'use strict';\n\nconst Rect = require('../../internal/Rect');\nmodule.exports = {\n\tdrawExclamationMarkBox(context, style, helper) {\n\n\t\tconst {bgColor, color} = style;\n\t\tconst ctx = context.getContext();\n\t\tconst rect = context.getRect();\n\t\t// draw box\n\t\tctx.fillStyle = bgColor;\n\t\tconst boxRect = rect.copy();\n\t\tboxRect.left = boxRect.right - 24;\n\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t// draw exclamation mark\n\t\tconst fillColor = color;\n\t\tconst height = 20;\n\t\tconst width = height / 5;\n\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3),\n\t\t\t\tcontext, {fillColor});\n\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5),\n\t\t\t\tcontext, {fillColor});\n\t},\n\tdrawInfomationMarkBox(context, style, helper) {\n\n\t\tconst {bgColor, color} = style;\n\t\tconst ctx = context.getContext();\n\t\tconst rect = context.getRect();\n\t\t// draw box\n\t\tctx.fillStyle = bgColor;\n\t\tconst boxRect = rect.copy();\n\t\tboxRect.left = boxRect.right - 24;\n\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t// draw i mark\n\t\tconst fillColor = color;\n\t\tconst height = 20;\n\t\tconst width = height / 5;\n\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5),\n\t\t\t\tcontext, {fillColor});\n\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3),\n\t\t\t\tcontext, {fillColor});\n\t},\n};\n","'use strict';\n\nfunction getScrollBarWidth() {\n\tconst dummy = document.createElement('div');\n\tconst {style} = dummy;\n\tstyle.position = 'absolute';\n\tstyle.height = '9999px';\n\tstyle.width = 'calc(100vw - 100%)';\n\tstyle.opacity = 0;\n\tdummy.textContent = 'x';\n\tdocument.body.appendChild(dummy);\n\tconst {width} = document.defaultView.getComputedStyle(dummy, '');\n\tdocument.body.removeChild(dummy);\n\treturn parseInt(width, 10);\n}\n\nlet SCROLLBAR_SIZE;\nconst initDocument = () => {\n\trequire('./style.css');\n\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\n\tconst style = document.createElement('style');\n\tstyle.setAttribute('type', 'text/css');\n\tstyle.setAttribute('data-name', 'cheetah-grid');\n\tstyle.innerHTML =\n\t\t`\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n\n\tdocument.head.appendChild(style);\n};\n\nconst style = {\n\tinitDocument() {\n\t\tstyle.initDocument = () => {};\n\t\tinitDocument();\n\t},\n\tgetScrollBarSize() {\n\t\treturn SCROLLBAR_SIZE;\n\t}\n};\n\nmodule.exports = style;\n","'use strict';\n\nconst {calcBasePosition, calcStartPosition, getFontSize} = require('../internal/canvases');\nconst {ceil, PI} = Math;\n\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n\tfunction strokeRectLines(positions) {\n\t\tfor (let i = 0; i < borderColors.length; i++) {\n\t\t\tconst color = borderColors[i];\n\t\t\tconst preColor = borderColors[i - 1];\n\t\t\tif (color) {\n\t\t\t\tif (preColor !== color) {\n\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t\tconst pos1 = positions[i];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\n\t\t\t\t}\n\t\t\t\tconst pos2 = positions[i + 1];\n\t\t\t\tctx.lineTo(pos2.x, pos2.y);\n\t\t\t} else {\n\t\t\t\tif (preColor) {\n\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst preColor = borderColors[borderColors.length - 1];\n\t\tif (preColor) {\n\t\t\tctx.strokeStyle = preColor;\n\t\t\tctx.stroke();\n\t\t}\n\t}\n\tif (borderColors[0] === borderColors[1] &&\n\t\t\tborderColors[0] === borderColors[2] &&\n\t\t\tborderColors[0] === borderColors[3]) {\n\t\tif (borderColors[0]) {\n\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\tctx.strokeRect(left, top, width, height);\n\t\t}\n\t} else {\n\t\tstrokeRectLines([\n\t\t\t{x: left, y: top},\n\t\t\t{x: left + width, y: top},\n\t\t\t{x: left + width, y: top + height},\n\t\t\t{x: left, y: top + height},\n\t\t\t{x: left, y: top},\n\t\t]);\n\t}\n}\nfunction roundRect(ctx, left, top, width, height, radius) {\n\tctx.beginPath();\n\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n\tctx.closePath();\n}\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n\troundRect(ctx, left, top, width, height, radius);\n\tctx.fill();\n}\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n\troundRect(ctx, left, top, width, height, radius);\n\tctx.stroke();\n}\nfunction fillTextRect(ctx, text, left, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcBasePosition(ctx, rect, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\n\t\tctx.fillText(text, pos.x, pos.y);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\nfunction drawInlineImageRect(ctx, image,\n\t\tsrcLeft, srcTop, srcWidth, srcHeight,\n\t\tdestWidth, destHeight,\n\t\tleft, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\n\t\tctx.drawImage(image,\n\t\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\n\t\t\t\tpos.x, pos.y, destWidth, destHeight\n\t\t);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n/**\n\t * Returns an object containing the width of the checkbox.\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @return {Object} Object containing the width of the checkbox\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\nfunction measureCheckbox(ctx) {\n\treturn {\n\t\twidth: getFontSize(ctx, null).width\n\t};\n}\n\n/**\n\t * draw Checkbox\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {boolean|number} check checkbox check status\n\t * @param  {object} option option\n\t * @return {void}\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\nfunction drawCheckbox(ctx, x, y, check,\n\t\t{\n\t\t\tuncheckBgColor = '#FFF',\n\t\t\tcheckBgColor = 'rgb(76, 73, 72)',\n\t\t\tborderColor = '#000',\n\t\t\tboxSize = measureCheckbox(ctx).width,\n\t\t} = {}) {\n\tconst checkPoint = typeof check === 'number' ? (check > 1 ? 1 : check) : 1;\n\n\tctx.save();\n\ttry {\n\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n\n\t\tfillRoundRect(\n\t\t\t\tctx,\n\t\t\t\tceil(x) - 1,\n\t\t\t\tceil(y) - 1,\n\t\t\t\tceil(boxSize + 1),\n\t\t\t\tceil(boxSize + 1),\n\t\t\t\tboxSize / 5\n\t\t);\n\t\tctx.lineWidth = 1;\n\t\tctx.strokeStyle = borderColor;\n\t\tstrokeRoundRect(\n\t\t\t\tctx,\n\t\t\t\tceil(x) - 0.5,\n\t\t\t\tceil(y) - 0.5,\n\t\t\t\tceil(boxSize),\n\t\t\t\tceil(boxSize),\n\t\t\t\tboxSize / 5\n\t\t);\n\t\tif (check) {\n\t\t\tctx.lineWidth = ceil(boxSize / 10);\n\t\t\tctx.strokeStyle = uncheckBgColor;\n\t\t\tlet leftWidth = boxSize / 4;\n\t\t\tlet rightWidth = boxSize / 2 * 0.9;\n\t\t\tconst leftLeftPos = x + boxSize * 0.2;\n\t\t\tconst leftTopPos = y + boxSize / 2;\n\n\t\t\tif (checkPoint < 0.5) {\n\t\t\t\tleftWidth *= (checkPoint * 2);\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\n\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\t\t\tif (checkPoint > 0.5) {\n\t\t\t\tif (checkPoint < 1) {\n\t\t\t\t\trightWidth *= ((checkPoint - 0.5) * 2);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n\t\t\t}\n\t\t\tctx.stroke();\n\t\t}\n\t} finally {\n\t\tctx.restore();\n\t}\n}\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n\tconst {\n\t\tbackgroundColor = '#FFF',\n\t\tbgColor = backgroundColor,\n\t\tradius = 4,\n\t\tshadow = {},\n\t} = option;\n\tctx.save();\n\ttry {\n\t\tctx.fillStyle = bgColor;\n\n\t\tif (shadow) {\n\t\t\tconst {\n\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\n\t\t\t\tblur = 1,\n\t\t\t\toffsetX = 0,\n\t\t\t\toffsetY = 2,\n\t\t\t\toffset: {\n\t\t\t\t\tx: ox = offsetX,\n\t\t\t\t\ty: oy = offsetY\n\t\t\t\t} = {},\n\t\t\t} = shadow;\n\t\t\tctx.shadowColor = color;\n\t\t\tctx.shadowBlur = blur; //\n\t\t\tctx.shadowOffsetX = ox;\n\t\t\tctx.shadowOffsetY = oy;\n\t\t}\n\n\t\tfillRoundRect(\n\t\t\t\tctx,\n\t\t\t\tceil(left),\n\t\t\t\tceil(top),\n\t\t\t\tceil(width),\n\t\t\t\tceil(height),\n\t\t\t\tradius\n\t\t);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n/**\n\t * canvashelper\n\t * @type {Object}\n\t * @namespace cheetahGrid.tools.canvashelper\n\t * @memberof cheetahGrid.tools\n\t */\nconst canvashelper = {\n\troundRect,\n\tfillRoundRect,\n\tstrokeRoundRect,\n\tdrawCheckbox,\n\tmeasureCheckbox,\n\tfillTextRect,\n\tdrawButton,\n\tdrawInlineImageRect,\n\tstrokeColorsRect,\n};\n\n\nmodule.exports = canvashelper;\n","'use strict';\n\nconst action = require('./columns/action');\nconst type = require('./columns/type');\nconst style = require('./columns/style');\n\n/**\n * columns\n * @type {Object}\n * @namespace cheetahGrid.columns\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\taction,\n\ttype,\n\tstyle,\n};\n","'use strict';\n\nconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\n\nconst BaseAction = require('./BaseAction');\n\nclass Action extends BaseAction {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._action = option.action;\n\t}\n\tget action() {\n\t\treturn this._action;\n\t}\n\tset action(action) {\n\t\tthis._action = action;\n\t}\n\tclone() {\n\t\treturn new Action(this);\n\t}\n\tgetState(grid) {\n\t\treturn {};\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst state = this.getState(grid);\n\t\tconst action = (cell) => {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst record = grid.getRowRecord(cell.row);\n\t\t\tthis._action(record);\n\t\t};\n\n\t\treturn [\n\t\t\t...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction\n\t\t\t})\n\t\t];\n\t}\n}\n\nmodule.exports = Action;\n","'use strict';\n\nconst {isPromise, event: {cancel}} = require('../../internal/utils');\nconst {EVENT_TYPE: {\n\tCLICK_CELL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tKEYDOWN,\n}} = require('../../core/DrawGrid');\nconst KEY_ENTER = 13;\nfunction bindCellClickAction(grid, col, util, {\n\taction,\n\tmouseOver,\n\tmouseOut\n}) {\n\treturn [\n\t\t// click\n\t\tgrid.listen(CLICK_CELL, (e) => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: e.col,\n\t\t\t\trow: e.row\n\t\t\t});\n\t\t}),\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOver) {\n\t\t\t\tif (!mouseOver({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t})) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}),\n\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOut) {\n\t\t\t\tmouseOut({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t}),\n\t];\n}\nfunction bindCellKeyAction(grid, col, util, {action, acceptKeys = []}) {\n\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\treturn [\n\t\t// enter key down\n\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t\tcancel(e);\n\t\t}),\n\n\t];\n}\n\nmodule.exports = {\n\tbindCellClickAction,\n\tbindCellKeyAction,\n};\n","'use strict';\n\nconst {\n\tevent: {\n\t\tcancel: cancelEvent,\n\t}\n} = require('../../internal/utils');\nconst Editor = require('./Editor');\nconst {EVENT_TYPE: {\n\tINPUT_CELL,\n\tPASTE_CELL,\n\tEDITABLEINPUT_CELL,\n\tSELECTED_CELL,\n\tDBLCLICK_CELL,\n\tDBLTAP_CELL,\n\tKEYDOWN,\n\tMODIFY_STATUS_EDITABLEINPUT_CELL,\n\tSCROLL\n}} = require('../../core/DrawGrid');\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass BaseInputEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t}\n\tclone() {\n\t\treturn new BaseInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tthrow new Error();\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tthrow new Error();\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tthrow new Error();\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tthrow new Error();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tthrow new Error();\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = (cell) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onOpenCellInternal(grid, cell);\n\t\t};\n\n\t\tconst input = (cell, value) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onInputCellInternal(grid, cell, value);\n\t\t};\n\t\treturn [\n\t\t\tgrid.listen(INPUT_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t}, e.value);\n\t\t\t}),\n\t\t\tgrid.listen(PASTE_CELL, (e) => {\n\t\t\t\tif (e.multi) {\n\t\t\t\t\t// ignore multi cell values\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcancelEvent(e.event);\n\t\t\t\tinput({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t}, e.normalizeValue);\n\t\t\t}),\n\t\t\tgrid.listen(DBLCLICK_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(DBLTAP_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\n\t\t\t\tcancelEvent(e.event);\n\t\t\t}),\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\t\tthis.onChangeSelectCellInternal(grid, {col: e.col, row: e.row}, e.selected);\n\t\t\t}),\n\t\t\tgrid.listen(SCROLL, () => {\n\t\t\t\tthis.onGridScrollInternal(grid);\n\t\t\t}),\n\t\t\tgrid.listen(EDITABLEINPUT_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}),\n\t\t\tgrid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onSetInputAttrsInternal(grid, {\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t}, cell.input);\n\t\t\t}),\n\n\t\t];\n\t}\n}\n\nmodule.exports = BaseInputEditor;\n","'use strict';\n\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalize(options) {\n\tif (!options) {\n\t\treturn [];\n\t}\n\tif (Array.isArray(options)) {\n\t\treturn options;\n\t}\n\tif (typeof options === 'string') {\n\t\treturn normalize(JSON.parse(options));\n\t}\n\tconst result = [];\n\tfor (const k in options) {\n\t\tresult.push({\n\t\t\tvalue: k,\n\t\t\tcaption: options[k]\n\t\t});\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tnormalize,\n};\n","'use strict';\n\nconst BaseStyle = require('./style/BaseStyle');\nconst Style = require('./style/Style');\nconst NumberStyle = require('./style/NumberStyle');\nconst CheckStyle = require('./style/CheckStyle');\nconst ButtonStyle = require('./style/ButtonStyle');\nconst ImageStyle = require('./style/ImageStyle');\nconst IconStyle = require('./style/IconStyle');\nconst PercentCompleteBarStyle = require('./style/PercentCompleteBarStyle');\nconst MultilineTextStyle = require('./style/MultilineTextStyle');\nconst MenuStyle = require('./style/MenuStyle');\n\n/**\n * column styles\n * @type {Object}\n * @namespace cheetahGrid.columns.style\n * @memberof cheetahGrid.columns\n */\nconst style = {\n\tget EVENT_TYPE() {\n\t\treturn BaseStyle.EVENT_TYPE;\n\t},\n\tget BaseStyle() {\n\t\treturn BaseStyle;\n\t},\n\tget Style() {\n\t\treturn Style;\n\t},\n\tget NumberStyle() {\n\t\treturn NumberStyle;\n\t},\n\tget CheckStyle() {\n\t\treturn CheckStyle;\n\t},\n\tget ButtonStyle() {\n\t\treturn ButtonStyle;\n\t},\n\tget ImageStyle() {\n\t\treturn ImageStyle;\n\t},\n\tget IconStyle() {\n\t\treturn IconStyle;\n\t},\n\tget PercentCompleteBarStyle() {\n\t\treturn PercentCompleteBarStyle;\n\t},\n\tget MultilineTextStyle() {\n\t\treturn MultilineTextStyle;\n\t},\n\tget MenuStyle() {\n\t\treturn MenuStyle;\n\t},\n\tof(columnStyle, record, StyleClass) {\n\t\tif (columnStyle) {\n\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\treturn columnStyle;\n\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\n\t\t\t} else if (record && columnStyle in record) {\n\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\n\t\t\t}\n\t\t\treturn new StyleClass(columnStyle);\n\t\t} else {\n\t\t\treturn StyleClass.DEFAULT;\n\t\t}\n\t}\n};\nmodule.exports = style;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'right'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass NumberStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t}\n\tclone() {\n\t\treturn new NumberStyle(this);\n\t}\n}\n\n\nmodule.exports = NumberStyle;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass CheckStyle extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tconst {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor,\n\t\t} = style;\n\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\tthis._checkBgColor = checkBgColor;\n\t\tthis._borderColor = borderColor;\n\t}\n\tget uncheckBgColor() {\n\t\treturn this._uncheckBgColor;\n\t}\n\tset uncheckBgColor(uncheckBgColor) {\n\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget checkBgColor() {\n\t\treturn this._checkBgColor;\n\t}\n\tset checkBgColor(checkBgColor) {\n\t\tthis._checkBgColor = checkBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget borderColor() {\n\t\treturn this._borderColor;\n\t}\n\tset borderColor(borderColor) {\n\t\tthis._borderColor = borderColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new CheckStyle(this);\n\t}\n}\n\n\nmodule.exports = CheckStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass ButtonStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tconst {\n\t\t\tbuttonBgColor,\n\t\t} = style;\n\t\tthis._buttonBgColor = buttonBgColor;\n\t}\n\tget buttonBgColor() {\n\t\treturn this._buttonBgColor;\n\t}\n\tset buttonBgColor(buttonBgColor) {\n\t\tthis._buttonBgColor = buttonBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new ButtonStyle(this);\n\t}\n}\n\n\nmodule.exports = ButtonStyle;\n","'use strict';\n\nconst StdBaseStyle = require('./StdBaseStyle');\nlet defaultStyle;\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nclass ImageStyle extends StdBaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._imageSizing = style.imageSizing;\n\t\tthis._margin = style.margin || 4;\n\t}\n\tget imageSizing() {\n\t\treturn this._imageSizing;\n\t}\n\tset imageSizing(imageSizing) {\n\t\tthis._imageSizing = imageSizing;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new ImageStyle(this);\n\t}\n}\nmodule.exports = ImageStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass IconStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t}\n\tclone() {\n\t\treturn new IconStyle(this);\n\t}\n}\n\n\nmodule.exports = IconStyle;\n","'use strict';\n\nconst Style = require('./Style');\nlet defaultStyle;\nconst DEFAULT_BAR_COLOR = (num) => {\n\tif (num > 80) {\n\t\treturn '#20a8d8';\n\t}\n\tif (num > 50) {\n\t\treturn '#4dbd74';\n\t}\n\tif (num > 20) {\n\t\treturn '#ffc107';\n\t}\n\treturn '#f86c6b';\n};\nclass PercentCompleteBarStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new PercentCompleteBarStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\n\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\n\t\tthis._barHeight = style.barHeight || 3;\n\t}\n\tget barColor() {\n\t\treturn this._barColor;\n\t}\n\tset barColor(barColor) {\n\t\tthis._barColor = barColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget barBgColor() {\n\t\treturn this._barBgColor;\n\t}\n\tset barBgColor(barBgColor) {\n\t\tthis._barBgColor = barBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget barHeight() {\n\t\treturn this._barHeight;\n\t}\n\tset barHeight(barHeight) {\n\t\tthis._barHeight = barHeight;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new PercentCompleteBarStyle(this);\n\t}\n}\nmodule.exports = PercentCompleteBarStyle;\n","'use strict';\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textBaseline = 'top'} = style;\n\tstyle.textBaseline = textBaseline;\n\treturn style;\n}\nlet defaultStyle;\nclass MultilineTextStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new MultilineTextStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._lineHeight = style.lineHeight || '1em';\n\t\tthis._autoWrapText = style.autoWrapText || false;\n\t\tthis._lineClamp = style.lineClamp;\n\t}\n\tclone() {\n\t\treturn new MultilineTextStyle(this);\n\t}\n\tget lineHeight() {\n\t\treturn this._lineHeight;\n\t}\n\tset lineHeight(lineHeight) {\n\t\tthis._lineHeight = lineHeight;\n\t\tthis.doChangeStyle();\n\t}\n\tget lineClamp() {\n\t\treturn this._lineClamp;\n\t}\n\tset lineClamp(lineClamp) {\n\t\tthis._lineClamp = lineClamp;\n\t\tthis.doChangeStyle();\n\t}\n\tget autoWrapText() {\n\t\treturn this._autoWrapText;\n\t}\n\tset autoWrapText(autoWrapText) {\n\t\tthis._autoWrapText = autoWrapText;\n\t\tthis.doChangeStyle();\n\t}\n}\nmodule.exports = MultilineTextStyle;","'use strict';\n\nconst Style = require('./Style');\n\nlet defaultStyle;\nclass MenuStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tconst {\n\t\t\tappearance,\n\t\t} = style;\n\t\tthis._appearance = appearance;\n\t}\n\tget appearance() {\n\t\treturn this._appearance || 'menulist-button';\n\t}\n\tset appearance(appearance) {\n\t\tthis._appearance = appearance;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new MenuStyle(this);\n\t}\n}\n\n\nmodule.exports = MenuStyle;\n","'use strict';\n\nconst {then} = require('./utils');\nconst LRUCache = require('./LRUCache');\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n\treturn url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n\tif (!window.Promise) {\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\n\t\treturn {\n\t\t\tthen() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t}\n\tconst img = new Image();\n\tconst result = new window.Promise((resolve) => {\n\t\timg.onload = () => {\n\t\t\tresolve(img);\n\t\t};\n\t});\n\timg.onerror = (e) => {\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n\t\tconsole.warn(`cannot load: ${url}`);\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\n\t};\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n\treturn result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n\treturn then(src, (src) => {\n\t\tconst c = cache.get(src);\n\t\tif (c) {\n\t\t\treturn c;\n\t\t}\n\t\tconst result = loadImage(src).then((img) => {\n\t\t\tcache.put(src, img);\n\t\t\treturn img;\n\t\t});\n\t\tcache.put(src, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n\treturn getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n\tloadImage,\n\tgetCacheOrLoad,\n};\n","'use strict';\n\nconst BaseAction = require('./action/BaseAction');\nconst SortHeaderAction = require('./action/SortHeaderAction');\nconst CheckHeaderAction = require('./action/CheckHeaderAction');\n\nclass ImmutableSortHeaderAction extends SortHeaderAction {\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n}\nclass ImmutableCheckHeaderAction extends CheckHeaderAction {\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n}\n\n/**\n * column actions\n * @type {Object}\n * @namespace cheetahGrid.columns.action\n * @memberof cheetahGrid.columns\n */\nconst action = {\n\tACTIONS: {\n\t\tSORT: new ImmutableSortHeaderAction(),\n\t\tCHECK: new ImmutableCheckHeaderAction(),\n\t},\n\tget BaseAction() {\n\t\treturn BaseAction;\n\t},\n\tget SortHeaderAction() {\n\t\treturn SortHeaderAction;\n\t},\n\tget CheckHeaderAction() {\n\t\treturn CheckHeaderAction;\n\t},\n\tof(headerAction) {\n\t\tif (!headerAction) {\n\t\t\treturn undefined;\n\t\t} else if (typeof headerAction === 'string') {\n\t\t\treturn action.ACTIONS[headerAction.toUpperCase()] || action.of(null);\n\t\t} else {\n\t\t\treturn headerAction;\n\t\t}\n\t},\n\tofCell(headerCell) {\n\t\tif (headerCell.sort) {\n\t\t\tif (headerCell.sort === 'function') {\n\t\t\t\t// 0.9.0 Backward compatibility\n\t\t\t\tconst sort = ({order, col, grid}) => headerCell.sort(order, col, grid);\n\t\t\t\treturn new ImmutableSortHeaderAction({sort});\n\t\t\t}\n\t\t\treturn action.ACTIONS.SORT;\n\t\t}\n\t\treturn action.of(headerCell.action);\n\t}\n};\nmodule.exports = action;\n","'use strict';\n\nconst {event: {cancel}} = require('../../internal/utils');\nconst {EVENT_TYPE: {\n\tCLICK_CELL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tMOUSEMOVE_CELL,\n\tKEYDOWN,\n}} = require('../../core/DrawGrid');\nconst KEY_ENTER = 13;\nfunction bindCellClickAction(grid, range, {\n\taction,\n\tmouseOver,\n\tmouseOut\n}) {\n\tlet inMouse;\n\treturn [\n\t\t// click\n\t\tgrid.listen(CLICK_CELL, (e) => {\n\t\t\tif (!range.isCellInRange(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: e.col,\n\t\t\t\trow: e.row\n\t\t\t});\n\t\t}),\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\tif (!range.isCellInRange(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOver) {\n\t\t\t\tif (!mouseOver({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t})) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\tinMouse = true;\n\t\t}),\n\t\t//MOUSEENTER'col-resize'move\n\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\n\t\t\tif (!range.isCellInRange(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (inMouse && !grid.getElement().style.cursor) {\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}\n\t\t}),\n\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\tif (!range.isCellInRange(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOut) {\n\t\t\t\tmouseOut({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t\tinMouse = false;\n\t\t}),\n\t];\n}\nfunction bindCellKeyAction(grid, range, {action, acceptKeys = []}) {\n\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\treturn [\n\t\t// enter key down\n\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!range.isCellInRange(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t\tcancel(e);\n\t\t}),\n\n\t];\n}\n\nmodule.exports = {\n\tbindCellClickAction,\n\tbindCellKeyAction,\n};\n","'use strict';\n\nconst BaseHeader = require('./type/BaseHeader');\nconst Header = require('./type/Header');\nconst SortHeader = require('./type/SortHeader');\nconst CheckHeader = require('./type/CheckHeader');\n\nconst type = {\n\tTYPES: {\n\t\tDEFAULT: new Header(),\n\t\tSORT: new SortHeader(),\n\t\tCHECK: new CheckHeader(),\n\t},\n\tget BaseHeader() {\n\t\treturn BaseHeader;\n\t},\n\tget Header() {\n\t\treturn Header;\n\t},\n\tget SortHeader() {\n\t\treturn Header;\n\t},\n\tget CheckHeader() {\n\t\treturn CheckHeader;\n\t},\n\tof(headerType) {\n\t\tif (!headerType) {\n\t\t\treturn type.TYPES.DEFAULT;\n\t\t} else if (typeof headerType === 'string') {\n\t\t\treturn type.TYPES[headerType.toUpperCase()] || type.of(null);\n\t\t} else {\n\t\t\treturn headerType;\n\t\t}\n\t},\n\tofCell(headerCell) {\n\t\tif (headerCell.sort) {\n\t\t\treturn type.TYPES.SORT;\n\t\t}\n\n\t\treturn type.of(headerCell.headerType);\n\t}\n};\nmodule.exports = type;\n","'use strict';\n\nconst EventTarget = require('../../core/EventTarget');\n\nconst EVENT_TYPE = {\n\tCHANGE_STYLE: 'change_style',\n};\n\nlet defaultStyle;\nclass BaseStyle extends EventTarget {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n\t}\n\tconstructor(\n\t\t\t{\n\t\t\t\tbgColor\n\t\t\t} = {}) {\n\t\tsuper();\n\t\tthis._bgColor = bgColor;\n\t}\n\tget bgColor() {\n\t\treturn this._bgColor;\n\t}\n\tset bgColor(bgColor) {\n\t\tthis._bgColor = bgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tdoChangeStyle() {\n\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t}\n\tclone() {\n\t\treturn new BaseStyle(this);\n\t}\n}\nmodule.exports = BaseStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nlet defaultStyle;\nclass CheckHeaderStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new CheckHeaderStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tconst {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor,\n\t\t} = style;\n\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\tthis._checkBgColor = checkBgColor;\n\t\tthis._borderColor = borderColor;\n\t}\n\tget uncheckBgColor() {\n\t\treturn this._uncheckBgColor;\n\t}\n\tset uncheckBgColor(uncheckBgColor) {\n\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget checkBgColor() {\n\t\treturn this._checkBgColor;\n\t}\n\tset checkBgColor(checkBgColor) {\n\t\tthis._checkBgColor = checkBgColor;\n\t\tthis.doChangeStyle();\n\t}\n\tget borderColor() {\n\t\treturn this._borderColor;\n\t}\n\tset borderColor(borderColor) {\n\t\tthis._borderColor = borderColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new CheckHeaderStyle(this);\n\t}\n}\n\n\nmodule.exports = CheckHeaderStyle;\n","'use strict';\n\nmodule.exports = {};","'use strict';\n\nconst DataSource = require('./data/DataSource');\nconst CachedDataSource = require('./data/CachedDataSource');\nconst FilterDataSource = require('./data/FilterDataSource');\n\n\n/**\n * data modules\n * @type {Object}\n * @namespace cheetahGrid.data\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\tDataSource,\n\tCachedDataSource,\n\tFilterDataSource\n};\n","'use strict';\n\nconst {isPromise} = require('./utils');\n\nfunction wait(val) {\n\treturn val.then((v) => {\n\t\tif (isPromise(v)) {\n\t\t\treturn wait(v);\n\t\t} else {\n\t\t\treturn v;\n\t\t}\n\t});\n}\nfunction createArray(get, length) {\n\tconst array = new Array(length);\n\tfor (let i = 0; i < length; i++) {\n\t\tarray[i] = get(i);\n\t}\n\treturn array;\n}\nfunction createArrayPromise(get, getField, length) {\n\treturn new Promise((resolve) => {\n\t\tconst plist = [];\n\t\tconst array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst data = get(i);\n\t\t\tconst record = {\n\t\t\t\tv: data,\n\t\t\t\tf: data\n\t\t\t};\n\t\t\tarray[i] = record;\n\t\t\tif (isPromise(data)) {\n\t\t\t\tplist.push(wait(data).then((v) => {\n\t\t\t\t\trecord.v = v;\n\t\t\t\t\trecord.f = v;\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tPromise.all(plist).then(\n\t\t\t\t() => setArrayField(array, getField)\n\t\t).then(resolve);\n\t});\n}\nfunction setArrayField(array, getField) {\n\tif (!getField) {\n\t\treturn Promise.resolve(array);\n\t}\n\treturn new Promise((resolve) => {\n\t\tconst {length} = array;\n\t\tconst plist = [];\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tconst record = array[i];\n\t\t\trecord.f = getField(record.v);\n\t\t\tif (isPromise(record.f)) {\n\t\t\t\tplist.push(wait(record.f).then((v) => {\n\t\t\t\t\trecord.f = v;\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\tPromise.all(plist).then(() => resolve(array));\n\t});\n}\nconst sort = {\n\tsort(get, set, length, compare, getField) {\n\t\tconst old = createArray(get, length);\n\t\tif (getField) {\n\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\n\t\t} else {\n\t\t\told.sort(compare);\n\t\t}\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tset(i, old[i]);\n\t\t}\n\t},\n\tsortArray(array, compare) {\n\t\tArray.prototype.sort.call(array, compare);\n\t},\n\tsortPromise(get, set, length, compare, getField) {\n\t\tif (window.Promise) {\n\t\t\treturn createArrayPromise(get, getField, length).then((array) => {\n\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tset(i, array[i].v);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsort.sort(get, set, length, compare, getField);\n\t\t\tconst dummyPromise = {\n\t\t\t\tthen(fn) {\n\t\t\t\t\tfn();\n\t\t\t\t\treturn dummyPromise;\n\t\t\t\t},\n\t\t\t\tcatch() {\n\t\t\t\t\treturn dummyPromise;\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn dummyPromise;\n\t\t}\n\t}\n};\nmodule.exports = sort;\n","/*eslint no-bitwise:0*/\n'use strict';\n\nconst {calcStartPosition, getFontSize} = require('./internal/canvases');\nconst inlineUtils = require('./element/inlines');\nconst canvashelper = require('./tools/canvashelper');\nconst themes = require('./themes');\nconst {colorToRGB} = require('./internal/color');\nconst Rect = require('./internal/Rect');\nconst {getChainSafe, getOrApply, style: {toBoxArray}, isDef} = require('./internal/utils');\nconst fonts = require('./internal/fonts');\nconst calc = require('./internal/calc');\nconst InlineDrawer = require('./element/InlineDrawer');\n\n\nconst INLINE_ELLIPSIS = inlineUtils.of('\\u2026');\n\nfunction invalidateCell(context, grid) {\n\tconst {col, row} = context;\n\tgrid.invalidateCell(col, row);\n}\nfunction getColor(color, col, row, grid, context) {\n\treturn getOrApply(color, {\n\t\tcol,\n\t\trow,\n\t\tgrid,\n\t\tcontext,\n\t});\n}\nfunction getThemeColor(grid, ...names) {\n\tconst gridThemeColor = getChainSafe(grid.theme, ...names);\n\tif (!isDef(gridThemeColor)) {\n\t\t// use default theme\n\t\treturn getChainSafe(themes.default, ...names);\n\t}\n\tif (typeof gridThemeColor !== 'function') {\n\t\treturn gridThemeColor;\n\t}\n\tlet defaultThemeColor;\n\treturn (...args) => {\n\t\tconst color = gridThemeColor(...args);\n\t\tif (isDef(color)) {\n\t\t\t// use grid theme\n\t\t\treturn color;\n\t\t}\n\t\t// use default theme\n\t\tdefaultThemeColor = (defaultThemeColor || getChainSafe(themes.default, ...names));\n\t\treturn\tgetOrApply(defaultThemeColor, ...args);\n\t};\n}\nfunction testFontLoad(font, value, context, grid) {\n\tif (font) {\n\t\tif (!fonts.check(font, value)) {\n\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n\tfunction drawInline(inline, offsetLeft, offsetRight) {\n\t\tif (inline.canDraw()) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n\t\t\t\tctx.font = inline.font() || ctx.font;\n\t\t\t\tinline.draw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom,\n\t\t\t\t});\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t} else {\n\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\n\t\t\t//noop\n\t\t}\n\t}\n\tif (inlines.length === 1) {\n\t\t//1\n\t\tconst inline = inlines[0];\n\t\tdrawInline(inline, 0, 0);\n\t} else {\n\t\tconst inlineWidths = inlines.map((inline) => (inline.width({ctx}) || 0) - 0);\n\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\n\n\t\tlet offsetLeft = 0;\n\t\tinlines.forEach((inline, index) => {\n\t\t\tconst inlineWidth = inlineWidths[index];\n\t\t\toffsetRight -= inlineWidth;\n\t\t\tdrawInline(inline, offsetLeft, offsetRight);\n\t\t\toffsetLeft += inlineWidth;\n\t\t});\n\t}\n}\n\nfunction buildInlines(icons, inline) {\n\treturn inlineUtils.buildInlines(icons, inline || '');\n}\n\nfunction inlineToString(inline) {\n\treturn inlineUtils.string(inline);\n}\n\nfunction getOverflowInline(textOverflow) {\n\tif (!isAllowOverflow(textOverflow) || textOverflow === 'ellipsis') {\n\t\treturn INLINE_ELLIPSIS;\n\t}\n\ttextOverflow = textOverflow.trim();\n\tif (textOverflow.length === 1) {\n\t\treturn inlineUtils.of(textOverflow[0]);\n\t}\n\treturn INLINE_ELLIPSIS;\n}\n\nfunction isAllowOverflow(textOverflow) {\n\treturn textOverflow && textOverflow !== 'clip' && typeof textOverflow === 'string';\n}\n\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n\tconst maxWidth = width - 3/*buffer*/;\n\tlet lineWidth = 0;\n\tfor (let i = 0; i < inlines.length; i++) {\n\t\tconst inline = inlines[i];\n\t\tconst inlineWidth = (inline.width({ctx}) || 0) - 0;\n\t\tif (lineWidth + inlineWidth > maxWidth) {\n\t\t\treturn {\n\t\t\t\tindex: i,\n\t\t\t\tlineWidth,\n\t\t\t\tremWidth: maxWidth - lineWidth\n\t\t\t};\n\t\t}\n\t\tlineWidth += inlineWidth;\n\t}\n\treturn null;\n}\n\nfunction isOverflowInlines(ctx, inlines, width) {\n\treturn !!getOverflowInlinesIndex(ctx, inlines, width);\n}\n\nfunction breakWidthInlines(ctx, inlines, width) {\n\tconst indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\tif (!indexData) {\n\t\treturn {\n\t\t\tbeforeInlines: inlines,\n\t\t\toverflow: false,\n\t\t\tafterInlines: [],\n\t\t};\n\t}\n\tconst {index, remWidth} = indexData;\n\tconst inline = inlines[index];\n\tconst beforeInlines = inlines.slice(0, index);\n\tconst afterInlines = [];\n\tif (inline.canBreak()) {\n\t\tlet {before, after} = inline.breakWord(ctx, remWidth);\n\t\tif (!before && !beforeInlines.length) {\n\t\t\t({before, after} = inline.breakAll(ctx, remWidth));\n\t\t}\n\t\tif (!before && !beforeInlines.length) { // Always return one char\n\t\t\t({before, after} = inline.splitIndex(1));\n\t\t}\n\t\tif (before) {\n\t\t\tbeforeInlines.push(before);\n\t\t}\n\t\tif (after) {\n\t\t\tafterInlines.push(after);\n\t\t}\n\t\tafterInlines.push(...inlines.slice(index + 1));\n\t} else {\n\t\tif (!beforeInlines.length) { // Always return one char\n\t\t\tbeforeInlines.push(inline);\n\t\t}\n\t\tafterInlines.push(...inlines.slice(beforeInlines.length));\n\t}\n\treturn {\n\t\tbeforeInlines,\n\t\toverflow: true,\n\t\tafterInlines,\n\t};\n}\n\n\nfunction truncateInlines(ctx, inlines, width, option) {\n\tconst indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\tif (!indexData) {\n\t\treturn {\n\t\t\tinlines,\n\t\t\toverflow: false,\n\t\t};\n\t}\n\tconst {index, lineWidth} = indexData;\n\tconst inline = inlines[index];\n\tconst overflowInline = getOverflowInline(option);\n\tconst ellipsisWidth = overflowInline.width({ctx});\n\tconst remWidth = width - lineWidth - ellipsisWidth;\n\tconst result = inlines.slice(0, index);\n\tif (inline.canBreak()) {\n\t\tconst {before} = inline.breakAll(ctx, remWidth);\n\t\tif (before) {\n\t\t\tresult.push(before);\n\t\t}\n\t}\n\tresult.push(overflowInline);\n\treturn {\n\t\tinlines: result,\n\t\toverflow: true,\n\t};\n}\n\nfunction _inlineRect(grid, ctx, inline, rect, col, row,\n\t\t{\n\t\t\toffset,\n\t\t\tcolor,\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t\ticons,\n\t\t} = {}) {\n\n\t//style\n\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\tctx.font = font || ctx.font;\n\n\tlet inlines = buildInlines(icons, inline);\n\tif (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, rect.width)) {\n\t\tconst {inlines: truncInlines, overflow} = truncateInlines(\n\t\t\t\tctx,\n\t\t\t\tinlines,\n\t\t\t\trect.width,\n\t\t\t\ttextOverflow\n\t\t);\n\t\tinlines = truncInlines;\n\t\tgrid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n\t} else {\n\t\tgrid.setCellOverflowText(col, row, false);\n\t}\n\n\tdrawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row,\n\t\t{\n\t\t\toffset,\n\t\t\tcolor,\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tfont,\n\t\t\tlineHeight,\n\t\t\tautoWrapText,\n\t\t\tlineClamp,\n\t\t\ttextOverflow,\n\t\t\ticons,\n\t\t} = {}) {\n\t//style\n\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\tctx.font = font || ctx.font;\n\n\tif (lineClamp === 'auto') {\n\t\tconst rectHeight = rect.height - offset * 2 - 2/*offset added by Inline#draw*/;\n\t\tlineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n\t}\n\n\tlet buildedMultiInlines;\n\tif (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n\t\tconst {width} = rect;\n\t\tbuildedMultiInlines = [];\n\t\tconst procLineClamp = lineClamp > 0 ? (inlines, hasNext) => {\n\t\t\tif (buildedMultiInlines.length + 1 >= lineClamp) {\n\t\t\t\tif (inlines.length === 0 && hasNext) {\n\t\t\t\t\tbuildedMultiInlines.push([getOverflowInline(textOverflow)]);\n\t\t\t\t\tgrid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n\t\t\t\t} else {\n\t\t\t\t\tconst {inlines: truncInlines, overflow} = truncateInlines(ctx, inlines, width, textOverflow);\n\t\t\t\t\tbuildedMultiInlines.push(hasNext && !overflow\n\t\t\t\t\t\t? truncInlines.concat([getOverflowInline(textOverflow)])\n\t\t\t\t\t\t: truncInlines);\n\t\t\t\t\tif (overflow || hasNext) {\n\t\t\t\t\t\tgrid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} : () => true;\n\t\tconst procLine =\n\t\t\t\tautoWrapText ? (inlines, hasNext) => {\n\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\twhile (inlines.length) {\n\t\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst {beforeInlines, afterInlines} = breakWidthInlines(ctx, inlines, width);\n\t\t\t\t\t\tbuildedMultiInlines.push(beforeInlines);\n\t\t\t\t\t\tinlines = afterInlines;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t: isAllowOverflow(textOverflow) ? (inlines, hasNext) => {\n\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst {inlines: truncInlines, overflow} = truncateInlines(\n\t\t\t\t\t\t\tctx,\n\t\t\t\t\t\t\tinlines,\n\t\t\t\t\t\t\twidth,\n\t\t\t\t\t\t\ttextOverflow\n\t\t\t\t\t);\n\t\t\t\t\tbuildedMultiInlines.push(truncInlines);\n\t\t\t\t\tif (overflow) {\n\t\t\t\t\t\tgrid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join('\\n'));\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t: (inlines, hasNext) => {\n\t\t\t\t\tif (!procLineClamp(inlines, hasNext)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tbuildedMultiInlines.push(inlines);\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\tgrid.setCellOverflowText(col, row, false);\n\t\tfor (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n\t\t\tconst inline = multiInlines[lineRow];\n\t\t\tconst buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n\t\t\tif (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tgrid.setCellOverflowText(col, row, false);\n\t\tbuildedMultiInlines = multiInlines.\n\t\t\tmap((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n\t}\n\n\n\tlet paddingTop = 0;\n\tlet paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n\n\tif (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\tconst pad = (lineHeight - em) / 2;\n\t\tpaddingTop += pad;\n\t\tpaddingBottom -= pad;\n\t} else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\tconst pad = (lineHeight - em) / 2;\n\t\tpaddingTop -= pad;\n\t\tpaddingBottom += pad;\n\t}\n\tbuildedMultiInlines.forEach((buildedInline) => {\n\t\tdrawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\tpaddingTop += lineHeight;\n\t\tpaddingBottom -= lineHeight;\n\t});\n}\n\n\nfunction drawCheckbox(ctx, rect, col, row, check, helper,\n\t\t{\n\t\t\tanimElapsedTime = 1,\n\t\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n\t\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\n\t\t\tborderColor = helper.theme.checkbox.borderColor,\n\t\t\ttextAlign = 'center',\n\t\t\ttextBaseline = 'middle',\n\t\t} = {},\n\t\tpositionOpt = {}\n) {\n\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\tctx.textAlign = textAlign;\n\tctx.textBaseline = textBaseline;\n\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1/*+1*/, boxWidth + 1/*+1*/, positionOpt);\n\tuncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n\tcheckBgColor = helper.getColor(checkBgColor, col, row, ctx);\n\tborderColor = helper.getColor(borderColor, col, row, ctx);\n\tif (0 < animElapsedTime && animElapsedTime < 1) {\n\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\n\t\tconst checkBgRGB = colorToRGB(checkBgColor);\n\t\tconst checkRGB = (colorName) => {\n\t\t\tconst start = uncheckBgRGB[colorName];\n\t\t\tconst end = checkBgRGB[colorName];\n\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\treturn end;\n\t\t\t}\n\t\t\tconst diff = start - end;\n\t\t\treturn Math.ceil(start - diff * animElapsedTime);\n\t\t};\n\t\tconst uncheckRGB = (colorName) => {\n\t\t\tconst end = uncheckBgRGB[colorName];\n\t\t\tconst start = checkBgRGB[colorName];\n\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\treturn end;\n\t\t\t}\n\t\t\tconst diff = end - start;\n\t\t\treturn Math.ceil(start + diff * animElapsedTime);\n\t\t};\n\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n\t}\n\n\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n\t\tuncheckBgColor,\n\t\tcheckBgColor,\n\t\tborderColor,\n\t});\n}\n\nclass ThemeResolver {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tgetThemeColor(...name) {\n\t\treturn getThemeColor(this._grid, ...name);\n\t}\n\tget font() {\n\t\treturn getThemeColor(this._grid, 'font');\n\t}\n\tget underlayBackgroundColor() {\n\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\n\t}\n\t// color\n\tget color() {\n\t\treturn getThemeColor(this._grid, 'color');\n\t}\n\tget frozenRowsColor() {\n\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\n\t}\n\t// background\n\tget defaultBgColor() {\n\t\treturn getThemeColor(this._grid, 'defaultBgColor');\n\t}\n\tget frozenRowsBgColor() {\n\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\n\t}\n\tget selectionBgColor() {\n\t\treturn getThemeColor(this._grid, 'selectionBgColor');\n\t}\n\t// border\n\tget borderColor() {\n\t\treturn getThemeColor(this._grid, 'borderColor');\n\t}\n\tget frozenRowsBorderColor() {\n\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\n\t}\n\tget highlightBorderColor() {\n\t\treturn getThemeColor(this._grid, 'highlightBorderColor');\n\t}\n\tget checkbox() {\n\t\tconst grid = this._grid;\n\t\treturn this._checkbox || (this._checkbox = {\n\t\t\tget uncheckBgColor() {\n\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n\t\t\t},\n\t\t\tget checkBgColor() {\n\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\n\t\t\t},\n\t\t\tget borderColor() {\n\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\n\t\t\t}\n\t\t});\n\t}\n\tget button() {\n\t\tconst grid = this._grid;\n\t\treturn this._button || (this._button = {\n\t\t\tget color() {\n\t\t\t\treturn getThemeColor(grid, 'button', 'color');\n\t\t\t},\n\t\t\tget bgColor() {\n\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\n\t\t\t},\n\t\t});\n\t}\n\tget header() {\n\t\tconst grid = this._grid;\n\t\treturn this._header || (this._header = {\n\t\t\tget sortArrowColor() {\n\t\t\t\treturn getThemeColor(grid, 'header', 'sortArrowColor');\n\t\t\t},\n\t\t});\n\t}\n}\n\n\nfunction strokeRect(ctx, color, left, top, width, height) {\n\tif (!Array.isArray(color)) {\n\t\tif (color) {\n\t\t\tctx.strokeStyle = color;\n\t\t\tctx.strokeRect(left, top, width, height);\n\t\t}\n\t} else {\n\t\tconst borderColors = toBoxArray(color);\n\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n\t}\n}\n\nclass GridCanvasHelper {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t\tthis._theme = new ThemeResolver(grid);\n\t}\n\tcreateCalculator(context, font) {\n\t\treturn {\n\t\t\tcalcWidth(width) {\n\t\t\t\treturn calc.toPx(width, {\n\t\t\t\t\tget full() {\n\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\treturn rect.width;\n\t\t\t\t\t},\n\t\t\t\t\tget em() {\n\t\t\t\t\t\treturn getFontSize(context.getContext(), font).width;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tcalcHeight(height) {\n\t\t\t\treturn calc.toPx(height, {\n\t\t\t\t\tget full() {\n\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\treturn rect.height;\n\t\t\t\t\t},\n\t\t\t\t\tget em() {\n\t\t\t\t\t\treturn getFontSize(context.getContext(), font).height;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\tgetColor(color, col, row, ctx) {\n\t\treturn getColor(color, col, row, this._grid, ctx);\n\t}\n\ttoBoxArray(obj) {\n\t\treturn toBoxArray(obj);\n\t}\n\ttoBoxPixelArray(value, context, font) {\n\t\tif (typeof value === 'string' || Array.isArray(value)) {\n\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\tconst box = toBoxArray(value);\n\t\t\treturn [\n\t\t\t\tcalculator.calcHeight(box[0]),\n\t\t\t\tcalculator.calcWidth(box[1]),\n\t\t\t\tcalculator.calcHeight(box[2]),\n\t\t\t\tcalculator.calcWidth(box[3]),\n\t\t\t];\n\t\t}\n\t\treturn toBoxArray(value);\n\t}\n\tget theme() {\n\t\treturn this._theme;\n\t}\n\tdrawWithClip(context, draw) {\n\t\tconst drawRect = context.getDrawRect();\n\t\tif (!drawRect) {\n\t\t\treturn;\n\t\t}\n\t\tconst ctx = context.getContext();\n\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\tdraw(ctx);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tdrawBorderWithClip(context, draw) {\n\t\tconst drawRect = context.getDrawRect();\n\t\tif (!drawRect) {\n\t\t\treturn;\n\t\t}\n\t\tconst rect = context.getRect();\n\t\tconst ctx = context.getContext();\n\t\tctx.save();\n\t\ttry {\n\t\t\t//clip\n\t\t\tctx.beginPath();\n\t\t\tlet clipLeft = drawRect.left;\n\t\t\tlet clipWidth = drawRect.width;\n\t\t\tif (drawRect.left === rect.left) {\n\t\t\t\tclipLeft += -1;\n\t\t\t\tclipWidth += 1;\n\t\t\t}\n\t\t\tlet clipTop = drawRect.top;\n\t\t\tlet clipHeight = drawRect.height;\n\t\t\tif (drawRect.top === rect.top) {\n\t\t\t\tclipTop += -1;\n\t\t\t\tclipHeight += 1;\n\t\t\t}\n\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n\t\t\tctx.clip();\n\n\t\t\tdraw(ctx);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\ttext(text, context,\n\t\t\t{\n\t\t\t\tpadding,\n\t\t\t\toffset = 2,\n\t\t\t\tcolor,\n\t\t\t\ttextAlign = 'left',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tfont,\n\t\t\t\ttextOverflow = 'clip',\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\tlet rect = context.getRect();\n\n\t\tconst {col, row} = context;\n\n\t\tif (!color) {\n\t\t\t({color} = this.theme);\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t}\n\t\t}\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tif (padding) {\n\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t}\n\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\ttextOverflow,\n\t\t\t\t\t\ticons,\n\t\t\t\t\t});\n\t\t});\n\t}\n\tmultilineText(multilines, context,\n\t\t\t{\n\t\t\t\tpadding,\n\t\t\t\toffset = 2,\n\t\t\t\tcolor,\n\t\t\t\ttextAlign = 'left',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tfont,\n\t\t\t\tlineHeight = '1em',\n\t\t\t\tautoWrapText = false,\n\t\t\t\tlineClamp = 0,\n\t\t\t\ttextOverflow = 'clip',\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\tlet rect = context.getRect();\n\n\t\tconst {col, row} = context;\n\n\t\tif (!color) {\n\t\t\t({color} = this.theme);\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t}\n\t\t}\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tif (padding) {\n\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t}\n\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\tlineHeight = calculator.calcHeight(lineHeight);\n\t\t\t_multiInlineRect(this._grid, ctx, multilines, rect, col, row,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\tlineHeight,\n\t\t\t\t\t\tautoWrapText,\n\t\t\t\t\t\tlineClamp,\n\t\t\t\t\t\ttextOverflow,\n\t\t\t\t\t\ticons,\n\t\t\t\t\t});\n\t\t});\n\t}\n\tfillText(text, x, y, context,\n\t\t\t{\n\t\t\t\tcolor,\n\t\t\t\ttextAlign = 'left',\n\t\t\t\ttextBaseline = 'top',\n\t\t\t\tfont,\n\t\t\t} = {}) {\n\n\t\tconst {col, row} = context;\n\n\t\tif (!color) {\n\t\t\t({color} = this.theme);\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t}\n\t\t}\n\t\tconst ctx = context.getContext();\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n\t\t\tctx.textAlign = textAlign;\n\t\t\tctx.textBaseline = textBaseline;\n\t\t\tctx.font = font || ctx.font;\n\t\t\tctx.fillText(text, x, y);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfillCell(context,\n\t\t\t{\n\t\t\t\tfillColor = this.theme.defaultBgColor,\n\t\t\t} = {}) {\n\t\tconst rect = context.getRect();\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\tctx.fill();\n\t\t});\n\t}\n\tfillCellWithState(context, option = {}) {\n\t\toption.fillColor = this.getFillColorState(context, option);\n\t\tthis.fillCell(context, option);\n\t}\n\tfillRect(rect, context,\n\t\t\t{\n\t\t\t\tfillColor = this.theme.defaultBgColor,\n\t\t\t} = {}) {\n\n\t\tconst ctx = context.getContext();\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst {col, row} = context;\n\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\tctx.fill();\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfillRectWithState(rect, context, option = {}) {\n\t\toption.fillColor = this.getFillColorState(context, option);\n\n\t\tthis.fillRect(rect, context, option);\n\t}\n\tgetFillColorState(context, option = {}) {\n\t\tconst state = context.getSelectState();\n\t\tconst {col, row} = context;\n\t\tif (!state.selected && state.selection) {\n\t\t\treturn this.theme.selectionBgColor;\n\t\t}\n\t\tif (option.fillColor) {\n\t\t\treturn option.fillColor;\n\t\t}\n\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\treturn this.theme.frozenRowsBgColor;\n\t\t}\n\t\treturn this.theme.defaultBgColor;\n\t}\n\tborder(context,\n\t\t\t{\n\t\t\t\tborderColor = this.theme.borderColor,\n\t\t\t\tlineWidth = 1,\n\t\t\t} = {}) {\n\t\tconst rect = context.getRect();\n\n\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n\t\t\tif (lineWidth === 1) {\n\t\t\t\tctx.lineWidth = 1;\n\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n\t\t\t} else if (lineWidth === 2) {\n\t\t\t\tctx.lineWidth = 2;\n\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n\t\t\t} else {\n\t\t\t\tctx.lineWidth = lineWidth;\n\t\t\t\tconst startOffset = (lineWidth / 2) - 1;\n\t\t\t\tstrokeRect(ctx, borderColors,\n\t\t\t\t\t\trect.left + startOffset,\n\t\t\t\t\t\trect.top + startOffset,\n\t\t\t\t\t\trect.width - lineWidth + 1,\n\t\t\t\t\t\trect.height - lineWidth + 1\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\tborderWithState(context, option = {}) {\n\t\tconst rect = context.getRect();\n\t\tconst state = context.getSelectState();\n\t\tconst {col, row} = context;\n\n\t\t//\n\t\tif (state.selected) {\n\t\t\toption.borderColor = this.theme.highlightBorderColor;\n\t\t\toption.lineWidth = 2;\n\t\t\tthis.border(context, option);\n\t\t} else {\n\t\t\t// header color\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\n\t\t\t}\n\n\t\t\toption.lineWidth = 1;\n\t\t\tthis.border(context, option);\n\n\t\t\t//\n\t\t\tconst sel = this._grid.selection.select;\n\t\t\tif (sel.col + 1 === col && sel.row === row) {\n\t\t\t\t//\n\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColors = toBoxArray(\n\t\t\t\t\t\t\tgetColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t});\n\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\n\t\t\t\t//\n\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColors = toBoxArray(\n\t\t\t\t\t\t\tgetColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tbuildCheckBoxInline(check, context, option = {}) {\n\t\tconst self = this;\n\t\tconst ctx = context.getContext();\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\t\treturn new InlineDrawer({\n\t\t\tdraw,\n\t\t\twidth: boxWidth + 3,\n\t\t\theight: boxWidth + 1,\n\t\t\tcolor: undefined,\n\t\t});\n\n\t\tfunction draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight,\n\t\t\toffsetTop,\n\t\t\toffsetBottom,\n\t\t}) {\n\t\t\tconst {col, row} = context;\n\t\t\tdrawCheckbox(ctx, rect, col, row, check, self, option, \t{\n\t\t\t\toffset: offset + 1,\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: offsetLeft + 1,\n\t\t\t\t\tright: offsetRight,\n\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tcheckbox(check, context, option = {}) {\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tdrawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n\t\t});\n\t}\n\tbutton(caption, context,\n\t\t\t{\n\t\t\t\tbgColor = this.theme.button.bgColor,\n\t\t\t\tpadding,\n\t\t\t\toffset = 2,\n\t\t\t\tcolor = this.theme.button.color,\n\t\t\t\ttextAlign = 'center',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tshadow,\n\t\t\t\tfont,\n\t\t\t\ttextOverflow = 'clip',\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\tconst rect = context.getRect();\n\n\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\tconst {col, row} = context;\n\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n\t\t\tconst left = rect.left + padding[3];\n\t\t\tconst top = rect.top + padding[0];\n\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\tconst height = rect.height - padding[0] - padding[2];\n\n\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\n\t\t\t\tbgColor,\n\t\t\t\tradius: rect.height / 8,\n\t\t\t\toffset,\n\t\t\t\tshadow,\n\t\t\t});\n\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height),\n\t\t\t\t\tcol, row,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\tcolor,\n\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\tfont,\n\t\t\t\t\t\ttextOverflow,\n\t\t\t\t\t\ticons,\n\t\t\t\t\t});\n\t\t});\n\t}\n\ttestFontLoad(font, value, context) {\n\t\treturn testFontLoad(font, value, context, this._grid);\n\t}\n}\n\nmodule.exports = GridCanvasHelper;","'use strict';\n\nconst {isNode} = require('./utils');\n\nconst loads = {};\nlet load;\nlet check;\nif (isNode) {\n\tload = function(font, testStr, callback) {\n\t\tcallback();\n\t};\n\tcheck = function() {\n\t\treturn false;\n\t};\n} else {\n\tconst legacy = !document.fonts;\n\tload = legacy ? function(font, testStr, callback) {\n\t\t//for legacy(IE)\n\t\tif (loads[`${font} @ ${testStr}`]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\trequire('./legacy/fontwatch/FontWatchRunner').load(font, testStr, () => {\n\t\t\tloads[`${font} @ ${testStr}`] = true;\n\t\t\tcallback();\n\t\t}, () => {\n\t\t\tloads[`${font} @ ${testStr}`] = true;\n\t\t\tcallback();\n\t\t});\n\t} : function(font, testStr, callback) {\n\t\tif (loads.all || loads[font]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tdocument.fonts.ready.then(() => {\n\t\t\tloads.all = true;\n\t\t});\n\t\tdocument.fonts.load(font).then(() => {\n\t\t\tloads[font] = true;\n\t\t\tcallback();\n\t\t});\n\t};\n\tcheck = legacy ? function(font, testStr) {\n\t\t//for legacy(IE)\n\t\tif (loads[`${font} @ ${testStr}`]) {\n\t\t\treturn true;\n\t\t}\n\t\tload(font, testStr, () => {});\n\t\treturn false;\n\t} : function(font, testStr) {\n\t\tif (loads.all || loads[font]) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!document.fonts.check(font)) {\n\t\t\tload(font, testStr, () => {});\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n}\n\nmodule.exports = {\n\tcheck,\n\tload\n};\n","'use strict';\n\nconst Inline = require('./Inline');\nconst {getCacheOrLoad} = require('../internal/imgs');\nconst {isPromise} = require('../internal/utils');\n\nclass InlineImage extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tsrc,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\timageLeft,\n\t\t\t\timageTop,\n\t\t\t\timageWidth,\n\t\t\t\timageHeight,\n\t\t\t}) {\n\t\tsuper();\n\t\tthis._src = src;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._imageLeft = imageLeft;\n\t\tthis._imageTop = imageTop;\n\t\tthis._imageWidth = imageWidth;\n\t\tthis._imageHeight = imageHeight;\n\n\t\tthis._onloaded = [];\n\n\n\t\tthis._loaded = false;\n\t\tif (isPromise(src)) {\n\t\t\tsrc.then((s) => {\n\t\t\t\tthis._src = s;\n\t\t\t\tthis._loadImage(s);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loadImage(src);\n\t\t}\n\n\t}\n\t_loadImage(src) {\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\t\tif (isPromise(img)) {\n\t\t\timg.then((i) => {\n\t\t\t\tthis._loaded = true;\n\t\t\t\tthis._inlineImg = i;\n\n\t\t\t\tthis._onloaded.forEach((fn) => fn());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loaded = true;\n\t\t}\n\t}\n\twidth({ctx}) {\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn this._loaded;\n\t}\n\tonReady(callback) {\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\n\t\t\tthis._onloaded.push(() => callback());\n\t\t}\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tconst img = this._inlineImg;\n\t\tcanvashelper.drawInlineImageRect(ctx, img,\n\t\t\t\tthis._imageLeft || 0, this._imageTop || 0,\n\t\t\t\tthis._imageWidth || img.width, this._imageHeight || img.height,\n\t\t\t\tthis._width || img.width, this._height || img.height,\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t{\n\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\tpadding: {\n\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineImage;","'use strict';\n\n\nconst Inline = require('./Inline');\n\nclass InlineDrawer extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tdraw,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tcolor,\n\t\t\t}) {\n\t\tsuper();\n\n\t\tthis._draw = draw;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ctx}) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tthis._draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight,\n\t\t\toffsetTop,\n\t\t\toffsetBottom,\n\t\t});\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineDrawer;","/*eslint-disable camelcase*/\n'use strict';\n\nconst {extend} = require('./internal/utils');\nconst plugins = require('./plugins/icons');\nconst builtins = {\n\tget arrow_upward() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg');\n\t},\n\tget arrow_downward() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg');\n\t},\n\tget edit() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg');\n\t},\n\tget add() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg');\n\t},\n\tget star() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg');\n\t},\n\tget star_border() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg');\n\t},\n\tget star_half() {\n\t\treturn require('cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg');\n\t},\n};\n\nmodule.exports = {\n\tget() {\n\t\treturn extend(builtins, plugins);\n\t}\n};","'use strict';\n\nmodule.exports = {};","'use strict';\n\nconst rgbMap = {};\nfunction styleColorToRGB(color) {\n\tconst dummy = document.createElement('div');\n\tconst {style} = dummy;\n\tstyle.color = color;\n\tstyle.position = 'fixed';\n\tstyle.height = '1px';\n\tstyle.width = '1px';\n\tstyle.opacity = 0;\n\tdocument.body.appendChild(dummy);\n\tconst {color: styleColor} = document.defaultView.getComputedStyle(dummy, '');\n\tdocument.body.removeChild(dummy);\n\treturn colorToRGB0(styleColor);\n}\n\nfunction hexToNum(hex) {\n\treturn parseInt(hex, 16);\n}\nfunction createRGB(r, g, b, a = 1) {\n\treturn {r, g, b, a};\n}\nfunction tripleHexToRGB({1: r, 2: g, 3: b}) {\n\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\nfunction sextupleHexToRGB({1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2}) {\n\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\n\nfunction testRGB({r, g, b, a}) {\n\treturn 0 <= r && r <= 255 &&\n\t\t0 <= g && g <= 255 &&\n\t\t0 <= b && b <= 255 &&\n\t\t0 <= a && a <= 1;\n}\nfunction rateToByte(r) {\n\treturn Math.ceil(r * 255 / 100);\n}\nfunction colorToRGB0(color) {\n\tif (color.match(/^#[0-9a-f]{3}$/i)) {\n\t\treturn tripleHexToRGB(color);\n\t}\n\tif (color.match(/^#[0-9a-f]{6}$/i)) {\n\t\treturn sextupleHexToRGB(color);\n\t}\n\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\tif (ret) {\n\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\t\tif (testRGB(rgb)) {\n\t\t\treturn rgb;\n\t\t}\n\t}\n\treturn null;\n}\nfunction colorToRGB(color) {\n\tif (typeof color !== 'string') {\n\t\treturn createRGB(0, 0, 0, 0);\n\t}\n\tcolor = color.toLowerCase().trim();\n\tif (rgbMap[color]) {\n\t\treturn rgbMap[color];\n\t}\n\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\n\nmodule.exports = {\n\tcolorToRGB\n};\n","'use strict';\n\n\nconst core = require('./core');\nconst tools = require('./tools');\nconst columns = require('./columns');\nconst headers = require('./headers');\nconst themes = require('./themes');\nconst data = require('./data');\n\nconst ListGrid = require('./ListGrid');\nconst GridCanvasHelper = require('./GridCanvasHelper');\n\nconst icons = require('./icons');\nconst register = require('./register');\n\n/**\n * Cheetah Grid\n * @type {Object}\n * @namespace cheetahGrid\n */\nmodule.exports = {\n\tcore,\n\ttools,\n\n\t// impl Grids\n\tListGrid,\n\n\t// objects\n\tcolumns,\n\theaders,\n\tthemes,\n\tdata,\n\n\t// helper\n\tGridCanvasHelper,\n\tget icons() {\n\t\treturn icons.get();\n\t},\n\n\t//plugin registers\n\tregister,\n\n\tget _internal() {\n\t\tconsole.warn('use internal!!');\n\t\treturn {\n\t\t\tcolor: require('./internal/color'),\n\t\t\tsort: require('./internal/sort'),\n\t\t\tcalc: require('./internal/calc'),\n\t\t\tsymbolManager: require('./internal/symbolManager'),\n\t\t\tpath2DManager: require('./internal/path2DManager'),\n\t\t};\n\t}\n};\n","'use strict';\n\nconst DrawGrid = require('./core/DrawGrid');\n\n/**\n * core modules\n * @type {Object}\n * @namespace cheetahGrid.core\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\tDrawGrid\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nconst EventHandler = require('./EventHandler');\nconst style = require('./style');\nconst {browser} = require('./utils');\n\nconst MAX_SCROLL = browser.heightLimit - 1000;\n\nfunction _update(scrollable) {\n\tlet domHeight;\n\tif (scrollable._height > MAX_SCROLL) {\n\t\tconst sbSize = style.getScrollBarSize();\n\t\tconst {offsetHeight} = scrollable._scrollable;\n\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\n\t\tscrollable._p = vScrollRange / rScrollRange;\n\t\tdomHeight = MAX_SCROLL;\n\t} else {\n\t\tscrollable._p = 1;\n\t\tdomHeight = scrollable._height;\n\t}\n\n\tscrollable._endPointElement.style.top = `${domHeight.toFixed()}px`;\n\tscrollable._endPointElement.style.left = `${scrollable._width.toFixed()}px`;\n\n}\n\nclass Scrollable {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\n\t\tthis._scrollable = document.createElement('div');\n\t\tthis._scrollable.classList.add('grid-scrollable');\n\t\tthis._height = 0;\n\t\tthis._width = 0;\n\n\t\tthis._endPointElement = document.createElement('div');\n\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\n\t\t_update(this);\n\t\tthis._scrollable.appendChild(this._endPointElement);\n\n\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n\t\t// this.scrollTop += delta < 0 ? point : -point;\n\t\t// });\n\t}\n\tcalcTop(top) {\n\t\tconst relativeTop = top - this.scrollTop;\n\t\treturn this._scrollable.scrollTop + relativeTop;\n\t}\n\tgetElement() {\n\t\treturn this._scrollable;\n\t}\n\tsetScrollSize(width, height) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\t_update(this);\n\t}\n\tget scrollWidth() {\n\t\treturn this._width;\n\t}\n\tset scrollWidth(width) {\n\t\tthis._width = width;\n\t\t_update(this);\n\t}\n\tget scrollHeight() {\n\t\treturn this._height;\n\t}\n\tset scrollHeight(height) {\n\t\tthis._height = height;\n\t\t_update(this);\n\t}\n\tget scrollLeft() {\n\t\treturn Math.ceil(this._scrollable.scrollLeft);\n\t}\n\tset scrollLeft(scrollLeft) {\n\t\tthis._scrollable.scrollLeft = scrollLeft;\n\t}\n\tget scrollTop() {\n\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\n\t}\n\tset scrollTop(scrollTop) {\n\t\tthis._scrollable.scrollTop = scrollTop * this._p;\n\t}\n\tonScroll(fn) {\n\t\tthis._handler.on(this._scrollable, 'scroll', fn);\n\t}\n\tdispose() {\n\t\tthis._handler.dispose();\n\t}\n}\n\n\nmodule.exports = Scrollable;\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * core styles \\n */\\n.cheetah-grid .grid-scrollable {\\n\\theight: 100%;\\n\\twidth: 100%;\\n\\tposition: absolute;\\n\\toverflow: scroll;\\n}\\n.cheetah-grid .grid-scroll-end-point {\\n\\topacity: 0;\\n\\tposition: relative;\\n}\\n.cheetah-grid {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\theight: 100%;\\n}\\n.cheetah-grid > canvas {\\n\\tposition: absolute;\\n\\twidth: 0;\\n\\theight: 0;\\n}\\n.cheetah-grid .grid-focus-control {\\n\\tposition: relative !important;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\topacity: 0;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tbox-sizing: border-box;\\n\\tpointer-events: none;\\n\\tmax-width: 0;\\n\\tmax-height: 0;\\n\\tfloat: none !important;\\n}\\n.cheetah-grid input.grid-focus-control::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n.cheetah-grid input.grid-focus-control.composition {\\n\\topacity: 1;\\n\\tmax-width: none;\\n\\tmax-height: none;\\n}\", \"\"]);\n\n// exports\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict';\n\nconst indexFirst = (ary, elm) => {\n\tlet low = 0;\n\tlet high = ary.length - 1;\n\twhile (low <= high) {\n\t\tconst i = Math.floor((low + high) / 2);\n\t\tif (ary[i] === elm) {\n\t\t\treturn i;\n\t\t} else if (ary[i] > elm) {\n\t\t\thigh = i - 1;\n\t\t} else {\n\t\t\tlow = i + 1;\n\t\t}\n\t}\n\treturn high < 0 ? 0 : high;\n};\n\n\nclass NumberMap {\n\tconstructor() {\n\t\tthis._keys = [];\n\t\tthis._vals = {};\n\t\tthis._sorted = false;\n\t}\n\tput(key, value) {\n\t\tif (!(key in this._vals)) {\n\t\t\tthis._keys.push(key);\n\t\t\tthis._sorted = false;\n\t\t}\n\t\tthis._vals[key] = value;\n\t}\n\tget(key) {\n\t\treturn this._vals[key];\n\t}\n\teachAll(fn) {\n\t\tthis._keys.forEach((key) => {\n\t\t\tfn(this.get(key), key);\n\t\t});\n\t}\n\teach(keyFrom, keyTo, fn) {\n\t\tconst {_keys: keys} = this;\n\t\tconst {length} = keys;\n\t\tif (!this._sorted) {\n\t\t\tkeys.sort((a, b) => {\n\t\t\t\tif (a < b) { return -1; }\n\t\t\t\tif (a > b) { return 1; }\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\tthis._sorted = true;\n\t\t}\n\n\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\n\t\t\tconst key = keys[i];\n\t\t\tif (keyFrom <= key && key <= keyTo) {\n\t\t\t\tfn(this.get(key), key);\n\t\t\t} else if (keyTo < key) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n}\n\nmodule.exports = NumberMap;\n","'use strict';\n\nconst {isNode} = require('./utils');\nconst EventHandler = require('./EventHandler');\nconst handler = new EventHandler();\n\nlet ratio;\nfunction setRatio() {\n\tif (isNode) {\n\t\tratio = 1;\n\t} else {\n\t\tratio = Math.ceil(window.devicePixelRatio || 1);\n\t\tif (ratio > 1 && (ratio % 2) !== 0) {\n\t\t\tratio += 1;\n\t\t}\n\t}\n}\nsetRatio();\nif (!isNode) {\n\thandler.on(window, 'resize', setRatio);\n}\n\nmodule.exports = {\n\ttransform(canvas) {\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\tconst {getAttribute, setAttribute} = canvas;\n\t\tcanvas.getAttribute = function(name, ...args) {\n\t\t\tlet result = getAttribute.call(this, name, ...args);\n\t\t\tif (name === 'width' || name === 'height') {\n\t\t\t\tresult /= ratio;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tcanvas.setAttribute = function(name, val, ...args) {\n\t\t\tconst wh = name === 'width' || name === 'height';\n\t\t\tif (wh) {\n\t\t\t\tval *= ratio;\n\t\t\t}\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\n\t\t\tif (wh) {\n\t\t\t\tctx.scale(ratio, ratio);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tObject.defineProperty(canvas, 'width', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('width');\n\t\t\t},\n\t\t\tset: (val) => {\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t\tObject.defineProperty(canvas, 'height', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('height');\n\t\t\t},\n\t\t\tset: (val) => {\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t\tconst {drawImage} = ctx;\n\t\tctx.drawImage = function(img, ...args) {\n\t\t\tif (img !== canvas || ratio === 1) {\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t}\n\t\t\tthis.save();\n\t\t\ttry {\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\n\t\t\t\tif (args.length > 4) {\n\t\t\t\t\targs[4] *= ratio;\n\t\t\t\t\targs[5] *= ratio;\n\t\t\t\t} else {\n\t\t\t\t\targs[0] *= ratio;\n\t\t\t\t\targs[1] *= ratio;\n\t\t\t\t}\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t} finally {\n\t\t\t\tthis.restore();\n\t\t\t}\n\t\t};\n\n\t\treturn canvas;\n\t}\n};","'use strict';\n\nconst canvashelper = require('./tools/canvashelper');\n\n/**\n * tools\n * @type {Object}\n * @namespace cheetahGrid.tools\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\tcanvashelper,\n};","'use strict';\n\nconst BaseAction = require('./action/BaseAction');\nconst Action = require('./action/Action');\nconst Editor = require('./action/Editor');\nconst CheckEditor = require('./action/CheckEditor');\nconst ButtonAction = require('./action/ButtonAction');\nconst SmallDialogInputEditor = require('./action/SmallDialogInputEditor');\nconst InlineInputEditor = require('./action/InlineInputEditor');\nconst InlineMenuEditor = require('./action/InlineMenuEditor');\n\nclass ImmutableCheckEditor extends CheckEditor {\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tget readOnly() {\n\t\treturn this._readOnly;\n\t}\n}\nclass ImmutableInputEditor extends SmallDialogInputEditor {\n\tget disabled() {\n\t\treturn this._disabled;\n\t}\n\tget readOnly() {\n\t\treturn this._readOnly;\n\t}\n}\n\n/**\n * column actions\n * @type {Object}\n * @namespace cheetahGrid.columns.action\n * @memberof cheetahGrid.columns\n */\nconst action = {\n\tACTIONS: {\n\t\tCHECK: new ImmutableCheckEditor(),\n\t\tINPUT: new ImmutableInputEditor(),\n\t},\n\tget BaseAction() {\n\t\treturn BaseAction;\n\t},\n\tget Editor() {\n\t\treturn Editor;\n\t},\n\tget Action() {\n\t\treturn Action;\n\t},\n\tget CheckEditor() {\n\t\treturn CheckEditor;\n\t},\n\tget ButtonAction() {\n\t\treturn ButtonAction;\n\t},\n\tget SmallDialogInputEditor() {\n\t\treturn SmallDialogInputEditor;\n\t},\n\tget InlineInputEditor() {\n\t\tconsole.warn('InlineInputEditor is an experiment stage');\n\t\treturn InlineInputEditor;\n\t},\n\tget InlineMenuEditor() {\n\t\treturn InlineMenuEditor;\n\t},\n\tof(columnAction) {\n\t\tif (!columnAction) {\n\t\t\treturn undefined;\n\t\t} else if (typeof columnAction === 'string') {\n\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n\t\t} else {\n\t\t\treturn columnAction;\n\t\t}\n\t},\n};\nmodule.exports = action;\n","'use strict';\n\nconst {\n\tobj: {setReadonly},\n\tisPromise,\n\tevent: {\n\t\tcancel: cancelEvent,\n\t},\n} = require('../../internal/utils');\nconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\nconst animate = require('../../internal/animate');\n\nconst Editor = require('./Editor');\nconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\nconst {EVENT_TYPE: {\n\tPASTE_CELL,\n}} = require('../../core/DrawGrid');\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nfunction toggleValue(val) {\n\tif (typeof val === 'number') {\n\t\tif (val === 0) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t} else if (typeof val === 'string') {\n\t\tif (val === 'false') {\n\t\t\treturn 'true';\n\t\t} else if (val === 'off') {\n\t\t\treturn 'on';\n\t\t} else if (val.match(/^0+$/)) {\n\t\t\treturn val.replace(/^(0*)0$/, '$11');\n\t\t} else if (val === 'true') {\n\t\t\treturn 'false';\n\t\t} else if (val === 'on') {\n\t\t\treturn 'off';\n\t\t} else if (val.match(/^0*1$/)) {\n\t\t\treturn val.replace(/^(0*)1$/, '$10');\n\t\t}\n\t}\n\treturn !val;\n}\n\nclass CheckEditor extends Editor {\n\tclone() {\n\t\treturn new CheckEditor(this);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\n\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n\t\t}\n\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\n\n\t\tconst action = (cell) => {\n\t\t\tconst cellKey = `${cell.col}:${cell.row}`;\n\t\t\tconst blockKey = `${cellKey}::block`;\n\t\t\tconst elapsedKey = `${cellKey}::elapsed`;\n\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\t\t\tif (ret) {\n\n\t\t\t\tconst onChange = () => {\n\t\t\t\t\t// checkbox animation\n\t\t\t\t\tanimate(200, (point) => {\n\t\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\t\tdelete state[elapsedKey];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate[elapsedKey] = point;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tif (isPromise(ret)) {\n\t\t\t\t\tstate[blockKey] = true;\n\t\t\t\t\tret.then(() => {\n\t\t\t\t\t\tdelete state[blockKey];\n\t\t\t\t\t\tonChange();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tonChange();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn [\n\t\t\t...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction: (e) => {\n\t\t\t\t\tconst selrange = grid.selection.range;\n\t\t\t\t\tconst {col} = grid.selection.select;\n\t\t\t\t\tfor (let {row} = selrange.start; row <= selrange.end.row; row++) {\n\t\t\t\t\t\tif (!util.isTarget(col, row)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction({\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE],\n\t\t\t}),\n\n\t\t\t// paste value\n\t\t\tgrid.listen(PASTE_CELL, (e) => {\n\t\t\t\tif (e.multi) {\n\t\t\t\t\t// ignore multi cell values\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst pasteValue = e.normalizeValue.trim();\n\t\t\t\tgrid.doGetCellValue(e.col, e.row, (value) => {\n\t\t\t\t\tconst newValue = toggleValue(value);\n\t\t\t\t\tif (`${newValue}`.trim() === pasteValue) {\n\t\t\t\t\t\tcancelEvent(e.event);\n\n\t\t\t\t\t\taction({\n\t\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\t\trow: e.row,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}),\n\t\t];\n\t}\n}\n\nmodule.exports = CheckEditor;\n","'use strict';\n\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst Action = require('./Action');\nconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\nclass ButtonAction extends Action {\n\tgetState(grid) {\n\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\n\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n\t\t}\n\t\treturn grid[BUTTON_COLUMN_STATE_ID];\n\t}\n}\n\nmodule.exports = ButtonAction;\n","'use strict';\nconst {obj: {setReadonly}} = require('../../internal/utils');\n\nconst SmallDialogInputElement = require('./internal/SmallDialogInputElement');\nconst {SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new SmallDialogInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nconst BaseInputEditor = require('./BaseInputEditor');\nclass SmallDialogInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._helperText = option.helperText;\n\t\tthis._inputValidator = option.inputValidator;\n\t\tthis._validator = option.validator;\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tdispose() {\n\t\tthis._inputDialogManager.dispose();\n\t\tthis._inputDialogManager = null;\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tget helperText() {\n\t\treturn this._helperText;\n\t}\n\tget inputValidator() {\n\t\treturn this._inputValidator;\n\t}\n\tget validator() {\n\t\treturn this._validator;\n\t}\n\tclone() {\n\t\treturn new SmallDialogInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = SmallDialogInputEditor;","'use strict';\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t},\n\tthen,\n\tbrowser,\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n\tconst focus = () => {\n\t\tinput.focus();\n\n\t\tconst end = input.value.length;\n\t\ttry {\n\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\n\t\t\t\tinput.selectionStart = end;\n\t\t\t\tinput.selectionEnd = end;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t//ignore\n\t\t}\n\t\tif (document.selection) {\n\t\t\tconst range = input.createTextRange();\n\t\t\trange.collapse();\n\t\t\trange.moveEnd('character', end);\n\t\t\trange.moveStart('character', end);\n\t\t\trange.select();\n\t\t}\n\t};\n\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\tfocus();\n\t});\n}\n\nfunction createDialogElement() {\n\trequire('./SmallDialogInputElement.css');\n\tconst element = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst input = createElement('input', {classList: INPUT_CLASSNAME});\n\tinput.readonly = true;\n\tinput.tabIndex = -1;\n\telement.appendChild(input);\n\treturn element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n\tconst {classList, helperText} = editor;\n\tif (classList) {\n\t\tdialog.classList.add(...classList);\n\t}\n\tif (helperText && typeof helperText !== 'function') {\n\t\tdialog.dataset.helperText = helperText;\n\t}\n\tsetInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n\tconst {classList} = editor;\n\tif (classList) {\n\t\tdialog.classList.remove(...classList);\n\t}\n\tdelete dialog.dataset.helperText;\n\tinput.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst {type} = editor;\n\tinput.type = type || '';\n}\n\nclass SmallDialogInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._dialog = createDialogElement();\n\t\tthis._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\t\tthis._bindDialogEvents();\n\t}\n\tdispose() {\n\t\tconst dialog = this._dialog;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._dialog = null;\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (dialog.parentElement) {\n\t\t\tdialog.parentElement.removeChild(dialog);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\n\t\t}\n\n\t\tdelete dialog.dataset.errorMessage;\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\tinput.readonly = false;\n\t\tinput.tabIndex = 0;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\t\tdialog.style.top = `${rect.top.toFixed()}px`;\n\t\tdialog.style.left = `${rect.left.toFixed()}px`;\n\t\tdialog.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(dialog);\n\n\t\tinput.value = value;\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\tconst activeData = {grid, col, row, editor};\n\t\tthis._onInputValue(input, activeData);\n\t\tif (!browser.IE) {\n\t\t\t_focus(input, handler);\n\t\t} else {\n\t\t\t// On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n\t\t\tsetTimeout(() => _focus(input, handler));\n\t\t}\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\n\t\tinput.readonly = true;\n\n\t\tbindProps(grid, dialog, input, editor);\n\n\t\tthis._activeData = activeData;\n\t\tthis._beforePropEditor = editor;\n\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst dialog = this._dialog;\n\t\t\tconst input = this._input;\n\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\t\tinput.readonly = false;\n\t\t\tinput.tabIndex = -1;\n\n\t\t\tconst {grid, col, row} = this._activeData;\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t\tthis._beforeValue = null;\n\t}\n\t_doChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst {value} = input;\n\t\treturn then(this._validate(value), (res) => {\n\t\t\tif (res && value === input.value) {\n\t\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\t\tgrid.doChangeValue(col, row, () => value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t}\n\t_isActive() {\n\t\tconst dialog = this._dialog;\n\t\tif (!dialog || !dialog.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindDialogEvents() {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tinput.classList.remove('composition');\n\t\t\tthis._onInputValue(input);\n\t\t});\n\t\tconst onKeyupAndPress = (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onInputValue(input);\n\t\t};\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ENTER && !this._attaching) {\n\t\t\t\tconst input = this._input;\n\t\t\t\tconst {value} = input;\n\t\t\t\tthen(this._doChangeValue(), (r) => {\n\t\t\t\t\tif (r && value === input.value) {\n\t\t\t\t\t\tthis.detach(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcancelEvent(e);\n\t\t\t} else {\n\t\t\t\tthis._onInputValue(input);\n\t\t\t}\n\t\t});\n\t}\n\t_onInputValue(input, activeData) {\n\t\tconst before = this._beforeValue;\n\t\tconst {value} = input;\n\t\tif (before !== value) {\n\t\t\tthis._onInputValueChange(value, before, activeData);\n\t\t}\n\t\tthis._beforeValue = value;\n\t}\n\t_onInputValueChange(after, before, activeData) {\n\t\tactiveData = activeData || this._activeData;\n\t\tconst dialog = this._dialog;\n\t\tconst {grid, col, row, editor} = activeData;\n\t\tif (typeof editor.helperText === 'function') {\n\t\t\tconst helperText = editor.helperText(after, {grid, col, row});\n\t\t\tif (helperText) {\n\t\t\t\tdialog.dataset.helperText = helperText;\n\t\t\t} else {\n\t\t\t\tdelete dialog.dataset.helperText;\n\t\t\t}\n\t\t}\n\t\tif ('errorMessage' in dialog.dataset) {\n\t\t\tthis._validate(after, true);\n\t\t}\n\t}\n\t_validate(value, inputOnly) {\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst {grid, col, row, editor} = this._activeData;\n\t\tlet message = null;\n\t\tif (editor.inputValidator) {\n\t\t\tmessage = editor.inputValidator(value, {grid, col, row});\n\t\t}\n\t\treturn then(message, (message) => {\n\t\t\tif (!message && editor.validator && !inputOnly) {\n\t\t\t\tmessage = editor.validator(value, {grid, col, row});\n\t\t\t}\n\t\t\treturn then(message, (message) => {\n\t\t\t\tif (message && value === input.value) {\n\t\t\t\t\tdialog.dataset.errorMessage = message;\n\t\t\t\t} else {\n\t\t\t\t\tdelete dialog.dataset.errorMessage;\n\t\t\t\t}\n\t\t\t\treturn !message;\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = SmallDialogInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*ms*/\\n.cheetah-grid__small-dialog-input__input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n@keyframes cheetah-grid__small-dialog-input--hidden-animation {\\n\\t0% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t99% {\\n\\t\\topacity: 1;\\n\\t}\\n\\t100% {\\n\\t\\topacity: 0;\\n\\t}\\n}\\n\\n.cheetah-grid__small-dialog-input {\\n\\tposition: absolute;\\n\\tbox-sizing: content-box;\\n\\tmargin : -1px auto auto -1px;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #fafafa;\\n\\n\\ttransition: padding 150ms ease-out, box-shadow 150ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input--hidden {\\n\\tbox-shadow: none;\\n\\tpadding: 0;\\n\\n\\tpointer-events: none;\\n\\tanimation: cheetah-grid__small-dialog-input--hidden-animation  150ms ease-out;\\n\\topacity: 0;\\n}\\n.cheetah-grid__small-dialog-input--shown {\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, .2), 0 2px 2px 0px rgba(0, 0, 0, .14), 0 1px 5px 0px rgba(0, 0, 0, .12);\\n\\tpadding: 8px 24px;\\n}\\n.cheetah-grid__small-dialog-input__input {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\tpadding: 3px 2px 0 4px;\\n\\tborder: none;\\n\\tborder-bottom: solid 1px rgba(0, 0, 0, .87);\\n\\toutline: none;\\n\\tbackground-color: transparent;\\n\\ttransition: all 300ms ease-out;\\n}\\n.cheetah-grid__small-dialog-input__input:focus {\\n\\tborder-bottom: solid 1px #2196f3;\\n\\tbox-shadow: 0 1px 0 0 #2196f3;\\n}\\n.cheetah-grid__small-dialog-input::after {\\n\\tcontent: '';\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n\\tpadding-top: 8px;\\n}\\n.cheetah-grid__small-dialog-input.helper-text--right-justified::after {\\n\\ttext-align: right;\\n}\\n.cheetah-grid__small-dialog-input[data-helper-text]::after {\\n\\tcontent: attr(data-helper-text);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n.cheetah-grid__small-dialog-input[data-error-message] input {\\n\\tborder-bottom: solid 1px #ff1744;\\n\\tbox-shadow: 0 1px 0 0 #ff1744;\\n}\\n.cheetah-grid__small-dialog-input[data-error-message]::after {\\n\\tcontent: attr(data-error-message);\\n\\tcolor: #ff1744;\\n\\ttext-align: left;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst BaseInputEditor = require('./BaseInputEditor');\nconst InlineInputElement = require('./internal/InlineInputElement');\nconst {INLINE_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nfunction doChangeValue(grid) {\n\tif (globalElement) {\n\t\tglobalElement.doChangeValue();\n\t}\n}\n\n\nclass InlineInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tclone() {\n\t\treturn new InlineInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = InlineInputEditor;","'use strict';\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t},\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\nconst KEY_ENTER = 13;\n\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n\trequire('./InlineInputElement.css');\n\treturn createElement('input', {classList: CLASSNAME});\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst {classList, type} = editor;\n\tif (classList) {\n\t\tinput.classList.add(...classList);\n\t}\n\tinput.type = type || '';\n}\n\nclass InlineInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = createInputElement();\n\t\tthis._bindInputEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst input = this._input;\n\t\tconst handler = this._handler;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst {classList} = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tinput.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\t\tinput.style.top = `${rect.top.toFixed()}px`;\n\t\tinput.style.left = `${rect.left.toFixed()}px`;\n\t\tinput.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(input);\n\n\t\tsetInputAttrs(editor, grid, input);\n\t\tinput.value = value;\n\n\t\tthis._activeData = {grid, col, row, editor};\n\t\tthis._beforePropEditor = editor;\n\n\t\tconst focus = () => {\n\t\t\tinput.focus();\n\n\t\t\tconst end = input.value.length;\n\t\t\ttry {\n\t\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\n\t\t\t\t\tinput.selectionStart = end;\n\t\t\t\t\tinput.selectionEnd = end;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t//ignore\n\t\t\t}\n\t\t\tif (document.selection) {\n\t\t\t\tconst range = input.createTextRange();\n\t\t\t\trange.collapse();\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', end);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t};\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\t\tfocus();\n\t\t});\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\tconst input = this._input;\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\n\t\t\t\tinput.parentElement.removeChild(input);\n\t\t\t});\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\tdoChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst {value} = input;\n\t\tconst {grid, col, row} = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst input = this._input;\n\t\tif (!input || !input.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindInputEvents() {\n\t\tconst handler = this._handler;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\t\thandler.on(input, 'click', stopPropagationOnly);\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tinput.classList.remove('composition');\n\t\t});\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\n\t\t\t\tif (!this._isActive() || this._attaching) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst {grid} = this._activeData;\n\n\t\t\t\tthis.doChangeValue();\n\t\t\t\tif (grid) {\n\t\t\t\t\tgrid.focus();\n\t\t\t\t}\n\t\t\t\tthis.detach();\n\t\t\t\tcancelEvent(e);\n\t\t\t}\n\t\t});\n\t\thandler.on(input, 'blur', (e) => {\n\t\t\tthis.doChangeValue();\n\t\t\tthis.detach();\n\t\t});\n\t}\n}\n\nmodule.exports = InlineInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*ms*/\\n.cheetah-grid__inline-input::-ms-clear {\\n\\tvisibility:hidden;\\n}\\n\\n\\n.cheetah-grid__inline-input {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\nconst {\n\tobj: {setReadonly},\n\tarray: {find},\n\tevent: {\n\t\tcancel: cancelEvent,\n\t},\n\tthen\n} = require('../../internal/utils');\nconst {normalize} = require('../../internal/menu-items');\n\nconst Editor = require('./Editor');\nconst {EVENT_TYPE: {\n\tSELECTED_CELL,\n\tCLICK_CELL,\n\tKEYDOWN,\n\tSCROLL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tMOUSEMOVE_CELL,\n\tPASTE_CELL,\n}} = require('../../core/DrawGrid');\nconst InlineMenuElement = require('./internal/InlineMenuElement');\nconst {INLINE_MENU_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineMenuElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachMenu(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._options = normalize(option.options);\n\t}\n\tdispose() {\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\tset options(options) {\n\t\tthis._options = normalize(options);\n\t}\n\tclone() {\n\t\treturn new InlineMenuEditor(this);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = (cell) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\t\tattachMenu(grid, cell, this, value);\n\t\t\t});\n\t\t};\n\n\t\treturn [\n\t\t\tgrid.listen(CLICK_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\t\tdetachMenu();\n\t\t\t}),\n\t\t\tgrid.listen(SCROLL, () => {\n\t\t\t\tdetachMenu(true);\n\t\t\t}),\n\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t}),\n\n\t\t\t// paste value\n\t\t\tgrid.listen(PASTE_CELL, (e) => {\n\t\t\t\tif (e.multi) {\n\t\t\t\t\t// ignore multi cell values\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst pasteValue = e.normalizeValue.trim();\n\t\t\t\tconst pasteOpt = find(this._options, (opt) => `${opt.value}`.trim() === pasteValue);\n\t\t\t\tif (pasteOpt) {\n\t\t\t\t\tcancelEvent(e.event);\n\t\t\t\t\tthen(\n\t\t\t\t\t\t\tgrid.doChangeValue(e.col, e.row, () => pasteOpt.value),\n\t\t\t\t\t\t\t() => grid.invalidateCell(e.col, e.row)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}),\n\t\t];\n\t}\n}\n\nmodule.exports = InlineMenuEditor;","'use strict';\nconst {\n\tisDef,\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t}\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n\tappendHtml,\n\tempty,\n\tdisableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable,\n} = require('../../../internal/dom');\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\n\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n\tlet el = target;\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\n\t\tel = el.parentElement;\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn el;\n}\n\nfunction createMenuElement() {\n\trequire('./InlineMenuElement.css');\n\treturn createElement('ul', {classList: CLASSNAME});\n}\nfunction attachElement(element, rect, menu) {\n\tmenu.style.top = `${rect.top.toFixed()}px`;\n\tmenu.style.left = `${rect.left.toFixed()}px`;\n\tmenu.style.width = `${rect.width.toFixed()}px`;\n\tmenu.style['line-height'] = `${rect.height.toFixed()}px`;\n\telement.appendChild(menu);\n}\n\nfunction optionToLi({classList, caption, value, html}, index) {\n\tconst item = createElement('li', {classList: ITEM_CLASSNAME});\n\titem.tabIndex = 0;\n\titem.dataset.valueindex = index;\n\tif (classList) {\n\t\titem.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n\t}\n\n\tif (caption) {\n\t\tconst span = createElement('span', {text: caption});\n\t\titem.appendChild(span);\n\t} else if (html) {\n\t\tappendHtml(item, html);\n\t}\n\n\tif (value === '' || !isDef(value)) {\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\n\t}\n\n\treturn item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n\tconst {options, classList} = editor;\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tempty(menu);\n\tmenu.style.font = grid.font || '16px sans-serif';\n\tlet emptyItemEl = null;\n\tlet valueItemEl = null;\n\n\toptions.forEach((option, i) => {\n\t\tconst item = optionToLi(option, i);\n\t\tmenu.appendChild(item);\n\t\tif (option.value === value) {\n\t\t\tvalueItemEl = item;\n\t\t\titem.dataset.select = true;\n\t\t}\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n\t\t\temptyItemEl = item;\n\t\t}\n\t});\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\tif (classList) {\n\t\tmenu.classList.add(...classList);\n\t}\n\tconst children = Array.prototype.slice.call(menu.children, 0);\n\tconst focusIndex = children.indexOf(focusEl);\n\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t// Cover the right line\n\trect.width++;\n\n\t// append for calculation\n\tattachElement(element, rect, menu);\n\n\t// Make the selection item at the middle\n\tlet offset = 0;\n\tlet allHeight = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst {offsetHeight} = children[i];\n\t\tif (i < focusIndex) {\n\t\t\toffset += offsetHeight;\n\t\t}\n\t\tallHeight += offsetHeight;\n\t}\n\trect.offsetTop(-offset);\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n\tattachElement(element, rect, menu);\n\n\t// Control not to overflow the screen range\n\tconst menuClientRect = menu.getBoundingClientRect();\n\tconst scaleDiff = ((allHeight - menuClientRect.height) / 2);\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\n\tlet menuTop = orgMenuTop;\n\tconst menuBottom = menuTop + allHeight;\n\tconst winBottom = window.innerHeight;\n\tconst winMargin = 20;\n\tif (menuBottom > (winBottom - winMargin)) {\n\t\tconst diff = menuBottom - winBottom + winMargin;\n\t\tmenuTop -= diff;\n\t}\n\tif (menuTop < 0/*winTop*/ + winMargin) {\n\t\tmenuTop = winMargin;\n\t}\n\tif (menuTop !== orgMenuTop) {\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\n\t\t// re update\n\t\tattachElement(element, rect, menu);\n\t}\n\n\tif (focusEl) {\n\t\tfocusEl.focus();\n\t}\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\n\tmenu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tdisableFocus(menu);\n}\n\nclass InlineMenuElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._menu = createMenuElement();\n\t\tthis._bindMenuEvents();\n\t}\n\tdispose() {\n\t\tconst menu = this._menu;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._menu = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (menu.parentElement) {\n\t\t\tmenu.parentElement.removeChild(menu);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst menu = this._menu;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst {classList} = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tmenu.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\topenMenu(grid, editor, col, row, value, menu);\n\t\tthis._activeData = {grid, col, row, editor};\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\tconst menu = this._menu;\n\t\t\tcloseMenu(grid, col, row, menu);\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\t_doChangeValue(valueindex) {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst {grid, col, row, editor} = this._activeData;\n\t\tconst {value} = editor.options[valueindex];\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst menu = this._menu;\n\t\tif (!menu || !menu.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindMenuEvents() {\n\t\tconst handler = this._handler;\n\t\tconst menu = this._menu;\n\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(menu, 'click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {valueindex} = item.dataset;\n\t\t\tthis._doChangeValue(valueindex);\n\t\t\tthis.detach(true);\n\t\t});\n\t\thandler.on(menu, 'keydown', (e) => {\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ENTER) {\n\t\t\t\tconst {valueindex} = item.dataset;\n\t\t\t\tthis._doChangeValue(valueindex);\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_UP) {\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\t\tconst n = findNextSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_TAB) {\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\n\t\t\t\t\t\tlet n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\n\t\t\t\t\t\tconst items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tlet n = items[items.length - 1];\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineMenuElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-menu {\\n\\tposition: absolute;\\n\\tcolor: rgba(0, 0, 0, .87);\\n\\tbox-sizing: content-box;\\n\\tmargin: -1px auto auto -1px;\\n\\tpadding: 8px 0;\\n\\tbackground-color: #fafafa;\\n\\tlist-style-type: none;\\n\\tborder-radius: 2px;\\n\\tmax-height: calc(100vh - 40px);\\n\\toverflow-y: auto;\\n\\n}\\n.cheetah-grid__inline-menu--hidden {\\n\\ttransform: scale(.9);\\n\\tbox-shadow: none;\\n\\topacity: 0;\\n\\n\\tpointer-events: none;\\n\\n\\ttransition: all 50ms ease-out;\\n}\\n.cheetah-grid__inline-menu--hidden * {\\n\\tpointer-events: none;\\n}\\n.cheetah-grid__inline-menu--shown {\\n\\ttransform: translateY(-7px);\\n\\tbox-shadow: 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0px rgba(0, 0, 0, 0.14), 0 1px 5px 0px rgba(0, 0, 0, 0.12);\\n\\topacity: 1;\\n\\n\\ttransition: all 150ms ease-out;\\n}\\n\\n.cheetah-grid__inline-menu__menu-item {\\n\\theight: 100%;\\n\\tbox-sizing: border-box;\\n\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: flex-start;\\n\\n\\toutline: none;\\n\\tcursor: pointer;\\n\\n\\tposition: relative;\\n\\toverflow: hidden;\\n\\n\\tpadding: 0 16px;\\n}\\n.cheetah-grid__inline-menu__menu-item--empty {\\n\\tcolor: rgba(0, 0, 0, .38);\\n}\\n\\n.cheetah-grid__inline-menu__menu-item::before {\\n\\tcontent: \\\"\\\";\\n\\tposition: absolute;\\n\\ttop: -50%;\\n\\tleft: -50%;\\n\\twidth: 200%;\\n\\theight: 200%;\\n\\tbackground-color: #000;\\n\\topacity: 0;\\n\\tpointer-events: none;\\n\\ttransition: opacity 15ms linear;\\n}\\n.cheetah-grid__inline-menu__menu-item:hover::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item[data-select]::before {\\n\\topacity: .04;\\n}\\n.cheetah-grid__inline-menu__menu-item:focus::before {\\n\\topacity: .12;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst Column = require('./type/Column');\nconst NumberColumn = require('./type/NumberColumn');\nconst CheckColumn = require('./type/CheckColumn');\nconst ButtonColumn = require('./type/ButtonColumn');\nconst ImageColumn = require('./type/ImageColumn');\nconst PercentCompleteBarColumn = require('./type/PercentCompleteBarColumn');\nconst IconColumn = require('./type/IconColumn');\nconst BranchGraphColumn = require('./type/BranchGraphColumn');\nconst MenuColumn = require('./type/MenuColumn');\nconst MultilineTextColumn = require('./type/MultilineTextColumn');\n\n/**\n * column types\n * @type {Object}\n * @namespace cheetahGrid.columns.type\n * @memberof cheetahGrid.columns\n */\nconst type = {\n\tTYPES: {\n\t\tDEFAULT: new Column(),\n\t\tNUMBER: new NumberColumn(),\n\t\tCHECK: new CheckColumn(),\n\t\tBUTTON: new ButtonColumn(),\n\t\tIMAGE: new ImageColumn(),\n\t\tMULTILINETEXT: new MultilineTextColumn(),\n\t},\n\tget Column() {\n\t\treturn Column;\n\t},\n\tget NumberColumn() {\n\t\treturn NumberColumn;\n\t},\n\tget CheckColumn() {\n\t\treturn CheckColumn;\n\t},\n\tget ButtonColumn() {\n\t\treturn ButtonColumn;\n\t},\n\tget ImageColumn() {\n\t\treturn ImageColumn;\n\t},\n\tget PercentCompleteBarColumn() {\n\t\treturn PercentCompleteBarColumn;\n\t},\n\tget IconColumn() {\n\t\treturn IconColumn;\n\t},\n\tget BranchGraphColumn() {\n\t\treturn BranchGraphColumn;\n\t},\n\tget MenuColumn() {\n\t\treturn MenuColumn;\n\t},\n\tget MultilineTextColumn() {\n\t\treturn MultilineTextColumn;\n\t},\n\tof(columnType) {\n\t\tif (!columnType) {\n\t\t\treturn type.TYPES.DEFAULT;\n\t\t} else if (typeof columnType === 'string') {\n\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\n\t\t} else {\n\t\t\treturn columnType;\n\t\t}\n\t}\n};\nmodule.exports = type;\n","'use strict';\n\nconst Column = require('./Column');\nconst NumberStyle = require('../style/NumberStyle');\nlet defaultFotmat;\nclass NumberColumn extends Column {\n\tstatic get defaultFotmat() {\n\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n\t}\n\tstatic set defaultFotmat(fmt) {\n\t\tdefaultFotmat = fmt;\n\t}\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._format = option.format;\n\t}\n\tget StyleClass() {\n\t\treturn NumberStyle;\n\t}\n\tclone() {\n\t\treturn new NumberColumn(this);\n\t}\n\tget format() {\n\t\treturn this._format;\n\t}\n\twithFormat(format) {\n\t\tconst c = this.clone();\n\t\tc._format = format;\n\t\treturn c;\n\t}\n\tconvertInternal(value) {\n\t\tif (isNaN(value - 0)) {\n\t\t\treturn value;\n\t\t}\n\t\tconst format = this._format || NumberColumn.defaultFotmat;\n\t\treturn format.format(value - 0);\n\t}\n}\n\nmodule.exports = NumberColumn;\n","'use strict';\n\nconst {isDef} = require('../../internal/utils');\nconst BaseColumn = require('./BaseColumn');\nconst CheckStyle = require('../style/CheckStyle');\nconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\n\nfunction toBoolean(val) {\n\tif (typeof val === 'string') {\n\t\tif (val === 'false') {\n\t\t\treturn false;\n\t\t} else if (val === 'off') {\n\t\t\treturn false;\n\t\t} else if (val.match(/^0+$/)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn val;\n}\n\nclass CheckColumn extends BaseColumn {\n\tget StyleClass() {\n\t\treturn CheckStyle;\n\t}\n\tclone() {\n\t\treturn new CheckColumn(this);\n\t}\n\tconvertInternal(value) {\n\t\treturn toBoolean(value);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tborderColor,\n\t\t\tcheckBgColor,\n\t\t\tuncheckBgColor,\n\t\t\tbgColor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst {col, row} = context;\n\t\tconst cellKey = `${col}:${row}`;\n\t\tconst elapsedKey = `${cellKey}::elapsed`;\n\t\tconst elapsed = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][elapsedKey];\n\n\t\tconst opt = {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tborderColor,\n\t\t\tcheckBgColor,\n\t\t\tuncheckBgColor,\n\t\t};\n\t\tif (isDef(elapsed)) {\n\t\t\topt.animElapsedTime = elapsed;\n\t\t}\n\t\thelper.checkbox(value, context, opt);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n}\n\nmodule.exports = CheckColumn;\n","'use strict';\n\nconst Column = require('./Column');\nconst ButtonStyle = require('../style/ButtonStyle');\nconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\nconst utils = require('./columnUtils');\n\n\nclass ButtonColumn extends Column {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._caption = option.caption;\n\t}\n\tget StyleClass() {\n\t\treturn ButtonStyle;\n\t}\n\tget caption() {\n\t\treturn this._caption;\n\t}\n\twithCaption(caption) {\n\t\tconst c = this.clone();\n\t\tc._caption = caption;\n\t\treturn c;\n\t}\n\tclone() {\n\t\treturn new ButtonColumn(this);\n\t}\n\tconvertInternal(value) {\n\t\treturn this._caption || value;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tbgColor,\n\t\t\tcolor,\n\t\t\tbuttonBgColor,\n\t\t\tfont,\n\t\t\tpadding,\n\t\t\ttextOverflow\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\thelper.testFontLoad(font, value, context);\n\t\tconst {col, row} = context;\n\t\tlet active = false;\n\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\n\t\tif (state) {\n\t\t\tif (state.mouseActiveCell &&\n\t\t\t\t\tstate.mouseActiveCell.col === col &&\n\t\t\t\t\tstate.mouseActiveCell.row === row) {\n\t\t\t\tactive = true;\n\t\t\t} else if (context.getSelectState().selected) {\n\t\t\t\tactive = true;\n\t\t\t}\n\t\t}\n\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\thelper.button(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tbgColor: buttonBgColor,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding,\n\t\t\t\tshadow: active ? {\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\n\t\t\t\t\tblur: 6,\n\t\t\t\t\toffsetY: 3,\n\t\t\t\t} : true,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = ButtonColumn;\n","'use strict';\n\nconst ImageStyle = require('../style/ImageStyle');\nconst {getCacheOrLoad} = require('../../internal/imgs');\nconst {calcStartPosition} = require('../../internal/canvases');\nconst BaseColumn = require('./BaseColumn');\n\nconst MAX_LRU_CACHE_SIZE = 50;\nfunction getImage(url) {\n\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n}\n\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n\tlet newWidth = width;\n\tlet newHeight = height;\n\tif (newWidth > maxWidth) {\n\t\tnewWidth = maxWidth;\n\t\tnewHeight = (newWidth * height) / width;\n\t}\n\tif (newHeight > maxHeight) {\n\t\tnewHeight = maxHeight;\n\t\tnewWidth = (newHeight * width) / height;\n\t}\n\treturn {\n\t\twidth: newWidth,\n\t\theight: newHeight,\n\t};\n}\n\nclass ImageColumn extends BaseColumn {\n\tget StyleClass() {\n\t\treturn ImageStyle;\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\n\t}\n\tclone() {\n\t\treturn new ImageColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tif (value) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tmargin,\n\t\t\t\tbgColor,\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.drawWithClip(context, (ctx) => {\n\n\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\n\t\t\t\t\tconst {width, height} = calcKeepAspectRatioSize(\n\t\t\t\t\t\t\tvalue.width, value.height,\n\t\t\t\t\t\t\trect.width - margin * 2, rect.height - margin * 2\n\t\t\t\t\t);\n\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\n\t\t\t\t\t\toffset: margin,\n\t\t\t\t\t});\n\t\t\t\t\tctx.drawImage(value,\n\t\t\t\t\t\t\t0, 0, value.width, value.height,\n\t\t\t\t\t\t\tpos.x, pos.y, width, height\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tctx.drawImage(value,\n\t\t\t\t\t\t\t0, 0, value.width, value.height,\n\t\t\t\t\t\t\trect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\nmodule.exports = ImageColumn;\n","'use strict';\n\nclass LRUCache {\n\tconstructor(cacheSize) {\n\t\tthis._list = [];\n\t\tthis._map = {};\n\t\tthis._cacheSize = cacheSize || 50;\n\t}\n\tget(key) {\n\t\tconst val = this._map[key];\n\t\tif (val) {\n\t\t\tconst list = this._list;\n\t\t\tconst idx = list.indexOf(key);\n\t\t\tlist.splice(idx, 1);\n\t\t\tlist.push(key);\n\t\t}\n\t\treturn val;\n\t}\n\tput(key, value) {\n\t\tconst list = this._list;\n\t\tconst map = this._map;\n\t\tif (map[key]) {\n\t\t\tconst idx = list.indexOf(key);\n\t\t\tlist.splice(idx, 1);\n\t\t}\n\t\tmap[key] = value;\n\t\tlist.push(key);\n\t\tif (list.length > this._cacheSize) {\n\t\t\tconst remKey = list.shift();\n\t\t\tdelete map[remKey];\n\t\t}\n\t}\n}\nmodule.exports = LRUCache;","'use strict';\n\nconst PercentCompleteBarStyle = require('../style/PercentCompleteBarStyle');\nconst {getOrApply, str} = require('../../internal/utils');\nconst Column = require('./Column');\n\n\nconst MARGIN = 2;\n\nclass PercentCompleteBarColumn extends Column {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._min = option.min || 0;\n\t\tthis._max = option.max || (this._min + 100);\n\t\tthis._formatter = option.formatter || ((v) => v);\n\t}\n\tget StyleClass() {\n\t\treturn PercentCompleteBarStyle;\n\t}\n\tclone() {\n\t\treturn new PercentCompleteBarColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\n\t\tconst {\n\t\t\tbarColor,\n\t\t\tbarBgColor,\n\t\t\tbarHeight,\n\t\t} = style;\n\n\t\tlet svalue = `${value}`;\n\t\tif (str.endsWith(svalue, '%')) {\n\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\n\t\t}\n\t\tconst num = svalue - 0;\n\t\tconst rate = num < this._min ? 0\n\t\t\t: num > this._max ? 1\n\t\t\t: (num - this._min) / (this._max - this._min);\n\n\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1/**/;\n\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1/**/;\n\t\t\tconst barLeft = rect.left + MARGIN;\n\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n\t\t\tctx.fill();\n\n\n\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\n\t\t\tctx.fill();\n\t\t});\n\t}\n}\nmodule.exports = PercentCompleteBarColumn;\n","'use strict';\n\nconst IconStyle = require('../style/IconStyle');\nconst Column = require('./Column');\nconst icons = require('../../internal/icons');\n\nfunction repeatArray(val, count) {\n\tif (count === Infinity) {\n\t\tcount = 0;\n\t}\n\tconst a = [];\n\tfor (let i = 0; i < count; i++) {\n\t\ta.push(val);\n\t}\n\treturn a;\n}\n\nclass IconColumn extends Column {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._tagName = option.tagName || 'i';\n\t\tthis._className = option.className;\n\t\tthis._content = option.content;\n\t\tthis._name = option.name;\n\t\tthis._iconWidth = option.iconWidth;\n\t}\n\tget StyleClass() {\n\t\treturn IconStyle;\n\t}\n\tclone() {\n\t\treturn new IconColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, info) {\n\t\tconst num = value - 0;\n\t\tif (!isNaN(num)) {\n\t\t\tconst icon = {};\n\t\t\ticons.iconPropKeys.forEach((k) => {\n\t\t\t\ticon[k] = style[k];\n\t\t\t});\n\t\t\ticon.className = this._className;\n\t\t\ticon.tagName = this._tagName;\n\t\t\ticon.content = this._content;\n\t\t\ticon.name = this._name;\n\t\t\tif (this._iconWidth) {\n\t\t\t\ticon.width = this._iconWidth;\n\t\t\t}\n\n\t\t\tinfo.getIcon = () => repeatArray(icon, num);\n\t\t} else {\n\t\t\tinfo.getIcon = () => null;\n\t\t}\n\t\tsuper.drawInternal('', context, style, helper, grid, info);\n\t}\n}\nmodule.exports = IconColumn;\n","'use strict';\nconst {isDef, getOrApply, isPromise, obj: {isObject}} = require('../../internal/utils');\nconst BranchGraphStyle = require('../style/BranchGraphStyle');\nconst BaseColumn = require('./BaseColumn');\nconst {BRANCH_GRAPH_COLUMN_STATE_ID: _} = require('../../internal/symbolManager');\n\nfunction getAllColumnData(grid, col, callback) {\n\tconst {dataSource} = grid;\n\tlet field = grid.getField(col);\n\tif (isObject(field) && field.get && field.set) {\n\t\tfield = field.get;\n\t}\n\tconst allData = [];\n\tlet promise;\n\tfor (let index = 0; index < dataSource.length; index++) {\n\t\tconst data = dataSource.getField(index, field);\n\t\tif (isPromise(data)) {\n\t\t\tconst dataIndex = allData.length;\n\t\t\tallData.push(data);\n\t\t\tif (!promise) {\n\t\t\t\tpromise = data.then((d) => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = promise.then(() => data).then((d) => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tallData.push(data);\n\t\t}\n\t}\n\n\tif (promise) {\n\t\tpromise.then(() => callback(allData));\n\t} else {\n\t\tcallback(allData);\n\t}\n}\n\nclass BranchLine {\n\tconstructor({fromIndex, toIndex, colorIndex, point}) {\n\t\tthis.fromIndex = fromIndex;\n\t\tthis.toIndex = toIndex;\n\t\tthis.colorIndex = colorIndex;\n\t\tthis.point = point;\n\t}\n}\nclass BranchPoint {\n\tconstructor({index, commit = false, lines = [], tag}) {\n\t\tthis.index = index;\n\t\tthis.commit = commit;\n\t\tthis.lines = lines;\n\t\tthis.tag = tag;\n\t}\n\tstatic mergeLines(lines) {\n\t\tconst result = lines.filter(((l) => isDef(l.fromIndex) && isDef(l.toIndex)));\n\n\t\tconst froms = lines.filter(((l) => isDef(l.fromIndex) && !isDef(l.toIndex)));\n\t\tconst tos = lines.filter(((l) => !isDef(l.fromIndex) && isDef(l.toIndex)));\n\n\t\tfroms.forEach((f) => {\n\t\t\tfor (let i = 0; i < tos.length; i++) {\n\t\t\t\tconst t = tos[i];\n\t\t\t\tif (t.point) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\n\t\t\t\t\tf.toIndex = t.toIndex;\n\t\t\t\t\ttos.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(f);\n\t\t});\n\n\t\treturn result.concat(tos);\n\t}\n\tstatic merge(a, b) {\n\t\tif (!a) {\n\t\t\treturn b;\n\t\t}\n\t\treturn new BranchPoint({\n\t\t\tindex: a.index,\n\t\t\tcommit: a.commit || b.commit,\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n\t\t\ttag: a.tag || b.tag\n\t\t});\n\t}\n}\n\nfunction joinLine(timeline, branchIndex) {\n\tconst reverse = [...timeline].reverse();\n\tfor (let i = 0; i < reverse.length; i++) {\n\t\tconst f = reverse[i][branchIndex];\n\t\tif (f) {\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n\t\t\t\ttoIndex: branchIndex,\n\t\t\t\tcolorIndex: branchIndex,\n\t\t\t})]));\n\n\t\t\tfor (let j = 0; j < i; j++) {\n\t\t\t\tconst tl = reverse[j];\n\t\t\t\ttl[branchIndex] = new BranchPoint({\n\t\t\t\t\tindex: branchIndex,\n\t\t\t\t\tlines: [new BranchLine({\n\t\t\t\t\t\tfromIndex: branchIndex,\n\t\t\t\t\t\ttoIndex: branchIndex,\n\t\t\t\t\t\tcolorIndex: branchIndex\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction branch({timeline, branches}, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tlet toIndex = branches.indexOf(to);\n\tif (toIndex < 0) {\n\t\ttoIndex = branches.length;\n\t\tbranches.push(to);\n\t}\n\n\tfunction findBranchRootIndex() {\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\n\t\t\tconst tl = timeline[index];\n\t\t\tconst from = tl[fromIndex];\n\t\t\tif (from && from.commit) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tif (fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t});\n\t} else {\n\t\tconst fromTargetIndex = findBranchRootIndex();\n\t\tif (fromTargetIndex === -1) {\n\t\t\treturn null;\n\t\t}\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\n\t\tconst branchPoint = new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})]\n\t\t});\n\t\tlet point;\n\t\tlet result;\n\t\tif (branchTargetFromIndex < timeline.length) {\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n\t\t} else {\n\t\t\tpoint = branchPoint;\n\t\t\tresult = branchPoint;\n\t\t}\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n\t\t\ttoIndex,\n\t\t\tcolorIndex: toIndex,\n\t\t\tpoint,\n\t\t})]));\n\t\treturn result;\n\t}\n\n}\n\nfunction commit({timeline, branches}, name) {\n\tconst index = branches.indexOf(name);\n\tif (index < 0) {\n\t\treturn null;\n\t}\n\tconst result = new BranchPoint({\n\t\tindex,\n\t\tcommit: true,\n\t});\n\n\tif (joinLine(timeline, index)) {\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n\t\t\tfromIndex: index,\n\t\t\tcolorIndex: index\n\t\t})]));\n\t}\n\treturn result;\n}\n\nfunction commitTag({timeline, branches}, name, tag) {\n\tlet index = branches.indexOf(name);\n\tif (index < 0) {\n\t\tindex = branches.length;\n\t\tbranches.push(name);\n\t}\n\treturn new BranchPoint({\n\t\tindex,\n\t\ttag\n\t});\n}\n\nfunction commitMerge({timeline, branches}, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tconst toIndex = branches.indexOf(to);\n\tif (toIndex < 0 || fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tcommit: true,\n\t\t});\n\t}\n\tconst result = new BranchPoint({\n\t\tindex: toIndex,\n\t\tcommit: true,\n\t\tlines: [\n\t\t\tnew BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t}),\n\t\t\tnew BranchLine({\n\t\t\t\tfromIndex: toIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})],\n\t});\n\tconst froms = [...timeline];\n\tconst fromTargetLine = froms.pop();\n\tif (fromTargetLine) {\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\ttoIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t})]\n\t\t}));\n\t}\n\n\n\tif (joinLine(froms, fromIndex) && fromTargetLine) {\n\t\tfromTargetLine[fromIndex].lines = BranchPoint.mergeLines(\n\t\t\t\tfromTargetLine[fromIndex].lines.concat([new BranchLine({\n\t\t\t\t\tfromIndex,\n\t\t\t\t\tcolorIndex: fromIndex\n\t\t\t\t})]));\n\t}\n\tjoinLine(timeline, toIndex);\n\n\treturn result;\n}\n\nfunction calcCommand(info, command) {\n\tconst {timeline} = info;\n\tconst timelineData = [];\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\tconst commands = Array.isArray(command) ? command : [command];\n\tcommands.forEach((cmd) => {\n\t\tif (!cmd) {\n\t\t\treturn;\n\t\t}\n\t\tlet point;\n\t\tif (cmd.command === 'branch') {\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n\t\t\tpoint = branch(info, from, to);\n\t\t} else if (cmd.command === 'commit') {\n\t\t\tconst {branch} = cmd;\n\t\t\tpoint = commit(info, branch);\n\t\t} else if (cmd.command === 'merge') {\n\t\t\tconst {from, to} = cmd.branch;\n\t\t\tpoint = commitMerge(info, from, to);\n\t\t} else if (cmd.command === 'tag') {\n\t\t\tconst {branch, tag} = cmd;\n\t\t\tpoint = commitTag(info, branch, tag);\n\t\t}\n\t\tif (point && point.index > -1) {\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n\t\t}\n\t});\n\ttimeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n\tconst result = {\n\t\tbranches: [],\n\t\ttimeline: []\n\t};\n\tgetAllColumnData(grid, col, (data) => {\n\t\tif (start !== 'top') {\n\t\t\tdata = [...data].reverse();\n\t\t}\n\t\tdata.forEach((command) => {\n\t\t\tcalcCommand(result, command);\n\t\t});\n\n\t});\n\treturn result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n\tlet w = Math.max(width / branches.length + 1, 5);\n\ttimeline.forEach((tl) => {\n\t\ttl.forEach((p, index) => {\n\t\t\tif (index <= 0) {\n\t\t\t\t// \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.tag) {\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\n\t\t\t\tif (((w * index) + (radius * 2) + 4 + textWidth) > width) {\n\t\t\t\t\tw = Math.max((width - (radius * 2) - 4 - textWidth) / index, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tconst result = [];\n\tlet x = left;\n\tbranches.forEach(() => {\n\t\tresult.push(Math.ceil(x + radius));\n\t\tx += w;\n\t});\n\treturn result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\n}, {\n\twidth, col, row, branches\n}) {\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n\t\tctx.lineWidth = branchLineWidth;\n\t\tctx.lineCap = 'round';\n\t\tctx.beginPath();\n\n\n\t\tif (isDef(upLineIndex)) {\n\t\t\tconst upX = branchXPoints[upLineIndex];\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\n\t\t\tconst upY = upRect.top + upRect.height / 2;\n\t\t\tctx.moveTo(upX, upY);\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tupX, (y + upY) / 2,\n\t\t\t\t\t\tx, (y + upY) / 2,\n\t\t\t\t\t\tx, y\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t} else {\n\t\t\tctx.moveTo(x, y);\n\t\t}\n\n\t\tif (isDef(downLineIndex)) {\n\t\t\tconst downX = branchXPoints[downLineIndex];\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\n\t\t\tconst downY = downRect.top + downRect.height / 2;\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tx, (y + downY) / 2,\n\t\t\t\t\t\tdownX, (y + downY) / 2,\n\t\t\t\t\t\tdownX, downY\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(downX, downY);\n\t\t\t}\n\t\t}\n\n\t\tctx.stroke();\n\t}\n}\n\n/**\n * BranchGraphColumn<br>\n * <br>\n * # Data command<br>\n * ## mastar branch or orphan branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * </code></pre>\n * ## commit<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * </code></pre>\n * ## branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * </code></pre>\n * ## merge<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * </code></pre>\n * ## tag<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * </code></pre>\n *\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._start = option.start || 'bottom';\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\n\t}\n\tget StyleClass() {\n\t\treturn BranchGraphStyle;\n\t}\n\tclearCache(grid) {\n\t\tdelete grid[_];\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tif (this._cache) {\n\t\t\tconst state = grid[_] || (grid[_] = {});\n\t\t\tconst {col} = context;\n\t\t\tif (!state[col]) {\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\n\t\t\t}\n\t\t}\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\n\t}\n\tclone() {\n\t\treturn new BranchGraphColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {col, row} = context;\n\t\tconst {timeline, branches} = (this._cache && grid[_]) ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n\n\t\tconst {upLineIndexKey, downLineIndexKey} = this._start !== 'top' ? {upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex'} : {upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex'};\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n\n\t\tconst {\n\t\t\tbranchColors,\n\t\t\tbranchLineWidth,\n\t\t\tcircleSize,\n\t\t\tmergeStyle,\n\t\t\tmargin,\n\t\t\tbgColor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst rect = context.getRect();\n\t\tconst radius = circleSize / 2;\n\t\tconst width = rect.width - margin * 2;\n\n\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n\n\t\t\tconst y = rect.top + rect.height / 2;\n\n\t\t\t// draw join lines\n\t\t\tdata.\n\t\t\t\tmap((point, index) => point ? point.lines.map((line) => ({\n\t\t\t\t\tcolorIndex: line.colorIndex,\n\t\t\t\t\tupLineIndex: line[upLineIndexKey],\n\t\t\t\t\tdownLineIndex: line[downLineIndexKey],\n\t\t\t\t\tpointIndex: index,\n\t\t\t\t})) : []).\n\t\t\t\treduce((p, c) => p.concat(c), []).// flatMap\n\t\t\t\t// order of overlap\n\t\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).\n\t\t\t\tforEach((line) => {\n\t\t\t\t\tconst x = branchXPoints[line.pointIndex];\n\t\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n\t\t\t\t\t\tmargin,\n\t\t\t\t\t\tbranchXPoints,\n\t\t\t\t\t\tbranchLineWidth,\n\t\t\t\t\t\tbranchColors,\n\t\t\t\t\t\tmergeStyle,\n\t\t\t\t\t}, {\n\t\t\t\t\t\twidth, col, row, branches\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t// draw commit points\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.commit) {\n\t\t\t\t\tconst x = branchXPoints[index];\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// draw tags\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.tag) {\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = BranchGraphColumn;","'use strict';\nconst BaseStyle = require('./BaseStyle');\nlet defaultStyle;\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n\tswitch (index % 3) {\n\tcase 0:\n\t\treturn '#979797';\n\tcase 1:\n\t\treturn '#008fb5';\n\tcase 2:\n\t\treturn '#f1c109';\n\tdefault:\n\t}\n\treturn '#979797';\n};\nclass BranchGraphStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BranchGraphStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n\t\tthis._margin = style.margin || 4;\n\t\tthis._circleSize = style.circleSize || 16;\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n\t}\n\tget branchColors() {\n\t\treturn this._branchColors;\n\t}\n\tset branchColors(branchColors) {\n\t\tthis._branchColors = branchColors;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tget circleSize() {\n\t\treturn this._circleSize;\n\t}\n\tset circleSize(circleSize) {\n\t\tthis._circleSize = circleSize;\n\t\tthis.doChangeStyle();\n\t}\n\tget branchLineWidth() {\n\t\treturn this._branchLineWidth;\n\t}\n\tset branchLineWidth(branchLineWidth) {\n\t\tthis._branchLineWidth = branchLineWidth;\n\t\tthis.doChangeStyle();\n\t}\n\tget mergeStyle() {\n\t\treturn this._mergeStyle;\n\t}\n\tset mergeStyle(mergeStyle) {\n\t\tthis._mergeStyle = mergeStyle;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new BranchGraphStyle(this);\n\t}\n}\nmodule.exports = BranchGraphStyle;","'use strict';\n\nconst {normalize} = require('../../internal/menu-items');\nconst {isDef} = require('../../internal/utils');\nconst BaseColumn = require('./BaseColumn');\nconst MenuStyle = require('../style/MenuStyle');\nconst utils = require('./columnUtils');\n\nclass MenuColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._options = normalize(option.options);\n\t}\n\tget StyleClass() {\n\t\treturn MenuStyle;\n\t}\n\tclone() {\n\t\treturn new MenuColumn(this);\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\twithOptions(options) {\n\t\tconst c = this.clone();\n\t\tc._options = normalize(options);\n\t\treturn c;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\tpadding,\n\t\t\ttextOverflow,\n\t\t\tappearance,\n\t\t} = style;\n\t\tlet {\n\t\t\tcolor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\tconst text = this._convertInternal(value);\n\t\thelper.testFontLoad(font, text, context);\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n\t\t\tconst textPadding = basePadding.slice(0);\n\t\t\ttextPadding[1] += 26;// icon padding\n\t\t\tconst iconPadding = basePadding.slice(0);\n\t\t\ticonPadding[1] += 8;\n\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\n\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\n\t\t\t}\n\t\t\thelper.text(text, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding: textPadding,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\n\t\t\tif (appearance === 'menulist-button') {\n\t\t\t\t// draw dropdown arrow icon\n\t\t\t\thelper.text('', context, {\n\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons: [{\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\n\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)',\n\t\t\t\t\t}],\n\t\t\t\t\tpadding: iconPadding,\n\t\t\t\t});\n\t\t\t} else if (appearance !== 'none') {\n\t\t\t\tconsole.warn(`unsupported appearance:${appearance}`);\n\t\t\t}\n\t\t});\n\t}\n\tconvertInternal(value) {\n\t\treturn value;\n\t}\n\t_convertInternal(value) {\n\t\tconst options = this._options;\n\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\tconst option = options[i];\n\t\t\tif (option.value === value) {\n\t\t\t\tvalue = option.caption;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn super.convertInternal(value);\n\t}\n}\n\nmodule.exports = MenuColumn;\n","'use strict';\nconst MultilineTextStyle = require('../style/MultilineTextStyle');\nconst BaseColumn = require('./BaseColumn');\nconst utils = require('./columnUtils');\nclass MultilineTextColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t}\n\tget StyleClass() {\n\t\treturn MultilineTextStyle;\n\t}\n\tclone() {\n\t\treturn new MultilineTextColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\tpadding,\n\t\t\tlineHeight,\n\t\t\tautoWrapText,\n\t\t\tlineClamp,\n\t\t\ttextOverflow\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\t\tconst multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n\t\thelper.testFontLoad(font, value, context);\n\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\thelper.multilineText(multilines, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tpadding,\n\t\t\t\tlineHeight,\n\t\t\t\tautoWrapText,\n\t\t\t\tlineClamp,\n\t\t\t\ttextOverflow,\n\t\t\t\ticons,\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = MultilineTextColumn;","'use strict';\n\nconst action = require('./header/action');\nconst type = require('./header/type');\nconst style = require('./header/style');\n\n/**\n * header classes\n * @type {Object}\n * @namespace cheetahGrid.headers\n * @memberof cheetahGrid\n */\nmodule.exports = {\n\taction,\n\ttype,\n\tstyle,\n};\n","'use strict';\n\nconst {bindCellClickAction} = require('./actionBind');\n\nconst BaseAction = require('./BaseAction');\n\nclass SortHeaderAction extends BaseAction {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._sort = option.sort;\n\t}\n\tget sort() {\n\t\treturn this._sort;\n\t}\n\tset sort(sort) {\n\t\tthis._sort = sort;\n\t\tthis.onChangeDisabledInternal();\n\t}\n\tclone() {\n\t\treturn new SortHeaderAction(this);\n\t}\n\t_executeSort(newState, grid) {\n\t\tif (typeof this._sort === 'function') {\n\t\t\tthis._sort({\n\t\t\t\torder: newState.order,\n\t\t\t\tcol: newState.col,\n\t\t\t\tgrid\n\t\t\t});\n\t\t} else {\n\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\n\t\t}\n\t}\n\tbindGridEvent(grid, range) {\n\t\tconst action = (cell) => {\n\t\t\tif (this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst state = grid.sortState;\n\t\t\tlet newState;\n\t\t\tif (range.isCellInRange(state.col, cell.row)) {\n\t\t\t\tnewState = {\n\t\t\t\t\tcol: range.startCol,\n\t\t\t\t\trow: range.startRow,\n\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tnewState = {\n\t\t\t\t\tcol: range.startCol,\n\t\t\t\t\trow: range.startRow,\n\t\t\t\t\torder: 'asc'\n\t\t\t\t};\n\t\t\t}\n\t\t\tgrid.sortState = newState;\n\t\t\tthis._executeSort(newState, grid);\n\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n\t\t};\n\n\t\treturn [\n\t\t\t...bindCellClickAction(grid, range, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t})\n\t\t];\n\t}\n}\n\nmodule.exports = SortHeaderAction;\n","'use strict';\n\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\nconst animate = require('../../internal/animate');\n\nconst BaseAction = require('./BaseAction');\nconst {CHECK_HEADER_STATE_ID} = require('../../internal/symbolManager');\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nclass CheckHeaderAction extends BaseAction {\n\tclone() {\n\t\treturn new CheckHeaderAction(this);\n\t}\n\tbindGridEvent(grid, range) {\n\t\tif (!grid[CHECK_HEADER_STATE_ID]) {\n\t\t\tsetReadonly(grid, CHECK_HEADER_STATE_ID, {});\n\t\t}\n\t\tconst state = grid[CHECK_HEADER_STATE_ID];\n\n\t\tconst action = ({col, row}) => {\n\t\t\tconst cellKey = `${col}:${row}`;\n\t\t\tconst blockKey = `${cellKey}::block`;\n\t\t\tconst elapsedKey = `${cellKey}::elapsed`;\n\t\t\tif (this.disabled || state[blockKey]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst checked = grid.getHeaderValue(col, row);\n\t\t\tgrid.setHeaderValue(col, row, !checked);\n\n\t\t\tconst onChange = () => {\n\t\t\t\t// checkbox animation\n\t\t\t\tanimate(200, (point) => {\n\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\tdelete state[elapsedKey];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate[elapsedKey] = point;\n\t\t\t\t\t}\n\t\t\t\t\tgrid.invalidateGridRect(range.startCol, range.startRow, range.endCol, range.endRow);\n\t\t\t\t});\n\t\t\t};\n\t\t\tonChange();\n\t\t};\n\t\treturn [\n\t\t\t...bindCellClickAction(grid, range, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...bindCellKeyAction(grid, range, {\n\t\t\t\taction,\n\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE],\n\t\t\t})\n\t\t];\n\t}\n}\n\nmodule.exports = CheckHeaderAction;\n","'use strict';\n\nconst BaseStyle = require('./BaseStyle');\n\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._textAlign = style.textAlign || 'left';\n\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t}\n\tget textAlign() {\n\t\treturn this._textAlign;\n\t}\n\tset textAlign(textAlign) {\n\t\tthis._textAlign = textAlign;\n\t\tthis.doChangeStyle();\n\t}\n\tget textBaseline() {\n\t\treturn this._textBaseline;\n\t}\n\tset textBaseline(textBaseline) {\n\t\tthis._textBaseline = textBaseline;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new StdBaseStyle(this);\n\t}\n}\nmodule.exports = StdBaseStyle;\n","'use strict';\n\nconst Style = require('./Style');\n\nlet defaultStyle;\nclass SortHeaderStyle extends Style {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(style);\n\t\tthis._sortArrowColor = style.sortArrowColor;\n\t}\n\tget sortArrowColor() {\n\t\treturn this._sortArrowColor;\n\t}\n\tset sortArrowColor(sortArrowColor) {\n\t\tthis._sortArrowColor = sortArrowColor;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new SortHeaderStyle(this);\n\t}\n}\n\n\nmodule.exports = SortHeaderStyle;\n","'use strict';\n\nconst styleContents = require('../style');\nconst {Style} = styleContents;\nconst BaseHeader = require('./BaseHeader');\n\nclass Header extends BaseHeader {\n\tget StyleClass() {\n\t\treturn Style;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\tbgColor,\n\t\t\ttextOverflow,\n\t\t} = style;\n\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\thelper.text(value, context, {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t});\n\t}\n\tbindGridEvent(grid, range) {\n\t\treturn [];\n\t}\n}\nmodule.exports = Header;\n","'use strict';\n\nconst styleContents = require('../style');\nconst {SortHeaderStyle} = styleContents;\nconst BaseHeader = require('./BaseHeader');\nconst {isDef} = require('../../internal/utils');\nconst {getFontSize} = require('../../internal/canvases');\n\nclass SortHeader extends BaseHeader {\n\tget StyleClass() {\n\t\treturn SortHeaderStyle;\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline = 'middle',\n\t\t\tcolor,\n\t\t\tbgColor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t\tsortArrowColor,\n\t\t} = style;\n\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst state = grid.sortState;\n\t\tlet order = undefined;\n\t\tconst {col, row} = context;\n\t\tconst range = grid.getHeaderCellRange(col, row);\n\t\tif (range.isCellInRange(state.col, range.startRow)) {\n\t\t\t({order} = state);\n\t\t}\n\n\t\tconst ctx = context.getContext();\n\t\tconst arrowSize = getFontSize(ctx, font).width * 1.2;\n\n\t\thelper.text(value, context, {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t\ticons: [{\n\t\t\t\tname: isDef(order) ? (order === 'asc' ? 'arrow_downward' : 'arrow_upward') : null,\n\t\t\t\twidth: arrowSize,\n\t\t\t\tcolor: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || 'rgba(0, 0, 0, 0.38)',\n\t\t\t}],\n\t\t});\n\t}\n}\nmodule.exports = SortHeader;\n","'use strict';\n\n\nconst {isDef} = require('../../internal/utils');\nconst BaseHeader = require('./BaseHeader');\nconst CheckHeaderStyle = require('../style/CheckHeaderStyle');\nconst {CHECK_HEADER_STATE_ID} = require('../../internal/symbolManager');\n\nclass CheckHeader extends BaseHeader {\n\tget StyleClass() {\n\t\treturn CheckHeaderStyle;\n\t}\n\tclone() {\n\t\treturn new CheckHeader(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tborderColor,\n\t\t\tcheckBgColor,\n\t\t\tuncheckBgColor,\n\t\t\tbgColor,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst {col, row} = context;\n\t\tconst cellKey = `${col}:${row}`;\n\t\tconst elapsedKey = `${cellKey}::elapsed`;\n\t\tconst {[elapsedKey]: elapsed} = grid[CHECK_HEADER_STATE_ID] || {};\n\n\t\tconst checked = grid.getHeaderValue(col, row);\n\n\t\tconst opt = {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tborderColor,\n\t\t\tcheckBgColor,\n\t\t\tuncheckBgColor,\n\t\t};\n\t\tif (isDef(elapsed)) {\n\t\t\topt.animElapsedTime = elapsed;\n\t\t}\n\t\tconst inlineCheck = \thelper.buildCheckBoxInline(!!checked, context, opt);\n\n\t\thelper.text([inlineCheck, value], context, {\n\t\t\ttextAlign,\n\t\t\ttextBaseline,\n\t\t\tcolor,\n\t\t\tfont,\n\t\t\ttextOverflow,\n\t\t});\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\treturn [];\n\t}\n}\n\nmodule.exports = CheckHeader;\n","/*eslint no-bitwise:0*/\n'use strict';\n\nconst {getChainSafe} = require('../internal/utils');\n//private symbol\nconst _ = require('../internal/symbolManager').get();\n\nfunction getProp(obj, superObj, names, defNames) {\n\treturn getChainSafe(obj, ...names) ||\n\t\tgetChainSafe(superObj, ...names) ||\n\t\t(defNames && getChainSafe(obj, ...defNames)) ||\n\t\t(defNames && getChainSafe(superObj, ...defNames));\n}\n\nclass Theme {\n\tconstructor(obj = {}, superTheme = {}) {\n\t\tif (obj.hiliteBorderColor && !obj.highlightBorderColor) {\n\t\t\t// https://github.com/future-architect/cheetah-grid/issues/83\n\t\t\tconsole.warn('Please use highlightBorderColor instead of hiliteBorderColor. cheetah-grid@>=0.7');\n\t\t\tobj.highlightBorderColor = obj.hiliteBorderColor;\n\t\t}\n\t\tthis[_] = {\n\t\t\tobj,\n\t\t\tsuperTheme\n\t\t};\n\t}\n\tget font() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['font']);\n\t}\n\tget underlayBackgroundColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\n\t}\n\t// color\n\tget color() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['color']);\n\t}\n\tget frozenRowsColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n\t}\n\t// background\n\tget defaultBgColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\n\t}\n\tget frozenRowsBgColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n\t}\n\tget selectionBgColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n\t}\n\t// border\n\tget borderColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['borderColor']);\n\t}\n\tget frozenRowsBorderColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n\t}\n\tget highlightBorderColor() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn getProp(obj, superTheme, ['highlightBorderColor'], ['borderColor']);\n\t}\n\tget checkbox() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn this._checkbox || (this._checkbox = {\n\t\t\tget uncheckBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget checkBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget borderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n\t\t\t}\n\t\t});\n\t}\n\tget button() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn this._button || (this._button = {\n\t\t\tget color() {\n\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\n\t\t\t},\n\t\t\tget bgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t});\n\t}\n\tget header() {\n\t\tconst {obj, superTheme} = this[_];\n\t\treturn this._header || (this._header = {\n\t\t\tget sortArrowColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['header', 'sortArrowColor'], ['color']);\n\t\t\t},\n\t\t});\n\t}\n\textends(obj) {\n\t\treturn new Theme(obj, this);\n\t}\n}\n\n\n/**\n * theme object\n * @type {Object}\n * @namespace cheetahGrid.themes.theme\n * @memberof cheetahGrid.themes\n */\nmodule.exports = {\n\tTheme\n};\n","/*eslint no-bitwise:0*/\n'use strict';\nfunction DEFAULT_BG_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: {frozenRowCount}\n\t} = args;\n\tif (!((row - frozenRowCount) & 1)) {\n\t\treturn '#FFF';\n\t} else {\n\t\treturn '#F6F6F6';\n\t}\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n\tlet stop;\n\tconst stopsKey = [];\n\tfor (stop in colorStops) {\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\n\t}\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n\tconst ret = cacheLinearGradient[key];\n\tif (ret) {\n\t\treturn ret;\n\t}\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\n\tfor (stop in colorStops) {\n\t\tgrad.addColorStop(stop, colorStops[stop]);\n\t}\n\treturn (cacheLinearGradient[key] = grad);\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid,\n\t\tgrid: {frozenRowCount},\n\t\tcontext\n\t} = args;\n\tconst {left, top} = grid.getCellRelativeRect(col, 0);\n\tconst {bottom} = grid.getCellRelativeRect(col, frozenRowCount - 1);\n\n\treturn getLinearGradient(context, left, top, left, bottom, {0: '#FFF', 1: '#D3D3D3'});\n}\n/**\n * basic theme\n * @name BASIC\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: '#000',\n\t// frozenRowsColor: '#000',\n\n\tdefaultBgColor: DEFAULT_BG_COLOR,\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n\tselectionBgColor: '#CCE0FF',\n\n\tborderColor: '#000',\n\t// frozenRowsBorderColor: '#000',\n\thighlightBorderColor: '#5E9ED6',\n\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\t// borderColor: '#000',\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3',\n\t},\n\theader: {\n\t\tsortArrowColor: 'rgba(0, 0, 0, 0.38)',\n\t},\n\tunderlayBackgroundColor: '#F6F6F6',\n};","/*eslint no-bitwise:0*/\n'use strict';\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: {frozenRowCount}\n\t} = args;\n\tif (frozenRowCount - 1 === row) {\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n\t} else {\n\t\treturn ['#f2f2f2'];\n\t}\n}\nfunction BORDER_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid: {colCount, frozenColCount}\n\t} = args;\n\tif (frozenColCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t}\n\tif (colCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t}\n\treturn ['#ccc7c7', null];\n\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: 'rgba(0, 0, 0, 0.87)',\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n\n\tdefaultBgColor: '#FFF',\n\t// frozenRowsBgColor: '#FFF',\n\tselectionBgColor: '#CCE0FF',\n\n\tborderColor: BORDER_COLOR,\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n\thighlightBorderColor: '#5E9ED6',\n\n\tcheckbox: {\n\t\t// uncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)',\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3',\n\t},\n\theader: {\n\t\tsortArrowColor: 'rgba(0, 0, 0, 0.38)',\n\t},\n\tunderlayBackgroundColor: '#FFF',\n};","'use strict';\n\nconst {getChainSafe} = require('../internal/utils');\nconst DataSource = require('./DataSource');\n\nfunction _setFieldCache({_fCache}, index, field, value) {\n\tconst recCache = _fCache[index] || (_fCache[index] = {});\n\trecCache[field] = value;\n}\n/**\n\t * grid data source for caching Promise data\n\t *\n\t * @classdesc cheetahGrid.data.CachedDataSource\n\t * @extends cheetahGrid.data.DataSource\n\t * @memberof cheetahGrid.data\n\t */\nclass CachedDataSource extends DataSource {\n\tstatic get EVENT_TYPE() {\n\t\treturn DataSource.EVENT_TYPE;\n\t}\n\tstatic ofArray(array) {\n\t\treturn new CachedDataSource({\n\t\t\tget: (index) => array[index],\n\t\t\tlength: array.length\n\t\t});\n\t}\n\tconstructor(opt = {}) {\n\t\tsuper(opt);\n\t\tthis._rCache = {};\n\t\tthis._fCache = {};\n\t}\n\tgetOriginal(index) {\n\t\tif (this._rCache && this._rCache[index]) {\n\t\t\treturn this._rCache[index];\n\t\t}\n\t\treturn super.getOriginal(index);\n\t}\n\tgetOriginalField(index, field) {\n\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\tif (cache) {\n\t\t\treturn cache;\n\t\t}\n\t\treturn super.getOriginalField(index, field);\n\t}\n\tsetOriginalField(index, field, value) {\n\t\tconst fCache = this._fCache;\n\t\tif (fCache && fCache[index]) {\n\t\t\tdelete fCache[index]; // clear row cache\n\t\t}\n\t\treturn super.setOriginalField(index, field, value);\n\t}\n\tclearCache() {\n\t\tif (this._rCache) {\n\t\t\tthis._rCache = {};\n\t\t}\n\t\tif (this._fCache) {\n\t\t\tthis._fCache = {};\n\t\t}\n\t}\n\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t_setFieldCache(this, index, field, val);\n\t}\n\trecordPromiseCallBackInternal(index, val) {\n\t\tthis._rCache[index] = val;\n\t}\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n}\n\nmodule.exports = CachedDataSource;\n","'use strict';\nconst {isPromise} = require('../internal/utils');\nconst DataSource = require('./DataSource');\nconst EventHandler = require('../internal/EventHandler');\n\nconst {EVENT_TYPE} = DataSource;\n\nclass DataSourceIterator {\n\tconstructor(dataSource) {\n\t\tthis._dataSource = dataSource;\n\t\tthis._curIndex = -1;\n\t\tthis._data = [];\n\t}\n\thasNext() {\n\t\tconst next = this._curIndex + 1;\n\t\treturn this._dataSource.length > next;\n\t}\n\tnext() {\n\t\tconst next = this._curIndex + 1;\n\t\tconst data = this._getIndexData(next);\n\t\tthis._curIndex = next;\n\t\treturn data;\n\t}\n\tmovePrev() {\n\t\tthis._curIndex--;\n\t}\n\t_getIndexData(index, nest) {\n\t\tconst dataSource = this._dataSource;\n\t\tconst data = this._data;\n\t\tif (index < data.length) {\n\t\t\treturn data[index];\n\t\t}\n\n\t\tif (dataSource.length <= index) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this._dataSource.get(index);\n\t\tdata[index] = record;\n\t\tif (isPromise(record)) {\n\t\t\trecord.then((val) => {\n\t\t\t\tdata[index] = val;\n\t\t\t});\n\t\t\tif (!nest) {\n\t\t\t\tfor (let i = 1; i <= 100; i++) {\n\t\t\t\t\tthis._getIndexData(index + i, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn record;\n\t}\n\n}\nclass FilterData {\n\tconstructor(dc, original, filter) {\n\t\tthis._owner = dc;\n\t\tthis._dataSourceItr = new DataSourceIterator(original);\n\t\tthis._filter = filter;\n\t\tthis._filterdList = [];\n\t\tthis._queues = [];\n\t}\n\tget(index) {\n\t\tif (this._cancel) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst filterdList = this._filterdList;\n\t\tif (index < filterdList.length) {\n\t\t\treturn filterdList[index];\n\t\t}\n\t\tconst queues = this._queues;\n\t\tif (queues[index]) {\n\t\t\treturn queues[index];\n\t\t}\n\t\treturn queues[index] || this._findIndex(index);\n\t}\n\tcancel() {\n\t\tthis._cancel = true;\n\t}\n\t_findIndex(index) {\n\t\tif (window.Promise) {\n\t\t\tconst timeout = Date.now() + 100;\n\t\t\tlet count = 0;\n\t\t\treturn this._findIndexWithTimeout(index, () => {\n\t\t\t\tcount++;\n\t\t\t\tif (count >= 100) {\n\t\t\t\t\tcount = 0;\n\t\t\t\t\treturn timeout < Date.now();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\treturn this._findIndexWithTimeout(index, () => false);\n\t}\n\t_findIndexWithTimeout(index, testTimeout) {\n\t\tconst filterdList = this._filterdList;\n\t\tconst filter = this._filter;\n\t\tconst dataSourceItr = this._dataSourceItr;\n\n\t\tconst queues = this._queues;\n\n\n\t\twhile (dataSourceItr.hasNext()) {\n\t\t\tif (this._cancel) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = dataSourceItr.next();\n\t\t\tif (isPromise(record)) {\n\t\t\t\tdataSourceItr.movePrev();\n\t\t\t\treturn (queues[index] = record.then((value) => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (filter(record)) {\n\t\t\t\tfilterdList.push(record);\n\t\t\t\tif (index < filterdList.length) {\n\t\t\t\t\treturn filterdList[index];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (testTimeout()) {\n\t\t\t\tconst promise = new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, 300);\n\t\t\t\t});\n\t\t\t\tqueues[index] = promise.then(() => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t});\n\t\t\t\treturn queues[index];\n\t\t\t}\n\t\t}\n\t\tconst dc = this._owner;\n\t\tdc.length = filterdList.length;\n\t\treturn undefined;\n\t}\n}\n\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @extends cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\tconstructor(dataSource, filter) {\n\t\tsuper(dataSource);\n\t\tthis._dataSource = dataSource;\n\t\tthis.filter = filter;\n\t\tconst handler =\tthis._handler = new EventHandler();\n\t\thandler.on(dataSource, EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\t// reset\n\t\t\tthis.filter = this.filter;\n\t\t});\n\t\tfor (const k in EVENT_TYPE) {\n\t\t\tconst type = EVENT_TYPE[k];\n\t\t\thandler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n\t\t}\n\t}\n\tget filter() {\n\t\treturn this._filterData && this._filterData._filter || undefined;\n\t}\n\tset filter(filter) {\n\t\tif (this._filterData) {\n\t\t\tthis._filterData.cancel();\n\t\t}\n\t\tthis._filterData = filter ? new FilterData(this, this._dataSource, filter) : undefined;\n\t\tthis.length = this._dataSource.length;\n\t}\n\tgetOriginal(index) {\n\t\tif (!this._filterData) {\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\treturn this._filterData.get(index);\n\t}\n\tsort(...args) {\n\t\treturn this._dataSource.sort(...args);\n\t}\n\tdispose() {\n\t\tthis._handler.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nmodule.exports = FilterDataSource;","'use strict';\n\nconst {isDef, isPromise, then, obj: {isObject}} = require('./internal/utils');\nconst GridCanvasHelper = require('./GridCanvasHelper');\nconst columns = require('./columns');\nconst {BaseStyle} = columns.style;\nconst headerType = require('./header/type');\nconst headerAction = require('./header/action');\nconst {BaseStyle: HeaderBaseStyle} = require('./header/style');\nconst DrawGrid = require('./core/DrawGrid');\nconst {DataSource, CachedDataSource} = require('./data');\nconst themes = require('./themes');\nconst icons = require('./internal/icons');\nconst MessageHandler = require('./columns/message/MessageHandler');\nconst TooltipHandler = require('./tooltip/TooltipHandler');\nconst EVENT_TYPE = require('./list-grid/EVENT_TYPE');\n\n//protected symbol\nconst {PROTECTED_SYMBOL: _} = require('./internal/symbolManager');\n\nlet headerId = 0;\n//private methods\nfunction _getHeaderCellRange(grid, col, row) {\n\treturn grid[_].headerMap.getHeaderCellRange(col, row);\n}\nfunction _updateRect(grid, col, row, context) {\n\tconst rect = context.getRect();\n\tconst {\n\t\tstartCol,\n\t\tendCol,\n\t\tstartRow,\n\t\tendRow,\n\t} = _getHeaderCellRange(grid, col, row);\n\tfor (let c = col - 1; c >= startCol; c--) {\n\t\trect.left -= grid.getColWidth(c);\n\t}\n\tfor (let c = col + 1; c <= endCol; c++) {\n\t\trect.right += grid.getColWidth(c);\n\t}\n\tfor (let r = row - 1; r >= startRow; r--) {\n\t\trect.top -= grid.getRowHeight(r);\n\t}\n\tfor (let r = row + 1; r <= endRow; r++) {\n\t\trect.bottom += grid.getRowHeight(r);\n\t}\n\tcontext.setRect(rect);\n}\nfunction _getCellValue(grid, col, row) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn grid[_].headerMap.getCell(col, row).caption;\n\t} else {\n\t\tlet {field} = grid[_].headerMap.columns[col];\n\t\tif (isObject(field) && field.get && field.set) {\n\t\t\tfield = field.get;\n\t\t}\n\t\treturn _getField(grid, field, row);\n\t}\n}\nfunction _setCellValue(grid, col, row, value) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\t// nop\n\t\treturn false;\n\t} else {\n\t\tlet {field} = grid[_].headerMap.columns[col];\n\t\tif (isObject(field) && field.get && field.set) {\n\t\t\tfield = field.set;\n\t\t}\n\t\tconst index = _getRowRecordIndex(grid, row);\n\t\tconst res = grid[_].dataSource.setField(index, field, value);\n\t\treturn isPromise(res) ? res : true;\n\t}\n}\nfunction _getCellMessage(grid, col, row) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn null;\n\t} else {\n\t\tconst {message} = grid[_].headerMap.columns[col];\n\t\tif (!message) {\n\t\t\treturn null;\n\t\t}\n\t\treturn _getField(grid, message, row);\n\t}\n}\nfunction _getCellIcon0(grid, icon, row) {\n\tif (!isDef(icon)) {\n\t\treturn null;\n\t}\n\tif (Array.isArray(icon)) {\n\t\treturn icon.map((i) => _getCellIcon0(grid, i, row));\n\t}\n\tif (!isObject(icon) || typeof icon === 'function') {\n\t\treturn _getField(grid, icon, row);\n\t}\n\tconst retIcon = {};\n\ticons.iconPropKeys.forEach((k) => {\n\t\tif (icon[k]) {\n\t\t\tconst f = _getField(grid, icon[k], row);\n\t\t\tif (isDef(f)) {\n\t\t\t\tretIcon[k] = f;\n\t\t\t} else {\n\t\t\t\tif (!_hasField(grid, icon[k], row)) {\n\t\t\t\t\tretIcon[k] = icon[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn retIcon;\n}\nfunction _getCellIcon(grid, col, row) {\n\tconst {icon} = grid[_].headerMap.columns[col];\n\treturn _getCellIcon0(grid, icon, row);\n}\nfunction _getField(grid, field, row) {\n\tif (!isDef(field)) {\n\t\treturn null;\n\t}\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn null;\n\t} else {\n\t\tconst index = _getRowRecordIndex(grid, row);\n\t\treturn grid[_].dataSource.getField(index, field);\n\t}\n}\nfunction _hasField(grid, field, row) {\n\tif (!isDef(field)) {\n\t\treturn false;\n\t}\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn false;\n\t} else {\n\t\tconst index = _getRowRecordIndex(grid, row);\n\t\treturn grid[_].dataSource.hasField(index, field);\n\t}\n}\nfunction _onDrawValue(grid, cellValue, context, {col, row}, style, draw) {\n\tconst helper = grid[_].gridCanvasHelper;\n\n\tconst drawCellBg = ({bgColor} = {}) => {\n\t\tconst fillOpt = {\n\t\t\tfillColor: bgColor,\n\t\t};\n\t\t\t//cell\n\t\thelper.fillCellWithState(context, fillOpt);\n\t};\n\tconst drawCellBorder = () => {\n\n\t\tif (context.col === grid.frozenColCount - 1) {\n\t\t\t//\n\t\t\tconst rect = context.getRect();\n\t\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor\n\t\t\t\t\t: helper.theme.frozenRowsBorderColor;\n\n\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\thelper.getColor(borderColor, context.col, context.row, ctx)\n\t\t\t\t);\n\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\n\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (context.row < grid[_].headerMap.rowCount) {\n\t\t\t_headerBorderWithState(grid, helper, context);\n\t\t} else {\n\t\t\thelper.borderWithState(context);\n\t\t}\n\t};\n\n\n\tconst drawCellBase = ({bgColor} = {}) => {\n\t\tdrawCellBg({bgColor});\n\t\tdrawCellBorder();\n\t};\n\tconst info = {\n\t\tgetRecord: () => grid.getRowRecord(row),\n\t\tgetIcon: () => _getCellIcon(grid, col, row),\n\t\tgetMessage: () => _getCellMessage(grid, col, row),\n\t\tmessageHandler: grid[_].messageHandler,\n\t\tstyle,\n\t\tdrawCellBase,\n\t\tdrawCellBg,\n\t\tdrawCellBorder,\n\t};\n\n\treturn draw(cellValue, info, context, grid);\n}\nfunction _headerBorderWithState(grid, helper, context) {\n\tconst {col, row} = context;\n\tconst sel = grid.selection.select;\n\tif (sel.row >= grid[_].headerMap.rowCount) {\n\t\t//\n\t\thelper.borderWithState(context);\n\t\treturn;\n\t}\n\n\tconst {id} = grid[_].headerMap.getCell(col, row);\n\n\tconst rect = context.getRect();\n\tconst option = {};\n\n\tconst {id: selId} = grid[_].headerMap.getCell(sel.col, sel.row);\n\t//\n\tif (selId === id) {\n\t\toption.borderColor = helper.theme.highlightBorderColor;\n\t\toption.lineWidth = 2;\n\t\thelper.border(context, option);\n\t} else {\n\t\toption.lineWidth = 1;\n\t\t// header color\n\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\n\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\n\t\t}\n\t\thelper.border(context, option);\n\n\t\t//\n\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n\t\t\t//\n\t\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\thelper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx)\n\t\t\t\t);\n\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (row > 0 &&\n\t\t\t\t\t\tgrid[_].headerMap.getCell(col, row - 1).id === selId) {\n\t\t\t//\n\t\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\thelper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx)\n\t\t\t\t);\n\t\t\t\tif (borderColors[0]) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\nfunction _refreshHeader(grid) {\n\tif (grid[_].headerEvents) {\n\t\tgrid[_].headerEvents.forEach((id) => grid.unlisten(id));\n\t}\n\tgrid[_].headerMap = new HeaderMap(grid[_].header);\n\tgrid[_].headerEvents = [];\n\tgrid[_].headerMap.headerObjects.forEach((cell) => {\n\t\tconst ids = cell.headerType.bindGridEvent(grid, cell.range);\n\t\tgrid[_].headerEvents.push(...ids);\n\t\tif (cell.style) {\n\t\t\tif (cell.style instanceof HeaderBaseStyle) {\n\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\tgrid.invalidate();\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t}\n\t\t}\n\t\tif (cell.action) {\n\t\t\tconst ids = cell.action.bindGridEvent(grid, cell.range);\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t}\n\t});\n\tgrid[_].headerMap.columns.forEach((col, index) => {\n\t\tif (col.action) {\n\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\n\t\t\t\tisTarget(col, row) {\n\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t},\n\t\t\t});\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t}\n\t\tif (col.columnType) {\n\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\n\t\t\t\tisTarget(col, row) {\n\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t},\n\t\t\t});\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t}\n\t\tif (col.style) {\n\t\t\tif (col.style instanceof BaseStyle) {\n\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\tgrid.invalidate();\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t}\n\t\t}\n\t});\n\tgrid.colCount = grid[_].headerMap.columns.length;\n\t_refreshRowCount(grid);\n\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\n\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n\t\tconst column = grid[_].headerMap.columns[col];\n\t\tconst {width, minWidth, maxWidth} = column;\n\t\tif (width && (width > 0 || typeof width === 'string')) {\n\t\t\tgrid.setColWidth(col, width);\n\t\t}\n\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n\t\t\tgrid.setMinColWidth(col, minWidth);\n\t\t}\n\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n\t\t\tgrid.setMaxColWidth(col, maxWidth);\n\t\t}\n\t}\n\tconst isArrayHeaderRowHeight = Array.isArray(grid[_].headerRowHeight);\n\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\t\tif (height && height > 0) {\n\t\t\tgrid.setRowHeight(row, height);\n\t\t}\n\t}\n}\n\nfunction _refreshRowCount(grid) {\n\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n}\nfunction _tryWithUpdateDataSource(grid, fn) {\n\tif (grid[_].dataSourceEventIds) {\n\t\tgrid[_].dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\n\t}\n\n\tfn(grid);\n\n\tgrid[_].dataSourceEventIds = [\n\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n\t\t\t_refreshRowCount(grid);\n\t\t\tgrid.invalidate();\n\t\t}),\n\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\tgrid.invalidate();\n\t\t}),\n\t];\n}\nfunction _setRecords(grid, records = []) {\n\t_tryWithUpdateDataSource(grid, () => {\n\t\tgrid[_].records = records;\n\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n\t});\n}\nfunction _setDataSource(grid, dataSource) {\n\t_tryWithUpdateDataSource(grid, () => {\n\t\tif (dataSource) {\n\t\t\tif (dataSource instanceof DataSource) {\n\t\t\t\tgrid[_].dataSource = dataSource;\n\t\t\t} else {\n\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\n\t\t\t}\n\t\t} else {\n\t\t\tgrid[_].dataSource = DataSource.EMPTY;\n\t\t}\n\t\tgrid[_].records = null;\n\t});\n}\n\nfunction _getRowRecordIndex(grid, row) {\n\tif (row < grid[_].headerMap.rowCount) {\n\t\treturn undefined;\n\t} else {\n\t\treturn row - grid[_].headerMap.rowCount;\n\t}\n}\n//end private methods\n//\n//\n//\n\nclass HeaderMap {\n\tconstructor(header) {\n\t\tthis._columns = [];\n\t\tthis._headerCells = [];\n\t\tthis._headerObjects = [];\n\n\t\tthis._addHeaders(0, header, []);\n\t\tthis._setupHeaderControllers();\n\t}\n\tget columns() {\n\t\treturn this._columns;\n\t}\n\tget rowCount() {\n\t\treturn this._headerCells.length;\n\t}\n\tget headerObjects() {\n\t\treturn this._headerObjects;\n\t}\n\tgetCell(col, row) {\n\t\treturn this._headerCells[row][col];\n\t}\n\tgetHeaderCellRangeById(id) {\n\t\tfor (let r = 0; r < this.rowCount; r++) {\n\t\t\tfor (let c = 0; c < this.columns.length; c++) {\n\t\t\t\tif (id === this.getCell(c, r).id) {\n\t\t\t\t\treturn this.getHeaderCellRange(c, r);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tgetHeaderCellRange(col, row) {\n\t\tconst result = {\n\t\t\tstartCol: col,\n\t\t\tstartRow: row,\n\t\t\tendCol: col,\n\t\t\tendRow: row,\n\t\t\tisCellInRange(col, row) {\n\t\t\t\treturn this.startCol <= col && col <= this.endCol &&\n\t\t\t\t\t\t\tthis.startRow <= row && row <= this.endRow;\n\t\t\t}\n\t\t};\n\t\tconst {id} = this.getCell(col, row);\n\t\tfor (let c = col - 1; c >= 0; c--) {\n\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.startCol = c;\n\t\t}\n\t\tfor (let c = col + 1; c < this.columns.length; c++) {\n\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.endCol = c;\n\t\t}\n\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.startRow = r;\n\t\t}\n\t\tfor (let r = row + 1; r < this.rowCount; r++) {\n\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.endRow = r;\n\t\t}\n\t\treturn result;\n\t}\n\t_addHeaders(row, header, roots) {\n\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\n\t\theader.forEach((hd) => {\n\t\t\tconst col = this._columns.length;\n\t\t\tconst cell = {\n\t\t\t\tid: headerId++,\n\t\t\t\tcaption: hd.caption,\n\t\t\t\tfield: hd.headerField || hd.field,\n\t\t\t\tstyle: hd.headerStyle,\n\t\t\t\theaderType: hd.headerType,\n\t\t\t\taction: hd.headerAction,\n\t\t\t\tsort: hd.sort,\n\t\t\t\tdefine: hd,\n\t\t\t};\n\t\t\tthis._headerObjects.push(cell);\n\t\t\trowCells[col] = cell;\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\tthis._headerCells[r][col] = roots[r];\n\t\t\t}\n\t\t\tif (hd.columns) {\n\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\n\t\t\t} else {\n\t\t\t\tthis._columns.push({\n\t\t\t\t\tfield: hd.field,\n\t\t\t\t\twidth: hd.width,\n\t\t\t\t\tminWidth: hd.minWidth,\n\t\t\t\t\tmaxWidth: hd.maxWidth,\n\t\t\t\t\ticon: hd.icon,\n\t\t\t\t\tmessage: hd.message,\n\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\n\t\t\t\t\taction: columns.action.of(hd.action),\n\t\t\t\t\tstyle: hd.style,\n\t\t\t\t\tdefine: hd,\n\t\t\t\t});\n\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\n\t\t\t\t\tthis._headerCells[r][col] = cell;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t_setupHeaderControllers() {\n\t\tthis._headerObjects.forEach((cell) => {\n\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\n\t\t\tcell.headerType = headerType.ofCell(cell);\n\t\t\tcell.action = headerAction.ofCell(cell);\n\t\t});\n\t}\n\t_newRow(row) {\n\t\tconst newRow = this._headerCells[row] = [];\n\t\tif (!this._columns.length) {\n\t\t\treturn newRow;\n\t\t}\n\t\tconst prev = this._headerCells[row - 1];\n\t\tfor (let col = 0; col < prev.length; col++) {\n\t\t\tnewRow[col] = prev[col];\n\t\t}\n\t\treturn newRow;\n\t}\n}\n\nfunction adjustListGridOption(options) {\n\tif (options) {\n\t\tdelete options.frozenRowCount;\n\t\tdelete options.colCount;\n\t\tdelete options.rowCount;\n\t}\n\treturn options;\n}\n\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @extends cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid\n */\nclass ListGrid extends DrawGrid {\n\tstatic get EVENT_TYPE() {\n\t\treturn EVENT_TYPE;\n\t}\n\t/**\n\t * constructor\n\t *\n\t * <pre>\n\t * Constructor options\n\t * -----\n\t * header: see header property\n\t * records {array}: records data\n\t * dataSource {DataSource}: records data source\n\t * frozenColCount {number}: default 0\n\t * defaultRowHeight {number}: default grid row height. default 40\n\t * defaultColWidth {number}: default grid col width. default 80\n\t * borderColor: border color\n\t * parentElement {Element}: canvas parentElement\n\t * theme {object}: theme\n\t * -----\n\t * </pre>\n\t *\n\t * @constructor\n\t * @param  {Object} options Constructor options\n\t */\n\tconstructor(options = {}) {\n\t\tsuper(adjustListGridOption(options));\n\t\tconst protectedSpace = this[_];\n\t\tprotectedSpace.header = options.header || [];\n\t\tprotectedSpace.headerRowHeight = options.headerRowHeight || [];\n\t\tif (options.dataSource) {\n\t\t\t_setDataSource(this, options.dataSource);\n\t\t} else {\n\t\t\t_setRecords(this, options.records);\n\t\t}\n\t\t_refreshHeader(this);\n\t\tprotectedSpace.sortState = {\n\t\t\tcol: -1,\n\t\t\trow: -1,\n\t\t\torder: undefined,\n\t\t};\n\t\tprotectedSpace.gridCanvasHelper = new GridCanvasHelper(this);\n\t\tprotectedSpace.theme = themes.of(options.theme);\n\t\tprotectedSpace.messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n\t\tprotectedSpace.tooltipHandler = new TooltipHandler(this);\n\t\tthis.invalidate();\n\t\tprotectedSpace.handler.on(window, 'resize', () => {\n\t\t\tthis.updateSize();\n\t\t\tthis.updateScroll();\n\t\t\tthis.invalidate();\n\t\t});\n\t}\n\t/**\n\t * Dispose the grid instance.\n\t * @returns {void}\n\t */\n\tdispose() {\n\t\tconst protectedSpace = this[_];\n\t\tprotectedSpace.messageHandler.dispose();\n\t\tprotectedSpace.tooltipHandler.dispose();\n\t\tsuper.dispose();\n\t}\n\t/**\n\t * Gets the define of the header.\n\t * @type {Array}\n\t */\n\tget header() {\n\t\treturn this[_].header;\n\t}\n\t/**\n\t * Sets the define of the header with the given data.\n\t * <pre>\n\t * column options\n\t * -----\n\t * caption: header caption\n\t * field: field name\n\t * width: column width\n\t * minWidth: column min width\n\t * maxWidth: column max width\n\t * icon: icon name\n\t * message: message key name\n\t * columnType: column type\n\t * action: column action\n\t * style: column style\n\t * headerType: header type\n\t * headerStyle: header style\n\t * headerAction: header action\n\t * headerField: header field name\n\t * sort: define sort setting\n\t * -----\n\t *\n\t * multiline header\n\t * -----\n\t * caption: header caption\n\t * columns: columns define\n\t * -----\n\t * </pre>\n\t *\n\t * @param {Array} header the define of the header to set\n\t * @type {Array}\n\t */\n\tset header(header) {\n\t\tthis[_].header = header;\n\t\t_refreshHeader(this);\n\t}\n\t/**\n\t * Get the records.\n\t * @type {Array}\n\t */\n\tget records() {\n\t\treturn this[_].records;\n\t}\n\t/**\n\t * Set the records from given\n\t * @param {Array} records records to set\n\t * @type {Array}\n\t */\n\tset records(records) {\n\t\t_setRecords(this, records);\n\t\t_refreshRowCount(this);\n\t\tthis.invalidate();\n\t}\n\t/**\n\t * Get the data source.\n\t * @type {DataSource}\n\t */\n\tget dataSource() {\n\t\treturn this[_].dataSource;\n\t}\n\t/**\n\t * Set the data source from given\n\t * @param {DataSource} dataSource data source to set\n\t * @type {DataSource}\n\t */\n\tset dataSource(dataSource) {\n\t\t_setDataSource(this, dataSource);\n\t\t_refreshRowCount(this);\n\t\tthis.invalidate();\n\t}\n\t/**\n\t * Get the theme.\n\t * @type {object}\n\t */\n\tget theme() {\n\t\treturn this[_].theme;\n\t}\n\t/**\n\t * Set the theme from given\n\t * @param {object} theme theme to set\n\t * @type {object}\n\t */\n\tset theme(theme) {\n\t\tthis[_].theme = themes.of(theme);\n\t\tthis.invalidate();\n\t}\n\t/**\n\t * Get the font definition as a string.\n\t * @override\n\t * @type {string}\n\t */\n\tget font() {\n\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\n\t}\n\t/**\n\t * Set the font definition with the given string.\n\t * @override\n\t * @param {string} font the font definition to set\n\t * @type {string}\n\t */\n\tset font(font) {\n\t\tsuper.font = font;\n\t}\n\t/**\n\t * Get the background color of the underlay.\n\t * @override\n\t * @type {*}\n\t */\n\tget underlayBackgroundColor() {\n\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n\t}\n\t/**\n\t * Set the background color of the underlay.\n\t * @override\n\t * @param {*} underlayBackgroundColor the background color of the underlay to set\n\t * @type {*}\n\t */\n\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\n\t}\n\t/**\n\t * Get the sort state.\n\t * @type {object}\n\t */\n\tget sortState() {\n\t\treturn this[_].sortState;\n\t}\n\t/**\n\t * Sets the sort state.\n\t * If `null` to set, the sort state is initialized.\n\t *\n\t * @param {object} sortState the sort state to set\n\t * @type {object}\n\t */\n\tset sortState(sortState) {\n\t\tconst oldState = this.sortState;\n\t\tlet oldField;\n\t\tif (oldState.col >= 0 && oldState.row >= 0) {\n\t\t\toldField = this.getHeaderField(oldState.col, oldState.row);\n\t\t}\n\n\t\tconst newState = this[_].sortState = isDef(sortState) ? sortState : {\n\t\t\tcol: -1,\n\t\t\trow: -1,\n\t\t\torder: undefined,\n\t\t};\n\n\t\tlet newField;\n\t\tif (newState.col >= 0 && newState.row >= 0) {\n\t\t\tnewField = this.getHeaderField(newState.col, newState.row);\n\t\t}\n\n\t\t// bind header value\n\t\tif (isDef(oldField) && oldField !== newField) {\n\t\t\tthis.setHeaderValue(oldState.col, oldState.row, undefined);\n\t\t}\n\t\tif (isDef(newField)) {\n\t\t\tthis.setHeaderValue(newState.col, newState.row, newState.order);\n\t\t}\n\t}\n\t/**\n\t * Get the header values.\n\t * @type {object}\n\t */\n\tget headerValues() {\n\t\treturn this[_].headerValues || (this[_].headerValues = {});\n\t}\n\t/**\n\t * Sets the header values.\n\t *\n\t * @param {object} headerValues the header values to set\n\t * @type {object}\n\t */\n\tset headerValues(headerValues) {\n\t\tthis[_].headerValues = headerValues || {};\n\t}\n\t/**\n\t * Get the field of the given column index.\n\t * @param  {number} col The column index.\n\t * @return {*} The field object.\n\t */\n\tgetField(col) {\n\t\treturn this[_].headerMap.columns[col].field;\n\t}\n\t/**\n\t * Get the column define of the given column index.\n\t * @param  {number} col The column index.\n\t * @return {*} The column define object.\n\t */\n\tgetColumnDefine(col) {\n\t\treturn this[_].headerMap.columns[col].define;\n\t}\n\t/**\n\t * Get the header field of the given header cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The header row index.\n\t * @return {*} The field object.\n\t */\n\tgetHeaderField(col, row) {\n\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\treturn hd.field;\n\t}\n\t/**\n\t * Get the header define of the given header cell.\n\t * @param  {number} col The column index.\n\t * @param  {number} row The header row index.\n\t * @return {*} The header define object.\n\t */\n\tgetHeaderDefine(col, row) {\n\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\treturn hd.define;\n\t}\n\t/**\n\t * Get the record of the given row index.\n\t * @param  {number} row The row index.\n\t * @return {object} The record.\n\t */\n\tgetRowRecord(row) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\n\t\t}\n\t}\n\t/**\n\t * Get the column index of the given field.\n\t * @param  {*} field The field.\n\t * @return {number} The column index.\n\t */\n\tgetColumnIndexByField(field) {\n\t\tfor (const columnIndex in this[_].headerMap.columns) {\n\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\n\t\t\t\treturn columnIndex - 0;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\t/**\n\t * Focus the cell.\n\t * @param  {*} field The field.\n\t * @param  {number} index The record index\n\t * @return {void}\n\t */\n\tfocusGridCell(field, index) {\n\t\tconst {\n\t\t\tstart: {col: startCol, row: startRow},\n\t\t\tend: {col: endCol, row: endRow}\n\t\t} = this.selection.range;\n\n\t\tconst newCol = this.getColumnIndexByField(field);\n\t\tconst newRow = index + this[_].headerMap.rowCount;\n\t\tthis.focusCell(newCol, newRow);\n\t\tthis.selection.select = {\n\t\t\tcol: newCol,\n\t\t\trow: newRow\n\t\t};\n\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\tthis.invalidateCell(newCol, newRow);\n\t}\n\t/**\n\t * Scroll to where cell is visible.\n\t * @param  {*} field The field.\n\t * @param  {number} index The record index\n\t * @return {void}\n\t */\n\tmakeVisibleGridCell(field, index) {\n\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n\t}\n\tgetGridCanvasHelper() {\n\t\treturn this[_].gridCanvasHelper;\n\t}\n\t/**\n\t * Get header range information for a given cell.\n\t * @param {number} col column index of the cell\n\t * @param {number} row row index of the cell\n\t * @returns {object} cell range info\n\t */\n\tgetHeaderCellRange(col, row) {\n\t\treturn _getHeaderCellRange(this, col, row);\n\t}\n\tgetCopyCellValue(col, row) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {startCol, startRow} = _getHeaderCellRange(this, col, row);\n\t\t\tif (startCol !== col || startRow !== row) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t}\n\t\treturn _getCellValue(this, col, row);\n\t}\n\tonDrawCell(col, row, context) {\n\t\tconst {headerMap} = this[_];\n\t\tconst column = headerMap.columns[col];\n\n\t\tlet draw;\n\t\tlet style;\n\t\tif (row < headerMap.rowCount) {\n\t\t\tconst hd = headerMap.getCell(col, row);\n\t\t\tdraw = hd.headerType.onDrawCell;\n\t\t\t({style} = hd);\n\t\t\t_updateRect(this, col, row, context);\n\t\t} else {\n\t\t\tdraw = column.columnType.onDrawCell;\n\t\t\t({style} = column);\n\t\t}\n\t\tconst cellValue = _getCellValue(this, col, row);\n\t\treturn _onDrawValue(this, cellValue, context, {col, row}, style, draw);\n\t}\n\tdoGetCellValue(col, row, valueCallback) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst value = _getCellValue(this, col, row);\n\t\t\tif (isPromise(value)) {\n\t\t\t\t//\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvalueCallback(value);\n\t\t}\n\t\treturn true;\n\t}\n\tdoChangeValue(col, row, changeValueCallback) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst before = _getCellValue(this, col, row);\n\t\t\tif (isPromise(before)) {\n\t\t\t\t//\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst after = changeValueCallback(before);\n\t\t\tif (after === undefined) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn then(_setCellValue(this, col, row, after), (ret) => {\n\t\t\t\tif (ret) {\n\t\t\t\t\tconst {field} = this[_].headerMap.columns[col];\n\t\t\t\t\tconst self = this;\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n\t\t\t\t\t\tcol,\n\t\t\t\t\t\trow,\n\t\t\t\t\t\tget record() {\n\t\t\t\t\t\t\treturn self.getRowRecord(row);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfield,\n\t\t\t\t\t\tvalue: after,\n\t\t\t\t\t\toldValue: before,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t});\n\t\t}\n\t}\n\tgetHeaderValue(col, row) {\n\t\tconst field = this.getHeaderField(col, row);\n\t\treturn this.headerValues[field];\n\t}\n\tsetHeaderValue(col, row, newValue) {\n\t\tconst field = this.getHeaderField(col, row);\n\n\t\tconst oldValue = this.headerValues[field];\n\t\tthis.headerValues[field] = newValue;\n\n\t\tthis.fireListeners(EVENT_TYPE.CHANGED_HEADER_VALUE, {\n\t\t\tcol,\n\t\t\trow,\n\t\t\tfield,\n\t\t\tvalue: newValue,\n\t\t\toldValue,\n\t\t});\n\t}\n\tbindEventsInternal() {\n\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, (e) => {\n\t\t\tif (e.row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {startCol, endCol, startRow, endRow} = _getHeaderCellRange(this, e.col, e.row);\n\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\n\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tgetMoveLeftColByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {startCol} = _getHeaderCellRange(this, col, row);\n\t\t\tcol = startCol;\n\t\t}\n\t\treturn super.getMoveLeftColByKeyDownInternal({col, row});\n\t}\n\tgetMoveRightColByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {endCol} = _getHeaderCellRange(this, col, row);\n\t\t\tcol = endCol;\n\t\t}\n\t\treturn super.getMoveRightColByKeyDownInternal({col, row});\n\t}\n\tgetMoveUpRowByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {startRow} = _getHeaderCellRange(this, col, row);\n\t\t\trow = startRow;\n\t\t}\n\t\treturn super.getMoveUpRowByKeyDownInternal({col, row});\n\t}\n\tgetMoveDownRowByKeyDownInternal({col, row}) {\n\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\tconst {endRow} = _getHeaderCellRange(this, col, row);\n\t\t\trow = endRow;\n\t\t}\n\t\treturn super.getMoveDownRowByKeyDownInternal({col, row});\n\t}\n\tgetOffsetInvalidateCells() {\n\t\treturn 1;\n\t}\n}\nmodule.exports = ListGrid;\n","'use strict';\n\n\nconst Inline = require('./Inline');\nconst InlineIcon = require('./InlineIcon');\nconst InlineImage = require('./InlineImage');\nconst InlineSvg = require('./InlineSvg');\nconst InlineDrawer = require('./InlineDrawer');\nconst InlinePath2D = require('./InlinePath2D');\nconst {isDef} = require('../internal/utils');\nconst {calcStartPosition} = require('../internal/canvases');\nconst icons = require('../icons');\nconst path2DManager = require('../internal/path2DManager');\n\nfunction drawRegisteredIcon(ctx, icon,\n\t\tdrawWidth, drawHeight,\n\t\tleft, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n\nmodule.exports = {\n\ticonOf(icon) {\n\t\tif (icon instanceof Inline) {\n\t\t\treturn icon;\n\t\t}\n\t\tif (!icon) {\n\t\t\treturn null;\n\t\t}\n\t\tif (icon.font && icon.content) {\n\t\t\treturn new InlineIcon(icon);\n\t\t}\n\t\tif (icon.src) {\n\t\t\treturn new InlineImage({\n\t\t\t\tsrc: icon.src,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t});\n\t\t}\n\t\tif (icon.svg) {\n\t\t\treturn new InlineSvg({\n\t\t\t\tsvg: icon.svg,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t});\n\t\t}\n\t\tif (icon.path) {\n\t\t\treturn new InlinePath2D({\n\t\t\t\tpath: icon.path,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t\tcolor: icon.color,\n\t\t\t});\n\t\t}\n\t\tconst regedIcons = icons.get();\n\t\tif (icon.name && regedIcons[icon.name]) {\n\t\t\tconst regedIcon = regedIcons[icon.name];\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n\t\t\treturn new InlineDrawer({\n\t\t\t\tdraw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom,\n\t\t\t\t}) {\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon,\n\t\t\t\t\t\t\twidth, width,\n\t\t\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\twidth,\n\t\t\t\theight: width,\n\t\t\t\tcolor: icon.color,\n\t\t\t});\n\t\t}\n\t\treturn new InlineIcon(icon);\n\t},\n\tof(content) {\n\t\tif (!isDef(content)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (content instanceof Inline) {\n\t\t\treturn content;\n\t\t}\n\t\treturn new Inline(content);\n\t},\n\tbuildInlines(icons, inline) {\n\t\tconst result = [];\n\t\tif (icons) {\n\t\t\tresult.push(...(icons.map((icon) => this.iconOf(icon)).filter((e) => !!e)));\n\t\t}\n\t\tif (Array.isArray(inline) && inline.filter((il) => il instanceof Inline).length) {\n\t\t\tresult.push(...(inline.map((il) => this.of(il)).filter((e) => !!e)));\n\t\t} else {\n\t\t\tconst il = this.of(inline);\n\t\t\tif (il) {\n\t\t\t\tresult.push(il);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\tstring(inline) {\n\t\treturn this.buildInlines(undefined, inline).join('');\n\t}\n};","'use strict';\n\n\nconst Inline = require('./Inline');\nconst fonts = require('../internal/fonts');\n\nclass InlineIcon extends Inline {\n\tconstructor(icon) {\n\t\tsuper();\n\t\tthis._icon = icon || {};\n\t}\n\twidth({ctx}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.width) {\n\t\t\treturn icon.width;\n\t\t}\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.font = icon.font || ctx.font;\n\t\t\t\treturn ctx.measureText(icon.content).width;\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfont() {\n\t\treturn this._icon.font;\n\t}\n\tcolor() {\n\t\treturn this._icon.color;\n\t}\n\tcanDraw() {\n\t\tconst icon = this._icon;\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\n\t}\n\tonReady(callback) {\n\t\tconst icon = this._icon;\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\n\t\t\tfonts.load(icon.font, icon.content, callback);\n\t\t}\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.content) {\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content,\n\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t}\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineIcon;","'use strict';\n\n//see https://github.com/typekit/webfontloader\n\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler = require('./FontRuler');\n\n\nconst LastResortFonts = {\n\tSERIF: 'serif',\n\tSANS_SERIF: 'sans-serif'\n};\n\n\nconst watchRunners = {};\n\nclass FontWatchRunner {\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\n\t\ttestStr += '';\n\t\tlet runner;\n\t\tif (c[testStr]) {\n\t\t\trunner = c[testStr];\n\t\t} else {\n\t\t\trunner = (c[testStr] = new FontWatchRunner(font, testStr));\n\t\t}\n\t\trunner.then(activeCallback, inactiveCallback);\n\t}\n\tconstructor(font, testStr) {\n\t\tthis.activeCallbacks = [];\n\t\tthis.inactiveCallbacks = [];\n\t\tthis.status = null;\n\t\tthis.lastResortWidths_ = {};\n\n\t\tthis.fontRulerA_ = new FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n\t\tthis.fontRulerB_ = new FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n\t\tconst lastResortRulerA = new FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n\t\tconst lastResortRulerB = new FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n\n\t\t//start\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n\n\t\tlastResortRulerA.remove();\n\t\tlastResortRulerB.remove();\n\n\t\tthis.started_ = Date.now();\n\n\t\tthis.check_();\n\t}\n\tthen(activeCallback, inactiveCallback) {\n\t\tif (this.status) {\n\t\t\tif (this.status !== 'ng') {\n\t\t\t\tactiveCallback();\n\t\t\t} else {\n\t\t\t\tinactiveCallback();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeCallbacks.push(activeCallback);\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\n\t\t}\n\n\t}\n\tcheck_() {\n\t\tconst widthA = this.fontRulerA_.getWidth();\n\t\tconst widthB = this.fontRulerB_.getWidth();\n\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n\t\t\tif (Date.now() - this.started_ >= 3000) { // timeout\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\t\t\tthis.status = 'ok';\n\t\t\t\t} else {\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\n\t\t\t\t\tthis.status = 'ng';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.check_();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\tthis.status = 'ok';\n\t\t}\n\t}\n\tisFallbackFont_(a, b) {\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n\t}\n\twidthsMatchLastResortWidths_(a, b) {\n\t\tfor (const font in LastResortFonts) {\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) &&\n\t\t\t\t\t\tthis.widthMatches_(b, LastResortFonts[font])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\twidthMatches_(width, lastResortFont) {\n\t\treturn width === this.lastResortWidths_[lastResortFont];\n\t}\n\tisLastResortFont_(a, b) {\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n\t}\n\tfinish_(callbacks) {\n\t\tsetTimeout(() => {\n\t\t\tthis.fontRulerA_.remove();\n\t\t\tthis.fontRulerB_.remove();\n\t\t\tcallbacks.forEach((cb) => cb());\n\t\t}, 0);\n\t}\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match &&\n\t\t\t(parseInt(match[1], 10) < 536 ||\n\t\t\t(parseInt(match[1], 10) === 536 &&\n\t\t\tparseInt(match[2], 10) <= 11));\n\t}\n\treturn HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n","'use strict';\n\n//see https://github.com/typekit/webfontloader\nfunction computeStyle(font) {\n\treturn [{\n\t\t'display': 'block',\n\t\t'position': 'absolute',\n\t\t'top': '-9999px',\n\t\t'left': '-9999px',\n\t\t'width': 'auto',\n\t\t'height': 'auto',\n\t\t'margin': '0',\n\t\t'padding': '0',\n\t\t'white-space': 'nowrap',\n\t\tfont,\n\t}, {\n\t\t'font-variant': 'normal',\n\t\t'font-size': '300px',\n\t\t'font-style': 'normal',\n\t\t'font-weight': '400',\n\t\t'line-height': 'normal',\n\t}];\n}\n\nclass FontRuler {\n\tconstructor(font, testStr) {\n\t\tconst e = document.createElement('span');\n\t\te.setAttribute('aria-hidden', 'true');\n\t\te.textContent = testStr || 'BESbswy';\n\n\t\tcomputeStyle(font).forEach((style) => {\n\t\t\tfor (const key in style) {\n\t\t\t\te.style[key] = style[key];\n\t\t\t}\n\t\t});\n\t\tdocument.body.appendChild(e);\n\t\tthis.el_ = e;\n\t}\n\tgetWidth() {\n\t\treturn this.el_.offsetWidth;\n\t}\n\tremove() {\n\t\tdocument.body.removeChild(this.el_);\n\t}\n}\n\nmodule.exports = FontRuler;\n\n\n","'use strict';\n\nconst InlineImage = require('./InlineImage');\nconst {then} = require('../internal/utils');\n\nfunction buildSvgDataUrl(svg) {\n\tconst data = (typeof svg === 'string') ? svg : new XMLSerializer().serializeToString(svg);\n\tconst url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\treturn url;\n}\nfunction getSvgElement(svg) {\n\tif (typeof svg === 'string') {\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\n\t} else {\n\t\treturn svg;\n\t}\n}\n\nclass InlineSvg extends InlineImage {\n\tconstructor(\n\t\t\t{\n\t\t\t\tsvg,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\timageLeft,\n\t\t\t\timageTop,\n\t\t\t\timageWidth,\n\t\t\t\timageHeight,\n\t\t\t}) {\n\t\tconst svgElem = then(svg, getSvgElement);\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n\t\tsuper({\n\t\t\tsrc: then(svg, buildSvgDataUrl),\n\t\t\twidth: width || elmWidth,\n\t\t\theight: height || elmHeight,\n\t\t\timageWidth: elmWidth,\n\t\t\timageHeight: elmHeight,\n\t\t});\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlineSvg;","'use strict';\n\nconst Inline = require('./Inline');\nconst {calcStartPosition} = require('../internal/canvases');\nconst path2DManager = require('../internal/path2DManager');\n\nclass InlinePath2D extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tpath,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tcolor,\n\t\t\t}) {\n\t\tsuper();\n\t\t// IEPath2Dpolyfill\n\t\tthis._path = new path2DManager.Path2D(path);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ctx}) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom,\n\t}) {\n\t\toffset++;\n\t\tconst padding = {\n\t\t\tleft: offsetLeft,\n\t\t\tright: offsetRight,\n\t\t\ttop: offsetTop,\n\t\t\tbottom: offsetBottom,\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\t\t\tctx.translate(pos.x, pos.y);\n\t\t\tctx.fill(this._path);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tcanBreak() {\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn '';\n\t}\n}\n\nmodule.exports = InlinePath2D;","'use strict';\n\nconst PathCommandsParser = require('./PathCommandsParser');\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n\tconstructor(arg) {\n\t\tthis._ops = [];\n\t\t[\n\t\t\t'closePath',\n\t\t\t'moveTo',\n\t\t\t'lineTo',\n\t\t\t'bezierCurveTo',\n\t\t\t'quadraticCurveTo',\n\t\t\t'arc',\n\t\t\t'rect'\n\t\t].forEach((name) => {\n\t\t\tthis[name] = (...args) => {\n\t\t\t\tthis._ops.push({op: name, args});\n\t\t\t};\n\t\t});\n\t\tif (arg === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\ttry {\n\t\t\t\tthis._ops = parser.parse(arg);\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t} else if (arg.hasOwnProperty('_ops')) {\n\t\t\tthis._ops = [...this._ops];\n\t\t} else {\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n\t\t}\n\t}\n}\n\nconst {CanvasRenderingContext2D} = window;\n\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function(...args) {\n\tif (args[0] instanceof Path2D) {\n\t\tconst path = args[0];\n\t\tthis.beginPath();\n\t\tpath._ops.forEach((op) => {\n\t\t\tthis[op.op](...op.args);\n\t\t});\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\n\t} else {\n\t\toriginalFill.apply(this, args);\n\t}\n};\n\nmodule.exports = Path2D;\n","'use strict';\n\nconst PathCommands = require('./PathCommands');\n\nfunction pathTokens(d) {\n\tlet idx = 0;\n\treturn {\n\t\tnext() {\n\t\t\tlet s = '';\n\t\t\twhile (d.length > idx) {\n\t\t\t\tconst c = d[idx];\n\t\t\t\tidx++;\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\t\t\t\t\tif (type === 'str') {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn c;\n\t\t\t\t\t}\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c === '.') {\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ts += c;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s || null;\n\t\t}\n\t};\n}\n\nfunction command(builder, cmd, argsProvider) {\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\n\t\treturn cmd === 'M' ? 'L'\n\t\t\t: cmd === 'm' ? 'l'\n\t\t\t: cmd;\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n\t\tbuilder.command(cmd, argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'Z') {\n\t\tbuilder.command(cmd);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'C') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'A') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else {\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n\t\tconsole.warn(`unsupported:${cmd}`);\n\t}\n\treturn null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : [\n\t'save',\n\t'restore',\n\t'beginPath',\n\t'closePath',\n\t'moveTo',\n\t'lineTo',\n\t'bezierCurveTo',\n\t'quadraticCurveTo',\n\t'arc',\n\t'arcTo',\n\t'ellipse',\n\t'rect',\n\t'translate',\n\t'rotate',\n\t'scale',\n];\n\nclass PathCommandsParser {\n\tconstructor() {\n\t\tthis._commands = new PathCommands(this);\n\t\tcanvasOperations.forEach((op) => {\n\t\t\tthis[op] = (...args) => {\n\t\t\t\tthis._ops.push({\n\t\t\t\t\top,\n\t\t\t\t\targs,\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\tcommand(name, ...args) {\n\t\targs = args || [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\targs[i] -= 0;\n\t\t}\n\t\tthis._commands[name](...(args));\n\t}\n\tparse(d) {\n\t\tconst ops = this._ops = [];\n\t\tconst tokens = pathTokens(d);\n\t\ttry {\n\t\t\tlet cmd;\n\t\t\tlet subsequentCommand;\n\t\t\twhile ((cmd = tokens.next())) {\n\t\t\t\tif (!isNaN(cmd - 0)) {\n\t\t\t\t\tlet fst = true;\n\t\t\t\t\tconst argsProvider = {\n\t\t\t\t\t\tnext() {\n\t\t\t\t\t\t\tif (fst) {\n\t\t\t\t\t\t\t\tfst = false;\n\t\t\t\t\t\t\t\treturn cmd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tokens.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\n\t\t\t\t} else {\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(`Error: ${d}`);\n\t\t\tthrow e;\n\t\t}\n\t\treturn ops;\n\t}\n}\n\nmodule.exports = PathCommandsParser;","/*eslint new-cap: \"off\"*/\n'use strict';\n\nfunction mag(v) {\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n\treturn (u[0] * v[0] + u[1] * v[1]);\n}\n\nfunction ratio(u, v) {\n\treturn dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n\tlet sign = 1.0;\n\tif ((u[0] * v[1] - u[1] * v[0]) < 0) {\n\t\tsign = -1.0;\n\t}\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n\treturn [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n\treturn [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n\treturn [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n\t// Convert from endpoint to center parametrization, as detailed in:\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\tif (rx === 0 || ry === 0) {\n\t\tctx.lineTo(x2, x1);\n\t\treturn;\n\t}\n\tphi *= (Math.PI / 180.0);\n\trx = Math.abs(rx);\n\try = Math.abs(ry);\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\tconst xPrime2 = pointMul(xPrime, xPrime);\n\tlet rx2 = Math.pow(rx, 2);\n\tlet ry2 = Math.pow(ry, 2);\n\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\tif (lambda > 1) {\n\t\trx *= lambda;\n\t\try *= lambda;\n\t\trx2 = Math.pow(rx, 2);\n\t\try2 = Math.pow(ry, 2);\n\t}\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\tif (fA === fS) {\n\t\tfactor *= -1.0;\n\t}\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\tconst start = theta;\n\tconst end = theta + deltaTheta;\n\tctx.save();\n\tctx.translate(c[0], c[1]);\n\tctx.rotate(phi);\n\tctx.scale(rx, ry);\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\n\tctx.restore();\n}\n\nclass PathCommands {\n\tconstructor(ctx) {\n\t\tlet lMx;\n\t\tlet lMy;\n\t\tlet lx = 0;\n\t\tlet ly = 0;\n\t\tlet reflected;\n\t\tlet lastCommand = '';\n\t\tfunction makeReflected() {\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n\t\t\t\treturn {x: lx, y: ly};\n\t\t\t}\n\t\t\treturn reflected;\n\t\t}\n\n\t\tthis.M = (px, py) => {\n\t\t\tctx.moveTo(px, py);\n\t\t\tlMx = px;\n\t\t\tlMy = py;\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'M';\n\t\t\treturn this;\n\t\t};\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\n\t\tthis.L = (px, py) => {\n\t\t\tctx.lineTo(px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'L';\n\t\t\treturn this;\n\t\t};\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\n\t\tthis.H = (px) => this.L(px, ly);\n\t\tthis.h = (px) => this.H(px + lx);\n\t\tthis.V = (py) => this.L(lx, py);\n\t\tthis.v = (py) => this.V(py + ly);\n\t\tthis.Z = () => {\n\t\t\tctx.closePath();\n\t\t\tlx = lMx;\n\t\t\tly = lMy;\n\t\t\tlastCommand = 'Z';\n\t\t\treturn this;\n\t\t};\n\t\tthis.z = () => this.Z();\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cp2x,\n\t\t\t\ty: 2 * py - cp2y,\n\t\t\t};\n\t\t\tlastCommand = 'C';\n\t\t\treturn this;\n\t\t};\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(\n\t\t\t\tcp1x + lx, cp1y + ly,\n\t\t\t\tcp2x + lx, cp2y + ly,\n\t\t\t\tpx + lx, py + ly\n\t\t);\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\n\t\tthis.S = (cpx, cpy, px, py) => {\n\t\t\tconst {x: cp1x, y: cp1y} = makeReflected(lastCommand);\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\n\t\t};\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\n\t\tthis.Q = (cpx, cpy, px, py) => {\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cpx,\n\t\t\t\ty: 2 * py - cpy,\n\t\t\t};\n\t\t\tlastCommand = 'Q';\n\t\t\treturn this;\n\t\t};\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//T x y (or t dx dy)\n\t\tthis.T = (px, py) => {\n\t\t\tconst {x: cpx, y: cpy} = makeReflected();\n\t\t\treturn this.Q(cpx, cpy, px, py);\n\t\t};\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n\t\t\tconst x1 = lx;\n\t\t\tconst y1 = ly;\n\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'A';\n\t\t\treturn this;\n\t\t};\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(\n\t\t\t\trx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n\n\t}\n}\n\nmodule.exports = PathCommands;","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","'use strict';\n\n\nconst {isPromise} = require('../../internal/utils');\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE\n} = require('../../list-grid/EVENT_TYPE');\nconst ErrorMessage = require('./ErrorMessage');\nconst WarningMessage = require('./WarningMessage');\nconst InfoMessage = require('./InfoMessage');\n\nconst EMPTY_MESSAGE = {\n\ttype: 'error',\n\tmessage: undefined,\n};\n\nconst MESSAGE_INSTANCE_FACTORY = {\n\terror(grid) {\n\t\treturn new ErrorMessage(grid);\n\t},\n\tinfo(grid) {\n\t\treturn new InfoMessage(grid);\n\t},\n\twarning(grid) {\n\t\treturn new WarningMessage(grid);\n\t}\n};\n\nfunction normalizeMessage(message) {\n\tif (!message || isPromise(message)) {\n\t\treturn EMPTY_MESSAGE;\n\t}\n\tif (typeof message === 'string') {\n\t\treturn {\n\t\t\ttype: 'error',\n\t\t\tmessage,\n\t\t\toriginal: message,\n\t\t};\n\t}\n\tconst type = message.type || 'error';\n\tif (type && type in MESSAGE_INSTANCE_FACTORY) {\n\t\treturn {\n\t\t\ttype: type.toLowerCase(),\n\t\t\tmessage: `${message.message}`,\n\t\t\toriginal: message,\n\t\t};\n\t}\n\treturn {\n\t\ttype: 'error',\n\t\tmessage: `${message}`,\n\t\toriginal: message,\n\t};\n\n\n}\nfunction hasMessage(message) {\n\treturn !!normalizeMessage(message).message;\n}\nclass MessageHandler {\n\tconstructor(grid, getMessage) {\n\t\tthis._grid = grid;\n\t\tthis._messageInstances = {};\n\t\tthis._bindGridEvent(grid, getMessage);\n\t}\n\tdispose() {\n\t\tconst messageInstances = this._messageInstances;\n\t\tfor (const k in messageInstances) {\n\t\t\tmessageInstances[k].dispose();\n\t\t}\n\t\tthis._messageInstances = null;\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\n\t\tif (!hasMessage(message)) {\n\t\t\treturn;\n\t\t}\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tinstance.drawCellMessage(message, context, style, helper, info);\n\t}\n\t_attach(col, row, message) {\n\t\tconst info = this._attachInfo;\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tif (info && info.instance !== instance) {\n\t\t\tinfo.instance.detachMessageElement();\n\t\t}\n\t\tinstance.attachMessageElement(col, row, normalizeMessage(message));\n\t\tthis._attachInfo = {col, row, instance};\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.moveMessageElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.detachMessageElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_bindGridEvent(grid, getMessage) {\n\t\tconst onSelectMessage = (sel) => {\n\t\t\tconst message = getMessage(sel.col, sel.row);\n\t\t\tif (!hasMessage(message)) {\n\t\t\t\tthis._detach();\n\t\t\t} else {\n\t\t\t\tthis._attach(sel.col, sel.row, message);\n\t\t\t}\n\n\t\t};\n\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\tif (!e.selected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.before.col === e.col && e.before.row === e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tthis._move(sel.col, sel.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, (e) => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (sel.col !== e.col || sel.row !== e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t}\n\t_getMessageInstanceOfMessage(message) {\n\t\tconst messageInstances = this._messageInstances;\n\t\tconst {type} = normalizeMessage(message);\n\t\treturn messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n\t}\n}\n\nmodule.exports = MessageHandler;","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst ErrorMessageElement = require('./internal/ErrorMessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst RED_A100 = '#ff8a80';\n\nclass ErrorMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new ErrorMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: RED_A100,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = ErrorMessage;","'use strict';\nconst MessageElement = require('./MessageElement');\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\n\nclass ErrorMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\trequire('./ErrorMessageElement.css');\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = ErrorMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__message-element {\\n\\tposition: absolute;\\n\\tmargin-top: -2px;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 0 0 3px 3px;\\n\\tbackground-color: rgba(250, 250, 250, 0.85);\\n\\tpadding: 8px 2px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__message-element--hidden {\\n\\tdisplay: none;\\n}\\n.cheetah-grid__message-element--shown {\\n\\tdisplay: block;\\n}\\n.cheetah-grid__message-element__message {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\tdisplay: block;\\n\\twidth: 100%;\\n}\\n.cheetah-grid__message-element {\\n\\tborder-top: solid 1px rgba(0, 0, 0, .87);\\n\\tcolor: rgba(0, 0, 0, .87);\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__error-message-element {\\n\\tborder-top: solid 1px #FF1744;\\n\\tcolor: #ff1744;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst WarningMessageElement = require('./internal/WarningMessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new WarningMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: DEEP_ORANGE_A100,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = WarningMessage;","'use strict';\nconst MessageElement = require('./MessageElement');\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\n\nclass WarningMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\trequire('./WarningMessageElement.css');\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = WarningMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__warning-message-element {\\n\\tborder-top: solid 1px #dd2c00;\\n\\tcolor: #dd2c00;\\n}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst MessageElement = require('./internal/MessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst GREY_L2 = '#e0e0e0';\n\nclass InfoMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new MessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawInfomationMarkBox(context, {\n\t\t\t\t\tbgColor: GREY_L2,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InfoMessage;","'use strict';\n\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL\n} = require('../list-grid/EVENT_TYPE');\nconst Tooltip = require('./Tooltip');\n\nconst TOOLTIP_INSTANCE_FACTORY = {\n\t'overflow-text'(grid) {\n\t\treturn new Tooltip(grid);\n\t},\n};\n\nfunction getTooltipInstanceInfo(grid, col, row) {\n\t//\n\t// overflow text tooltip\n\tconst overflowText = grid.getCellOverflowText(col, row);\n\tif (overflowText) {\n\t\treturn {\n\t\t\ttype: 'overflow-text',\n\t\t\tcontent: overflowText\n\t\t};\n\t}\n\treturn null;\n}\n\nclass TooltipHandler {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t\tthis._tooltipInstances = {};\n\t\tthis._bindGridEvent(grid);\n\t}\n\tdispose() {\n\t\tconst tooltipInstances = this._tooltipInstances;\n\t\tfor (const k in tooltipInstances) {\n\t\t\ttooltipInstances[k].dispose();\n\t\t}\n\t\tthis._tooltipInstances = null;\n\t}\n\t_attach(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tconst instanceInfo = this._getTooltipInstanceInfo(col, row);\n\t\tif (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n\t\t\tinfo.instance.detachTooltipElement();\n\t\t\tthis._attachInfo = null;\n\t\t}\n\t\tif (!instanceInfo) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = instanceInfo;\n\t\tinstance.attachTooltipElement(col, row, instanceInfo.content);\n\t\tthis._attachInfo = {col, row, instance};\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.moveTooltipElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.detachTooltipElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_isAttachCell(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (info.col === col && info.row === row);\n\t}\n\t_bindGridEvent(grid) {\n\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\tthis._attach(e.col, e.row);\n\t\t});\n\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\tthis._detach();\n\t\t});\n\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\tif (this._isAttachCell(e.col, e.row)) {\n\t\t\t\tthis._detach(e);\n\t\t\t}\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst info = this._attachInfo;\n\t\t\tif (!info) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._move(info.col, info.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, (e) => {\n\t\t\tif (this._isAttachCell(e.col, e.row)) {\n\t\t\t\tthis._detach();\n\t\t\t\tthis._attach(e.col, e.row);\n\t\t\t}\n\t\t});\n\t}\n\t_getTooltipInstanceInfo(col, row) {\n\t\tconst grid = this._grid;\n\t\tconst tooltipInstances = this._tooltipInstances;\n\t\tconst info = getTooltipInstanceInfo(grid, col, row);\n\t\tif (!info) {\n\t\t\treturn null;\n\t\t}\n\t\tconst {type} = info;\n\t\tconst instance = tooltipInstances[type] || (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n\t\treturn {\n\t\t\tinstance,\n\t\t\ttype,\n\t\t\tcontent: info.content\n\t\t};\n\t}\n}\n\nmodule.exports = TooltipHandler;","'use strict';\n\nconst BaseTooltip = require('./BaseTooltip');\nconst TooltipElement = require('./internal/TooltipElement');\n\nclass Tooltip extends BaseTooltip {\n\tcreateTooltipElementInternal() {\n\t\treturn new TooltipElement();\n\t}\n}\n\nmodule.exports = Tooltip;","'use strict';\n\nclass BaseTooltip {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachTooltipElement();\n\t\tif (this._tooltipElement) {\n\t\t\tthis._tooltipElement.dispose();\n\t\t}\n\t\tthis._tooltipElement = null;\n\t}\n\t_getTooltipElement() {\n\t\treturn this._tooltipElement || (this._tooltipElement = this.createTooltipElementInternal());\n\t}\n\tcreateTooltipElementInternal() {\n\n\t}\n\tattachTooltipElement(col, row, content) {\n\t\tconst tooltipElement = this._getTooltipElement();\n\t\ttooltipElement.attach(this._grid, col, row, content);\n\t}\n\tmoveTooltipElement(col, row) {\n\t\tconst tooltipElement = this._getTooltipElement();\n\t\ttooltipElement.move(this._grid, col, row);\n\t}\n\tdetachTooltipElement() {\n\t\tconst tooltipElement = this._getTooltipElement();\n\t\ttooltipElement._detach();\n\t}\n}\n\nmodule.exports = BaseTooltip;","'use strict';\nconst EventHandler = require('../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__tooltip-element';\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createTooltipDomElement() {\n\trequire('./TooltipElement.css');\n\tconst rootElement = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst messageElement = createElement('pre', {classList: [CONTENT_CLASSNAME]});\n\trootElement.appendChild(messageElement);\n\treturn rootElement;\n}\n\n\nclass TooltipElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createTooltipDomElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t}\n\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, content) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = content;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\t// rootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t\tconst {bottom: top, left, width} = rect;\n\t\tconst {frozenRowCount, frozenColCount} = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tconst {offsetHeight, offsetWidth} = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false;//\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false;//\n\t\t}\n\n\t\trootElement.style.top = `${top.toFixed()}px`;\n\t\trootElement.style.left = `${(left + width / 2).toFixed()}px`;\n\t\trootElement.style['min-width'] = `${width.toFixed()}px`;\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = TooltipElement;","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?minimize!./TooltipElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js?minimize!./TooltipElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js?minimize!./TooltipElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@keyframes cheetah-grid__tooltip-element--shown-animation {\\n\\t0% {\\n\\t\\topacity: 0;\\n\\t\\ttransform: scale(.8) translateX(-60%);\\n\\t}\\n\\t100% {\\n\\t\\topacity: 1;\\n\\t\\ttransform: scale(1) translateX(-50%);\\n\\t}\\n}\\n\\n.cheetah-grid__tooltip-element {\\n\\tposition: absolute;\\n\\tbox-sizing: border-box;\\n\\tborder-radius: 3px;\\n\\tbackground-color: #232F34;\\n\\tpadding: 8px;\\n\\n\\tpointer-events: none;\\n\\tuser-select: none;\\n}\\n.cheetah-grid__tooltip-element--hidden {\\n\\topacity: 0;\\n\\ttransform: translateX(-50%);\\n\\ttransition: opacity 75ms linear;\\n}\\n.cheetah-grid__tooltip-element--shown {\\n\\topacity: 1;\\n\\ttransform: translateX(-50%);\\n\\tanimation: cheetah-grid__tooltip-element--shown-animation 150ms ease-out;\\n}\\n.cheetah-grid__tooltip-element__content {\\n\\tfont-family: Roboto;\\n\\tfont-size: 12px;\\n\\tfont-size: .75rem;\\n\\tmin-height: 1em;\\n\\tline-height: 1;\\n\\twidth: 100%;\\n\\tdisplay: block;\\n\\twhite-space: pre-wrap;\\n\\tmargin: 0;\\n}\\n.cheetah-grid__tooltip-element {\\n\\tcolor: #FFFFFF;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\n\nconst themePlugins = require('./plugins/themes');\nconst iconPlugins = require('./plugins/icons');\n\nfunction register(obj, name, value) {\n\tif (value) {\n\t\tconst old = obj[name];\n\t\tobj[name] = value;\n\t\treturn old;\n\t} else {\n\t\treturn obj[name];\n\t}\n}\nfunction registers(obj, values) {\n\tfor (const k in values) {\n\t\tobj[k] = values[k];\n\t}\n}\nmodule.exports = {\n\ttheme(name, theme) {\n\t\treturn register(themePlugins, name, theme);\n\t},\n\ticon(name, icon) {\n\t\treturn register(iconPlugins, name, icon);\n\t},\n\ticons(icons) {\n\t\tregisters(iconPlugins, icons);\n\t},\n};"],"sourceRoot":""}